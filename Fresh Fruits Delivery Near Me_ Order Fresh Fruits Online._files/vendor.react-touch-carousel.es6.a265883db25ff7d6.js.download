(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{PM5BKJ:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r,n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},u=function(){function t(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,o,r){return o&&t(e.prototype,o),r&&t(e,r),e}}(),a=o("q1tIBJ"),i=(r=a)&&r.__esModule?r:{default:r},c=o("P4c3Ix"),s=o("m7U+py");function l(t){var e=(0,s.getTouchPosition)(t),o=e.x,r=e.y;this.x=o,this.y=r,this.time=Date.now()}var p={component:"div",cardSize:t.innerWidth||320,cardCount:1,cardPadCount:2,defaultCursor:0,loop:!0,autoplay:0,vertical:!1,renderCard:function(){},precision:.001,tension:200,friction:25,moveScale:1,onRest:function(){},onDragStart:function(){},onDragEnd:function(){},onDragCancel:function(){},maxOverflow:.5,clickTolerance:2,ignoreCrossMove:!0},f=Object.keys(p),d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.onTouchStart=function(t){var e=o.touchCount;o.touchCount+=t.changedTouches.length,o.setState({active:!0}),o.stopAutoplay(),o.tracingTouchId=(0,s.getTouchId)(t),o.touchMoves=[new l(t)],o.isMovingCross=null;var r=o.props,n=r.cardSize,u=r.clickTolerance;o.grabbing=n*Math.abs(o.usedCursor-o.state.cursor)>u,e?o.modCursor():o.setCursor(o.usedCursor).then(o.modCursor)},o.onTouchMove=function(t){o.grabbing=!1;var e=new l(t),r=(0,s.getTouchId)(t);r===o.tracingTouchId&&o.touchMoves.length||(o.touchMoves=[e]),o.tracingTouchId=r;var n=t.defaultPrevented;if(!n&&o.state.active){if(null==o.isMovingCross){var u=o.props,a=u.vertical,i=u.ignoreCrossMove;"number"!=typeof i&&(i=i?1:0);var c=a?"y":"x",p=a?"x":"y",f=Math.abs(e[c]-o.touchMoves[0][c]),d=Math.abs(e[p]-o.touchMoves[0][p]);o.isMovingCross=d*i>f}n=o.isMovingCross}if(!n){t.preventDefault();var h=o.props,g=h.cardSize,v=h.moveScale,m=h.vertical,y=h.onDragStart,C=o.touchMoves[o.touchMoves.length-1],b=m?"y":"x",M=e[b]-C[b];o.setState({dragging:!0},o.state.dragging?void 0:y),o.setCursor(o.state.cursor+M/g*v),o.touchMoves.push(e),o.touchMoves.length>250&&o.touchMoves.splice(0,50)}},o.onTouchEndOrCancel=function(t){var e=t.type;if(o.touchCount-=t.changedTouches.length,o.touchCount>0)o.touchMoves=[];else{o.grabbing&&(t.preventDefault(),t.stopPropagation());var r=o.state.dragging,n=null;if(r&&o.touchMoves.length){for(var u=o.props,a=u.cardSize,i=u.moveScale,c=u.vertical,l=o.props.friction/1e6,p=o.touchMoves,f=p.length,d=0;--f>=0&&d<100;)d=Date.now()-p[f].time;f++;var h=c?"y":"x",g=((0,s.getTouchPosition)(t)[h]-p[f][h])/d,v=g*Math.abs(g)/l/2,m=o.state.cursor,y=(0,s.clamp)(v/a*i,Math.floor(m)-m,Math.ceil(m)-m);n=Math.round(m+y),o.touchMoves=[]}else n=Math.round(o.state.cursor);o.setState({active:!1,dragging:!1},(function(){o.setCursor(n),r&&o.props["touchend"===e?"onDragEnd":"onDragCancel"]()})),o.tracingTouchId=null,o.autoplayIfEnabled()}},o.onSpringRest=function(){if(o.shouldEnableSpring()){o.setState({springing:!1});for(var t=Math.round(o.usedCursor),e=-t,r=e%o.props.cardCount;r<0;)r+=o.props.cardCount;o.props.onRest(e,r,t,o.state)}},o.autoplayIfEnabled=function(){o.props.autoplay&&(o.autoplayTimer=setInterval(o.next,o.props.autoplay))},o.stopAutoplay=function(){o.autoplayTimer&&(clearInterval(o.autoplayTimer),o.autoplayTimer=null)},o.go=function(t){return o.modCursor().then((function(){o.setCursor(t)}))},o.next=function(){return o.modCursor().then((function(){o.setCursor(o.state.cursor-1)}))},o.prev=function(){return o.modCursor().then((function(){o.setCursor(o.state.cursor+1)}))},o.setCursor=function(t){var e=o.shouldEnableSpring()&&t!==o.state.cursor;return new Promise((function(r){o.setState({cursor:t,springing:e},r)}))},o.modAs=function(t){return new Promise((function(e){o.setState({moding:!0,cursor:t},(function(){o.setState({moding:!1},e)}))}))},o.modCursor=function(){return new Promise((function(t){var e=o.props,r=e.loop,n=e.cardCount;if(!r)return t();var u=o.state.cursor,a=(0,s.modCursor)(u,n);a!==u?o.modAs(a).then(t):t()}))},o.shouldEnableSpring=function(){var t=o.state,e=t.active,r=t.moding;return!e&&!r},o.state={cursor:t.defaultCursor,active:!1,dragging:!1,springing:!1,moding:!1},o.usedCursor=0,o.touchCount=0,o.touchMoves=[],o.autoplayTimer=null,o.grabbing=!1,o.tracingTouchId=null,o.isMovingCross=null,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),u(e,[{key:"componentDidMount",value:function(){this.autoplayIfEnabled()}},{key:"componentDidUpdate",value:function(t){t.autoplay!==this.props.autoplay&&(this.stopAutoplay(),this.autoplayIfEnabled())}},{key:"componentWillUnmount",value:function(){this.stopAutoplay()}},{key:"getCursor",value:function(){return this.state.cursor}},{key:"getComputedCursor",value:function(){var t=this.props,e=t.cardCount,o=t.loop,r=t.maxOverflow,n=this.state,u=n.cursor,a=n.dragging,i=u;return o||(i=(0,s.clamp)(i,1-e,0),a&&u>0?i=r-r/(u+1):a&&u<1-e&&(i=1-e-r+r/(1-e-u+1))),i}},{key:"getUsedCursor",value:function(){return this.usedCursor}},{key:"render",value:function(){var t=this,e=this.props,o=e.component,r=(e.cardSize,e.cardCount),u=e.cardPadCount,a=e.renderCard,l=e.tension,p=e.friction,d=e.precision,h=e.loop,g=function(t,e){var o={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]);return o}(e,["component","cardSize","cardCount","cardPadCount","renderCard","tension","friction","precision","loop"]),v=h?u:0,m={tension:l,friction:p,precision:d},y=this.getComputedCursor();return i.default.createElement(c.Spring,{config:m,from:{cursor:y},immediate:!this.shouldEnableSpring(),to:{cursor:y},onRest:this.onSpringRest},(function(e){var u=e.cursor;return t.usedCursor=u,i.default.createElement(o,n({},(0,s.omit)(g,f),{cursor:u,carouselState:t.state,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEndOrCancel,onTouchCancel:t.onTouchEndOrCancel}),(0,s.range)(0-v,r-1+v).map((function(e){for(var o=e%r;o<0;)o+=r;return a(e,o,u,t.state)})))}))}}]),e}(i.default.PureComponent);d.defaultProps=p,e.default=d}).call(this,o("yLpjYH"))},"m7U+py":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.range=function(t,e){for(var o=[],r=t;r<=e;r++)o.push(r);return o},e.clamp=function(t,e,o){if(t<e)return e;if(t>o)return o;return t},e.getTouchPosition=function(t){return{x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY}},e.getTouchId=function(t){return t.changedTouches[0].identifier},e.omit=function(t,e){var o={};return Object.keys(t).forEach((function(r){e.includes(r)||(o[r]=t[r])})),o},e.modCursor=function(t,e){var o=t;for(;o>0;)o-=e;for(;o<.5-e;)o+=e;return o}},"uu0Jf+":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.modCursor=e.omit=e.getTouchId=e.getTouchPosition=e.precision=e.clamp=e.range=void 0;var r=o("m7U+py");Object.defineProperty(e,"range",{enumerable:!0,get:function(){return r.range}}),Object.defineProperty(e,"clamp",{enumerable:!0,get:function(){return r.clamp}}),Object.defineProperty(e,"precision",{enumerable:!0,get:function(){return r.precision}}),Object.defineProperty(e,"getTouchPosition",{enumerable:!0,get:function(){return r.getTouchPosition}}),Object.defineProperty(e,"getTouchId",{enumerable:!0,get:function(){return r.getTouchId}}),Object.defineProperty(e,"omit",{enumerable:!0,get:function(){return r.omit}}),Object.defineProperty(e,"modCursor",{enumerable:!0,get:function(){return r.modCursor}});var n,u=o("PM5BKJ"),a=(n=u)&&n.__esModule?n:{default:n};e.default=a.default}}]);
//# sourceMappingURL=vendor.react-touch-carousel.es6.a265883db25ff7d6.js.map