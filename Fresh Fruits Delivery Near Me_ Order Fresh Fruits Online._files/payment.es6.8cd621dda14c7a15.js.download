(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+aeWkJ":function(e,t,a){"use strict";var n,o;a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return o})),function(e){e.PAYMENTS="show-payments",e.PAYMENTS_INDEX="show-payments",e.ADD_NEW_CARD="add-new-card",e.VPA_TIMER="vpa-timer",e.PAYMENT_TXN_STATUS_POLLING="payment-txn-status-polling",e.CONFIRM_ORDER="confirm-order",e.DIRECT_PLACE_ORDER="direct-place-order",e.MORE_BANKS="more-banks",e.VERIFY_WALLET_LINK_OTP="verify-wallet-link-otp",e.LINK_WALLET_WITH_NUMBER="link-wallet-with-number",e.VERIFY_VPA="verify-vpa",e.LINK_PAYLATER="link-paylater",e.LINK_PAYLATER_MOBILE="link-paylater-mobile",e.REDIRECT_PAGE="redirect-page",e.MORE_PAYMENT_GROUPS="more-payment-groups",e.MORE_PAYMENT_METHODS="more-payment-methods",e.CART="show-cart",e.ADD_SWIGGY_MONEY="add-swiggy-money",e.ADD_SWIGGY_MONEY_INDEX="add-swiggy-money",e.SWIGGY_MONEY_PAYMENTS="swiggy-money-payments",e.ONE_CLICK_ENROLLMENT="one-click-enrollment",e.COUPON_LISTING="coupon-listing",e.PAYMENT_OFFERS="payment-offers",e.DINEOUT_PAYMENT_SUCCESS="dineout-payment-success",e.DINEOUT_SUCCESS_SCREEN="DINEOUT_SUCCESS_SCREEN",e.DINEOUT_DIRECT_PLACE_ORDER="dineout-direct-checkout",e.PAYMENT_MODES_INDEX="payment-modes",e.PAYMENT_MODES_ADD_NEW_CARD="payment-modes-add-new-card",e.MANAGE_CARD="manage-card",e.SECURE_CARD="secure-card",e.CONFIRM_TRANSACTION="confirm-transaction",e.PAYMENT_MODES_VERIFY_WALLET_LINK_OTP="payment-modes-verify-wallet-link-otp",e.PAYMENT_MODES_LINK_WALLET_WITH_NUMBER="payment-modes-link-wallet-with-number",e.LINK_WALLET_INDEX="link-wallets",e.WALLET_DETAILS="wallet-detail",e.PAYLATER_LINKING_CONFIRMATION="paylater-linking-confirmation",e.NATIVE_UPI_ACCOUNTS="native-upi-accounts",e.AUTOPAY_ELIGIBLE_PAYMENT_FAILED="autopay-eligible-payment-failed",e.TURBO_PAY="turbo-pay",e.TURBO_PLACE_ORDER="turbo-place-order",e.SHARED_CART="shared-cart"}(n||(n={})),function(e){e.PAYMENTS="show-payments",e.PAYMENTS_INDEX="show-payments",e.ADD_NEW_CARD="add-new-card",e.VPA_TIMER="vpa-timer",e.PAYMENT_TXN_STATUS_POLLING="payment-txn-status-polling",e.CONFIRM_ORDER="confirm-order",e.DIRECT_PLACE_ORDER="direct-place-order",e.MORE_BANKS="more-banks",e.VERIFY_WALLET_LINK_OTP="verify-wallet-link-otp",e.LINK_WALLET_WITH_NUMBER="link-wallet-with-number",e.VERIFY_VPA="verify-vpa",e.LINK_PAYLATER="link-paylater",e.LINK_PAYLATER_MOBILE="link-paylater-mobile",e.REDIRECT_PAGE="redirect-page",e.MORE_PAYMENT_GROUPS="more-payment-groups",e.MORE_PAYMENT_METHODS="more-payment-methods",e.CART="show-dineout-cart",e.ADD_SWIGGY_MONEY="add-swiggy-money",e.ADD_SWIGGY_MONEY_INDEX="add-swiggy-money",e.SWIGGY_MONEY_PAYMENTS="swiggy-money-payments",e.ONE_CLICK_ENROLLMENT="one-click-enrollment",e.DINEOUT_DIRECT_FREE_RESERVATION="dineout-direct-free-reservation",e.PAYMENT_OFFERS="payment-offers",e.COUPON_LISTING="coupons-listing",e.DINEOUT_PAYMENT_SUCCESS="dineout-payment-success",e.DINEOUT_DIRECT_PLACE_ORDER="dineout-direct-checkout",e.BILL_PAYMENT_CART="bill-payment-cart",e.TABLE_RESERVATION_CART="table-reservation-cart"}(o||(o={}))},"199V7A":function(e,t,a){"use strict";var n,o,r;!function(e){e.GRID_WIDGET="type.googleapis.com/swiggy.gandalf.widgets.v2.GridWidget"}(n||(n={})),function(e){e.MERCH_CAROUSEL="merch-banner"}(o||(o={})),function(e){e.CAROUSEL="carousel",e.GRID="grid"}(r||(r={}))},"2HIM8c":function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return dw})),a.d(t,"b",(function(){return Ew})),a.d(t,"c",(function(){return b_}));var n,o,r,i=a("q1tIBJ"),l=a.n(i),s=a("PF/h98"),c=a("TSYQbt"),d=a.n(c),u=a("zjaiJQ"),m=a("tq1HG5"),p=a("vOnDsY"),_=a("csMmD8"),E=a("rSDAkv"),C=a("5pVSsM"),b=a("r5StZi"),y=a("O6/he3"),g=a("wSJVEs"),O=a.n(g),h=a("oJtJIa"),A=a("wfUZkm"),f=a.n(A),v=a("ReasPn"),T=a("O/6lF+"),I=a("A7KQxY"),S=a("9Sr5km"),N=a.n(S),R=a("JCeIAr"),P=a.n(R),D=a("GJ6Exf"),L=a("tWLOnr"),k=a("i7WV2w"),x=a("rJW+K4"),w=a("FO+1MJ"),M=a("UsZMts"),j=a("4JB/ZF"),B=a("rasspq");(r=n||(n={}))[r.LINKED=0]="LINKED",r[r.NEVER_LINKED=1]="NEVER_LINKED",r[r.TOKEN_EXPIRED=2]="TOKEN_EXPIRED",r[r.RETRY=3]="RETRY",r[r.BLOCKED=4]="BLOCKED",r[r.BLACK_LISTED=5]="BLACK_LISTED",r[r.TRY_AFTER_SOME_TIME=6]="TRY_AFTER_SOME_TIME",function(e){e.AMAZONPAY="AMAZONPAY",e.FREECHARGE="FREECHARGE",e.MOBIKWIK="MOBIKWIK",e.PAYTM="PAYTM",e.PHONEPE="PHONEPE",e.AMAZONPAYWEB="AMAZONPAYWEB"}(o||(o={}));var U,H=["PAYTM","MOBIKWIK","FREECHARGE"];!function(e){e.INSTANT_DEBIT="INSTANT_DEBIT",e.REDIRECT="REDIRECT",e.SDK="SDK"}(U||(U={}));var G,Y=["AMAZONPAY","PHONEPE","AMAZONPAYWEB"],W={FREECHARGE:4,"FREECHARGE-SSO":4,MOBIKWIK:6,"MOBIKWIK-SSO":6,PAYLATER_LAZYPAY:4,PAYTM:6,PAYTM_POSTPAID:6,"PAYTM-SSO":6,PHONEPE:5,"PHONEPE-SSO":5};!function(e){e.paytm="PayTM",e.paytmpostpaid="PayTM_PostPaid",e.phonepe="PhonePe",e.mobikwik="Mobikwik",e.freecharge="Freecharge",e.amazonpay="AmazonPay",e.simpl="PayLater_Simpl"}(G||(G={}));var F,V,K,z={CARD:"CARD",COD:"COD",FOOD_CARD:"FOOD_CARD",NETBANKING:"NETBANKING",PAY_LATER:"PAY_LATER",PREFERRED:"PREFERRED",UPI:"UPI",INAPP_UPI:"INAPP_UPI",WALLET:"WALLET",WALLET_WEB:"WALLET_WEB",SWIGGY_INSTRUMENTS:"SWIGGY_INSTRUMENTS",JUSPAY_WALLET:"JUSPAY_WALLET_GROUP",CRED:"CRED",NATIVE_UPI:"NATIVE_UPI",SINGLE_CLICK:"SINGLE_CLICK",EXTRA_OFFERS:"EXTRA_OFFERS",FLIPKART_SUPER_COIN:"FLIPKART_SUPER_COIN",EMI:"EMI",REWARDS:"REWARDS"},$="CARD",X="COD",J="NETBANKING",Z="NEW_CARD",q="NEW_FOOD_CARD",Q="SWIGGYPAY",ee="NEW_INAPP_UPI_INSTRUMENT",te="NEW_INAPP_UPI_ONBOARDING",ae="WALLET",ne="CRED",oe={NETBANKING:"Juspay-NB",NATIVE_UPI:"Juspay-UPI",JUSPAY:"Juspay",UPICOLLECT:"UPICollect",UPIINTENT:"UPIIntent",INAPPUPI:"InAppUPI",AMAZONPAYWEB:"AmazonPayWeb",AMAZONPAY:"AmazonPay",PHONEPE:"PhonePe",CRED:"Cred",PHONEPEUPI:"PhonePeUPI",CASH:"Cash",PAYTM:"PayTM-SSO",MOBIKWIK:"Mobikwik-SSO",FREECHARGE:"Freecharge-SSO",BNPL:"BNPL",SWIGGYPAY:"SwiggyPay",FLIPKART_SUPER_COIN:"FlipkartSuperCoin",THIRD_PARTY_EMI:"Third-Party-EMI",TWID_REWARD:"TwidRewards"},re={UPI_INTENT:oe.UPIINTENT.toUpperCase(),UPI_COLLECT:oe.UPICOLLECT.toUpperCase(),PHONEPE_UPI:oe.PHONEPEUPI.toUpperCase(),INAPP_UPI:oe.INAPPUPI.toUpperCase()},ie=[re.UPI_INTENT,ne];(F={CASH:X,JUSPAY:$,JUSPAY_NEW_CARD:Z,PAYLATER_LAZYPAY:"PAYLATER"})[oe.NETBANKING]=J,F[oe.NATIVE_UPI]="NATIVE_UPI",F.AMAZONPAYWEB=ae,F.AMAZONPAY=ae,F.FREECHARGE=ae,F["FREECHARGE-SSO"]=ae,F.MOBIKWIK=ae,F["MOBIKWIK-SSO"]=ae,F.PAYTM=ae,F["PAYTM-SSO"]=ae,F.PHONEPE=ae,F.UPICOLLECT="UPI",F.INAPP_UPI="INAPP_UPI",function(e){e.LAZYPAY="PayLater_Lazypay",e.PAYTM_POSTPAID="PayTM_PostPaid",e.SIMPL="PayLater_Simpl"}(K||(K={}));var le,se,ce,de,ue,me,pe,_e,Ee,Ce,be=((V={}).PayLater_Lazypay="Lazypay",V.PayTM_PostPaid="Paytm",V.PayLater_Simpl="Simpl",V);!function(e){e.DIALOG="dialog",e.ALERTDIALOG="alertdialog",e.HEADING="heading",e.BUTTON="button",e.CHECKBOX="checkbox",e.ALERT="alert"}(le||(le={})),function(e){e.POLITE="polite",e.ASSERTIVE="assertive",e.OFF="off"}(se||(se={})),function(e){e[e.HOME=1]="HOME",e[e.WORK=2]="WORK",e[e.OTHER=3]="OTHER",e[e.FRIENDS_AND_FAMILY=4]="FRIENDS_AND_FAMILY"}(ce||(ce={})),function(e){e.HOME="Home",e.WORK="Work",e.OTHER="Other",e.FRIENDS_AND_FAMILY="Friends and Family"}(de||(de={})),function(e){e.HOME="img_0.png",e.WORK="work.png",e.OTHER="others.png",e.FRIENDS_AND_FAMILY="family_friends.png",e.STATIC="img_1.png"}(ue||(ue={})),function(e){e.FETCH_FAILED="FETCH_FAILED",e.TIMEOUT="TIMEOUT",e.LOTTIE_ERROR="LOTTIE_ERROR",e.ASSET_FETCH_ERROR="ASSET_FETCH_ERROR",e.INCOMPLETE_DATA="INCOMPLETE_DATA",e.UNKNOWN="UNKNOWN"}(me||(me={})),function(e){e.TRUE="true",e.FALSE="false"}(pe||(pe={})),function(e){e.PAY="PAY",e.NAVIGATE="NAVIGATE",e.DISMISS="DISMISS"}(_e||(_e={})),function(e){e.PRE_PAYMENT="PRE_PAYMENT",e.POST_PAYMENT="POST_PAYMENT"}(Ee||(Ee={})),function(e){e.ORDER_JOB="ORDER_JOB"}(Ce||(Ce={}));var ye,ge,Oe,he,Ae,fe,ve,Te,Ie,Se,Ne,Re,Pe,De,Le,ke=["CONFIRMED","COMPLETED","CANCELLED"];function xe(e){return e}!function(e){e.TURBOCHECKOUT="turbocheckout",e.PAYMENT="payment"}(ye||(ye={})),function(e){e.FOOD="food",e.INSTAMART="instamart",e.STORES="store",e.PUDO="pudo",e.CUSTOM="custom",e.HANDPICKED="HANDPICKED",e.INSTAMAX="instamax",e.INSANELYGOOD="insanelygood",e.ASSURE="assure"}(ge||(ge={})),function(e){e.REGULAR="regular",e.POP="pop",e.EDIT_ORDER="edit_order",e.SWIGGY_MONEY="swiggy_money",e.SUBSCRIPTION="subscription",e.POST_ORDER_TIP="post_order_tipping",e.SWIGGY_SUPER="swiggy_super",e.DASH="dash",e.ASSURE="assure",e.DINEOUT="dineout",e.PAY_ON_DELIVERY="pay_on_delivery",e.HANDPICKED="handpicked",e.SWIGGY_ONE="swiggy_one"}(Oe||(Oe={})),function(e){e.CHECKOUT="CHECKOUT",e.SWIGGY_MONEY="SWIGGY_MONEY",e.DASH="DASH",e.DINEOUT="DINEOUT",e.ASSURE="SCOOTSY"}(he||(he={})),function(e){e.PROD="prod",e.SAND_BOX="sandbox"}(Ae||(Ae={})),function(e){e.NOPERMISSION="NOPERMISSION",e.INIT="INIT",e.FRESH="FRESH",e.BOUND="BOUND",e.LINKED="LINKED"}(fe||(fe={})),function(e){e.TRUE="true",e.FALSE="false"}(ve||(ve={})),function(e){e.TRACK="TRACK",e.ORDER_DETAIL="ORDER_DETAIL",e.CART="CART",e.CHAT="CHAT",e.HOME="HOME",e.MENU="MENU",e.REFUND_HISTORY="REFUND_HISTORY",e.COLLECTIONS="COLLECTIONS",e.IM_TRACK_SCREEN="IM_TRACK_SCREEN"}(Te||(Te={})),function(e){e.TYPE_CARD="TYPE_CARD",e.TYPE_UPI="TYPE_UPI",e.TYPE_WALLET="TYPE_WALLET",e.TYPE_BNPL="TYPE_BNPL",e.TYPE_NB="TYPE_NB",e.TYPE_SWIGGY_MONEY="TYPE_SWIGGY_MONEY",e.TYPE_INAPP_UPI="TYPE_INAPP_UPI",e.TYPE_CASH="TYPE_CASH",e.TYPE_EMI="TYPE_EMI"}(Ie||(Ie={})),function(e){e.CARD_TYPE_CREDIT_CARD="CARD_TYPE_CREDIT_CARD",e.CARD_TYPE_DEBIT_CARD="CARD_TYPE_DEBIT_CARD",e.CARD_TYPE_PREPAID_CARD="CARD_TYPE_PREPAID_CARD",e.CARD_TYPE_FOOD_CARD="CARD_TYPE_FOOD_CARD"}(Se||(Se={})),function(e){e.UPI_TYPE_COLLECT="UPI_TYPE_COLLECT",e.UPI_TYPE_INTENT="UPI_TYPE_INTENT"}(Ne||(Ne={})),function(e){e.WALLET_TYPE_PAYTM="WALLET_TYPE_PAYTM",e.WALLET_TYPE_FREECHARGE="WALLET_TYPE_FREECHARGE",e.WALLET_TYPE_AMAZONPAY="WALLET_TYPE_AMAZONPAY",e.WALLET_TYPE_MOBIKWIK="WALLET_TYPE_MOBIKWIK",e.WALLET_TYPE_PHONE_PE="WALLET_TYPE_PHONE_PE",e.WALLET_TYPE_CRED="WALLET_TYPE_CRED"}(Re||(Re={})),function(e){e.EMI_SUB_TYPE="EMI_AGGREGATOR_THIRD_PARTY_JUSPAY"}(Pe||(Pe={})),function(e){e.SWIGGYPAY="SWIGGYPAY",e.FLIPKARTSUPERCOIN="FLIPKARTSUPERCOIN",e.INTERMILES="INTERMILES",e.YES_BANK="YES_BANK"}(De||(De={})),function(e){e.ERROR="ERROR",e.INFO="INFO"}(Le||(Le={})),Object.freeze({__proto__:null,identity:xe});var we=function(){function e(e){if(null==e)throw new TypeError("Some has to contain a value. Constructor received "+typeof e+".");this.value=e}return e.prototype.isSome=function(){return!0},e.prototype.isNone=function(){return!1},e.prototype.match=function(e){return e.some(this.value)},e.prototype.filter=function(e){return e(this.value)?this:je},e.prototype.flatten=function(){if(this instanceof e){if(this.value instanceof e)return this.andThen(xe);if(this.value instanceof Me)return je}return this},e.prototype.map=function(t){return new e(t(this.value))},e.prototype.fold=function(e,t){return t(this.value)},e.prototype.andThen=function(e){return e(this.value)},e.prototype.or=function(e){return this},e.prototype.orElse=function(e){return this},e.prototype.and=function(e){return e},e.prototype.unwrapOr=function(e){return this.value},e.prototype.unwrapOrElse=function(e){return this.value},e.prototype.unwrap=function(){return this.value},e}(),Me=function(){function e(){}return e.prototype.isSome=function(){return!1},e.prototype.isNone=function(){return!0},e.prototype.match=function(e){return e.none},e.prototype.filter=function(e){return je},e.prototype.flatten=function(){return je},e.prototype.map=function(e){return je},e.prototype.fold=function(e,t){return"function"==typeof e?e():e},e.prototype.andThen=function(e){return je},e.prototype.or=function(e){return e},e.prototype.orElse=function(e){return e()},e.prototype.and=function(e){return je},e.prototype.unwrapOr=function(e){return e},e.prototype.unwrapOrElse=function(e){return e()},e.prototype.unwrap=function(){throw new ReferenceError("Trying to unwrap None.")},e}(),je=new Me;function Be(e){return null==e?new Me:new we(e)}var Ue,He,Ge=function(){function e(e){this.value=e}return e.prototype.isOk=function(){return!0},e.prototype.isErr=function(){return!1},e.prototype.toPromise=function(){return Promise.resolve(this.value)},e.prototype.ok=function(){return Be(this.value)},e.prototype.err=function(){return je},e.prototype.unwrap=function(){return this.value},e.prototype.unwrapOr=function(e){return this.value},e.prototype.unwrapOrElse=function(e){return this.value},e.prototype.unwrapErr=function(){throw new ReferenceError("called Result::unwrapErr() on an Ok value "+Ve(this.value))},e.prototype.match=function(e){return e.ok(this.value)},e.prototype.map=function(e){return We(e(this.value))},e.prototype.mapErr=function(e){return We(this.value)},e.prototype.and=function(e){return e},e.prototype.andThen=function(e){return e(this.value)},e}(),Ye=function(){function e(e){this.error=e}return e.prototype.isOk=function(){return!1},e.prototype.isErr=function(){return!0},e.prototype.toPromise=function(){return Promise.reject(this.error)},e.prototype.ok=function(){return je},e.prototype.err=function(){return Be(this.error)},e.prototype.unwrap=function(){throw new ReferenceError("called Result::unwrap() on an Err value "+Ve(this.error))},e.prototype.unwrapOr=function(e){return e},e.prototype.unwrapOrElse=function(e){return e()},e.prototype.unwrapErr=function(){return this.error},e.prototype.match=function(e){return e.err(this.error)},e.prototype.map=function(e){return Fe(this.error)},e.prototype.mapErr=function(e){return Fe(e(this.error))},e.prototype.and=function(e){return Fe(this.error)},e.prototype.andThen=function(e){return Fe(this.error)},e}(),We=function(e){return new Ge(e)},Fe=function(e){return new Ye(e)},Ve=function(e){return e instanceof Error?e.message:"object"==typeof e&&e?e.toString():"string"==typeof e?e:""};function Ke(e,t=!0){if(null==e)return!0;switch(typeof e){case"string":return t?0===e.length:0===e.trim().length;case"number":case"boolean":return!e;case"undefined":return!0;case"object":return 0===Object.keys(e).length;case"function":case"symbol":return!1;default:return!e}}function ze(e){return"string"==typeof e&&!Ke(e,!1)}!function(e){e[e.LOADING=0]="LOADING",e[e.ERROR=1]="ERROR",e[e.SUCCESS=2]="SUCCESS"}(Ue||(Ue={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.LOADING=1]="LOADING",e[e.ERROR=2]="ERROR",e[e.SUCCESS=3]="SUCCESS"}(He||(He={}));const{whichTransitionEndEvent:$e}=new class{constructor(){this._transitionEndEvent=je,this.whichTransitionEndEvent=e=>{if(this._transitionEndEvent.isSome())return this._transitionEndEvent.unwrap();if("undefined"==typeof document)return;let t;const a={MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in e=void 0===e?document.createElement("fakeelement"):e,a)if(a.hasOwnProperty(t)&&void 0!==e.style[t])return this._transitionEndEvent=Be(a[t]),this._transitionEndEvent.unwrapOr("transitionend")}}},Xe="autopay-payment-failure-screen_error_title",Je="card_number",Ze="card_cvv",qe="card_expiry",Qe="cardholder_name",et="cardholder_nickname",tt="proceed_btn",at="alert_header",nt="alert_header_title",ot="alert_header_msg",rt="alert_content",it="alert_primary_btn",lt="alert_sec_btn";var st,ct,dt,ut,mt;!function(e){e[e.LINKED=0]="LINKED",e[e.NEVER_LINKED=1]="NEVER_LINKED",e[e.TOKEN_EXPIRED=2]="TOKEN_EXPIRED",e[e.RETRY=3]="RETRY",e[e.BLOCKED=4]="BLOCKED",e[e.BLACK_LISTED=5]="BLACK_LISTED",e[e.TRY_AFTER_SOME_TIME=6]="TRY_AFTER_SOME_TIME"}(st||(st={})),function(e){e.AMAZONPAY="AMAZONPAY",e.FREECHARGE="FREECHARGE",e.MOBIKWIK="MOBIKWIK",e.PAYTM="PAYTM",e.PHONEPE="PHONEPE",e.AMAZONPAYWEB="AMAZONPAYWEB"}(ct||(ct={})),function(e){e.INSTANT_DEBIT="INSTANT_DEBIT",e.REDIRECT="REDIRECT",e.SDK="SDK"}(dt||(dt={})),function(e){e.paytm="PayTM",e.paytmpostpaid="PayTM_PostPaid",e.phonepe="PhonePe",e.mobikwik="Mobikwik",e.freecharge="Freecharge",e.amazonpay="AmazonPay",e.simpl="PayLater_Simpl"}(ut||(ut={}));var pt,_t,Et,Ct,bt,yt,gt,Ot,ht,At,ft,vt,Tt,It,St,Nt,Rt,Pt,Dt,Lt,kt,xt,wt,Mt,jt,Bt,Ut,Ht="WALLET";(mt={CASH:"COD",JUSPAY:"CARD",JUSPAY_NEW_CARD:"NEW_CARD",PAYLATER_LAZYPAY:"PAYLATER"})["Juspay-NB"]="NETBANKING",mt["Juspay-UPI"]="NATIVE_UPI",mt.AMAZONPAYWEB=Ht,mt.AMAZONPAY=Ht,mt.FREECHARGE=Ht,mt["FREECHARGE-SSO"]=Ht,mt.MOBIKWIK=Ht,mt["MOBIKWIK-SSO"]=Ht,mt.PAYTM=Ht,mt["PAYTM-SSO"]=Ht,mt.PHONEPE=Ht,mt.UPICOLLECT="UPI",mt.INAPP_UPI="INAPP_UPI",function(e){e.LAZYPAY="PayLater_Lazypay",e.PAYTM_POSTPAID="PayTM_PostPaid",e.SIMPL="PayLater_Simpl"}(_t||(_t={})),(pt={}).PayLater_Lazypay="Lazypay",pt.PayTM_PostPaid="Paytm",pt.PayLater_Simpl="Simpl",function(e){e.DIALOG="dialog",e.ALERTDIALOG="alertdialog",e.HEADING="heading",e.BUTTON="button",e.CHECKBOX="checkbox",e.ALERT="alert"}(Et||(Et={})),function(e){e.POLITE="polite",e.ASSERTIVE="assertive",e.OFF="off"}(Ct||(Ct={})),function(e){e[e.HOME=1]="HOME",e[e.WORK=2]="WORK",e[e.OTHER=3]="OTHER",e[e.FRIENDS_AND_FAMILY=4]="FRIENDS_AND_FAMILY"}(bt||(bt={})),function(e){e.HOME="Home",e.WORK="Work",e.OTHER="Other",e.FRIENDS_AND_FAMILY="Friends and Family"}(yt||(yt={})),function(e){e.HOME="img_0.png",e.WORK="work.png",e.OTHER="others.png",e.FRIENDS_AND_FAMILY="family_friends.png",e.STATIC="img_1.png"}(gt||(gt={})),function(e){e.FETCH_FAILED="FETCH_FAILED",e.TIMEOUT="TIMEOUT",e.LOTTIE_ERROR="LOTTIE_ERROR",e.ASSET_FETCH_ERROR="ASSET_FETCH_ERROR",e.INCOMPLETE_DATA="INCOMPLETE_DATA",e.UNKNOWN="UNKNOWN"}(Ot||(Ot={})),function(e){e.TRUE="true",e.FALSE="false"}(ht||(ht={})),function(e){e.PAY="PAY",e.NAVIGATE="NAVIGATE",e.DISMISS="DISMISS"}(At||(At={})),function(e){e.PRE_PAYMENT="PRE_PAYMENT",e.POST_PAYMENT="POST_PAYMENT"}(ft||(ft={})),(vt||(vt={})).ORDER_JOB="ORDER_JOB",function(e){e.TURBOCHECKOUT="turbocheckout",e.PAYMENT="payment"}(Tt||(Tt={})),function(e){e.FOOD="food",e.INSTAMART="instamart",e.STORES="store",e.PUDO="pudo",e.CUSTOM="custom",e.HANDPICKED="HANDPICKED",e.INSTAMAX="instamax",e.INSANELYGOOD="insanelygood",e.ASSURE="assure"}(It||(It={})),function(e){e.REGULAR="regular",e.POP="pop",e.EDIT_ORDER="edit_order",e.SWIGGY_MONEY="swiggy_money",e.SUBSCRIPTION="subscription",e.POST_ORDER_TIP="post_order_tipping",e.SWIGGY_SUPER="swiggy_super",e.DASH="dash",e.ASSURE="assure",e.DINEOUT="dineout",e.PAY_ON_DELIVERY="pay_on_delivery",e.HANDPICKED="handpicked",e.SWIGGY_ONE="swiggy_one"}(St||(St={})),function(e){e.CHECKOUT="CHECKOUT",e.SWIGGY_MONEY="SWIGGY_MONEY",e.DASH="DASH",e.DINEOUT="DINEOUT",e.ASSURE="SCOOTSY"}(Nt||(Nt={})),function(e){e.PROD="prod",e.SAND_BOX="sandbox"}(Rt||(Rt={})),function(e){e.NOPERMISSION="NOPERMISSION",e.INIT="INIT",e.FRESH="FRESH",e.BOUND="BOUND",e.LINKED="LINKED"}(Pt||(Pt={})),function(e){e.TRUE="true",e.FALSE="false"}(Dt||(Dt={})),function(e){e.TRACK="TRACK",e.ORDER_DETAIL="ORDER_DETAIL",e.CART="CART",e.CHAT="CHAT",e.HOME="HOME",e.MENU="MENU",e.REFUND_HISTORY="REFUND_HISTORY",e.COLLECTIONS="COLLECTIONS",e.IM_TRACK_SCREEN="IM_TRACK_SCREEN"}(Lt||(Lt={})),function(e){e.TYPE_CARD="TYPE_CARD",e.TYPE_UPI="TYPE_UPI",e.TYPE_WALLET="TYPE_WALLET",e.TYPE_BNPL="TYPE_BNPL",e.TYPE_NB="TYPE_NB",e.TYPE_SWIGGY_MONEY="TYPE_SWIGGY_MONEY",e.TYPE_INAPP_UPI="TYPE_INAPP_UPI",e.TYPE_CASH="TYPE_CASH",e.TYPE_EMI="TYPE_EMI"}(kt||(kt={})),function(e){e.CARD_TYPE_CREDIT_CARD="CARD_TYPE_CREDIT_CARD",e.CARD_TYPE_DEBIT_CARD="CARD_TYPE_DEBIT_CARD",e.CARD_TYPE_PREPAID_CARD="CARD_TYPE_PREPAID_CARD",e.CARD_TYPE_FOOD_CARD="CARD_TYPE_FOOD_CARD"}(xt||(xt={})),function(e){e.UPI_TYPE_COLLECT="UPI_TYPE_COLLECT",e.UPI_TYPE_INTENT="UPI_TYPE_INTENT"}(wt||(wt={})),function(e){e.WALLET_TYPE_PAYTM="WALLET_TYPE_PAYTM",e.WALLET_TYPE_FREECHARGE="WALLET_TYPE_FREECHARGE",e.WALLET_TYPE_AMAZONPAY="WALLET_TYPE_AMAZONPAY",e.WALLET_TYPE_MOBIKWIK="WALLET_TYPE_MOBIKWIK",e.WALLET_TYPE_PHONE_PE="WALLET_TYPE_PHONE_PE",e.WALLET_TYPE_CRED="WALLET_TYPE_CRED"}(Mt||(Mt={})),(jt||(jt={})).EMI_SUB_TYPE="EMI_AGGREGATOR_THIRD_PARTY_JUSPAY",function(e){e.SWIGGYPAY="SWIGGYPAY",e.FLIPKARTSUPERCOIN="FLIPKARTSUPERCOIN",e.INTERMILES="INTERMILES",e.YES_BANK="YES_BANK"}(Bt||(Bt={})),function(e){e.ERROR="ERROR",e.INFO="INFO"}(Ut||(Ut={}));const Gt="pg_pref_title",Yt="pg_card_title",Wt="pg_fc_title",Ft="pg_cod_title",Vt="pg_jw_title",Kt="pg_mo_title",zt="pg_nb_title",$t="pg_op_title",Xt="pg_pl_title",Jt="pg_si_title",Zt="pg_fk_coins_title",qt="pg_upi_title",Qt="pg_wallet_title",ea="pg_cred_title",ta="pg_inapp_upi_title",aa="pg_emi_title",na="pg_rewards_title",oa="pg_card_bm",ra="pg_fc_bm",ia="pg_nb_more_link",la="pg_op_content",sa="pg_op_content_msg",ca="pg_pref_mmc",da="pg_upi_mmc",ua="pg_inapp_upi_mmc",ma="pg_rewards_content",pa="pg_rewards_varc",_a={CARD:"card",COD:"cod",FOOD_CARD:"fc",JUSPAY_WALLET_GROUP:"jw",NETBANKING:"nb",PAY_LATER:"pl",PREFERRED:"pref",SWIGGY_INSTRUMENTS:"si",UPI:"upi",INAPP_UPI:"inapp_upi",WALLET:"wal",WALLET_WEB:"wal",EMI:"emi"},Ea={CONTAINER:"pm_card_container",ICON:"pm_card_icon",NAME:"pm_card_name",CIRCLE_LOADER:"pm_card_circle_loader",BALANCE:"pm_card_bal",TICK:"pm_card_tick",DISABLE_MESSAGE:"pm_card_disable_msg",ALERT_MESSAGE:"pm_card_alert_msg",CVV:"pm_card_cvv",CVV_MESSAGE:"pm_card_cvv_message",PAY_BUTTON:"pm_card_pay_btn"},Ca={ONE_CLICK_ENABLED_MESSAGE:"pm_card_enable_msg_one_click",ONE_CLICK_DISABLED_MESSAGE:"pm_card_disable_msg_one_click"},ba="pm_card_cbw_link",ya={CONTAINER:"pm_fc_container",ICON:"pm_fc_icon",NAME:"pm_fc_name",CIRCLE_LOADER:"pm_fc_circle_loader",BALANCE:"pm_fc_bal",TICK:"pm_fc_tick",DISABLE_MESSAGE:"pm_fc_disable_msg",ALERT_MESSAGE:"pm_fc_alert_msg",CVV:"pm_fc_cvv",PAY_BUTTON:"pm_fc_pay_btn"},ga="pm_nu_container",Oa={CONTAINER:"pm_nb_container",ICON:"pm_nb_icon",NAME:"pm_nb_title",DISABLE_MESSAGE:"pm_nb_disable_msg",TICK:"pm_nb_tick",PAY_BUTTON:"pm_nb_pay_btn"},ha={CONTAINER:"pm_nc_container",ICON:"pm_nc_icon",NAME:"pm_nc_name",DISABLE_MESSAGE:"pm_nc_disable_msg",WE_ACCEPT_CARD_LIST:"pm_nc_wacl",NON_TOKENIZE_CARD_REMOVAL_MSG:"pm_nc_card_removal_msg"},Aa={CONTAINER:"pm_nfc_container",ICON:"pm_nfc_icon",NAME:"pm_nfc_name",DISABLE_MESSAGE:"pm_nfc_disable_msg",WE_ACCEPT_CARD_LIST:"pm_nfc_wacl",NON_TOKENIZE_CARD_REMOVAL_MSG:"pm_nfc_card_removal_msg"},fa={PayLater_Lazypay:"lp",PayTM_PostPaid:"pp",PayLater_Simpl:"sp"},va=e=>{const t=(e=>{var t;return null!==(t=fa[e])&&void 0!==t?t:"pl"})(e),a=t+"_dh",n=t+"_dc";return{CONTAINER:t+"_container",ICON:t+"_icon",NAME:t+"_name",CIRCLE_LOADER:t+"_circle_loader",TICK:t+"_tick",LINK_ACCOUNT:t+"_link_acc",DIALOG_HEADER:{ICON:a+"_icon",TEXT:a+"_text"},DIALOG_CONTENT:{WRAPPER:""+n,META_POINT:n+"_meta_point",TNC_LINK:n+"_tnc_link",METHOD_NAME:n+"_method_name",EMAIL:n+"_email",MOBILE:n+"_mobile"},PAY_BUTTON:t+"_pay_btn",DUE_DATE_MESSAGE:t+"_due_dt_msg",ALERT_MESSAGE:t+"_alert_msg"}},Ta={CONTAINER:"pm_upi_container",ICON:"pm_upi_icon",NAME:"pm_upi_name",DISABLE_MESSAGE:"pm_upi_disable_msg",TICK:"pm_upi_tick",PAY_BUTTON:"pm_upi_pay_btn"},Ia={CONTAINER:"pm_ui_container",ICON:"pm_ui_icon",NAME:"pm_ui_name",DISABLE_MESSAGE:"pm_ui_disable_msg",TICK:"pm_ui_tick",PAY_BUTTON:"pm_ui_pay_btn"},Sa={AMAZONPAY:"ap",AMAZONPAYWEB:"apb",FREECHARGE:"fc",MOBIKWIK:"mk",PAYTM:"ptm",PHONEPE:"pp"},Na=e=>{const t=(e=>{var t;const a=e.toUpperCase();return null!==(t=Sa[a])&&void 0!==t?t:"wal"})(e),a=t+"_dc";return{CONTAINER:t+"_container",ICON:t+"_icon",NAME:t+"_name",CIRCLE_LOADER:t+"_circle_loader",TICK:t+"_tick",LINK_ACCOUNT:t+"_link_acc",DIALOG_HEADER_ICON:t+"_dh_icon",DIALOG_CONTENT:{WRAPPER:""+a,TEXT:a+"_text",SUB_TEXT:a+"_subtext",MOBILE:a+"_mobile"},PAY_BUTTON:t+"_pay_btn",WALLET_BALANCE:t+"_bal",RETRY_LINK_ACCOUNT:t+"_retry",ADD_MONEY_INPUT:t+"_add_money",ADD_MONEY_BUTTON:t+"_add_money_btn",DISABLE_MESSAGE:t+"_disable_msg",ALERT_MESSAGE:t+"_alert_msg"}},Ra={CONTAINER:"pm_inapp_upi_container",ICON:"pm_inapp_upi_icon",NAME:"pm_inapp_upi_name",BALANCE:"pm_inapp_upi_bal",PAYMENT_AMOUNT:"pm_inapp_upi_amount",DISABLE_MESSAGE:"pm_inapp_upi_disable_msg",TICK:"pm_inapp_upi_tick",PAY_BUTTON:"pm_inapp_upi_pay_btn"},Pa={CONTAINER:"pm_inapp_upi_onboarding_container",ICON:"pm_inapp_upi_onboarding_icon",NAME:"pm_inapp_upi_onboarding_name",DISABLE_MESSAGE:"pm_inapp_upi_onboarding_disable_msg",TICK:"pm_inapp_upi_onboarding_tick",PAY_BUTTON:"pm_inapp_upi_onboarding_pay_btn"},Da={FLIPKARTSUPERCOIN:"fk",SWIGGYPAY:"spb",INTERMILES:"tw_ntrmls",YES_BANK:"tw_ysbnk"},La="tick_container",ka="tick_svg",xa="tick_sub",wa={CONTAINER:"upi_timer_container",HEADING:"upi_timer_heading",TITLE:"upi_timer_title",META:"upi_timer_meta",CANCEL_PAYMENT_LINK:"upi_timer_cancel"},Ma="ManageCard_oneClickInfoMessage",ja="tur-pay-wid_shim",Ba="tur-pay-wid_edu_comms",Ua="tur-pay-method-wid-display-name",Ha="tur-pay-method-wid-inline-balance-container",Ga="tur-pay-method-wid-slider-button",Ya="tur-pay-method-wid-change-cta",Wa="tur_pod_hc_primary_cta",Fa="tur_pod_hc_sec_cta",Va={CONTAINER:"upi_intent_container",META:"upi_intent_meta",CANCEL_PAYMENT_LINK:"upi_intent_cancel"},Ka="fpl_container",za="OFFER_TAG_CONTAINER";var $a,Xa=Object.prototype.toString,Ja=function(e){return null==e},Za=function(e){var t=typeof e;return null!=e&&("object"===t||"function"===t)},qa=function(e){if(!function(e){return"object"==typeof e&&null!==e}(e)||"[object Object]"!=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Xa.call(e)}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},Qa=function(e){return"string"==typeof e},en=new RegExp("{-?[0-9]+}","g"),tn=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.replace(en,(function(e){var a=parseInt(e.substring(1,e.length-1),10);return a>=0?t[a]:-1===a?"{":-2===a?"}":""}))};function an(e,t){if(void 0===t&&(t=!0),null==e)return!0;switch(typeof e){case"string":return t?0===e.length:0===e.trim().length;case"number":case"boolean":return!e;case"undefined":return!0;case"object":return null===e||0===Object.keys(e).length;case"function":case"symbol":return!1;default:return!e}}!function(e){e.APPS="apps",e.PORTAL="portal",e.INSTAMART="instamart",e.GENIE="genie",e.MINIS="minis",e.DINEOUT="dineout",e.DE="de",e.VENDOR="vendor",e.PARTNER="partner",e.DEFAULT="default"}($a||($a={}));var nn,on,rn,ln,sn,cn,dn,un,mn,pn,_n={image:"https://media-assets.swiggy.com/swiggy/image/upload",video:"https://media-assets.swiggy.com/swiggy/video/upload",raw:"https://media-assets.swiggy.com/swiggy/raw/upload"},En={image:"https://dineout-media-assets.swiggy.com/swiggy/image/upload",video:"https://dineout-media-assets.swiggy.com/swiggy/video/upload",raw:"https://dineout-media-assets.swiggy.com/swiggy/raw/upload"},Cn=function(e){switch(e){case $a.PORTAL:return _n;case $a.DINEOUT:return En;case $a.DEFAULT:default:return _n}},bn=function(e,t,a){return 0===a.length?tn("{0}/{1}",t,e):tn("{0}/{1}/{2}",t,a.join(","),e)},yn=function(e,t,a){if(void 0===t&&(t={}),void 0===a&&(a={}),!an(e)){var n,o,r=["fl_lossy","f_auto","q_auto"];if(t.width&&t.width>0&&r.push("w_"+t.width),t.height&&t.height>0&&r.push("h_"+t.height),t.radius&&t.radius>0?r.push("r_"+t.radius):t.circular&&r.push("r_max"),t.centerScale&&r.push("c_scale"),t.trim&&r.push("e_trim"),t.grayscale&&r.push("e_grayscale"),t.fill&&r.push("c_fill"),t.fit&&r.push("c_fit"),t.shadow&&t.shadow.e&&t.shadow.e>0){var i=[];i.push("e_shadow:"+t.shadow.e),"number"==typeof t.shadow.x&&i.push("x_"+t.shadow.x),"number"==typeof t.shadow.y&&i.push("y_"+t.shadow.y),t.shadow.colorRGB&&i.push("co_rgb:"+t.shadow.colorRGB),r.push.apply(r,i)}return bn(e,(o=void 0===(n=a.teamLine)?$a.DEFAULT:n,Cn(o).image),r)}},gn=new Date,On=new Date(gn.getFullYear(),gn.getMonth(),gn.getDate()).getTime(),hn=function(e,t,a){if(void 0===t&&(t={keepExtension:!0,cache:!1}),void 0===a&&(a={}),an(e))return"";var n,o,r=t.cache?"v"+On+"/"+e:e;return bn(r,(o=void 0===(n=a.teamLine)?$a.DEFAULT:n,Cn(o).raw),[])},An=function(e,t){var a=0;return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var r=(new Date).getTime();if(!(r-a<t))return a=r,e.apply(void 0,n)}};function fn(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]])}return a}function vn(e,t,a,n){return new(a||(a=Promise))((function(o,r){function i(e){try{s(n.next(e))}catch(e){r(e)}}function l(e){try{s(n.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,l)}s((n=n.apply(e,t||[])).next())}))}!function(e){e.TOKEN="authToken",e.OZONE_COMPLIANT="ozoneComplaint"}(nn||(nn={})),Object.defineProperty(function(e){var t=this;this.getBoldText=function(){return t.value=t.value.replace(new RegExp("\\[\\[","g"),'<span style="font-weight: 600;">').replace(new RegExp("\\]\\]","g"),"</span>"),t},this.getSavingsHighlightedText=function(){return t.value=t.value.replace(new RegExp("\\(\\(savings\\|","g"),"<span style='color: #1BA672;font-weight: 600;'>").replace(new RegExp("\\)\\)","g"),"</span>"),t},this.getSwiggyOneSavingsHighlightedText=function(){return t.value=t.value.replace(new RegExp("\\(\\(savings-one\\|","g"),"<span style='color: #F15C52;font-weight: 600;'>").replace(new RegExp("\\)\\)","g"),"</span>"),t},this.getStrikethroughText=function(){return t.value=t.value.replace(new RegExp("\\(\\(strikethrough\\|","g"),"<span style='text-decoration: line-through;'>").replace(new RegExp("\\)\\)","g"),"</span>"),t},this.getNewLine=function(){return t.value=t.value.replace(new RegExp("\\\n","g"),"<br />"),t},this.getImage=function(e){var a=e.imgStyle,n=void 0===a?"":a,o=e.imgHeight,r=void 0===o?"":o,i=e.imgWidth,l=void 0===i?"":i,s=e.loading,c=void 0===s?"eager":s,d=e.iconHasHeightWidth,u=void 0!==d&&d,m=t.value.indexOf("{{img|");if(m<0)return t;var p=t.value.indexOf("}}",m),_=t.value.slice(m+6,p),E=yn(_);if(u)try{var C=t.value.indexOf("{{img|",0),b=t.value.indexOf("}}","}}".length),y=t.value.substring(C,b),g=function(e){var t=e.split("|"),a=t[0],n=t[1],o=t[2];return{width:a,height:n,cloudinaryId:null==o?void 0:o.replace("{{img|","").replace("}}","")}}(null==y?void 0:y.replace("{{img|","").replace("}}",""));l=g.width,r=g.height,E=yn(g.cloudinaryId)}catch(e){}return t.value=t.value.slice(0,m)+'<img class="'+n+'" src="'+E+'" width="'+l+'" height="'+r+'" loading={'+c+"} />"+t.value.slice(p+2),t},this.value=e}.prototype,"val",{get:function(){return this.value},enumerable:!1,configurable:!0}),"function"==typeof SuppressedError&&SuppressedError,function(e){e.GOT_IT="click-got-it",e.CLOSE="click-dismiss-tokenization-guidelines",e.SECURE_CARD_AND_PAY="Secure-card-and-pay",e.SKIP_FOR_NOW="Skip-for-now"}(on||(on={})),function(e){e.CLICKED="clicked",e.PAYMENT_IN_PROGRESS="payment-in-progress",e.INVALID_CARD_DETAILS="invalid-card-details",e.PROCEED_TO_PAY="proceed-to-pay",e.FAILED_TO_PROCEED="failed-to-proceed"}(rn||(rn={})),function(e){e.CONSENT="CONSENT",e.SUBTLE="SUBTLE"}(ln||(ln={})),function(e){e.RIGHT="right",e.LEFT="left"}(sn||(sn={})),function(e){e.TWID="TwidRewards",e.DIRECT="direct"}(cn||(cn={})),function(e){e[e.TOGGLE=0]="TOGGLE",e[e.TICK=1]="TICK"}(dn||(dn={})),function(e){e[e.NONE=0]="NONE",e[e.WARNING=1]="WARNING",e[e.ERROR=2]="ERROR"}(un||(un={})),function(e){e.KYCBANNER="KYCBANNER",e.IMAGEBANNER="IMAGEBANNER"}(mn||(mn={})),function(e){e.EDU_COMMS="eduComms",e.OFFER_COMMS="offerComms"}(pn||(pn={}));const Tn=(e,t={})=>Object(s.nb)(e,Object.assign({height:64},t)),In={ADD_A_NEW_CARD:"Add a New Card",ADD_A_NEW_FOOD_CARD:"Add a New Food Card",ADD_MONEY:"ADD MONEY",ALL_BANKS:"All Banks",APPLY:"apply",ARE_YOU_SURE_WANT_TO_REFRESH:"Are you sure want to refresh?",CANCEL:"Cancel",CANCEL_PAYMENT:"Cancel Payment",CARD_NUMBER:"Card Number",CARD_VALIDITY:"CARD VALIDITY",COD:"COD",CASH:"Cash",CRED:"CRED",PAYTM:"Paytm",CONFIRM:"Yes, delink account",PAY_USING_CRED:"Pay via Cred",CONFIRM_TO_PLACE_ORDER:"Confirm to place order",CONTINUE_WITHOUT_DISCOUNT:"Continue Without Discount",COUPON_CODE_X:"Coupon Code: {0}",COUPON_NOT_APPLICABLE:"Coupon Not Applicable",COUPON_NOT_APPLICABLE_FOR_THIS_PAYMENT_METHOD:"Coupon is not applicable for this payment method",COUPON_X_NOT_APPLICABLE:"Coupon code {0} is not applicable for these options",CVV:"CVV",DECLINED:"DECLINED",DID_NOT_RECIEVE_OTP:"Didn’t get OTP?",DISMISS:"DISMISS",ENTER_OTP:"ENTER OTP",ENTER_OTP_RECEIVED_ON_X:"Enter OTP received on {0}",ENTER_OTP_RECEIVED:"Enter OTP received on",ENTER_YOUR_CARD_DETAILS:"Enter your card details",ENTER_YOUR_FOOD_CARD_DETAILS:"Enter your food card details",FOOD:"FOOD",INVALID_CARD_NUMBER:"Invalid Card Number",INVALID_CVV:"Invalid CVV",INVALID_EXPIRY_DATE:"Invalid Expiry Date",INVALID_CARD_NAME:"Name should not be blank",ITEM:"Item",ITEMS:"Items",LINK_ACCOUNT:"Link Account",LOADING:"Loading...",LINK_X_ACCOUNT:"Link {0} Account",LINK_X_WALLET:"Link {0} wallet",LINK_YOUR_X_WALLET:"Link your {0} wallet",LOW_BALANCE_DETAIL:"Low balance. You need ₹{0} more in your account",INSUFFICIENT_BALANCE_DETAIL:"Insufficient balance. You need ₹{0} more in your account",LINK_MOBILE_NUMBER_TITLE:"Enter mobile number to link {0} account",LINK_MOBILE_NUMBER_SUBTITLE:"If you don’t have an account, we will create one for you",LOW_BALANCE_BRIEF:"Low balance",MONTH_FORMAT:"MM",MORE_BANKS:"More Banks",INDIAN_MOBILE_CODE:"+91",NAME_ON_THE_CARD:"Name on Card",NETBANKING:"NetBanking",NETBANKING_CARDS_WALLETS:"Netbanking, Credit/Debit Cards, Wallets",NEXT:"Next",OFFER:"OFFER",OTHER_PAYMENT_METHODS:"Other Payment Methods",PAY:"Pay",IN_SINGLE_CLICK:" in Single Click",PAY_USING_OTHER_MODES:"Pay using other modes",PAY_USING_X:"Pay Using {0}",PAY_WITH_CASH:"Pay with Cash",PAY_X_WITH_CASH:"Pay ₹{0} with Cash",PAY_VIA_PAYPAL:"Pay via paypal",PAY_X:"Pay ₹{0}",SETUP_PIN_AND_PAY_X:"Setup PIN & Pay ₹{0}",PAY_AMOUNT_X_ITEM:"₹{0}  |  {1} Item",PAY_AMOUNT_X_ITEMS:"₹{0}  |  {1} Items",ENABLE_AND_PROCEED:"Enable & Proceed",PAY_WITHOUT_CLICK:"I’ll pay in multiple steps",PROCEED_TO_PAY:"Proceed To Pay",PROCEED_TO_PAY_AMOUNT:"Proceed To pay ₹{0}",WARNING_INFO_ADD_CARD:"Your card is not eligible for this offer. Your bill amount is updated to ₹{0}.",PROCEED:"Proceed",PROCEED_WITHOUT_OFFER:"Proceed without offer",PAYMENT_FAILURE:"Payment Failure",PAYMENT_FAILURE_MESSAGE:"Seems like there was some error in processing your transaction. The payment failed to pass through.",PAYMENT_OPTIONS:"Payment Options",PLACE_ORDER:"Place Order",POPULAR_BANKS:"Popular Banks",PREFERRED_PAYMENT_MODE:"Preferred payment mode for this offer",PROCEED_LINK:"Proceed to link with this number",PROCEED_TO_LINK_WITH_X:"Proceed to link {0} with email id and number:",RE_X_WILL_BE_CHARGED:"Re. {0} will be charged",RESEND_CODE:"RESEND CODE",RESEND:"RESEND",RESENDING_CODE:"Resending ...",RETRY:"RETRY",SAVE:"Save",SAVED_CARDS:"Saved Cards",SECURE_YOUR_CARD_WITH_VISA:"Secure your card. ",SECURE_YOUR_CARD_WITH_VISA_WITH_BRAND:"Secure your card with {0}. ",SECURE_SAVE_YOUR_CARD:"Securely save your card",SECURELY_SAVE_CARD_DETAILS:"Securely save card details",ENABLE_ONE_CLICK_FOR_CARD:"Enable Single Click Pay ",SELECT_BANK:"Select Bank",SIMPL:"Simpl",SIMPL_DELINK_SUCCESS_TITLE:"Simpl has been delinked successfully!",SIMPL_DELINK_FAILURE_TITLE:"We couldn’t delink your Simpl account",SOMETHING_WENT_WRONG:"Oops!! Something went wrong",SUPER_CONFIRM_TITLE:"{0} ahead.",TAP_TO_RELOAD:"TAP TO RELOAD",TERMS_AND_CONDITIONS:"Terms & Conditions",TIMED_OUT:"TIMED_OUT",TO_PAY_X:"To pay: ₹{0}",TO_PAY_X_NO_COLON:"To pay ₹{0}",TOKEN_EXPIRED_LINK_ACCOUNT:"Token is expired. Please relink again",TRY_AGAIN:"Try Again",TRY_OTHERS:"Try Others",VALID_THROUGH:"Valid Through",VERIFY_N_PROCEED:"VERIFY AND PROCEED",VERIFY_N_LINK:"Verify and Link Account",WALLET_LINK_NOTE:"Don’t have {0} wallet? We will create one for you.",WALLET_REDIRECT_NOTE:"You will be redirected to {0}",WALLETS:"Wallets",X_ITEM_TO_PAY_Y:"{0} Item, To pay: ₹{1}",X_ITEMS_TO_PAY_Y:"{0} Items, To pay: ₹{1}",YEAR_FORMAT:"YY",YOU_HAVE_ENOUGH_MONEY:"You have enough Swiggy Money to place an order",PAY_X_WITH_Y:"Pay ₹{0} with {1}",OFFER_APPLIED:"Offer applied",PAY_USING_OTHER:"Pay using other methods",COUPON_X_NOT_APPLICABLE_ON_OTHER_METHODS:"Coupon {0} won't be applicable on other methods",X_REWARD_WONT_BE_APPLICABLE_ON_OTHER_METHODS:"{0} reward won't be applicable on other methods",REMAINING_AMOUNT:"Select any payment method below to pay the remaining ₹{0}",KNOW_MORE:"Know more",CARD_NICKNAME:"Card Nickname (for easy identification)",INVALID_NICKNAME:"Nick name should not be blank",REMOVE_CARD_JUNE_END:"Remove this card on 30th Sept",SECURE_CARD_AND_PAY:"Secure card & pay",GOT_IT:"Got it",CARD_NETWORK:"card network",VERIFY_CVV_MESSAGE:"You need to do a ₹2 payment to proceed. This will be refunded after securing your card with {0}’s vault",VERIFY_CVV_MESSAGE_SAVE_CARD:"You need to do a ₹2 payment to verify the card. This will be refunded after the card verification.",PAY_X_AND_SECURE:"Pay ₹{0} & Secure",PAY_X_AND_ADD:"Pay ₹{0} & Add",STORE_YOUR_CARD:"Store Your Card with {0}",MANAGE_CARD_SAVE_BUTTON:"Save Changes",MANAGE_CARD_SAVE_AND_SECURE_BUTTON:"Save Changes & secure Card",CARD_BRAND:"{{cardBrand}}",SAVE_AND_ENABLE_ONE_CLICK_PAYMENT_BUTTON:"Save & Enable Single Click Payment",ONE_CLICK_PAYMENT_TEXT:"Enable Single Click Payments",ONE_CLICK_PAY_CHECKBOX_TEXT:"Enable Single Click Payment on this card (No CVV/OTP needed for future payments upto ₹2000).",ONE_CLICK_PAY_CVV_TITLE:"Enable one-click payments",VERIFY_CVV_MESSAGE_ONE_CLICK_PAY:"You need to do a 2 rupee payment to proceed. This will be refunded after you enable one-click payment with {{cardBrand}}",DENROLL_ONE_CLICK_TEXT:"You've enabled single-click payment for this card.",DEENROLL_CLICKABLE_TEXT:"Tap here to disable",DEENROLL_DISABLED_MESSAGE:"You've disabled single click payment on this card. You can re-enable it after 45 days",DISABLE_ONE_CLICK_PAY:"Disable Single click payments",DEENROLL_ERROR_TITLE:"Couldn't disable One Click Payments",DEENROLL_ERROR_MESSAGE:"We are unable to disable single click payment at the moment. Please try again later.",ONE_CLICK_DISABLED_MESSAGE:"Single Click Payments are available for orders upto ₹2000",ONE_CLICK_ENABLED_MESSAGE:"Enabled for single click payments",TERMS_OF_SERVICE_PRETEXT:"I agree to",TERMS_OF_SERVICE:"Visa's terms of service",CURRENT_BALANCE:"Current balance",ENTER_AMOUNT:"Enter Amount",RUPEE:"₹",DELINK:"Delink",DELINK_METHOD_ACCOUNT:"Delink {0} Account",DELINK_CONFIRMATION_TITLE:"Are you sure you want to delink wallet?",DELINK_CONFIRMATION_METHOD_ACCOUNT_TITLE:"Are you sure you want to delink {0} account?",DELINK_CONFIRMATION_METHOD_ACCOUNT_SUBTITLE:"This will affect all payment methods related to {0}",DELINK_FAILURE_TITLE:"We couldn’t delink your {0} account linked to {1}",DELINK_SUCCESS_ACCOUNT_TITLE:"{0} account methods linked to {1} is successfully delinked",DELINK_SUCCESS_TITLE:"{0} wallet linked to {1} is successfully delinked",DELINK_SUCCESS_SUBTEXT:"You can now link with a different number",AMAZON_PAY_DELINK_SUCCESS_TITLE:"Your Amazon account has been delinked succesfully",AMAZON_PAY_DELINK_FAILURE_TITLE:"We couldn’t delink your Amazon account",SELECT_ANOTHER_CARD:"Select another card",ENABLE_ONE_CLICK:"Enable Single Click Payments on this card(No CVV/OTP needed for future payments upto ₹2000).",SECURE_CARD:"Secure this card.",WHY_IS_IT_IMP:"Why is it important?",NO_CVV_OTP:"No CVV/OTP needed for most payments.",SAVE_CARD_AND_PAY:"Save card & Pay",SAVE_CARD_AND_PROCEED:"Save card & Proceed",PAY_WITHOUT_SAVING:"Pay without saving",ENABLE_ONE_CLICK_AND_PAY:"Enable single click & Pay",ENABLE_ONE_CLICK_AND_PROCEED:"Enable Single Click and Proceed",DONT_ENABLE_ONE_CLICK:"Do not enable single click",AMOUNT_WITH_RUPEE_SYMBOL:"₹{0}",CHANGE:"Change",VIA:"via",SWIGGY_PAY_CALLOUT:"Paying ₹{0} with swiggy money from your total bill value of ₹{1}",AMOUNT:"$amount",PAYMENT_METHOD_DISABLED_WALLET:{PAYTM:"To activate Paytm wallet, sign up on the Paytm App",DEFAULT:"This payment method is disabled"},NEW:"NEW",VIEW_ALL_REWARDS:"View all rewards",YOUR_AVAILABLE_REWARDS:"Your available rewards",VIEW_UNAVAILABLE_REWARDS:"View unavailable rewards"},Sn="alertdialog",Nn="heading",Rn="generic",Pn="PaymentLogos/paymentIcons/otherMethods",Dn="swiggy_pay_amount",Ln={AMEX:{id:"PaymentLogos/paymentIcons/cards/amex",padding:0},MASTERCARD:{id:"PaymentLogos/paymentIcons/cards/mastercard",padding:0},SODEXO:{id:"portal/m/plx-logo_3x.png",padding:10},VISA:{id:"PaymentLogos/paymentIcons/cards/visa",padding:3},ZETA:{id:"PaymentLogos/FoodCards/2021_10/Zeta",padding:3},DINERS:{id:"PaymentLogos/Cards/2021_10/Diners",padding:0},RUPAY:{id:"PaymentLogos/paymentIcons/cards/rupay",padding:0}},kn=3,xn={cardNumber:!1,cvv:!1,expiry:!1,name:!1,nickName:!1},wn={[X]:"Place Cash Order"},Mn=[z.WALLET,z.WALLET_WEB,z.SWIGGY_INSTRUMENTS,z.PAY_LATER],jn="#0B1B17",Bn=[].indexOf,Un=[{name:"amex",pattern:/^3[47]/,valid_length:[15],cvv_length:[4],gaps:[4,10]},{name:"diners_club_carte_blanche",pattern:/^30[0-5]/,valid_length:[14],cvv_length:[3],gaps:[4,10]},{name:"diners_club_international",pattern:/^3([689]|09)/,valid_length:[14],cvv_length:[3],gaps:[4,10]},{name:"jcb",pattern:/^35(2[89]|[3-8][0-9])/,valid_length:[16],cvv_length:[3],gaps:[4,10]},{name:"laser",pattern:/^(6304|670[69]|6771)/,valid_length:[16,17,18,19],gaps:[4,8,12,16]},{name:"visa_electron",pattern:/^(4026|417500|4508|4844|491(3|7))/,valid_length:[16],cvv_length:[3],gaps:[4,8,12]},{name:"visa",pattern:/^4/,valid_length:[16],cvv_length:[3],gaps:[4,8,12]},{name:"mastercard",range:[[222100,272099],[51e4,559999]],valid_length:[16],cvv_length:[3],gaps:[4,8,12]},{name:"maestro",pattern:/^(5018|5081|5044|5020|5038|603845|6304|6759|676[1-3]|6220|504834|504817|504645)\d*/,valid_length:[12,13,14,15,16,17,18,19],cvv_length:[0,3],gaps:[4,8,12,16]},{name:"rupay",range:[[508500,508999],[606985,607384],[607385,607484],[607485,607984],[608001,608100],[608101,608200],[608201,608300],[608301,608350],[608351,608500],[652150,652849],[652850,653049],[653050,653149],[817200,819899],[819900,820199]],valid_length:[16],cvv_length:[3],gaps:[4,8,12]},{name:"discover",pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,valid_length:[16],cvv_length:[3],gaps:[4,8,12]},{name:"sodexo",pattern:/^(637513)/,valid_length:[16],cvv_length:[3],gaps:[4,8,12]}],Hn=function(e){return this.cardNumber=e,this.card=null,this.cardType="unknown",this.valid=!1,this.luhnValid=!1,this.lengthValid=!1,this.cvvLength=[],this.gaps=[],this.supportedLengths=[],this.maxLength=null,this.month=null,this.year=null,this.getCardType=function(e){let t,a;for(t=0,a=Un.length;t<a;t++){if(Un[t].hasOwnProperty("pattern")&&e.match(Un[t].pattern))return Un[t];if(Un[t].hasOwnProperty("range")){let a=e.substr(0,6);if(isNaN(a))return null;a=Number.parseInt(a);const n=Un[t].range;if(n)for(let e=0;e<n.length;e++)if(n[e][0]<=a&&a<=n[e][1])return Un[t]}}return null},this.isValidLuhn=function(e){let t,a,n,o,r;n=0;const i=e.split("").reverse();for(a=o=0,r=i.length;o<r;a=++o)t=i[a],t=+t,a%2?(t*=2,n+=t<10?t:t-9):n+=t;return n%10==0},this.isValidLength=function(e,t){let a;return a=e.length,Bn.call(this.card.valid_length,a)>=0},this.validateCardNumber=function(e){return this.card=this.getCardType(e),this.card&&this.cardType&&(this.cardType=this.card.name,this.luhnValid=this.isValidLuhn(e),this.lengthValid=this.isValidLength(e,this.card),this.cvvLength=this.card.cvv_length,this.gaps=this.card.gaps,this.supportedLengths=this.card.valid_length,this.maxLength=this.card.valid_length[this.card.valid_length.length-1]),{card_type:this.cardType,valid:this.luhnValid&&this.lengthValid,luhn_valid:this.luhnValid,length_valid:this.lengthValid,cvv_length:this.cvvLength,gaps:this.gaps,supported_lengths:this.supportedLengths,max_length:this.maxLength}},this.normalize=function(e){return e.toString().replace(/[ -]/g,"")},this.getCardDetails=function(){if(!this.cardNumber)throw"Invalid cardNumber property set";const e=this.normalize(this.cardNumber);return this.validateCardNumber(e)},this.setBaseDate=function(e,t){if(isNaN(e)||isNaN(t)||parseInt(e)<1||parseInt(e)>12)throw"Invalid date format. Use MM, YYYY format";if(!e||!t){const a=new Date;e=e||a.getMonth()+1,t=t||a.getFullYear()}this.month=parseInt(e),this.year=parseInt(t)},this.validateCard=function(){if(!this.cardNumber)throw"Invalid cardNumber property set";return this.getCardDetails().valid},this.validateCvv=function(e){if(e=e||"",!this.cardNumber)throw"Invalid cardNumber property set";if(this.card||this.validateCard(),isNaN(e))throw"CVV should be a number";if(this.cardType&&"maestro"==this.cardType)return""==e||e&&Bn.call(this.cvvLength,e.toString().length)>=0||!1;if(!e)throw"CVV should be a number";return Bn.call(this.cvvLength,e.toString().length)>=0},this.validateExpiry=function(e){if(!this.cardNumber)throw"Invalid cardNumber property set";if(!e)throw"Expiry should not be empty";this.card||this.validateCard(),this.month&&this.year||this.setBaseDate(this.month,this.year);const t=e&&e.toString().split("/")||[void 0,void 0];if(!t[0]||!t[1]||isNaN(t[0])||isNaN(t[1]))throw"Expiry should be in MM/YYYY format";return!(t&&2==t.length&&t[1]==this.year&&t[0]<this.month)&&/^(0[1-9]|1[0-2])\/2[0-9]{3}$/.test(e.toString())&&parseInt(t[0])>0&&parseInt(t[0])<13&&parseInt(t[1])>=this.year},this};function Gn(e=""){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}const Yn={balance:"--",cvvRequired:!0,isBalanceSufficent:!0,additionalBalanceRequired:0};var Wn;!function(e){e[e.NOT_TOKENIZED_CARD=0]="NOT_TOKENIZED_CARD",e[e.NOT_TOKENIZED_CARD_WITH_ENABLE_ONE_CLICK=1]="NOT_TOKENIZED_CARD_WITH_ENABLE_ONE_CLICK",e[e.NOT_TOKENIZED_CARD_WITH_ENROLLED_ONE_CLICK=2]="NOT_TOKENIZED_CARD_WITH_ENROLLED_ONE_CLICK",e[e.SECURED_CARD=3]="SECURED_CARD",e[e.SECURED_CARD_WITH_ENABLE_ONE_CLICK=4]="SECURED_CARD_WITH_ENABLE_ONE_CLICK",e[e.SECURED_CARD_WITH_ENROLLED_ONE_CLICK_FLOW=5]="SECURED_CARD_WITH_ENROLLED_ONE_CLICK_FLOW"}(Wn||(Wn={}));const Fn=e=>{switch(e){case Wn.NOT_TOKENIZED_CARD:return{saveCard:!1,oneClickCard:!1};case Wn.NOT_TOKENIZED_CARD_WITH_ENABLE_ONE_CLICK:case Wn.NOT_TOKENIZED_CARD_WITH_ENROLLED_ONE_CLICK:return{saveCard:!1,oneClickCard:!0};case Wn.SECURED_CARD:return{saveCard:!0,oneClickCard:!1};case Wn.SECURED_CARD_WITH_ENABLE_ONE_CLICK:case Wn.SECURED_CARD_WITH_ENROLLED_ONE_CLICK_FLOW:return{saveCard:!0,oneClickCard:!0};default:return{saveCard:!1,oneClickCard:!1}}},Vn=e=>e.name.toUpperCase()===Z,Kn=e=>[z.CARD,z.FOOD_CARD].includes(e.groupName.toUpperCase()),zn=e=>e.name.toUpperCase()===q,$n=e=>{var t;return null!==(t=e.meta.isFoodCard)&&void 0!==t&&t},Xn=e=>e.groupName.toUpperCase()===z.FOOD_CARD,Jn=e=>new Hn(e),Zn=e=>{const[t,a]=e.split("/");return{month:t,year:(new Date).getFullYear().toString().substr(0,2)+a}},qn=e=>{try{return e.validateCard()}catch(e){return!1}},Qn=(e,t)=>{const a={cardNumber:!1,cvv:!1,expiry:!1,name:!1,nickName:!1};return a.cardNumber=!qn(e),a.expiry=!((e,t)=>{try{const{month:a,year:n}=Zn(t);return e.validateExpiry(`${a}/${n}`)}catch(e){return!1}})(e,t.expiry),a.cvv=!((e,t)=>{try{return e.validateCvv(t)}catch(e){return!1}})(e,t.cvv),a.name=!(e=>{try{return e.length>0}catch(e){return!1}})(t.name),a};function eo(e){const t=Xn(e)?ya:Ea;return Object.assign(Object.assign({},t),Ca)}const to=e=>{var t;return"AMEX"===(null===(t=e.meta.cardBrand)||void 0===t?void 0:t.toUpperCase())?4:kn},ao=e=>e.isSecured||!1,no=e=>e.tokenizeSupport||!1,oo=e=>{var t;const a=null!==(t=e.slice(-4))&&void 0!==t?t:"";return Object(s.hb)("• • • • {0}",a)},ro=(e,t,a)=>{return Object(s.ub)(t.nickname)?!a||"DEBIT"!==(null===(o=(n=t).cardType)||void 0===o?void 0:o.toUpperCase())&&"CREDIT"!==(null===(r=n.cardType)||void 0===r?void 0:r.toUpperCase())||t.isFoodCard?Object(s.ub)(t.cardIssuer)?oo(e):Object(s.hb)("{0} Card",t.cardIssuer):Object(s.hb)("{0} card",Gn(t.cardType)):t.nickname;var n,o,r},io=(e,t)=>{var a;if(!Object(s.ub)(t.nickname))return t.nickname;if(!Object(s.ub)(t.cardIssuer))return Object(s.hb)("{0} Card",t.cardIssuer);const n=null!==(a=e.slice(-4))&&void 0!==a?a:"";return Object(s.hb)("Card ending with {0}",n.split("").join(" "))},lo=e=>null==e?null:Ln[e.toUpperCase()],so=(e,t)=>e&&e.replace(In.CARD_BRAND,Object(s.ub)(t)?In.CARD_NETWORK:t),co=e=>void 0===e.cardFingerprint,uo=(e,t)=>{const a=e.meta,n=ao(a),o=no(a);let r;return r=n||o?Object.assign({cvv:t},Fn(Wn.SECURED_CARD)):Object.assign({cvv:t},Fn(Wn.NOT_TOKENIZED_CARD)),r},mo={TRAIL_COLOR:"#d9d9d9",STROKELIKE_CAP:"round",STROKE_WIDTH:7,SIZE:140,CONTAINER_SIZE:156,ROTATION:"anti-clockwise",NUMBER_OF_STROKES:60},po=[{colorCode:"#1BA672",duration:.5},{colorCode:"#FFB608",duration:.25},{colorCode:"#E53554",duration:.25}],_o=e=>te===e.name.toUpperCase(),Eo=e=>{const{name:t}=e;return ee===t.toUpperCase()},Co=e=>[z.INAPP_UPI].includes(e.groupName.toUpperCase()),bo=e=>{var t,a,n;return null!==(n=[z.INAPP_UPI].includes(e.groupName.toUpperCase())&&(null===(a=null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.accountType)||void 0===a?void 0:a.includes("LITE")))&&void 0!==n&&n},yo=e=>{const t=null==e?void 0:e.meta;return{in_app_upi_params:{account_reference_id:(null==t?void 0:t.referenceId)||"",account_type:(null==t?void 0:t.accountType)||""}}},go=e=>{const{name:t}=e;return"NEW_VPA"===t.toUpperCase()},Oo=e=>{const t=e.paymentCode.toUpperCase();return t===re.UPI_INTENT||t===re.PHONEPE_UPI},ho=e=>e.paymentCode.toUpperCase()===re.UPI_COLLECT,Ao=e=>{var t,a;return null!==(a=null===(t=e.paymentData)||void 0===t?void 0:t.paymentMethods)&&void 0!==a?a:[]},fo=(e,t)=>e===t,vo=e=>e.displayName,To=e=>{var t;return!Kn(e)||Vn(e)||zn(e)?Co(e)?`${e.groupName}:${e.name}:${null===(t=e.meta)||void 0===t?void 0:t.referenceId}`:`${e.groupName}:${e.name}`:`${e.groupName}:${e.name}:${e.meta.cardReference}`},Io=e=>!0===e.enabled,So=(e,t)=>{const a=e.meta.iconUrl;return a?t?"data:image/png;base64,"+a:Tn(a,{grayscale:!Io(e)}):""},No=e=>e.displayName,Ro=e=>null==e?void 0:e.discount,Po=e=>{var t;return null!==(t=e.meta.promoMsg)&&void 0!==t?t:""},Do=e=>{var t,a;return null!==(a=In.PAYMENT_METHOD_DISABLED_WALLET[null===(t=e.name)||void 0===t?void 0:t.toUpperCase()])&&void 0!==a?a:In.PAYMENT_METHOD_DISABLED_WALLET.DEFAULT},Lo=e=>{var t;return null!==(t=e.meta.disableMessage)&&void 0!==t?t:""},ko=e=>{var t;return null===(t=e.enabled)||void 0===t||t},xo=e=>{var t,a;return null!==(a=null===(t=e.meta)||void 0===t?void 0:t.disableMessage)&&void 0!==a?a:""},wo=e=>{var t;return(null===(t=e.meta)||void 0===t?void 0:t.groupIconUrl)||""},Mo=e=>{var t;return(null===(t=e.meta)||void 0===t?void 0:t.groupIconPosition)||sn.LEFT},jo=e=>{var t;return(null===(t=e.meta)||void 0===t?void 0:t.groupSubtext)||""},Bo=(e,t)=>!1!==t&&Io(e),Uo=(e,t)=>(null==t?void 0:t.payableAmount)?null==t?void 0:t.payableAmount:e;function Ho(e,t){void 0===t&&(t={});var a=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===a&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var Go="PaymentGroup-v4_paymentGroup_0k-vdimf",Yo="PaymentGroup-v4_paymentGroupContainer_CSUE8HfG",Wo="PaymentGroup-v4_paymentGroupContainerRow_79gjcxfc",Fo="PaymentGroup-v4_paymentGroupContainerColumn_wHbj4zEm",Vo="PaymentGroup-v4_paymentGroupContainerWithoutBorder_8BQuoocA";function Ko(e){return l.a.createElement("div",{className:d()(Go,e.className,{"PaymentGroup-v4_paymentGroupFrictionGroup_2It8IFaJ":e.isFrictionPage}),"data-testid":"pg_container"},e.children)}Ho(".PaymentGroup-v4_paymentGroup_0k-vdimf{margin-top:24px}.PaymentGroup-v4_paymentGroupWithNoTitle_PCri1L9H{padding-top:16px}.PaymentGroup-v4_paymentGroupFrictionGroup_2It8IFaJ{margin-top:24px}.PaymentGroup-v4_paymentGroupHeader_PWDWqIFq{padding:0 20px;margin-bottom:16px}.PaymentGroup-v4_paymentGroupHeaderWithSubtext_tIZ-Jdde{margin-bottom:12px}.PaymentGroup-v4_paymentGroupHeaderTitleContainer_-ve1foNY{display:flex;align-items:center}.PaymentGroup-v4_paymentGroupHeaderTitle_RFR6vb1U{font-size:16px;line-height:19px;font-weight:600;letter-spacing:-.3px;color:rgba(2,6,12,.7490196078)}.PaymentGroup-v4_paymentGroupHeaderSubtext_WUkro-Rb{font-size:13px;line-height:16px;font-weight:200;letter-spacing:-.3px;color:rgba(2,6,12,.6);margin-top:2px}.PaymentGroup-v4_paymentGroupHeaderGroupIconLeft_2Z2ngVD9{margin-right:8px;width:-webkit-fit-content;width:fit-content;max-width:42px}.PaymentGroup-v4_paymentGroupHeaderGroupIconRight_DDNVBcWG{margin-left:2px;width:-webkit-fit-content;width:fit-content;max-width:50px}.PaymentGroup-v4_paymentGroupHeaderBannerMessage_pPi3JvzB{margin:8px 0}.PaymentGroup-v4_paymentGroupHeaderDisableMessage_i2PycofK{margin-top:4px}.PaymentGroup-v4_paymentGroupDisableMsgContainer_cOBZyMUg{font-size:13px;line-height:16px;font-weight:400;letter-spacing:-.3px;background:#ffecef;border:1.5px solid #f3d0d6;border-radius:12px;margin:10px 16px 16px;align-items:center;color:#e53554;padding:12px 16px}.PaymentGroup-v4_paymentGroupContainer_CSUE8HfG{background:#fff;margin:10px 16px 16px;box-shadow:0 1px 16px rgba(0,0,0,.05);border-radius:16px}.PaymentGroup-v4_paymentGroupContainerRow_79gjcxfc{display:flex;background:#fff;margin:0 16px;overflow-y:scroll}.PaymentGroup-v4_paymentGroupContainerColumn_wHbj4zEm{flex-direction:column;background:none;margin:0}.PaymentGroup-v4_paymentGroupContainerWithSibling_Zi8hJzmP{margin-bottom:0;border-radius:16px 16px 0 0;border-bottom:1px solid rgba(40,44,63,.05)}.PaymentGroup-v4_paymentGroupContainerNetBanking_4GOzVxgi{display:flex;justify-content:space-between;flex-direction:column}.PaymentGroup-v4_paymentGroupContainerNetBankingRow_SsvLX2Hq{flex-direction:row;width:auto;overflow-x:scroll;overflow-y:hidden;white-space:nowrap;-webkit-overflow-scrolling:touch;scrollbar-width:none;-ms-overflow-style:none}.PaymentGroup-v4_paymentGroupContainerNetBankingRow_SsvLX2Hq::-webkit-scrollbar{display:none;width:0!important;background:transparent}.PaymentGroup-v4_paymentGroupContainerNetBankingPromoMsg_N3pvnfcr{margin-top:4px;margin-bottom:10px;padding:0 12px;color:#93959f;font-size:.93rem}.PaymentGroup-v4_paymentGroupContainerNetBankingMoreBanks_0wSx7xET{background:#fff;padding:16px;overflow:hidden;margin:0 16px;display:flex;justify-content:space-between;align-items:center;border-radius:0 0 16px 16px}.PaymentGroup-v4_paymentGroupContainerNetBankingMoreBanksText_2OsuwQNq{text-transform:uppercase}.PaymentGroup-v4_paymentGroupContainerWithoutBorder_8BQuoocA{border-bottom:none}");var zo=Object(i.memo)((function({title:e,bannerMessage:t,bannerMessageTestId:a,"data-testid":n,capitalizeTitle:o=!1,groupIcon:r,groupIconPosition:i,groupSubtext:s}){const c=!(!i||i!==sn.RIGHT),m=d()("PaymentGroup-v4_paymentGroupHeader_PWDWqIFq",{"PaymentGroup-v4_paymentGroupHeaderWithSubtext_tIZ-Jdde":!an(s)});return l.a.createElement("div",{className:m},l.a.createElement("div",{className:"PaymentGroup-v4_paymentGroupHeaderTitleContainer_-ve1foNY"},r&&!c&&l.a.createElement(u.Image,{className:"PaymentGroup-v4_paymentGroupHeaderGroupIconLeft_2Z2ngVD9",cloudinaryId:r,height:"16px",cloudinaryHeight:64}),l.a.createElement("h2",{className:"PaymentGroup-v4_paymentGroupHeaderTitle_RFR6vb1U","data-testid":n},o?Gn(e):e),r&&c&&l.a.createElement(u.Image,{className:"PaymentGroup-v4_paymentGroupHeaderGroupIconRight_DDNVBcWG",cloudinaryId:r,height:"16px",cloudinaryHeight:64})),s&&l.a.createElement("h3",{className:"PaymentGroup-v4_paymentGroupHeaderSubtext_WUkro-Rb","data-testid":n+"_subtext"},s),t&&t.length>0&&l.a.createElement("div",{className:"PaymentGroup-v4_paymentGroupHeaderBannerMessage_pPi3JvzB","data-testid":a},t))}));Ho(".styles-v4_icon_kITk8E8l{display:flex;text-align:left;align-self:flex-start;align-items:center;border-radius:6px;height:32px;width:32px;border:1px solid #e2e2e7;position:relative}.styles-v4_iconImg_6atQE10L{max-height:30px;width:auto;border-radius:6px;margin:auto;z-index:0}.styles-v4_iconWithMaxWidth100_d3B-VHqd{max-width:100%}.styles-v4_grayScale_rgdYYQGk{filter:grayscale(100%)}");const $o=p.default.div(({theme:e})=>({position:"absolute",bottom:"-7px",right:"-7px",width:e.spacing.medium,height:e.spacing.medium,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid "+e.colors[e.colorMode].border_Secondary,overflow:"hidden",zIndex:1,clipPath:"polygon(10% 0, 100% 0, 100% 100%, 0 100%, 0 75%, 25% 25%, 70% 0);",background:e.colors.light.background_Primary})),Xo=p.default.img(()=>({width:"60%",height:"auto"}));var Jo=Object(i.memo)((function(e){const{className:t,src:a,width:n,alt:o,isThirdPartyDisabledIntentApp:r,poweredByLogo:i="",poweredByIconAlt:c}=e;if(void 0===t&&void 0===a)return null;const u=!an(i),m=d()({"styles-v4_icon_kITk8E8l":!e.customLogo},e.parentClassName),p=d()({"styles-v4_iconImg_6atQE10L":!e.customLogo,"styles-v4_grayScale_rgdYYQGk":r,"styles-v4_iconWithMaxWidth100_d3B-VHqd":!u},e.imgClassName);return l.a.createElement(s.c,{as:"div",className:m,"data-testid":e["data-testid"]},void 0!==t?l.a.createElement("div",{className:t}):l.a.createElement(l.a.Fragment,null,l.a.createElement("img",{alt:o,crossOrigin:"anonymous",className:p,src:a,width:n}),u&&l.a.createElement($o,null,l.a.createElement(Xo,{alt:c,crossOrigin:"anonymous",src:i}))))}));const Zo=p.default.div.attrs(e=>e)`
    width: ${e=>e.dotRadius+"px"};
    height: ${e=>e.dotRadius+"px"};
    margin-right: ${e=>e.isLastElement?2*e.dotRadius+"px":e.dotRadius+"px"};
    background-color: ${e=>e.isTurboPaymentMethod?e.theme.colors.light.text_Med_Emphasis:e.theme.colors.light.text_High_Emphasis};
    border-radius: 100%;
`,qo=p.default.div.attrs(e=>e)`
    display: flex;
    align-items: center;

    ${({isTurboV2:e})=>e&&"\n        flex-shrink: 0;\n    "}

    &::before {
        content: "";
        border: ${e=>e.showDivider?"1px solid "+e.theme.colors.light.divider:"none"};
        border-right: ${e=>e.isTurboPaymentMethod?void 0:0};
        height: ${14}px;
        margin-right: ${e=>e.isTurboV2?e.theme.spacing.xxSmall:"8px"};
        margin-left: ${e=>e.isTurboV2?e.theme.spacing.xxSmall:"6px"};
        border-radius: 10px;
    }
`;var Qo=Object(i.memo)((function({cardNumber:e,textVariant:t="V2.body1.neutral.bold",textColor:a,showDivider:n=!0,bulletRadius:o=3,dotLength:r=4,isTurboPaymentMethod:i,isTurboV2:s=!1}){return l.a.createElement(qo,{showDivider:n,isTurboV2:s,isTurboPaymentMethod:i},Array.from({length:r},(e,t)=>l.a.createElement(Zo,{isLastElement:t==r-1,dotRadius:o,key:t,isTurboPaymentMethod:i})),l.a.createElement(m.Text,{variant:i?t:"V2.body2.neutral.medium",color:i?a:"text_High_Emphasis"},e))}));const er=p.default.div(({$isDisabled:e})=>({display:"block",flex:1,filter:e?"grayscale(100%)":"none",WebkitFilter:e?"grayscale(100%)":"none"})),tr=p.default.div(({theme:e})=>({padding:`${e.spacing.empty} ${e.spacing.medium}`,verticalAlign:"middle",overflow:"hidden"})),ar=p.default.div(({$isDisabled:e})=>({display:"flex",alignItems:"center",filter:e?"grayscale(100%)":"none",WebkitFilter:e?"grayscale(100%)":"none"})),nr=p.default.div`
    word-break: break-all;
`,or=p.default.div(({theme:e,$isDisabled:t})=>({marginTop:e.spacing.xxxSmall,color:t?e.colors[e.colorMode].negative:void 0})),rr=p.default.div(({$isDisabled:e})=>({filter:e?"grayscale(100%)":"none",WebkitFilter:e?"grayscale(100%)":"none"})),ir=p.default.div(({theme:e,$isDisabled:t})=>({marginTop:e.spacing.xxxSmall,filter:t?"grayscale(100%)":"none",WebkitFilter:t?"grayscale(100%)":"none"})),lr=p.default.div(({theme:e})=>({textAlign:"center",padding:"2px 4px 1px",position:"relative",background:e.colors[e.colorMode].primary,borderRadius:e.cornerRadius.xxSmall,marginLeft:e.spacing.xSmall,marginBottom:e.spacing.xxxSmall}));var sr=Object(i.memo)((function(e){const t=e.color||"text_High_Emphasis";return l.a.createElement(er,{$isDisabled:!e.enabled,"data-testid":e["data-testid"]},l.a.createElement(tr,{className:e.className},e.superScriptText&&l.a.createElement(rr,{$isDisabled:!e.enabled},l.a.createElement(m.Text,{color:"text_Med_Emphasis",variant:"V2.body2.neutral.regular"},e.superScriptText)),l.a.createElement(ar,{"aria-label":e.ariaLabel,"aria-disabled":!e.enabled,tabIndex:0,role:e.isTurboPaymentMethod?Rn:"button",$isDisabled:!e.enabled},l.a.createElement(nr,null,l.a.createElement(m.Text,{variant:"V2.body1.neutral.medium",color:t,maxLines:1},e.displayName)),e.subName&&l.a.createElement(Qo,{cardNumber:e.subName,isTurboPaymentMethod:!!e.isTurboPaymentMethod}),(null==e?void 0:e.isNewBadgeEnabled)&&l.a.createElement(lr,null,l.a.createElement(m.Text,{variant:"V2.caption.neutral.bold",color:"background_Primary"},In.NEW))),e.promoMsg&&e.promoMsg.length>0&&l.a.createElement(s.c,{as:"div","data-testid":"promo-msg"},l.a.createElement(or,{className:e.promoMsgClass,$isDisabled:!e.enabled},l.a.createElement(m.Text,{variant:"V2.body3.neutral.regular",color:"text_Med_Emphasis"},Object(s.Bb)(e.promoMsg),e.dynamicPromoMsg))),e.children,!Object(s.ub)(e.discount)&&e.enabled&&l.a.createElement(ir,{$isDisabled:!e.enabled},l.a.createElement(m.Text,{variant:"V2.body3.neutral.regular",color:"positive"},e.discount))))})),cr=Object(i.memo)((function(e){return l.a.createElement(sr,Object.assign({},e))})),dr=l.a.memo((function(e){const{show:t=!0,className:a,size:n="medium"}=e;return t?l.a.createElement("div",{className:a,"data-testid":e["data-testid"]},l.a.createElement(_.Loader,{size:n,type:"primary",foregroundColor:"primary",backgroundColor:"primary_Sub"})):null})),ur="Card-v4_paymentMethodSaveDetailsInfo_inNeUld5";Ho('@charset "UTF-8";.Card-v4_oneClickInfoContainer_AB3pSEPI,.Card-v4_oneClickInfoDisabledContainer_4dUGayin,.Card-v4_paymentMethodAlert_ZikyYkJI,.Card-v4_paymentMethodCardBalanceContainer_texDU0fl,.Card-v4_paymentMethodCheckboxWrapper_h3p8S8HL,.Card-v4_paymentMethodSaveDetails_8KvkHBBP{display:flex}.Card-v4_paymentMethodCardBalanceContainer_texDU0fl{align-items:center}.Card-v4_cvvMessage_iDvu2Q-c{margin-top:10px;margin-left:48px}.Card-v4_oneClickInfoContainer_AB3pSEPI{margin-top:5px;margin-left:45px}.Card-v4_oneClickInfoContainerIcon_tXWOHA-O{color:#6541e4;max-height:13px;margin:1px}.Card-v4_oneClickInfoDisabledContainer_4dUGayin{margin-top:9px;margin-left:52px;margin-right:32px}.Card-v4_oneClickInfoDisabledContainerText_WACGhCg6{font-size:13px;line-height:16px;font-weight:200;letter-spacing:-.3px;color:rgba(2,6,12,.6)}.Card-v4_oneClickInfoDisabledContainerIcon_bkzHi0X4{color:#6541e4;max-height:13px;margin:2px}.Card-v4_paymentMethod_1GJjsHog{padding:18px 16px;overflow:hidden;border-bottom:1px dashed #e2e2e7}.Card-v4_paymentMethod_1GJjsHog:last-child{border-bottom:none}.Card-v4_paymentMethodContainer_BLMtcCzo{width:100%;display:flex;align-items:center}.Card-v4_paymentMethodContainerName_qpLXbrsj{flex:none}.Card-v4_paymentMethodDisabled_sIoCGDWD{opacity:.7}.Card-v4_paymentMethodDisable_IsOYcIMa,.Card-v4_paymentMethodPayButton_zbCztRBj{margin-top:12px;margin-left:48px}.Card-v4_paymentMethodCouponNotApplicable_VnvZZoZh,.Card-v4_paymentMethodDisable_IsOYcIMa,.Card-v4_paymentMethodLowBalance_VRpochM-,.Card-v4_paymentMethodTokenExpired_28sK-7ee{margin-top:2px;margin-left:0}.Card-v4_paymentMethodAlert_ZikyYkJI{margin-top:2px}.Card-v4_paymentMethodSaveDetails_8KvkHBBP{margin-top:16px;padding-left:48px}.Card-v4_paymentMethodSaveDetailsText_yyXgscNl{padding-left:7px;display:inline;gap:4px}.Card-v4_paymentMethodSaveDetailsInfo_inNeUld5{display:inline}.Card-v4_paymentMethodCardPay_aH7XEs92{margin-top:10px;margin-left:48px}.Card-v4_paymentMethodCardPayContent_XjGGpzuU{display:flex;width:100%}.Card-v4_paymentMethodCardPayButton_g2p2ecIW{width:100%}.Card-v4_paymentMethodCardPayButtonAmount_nU-rPDHB{margin-left:5px}.Card-v4_paymentMethodCardPayButtonAmount_nU-rPDHB:before{content:"₹";margin-right:.1rem}.Card-v4_paymentMethodCardPayButtonIcon_lj9T2HAz{margin-right:5px}.Card-v4_paymentMethodCardPayButtonIconFlash_2n1jSF8V{transform:translateY(3px)}.Card-v4_paymentMethodCardBalance_v8K7zBKm{margin-left:auto}.Card-v4_paymentMethodCardBalanceWithSubText_gCYOOPDZ{align-self:flex-start}.Card-v4_paymentMethodCardBalanceContainer_texDU0fl{float:right}.Card-v4_paymentMethodCardBalanceContainerValue_-mqoeRGQ{padding-right:10px}.Card-v4_paymentMethodCardBalanceContainerValue_-mqoeRGQ:before{content:"₹";margin-right:.1rem}.Card-v4_paymentMethodCardBalanceContainerValueLow_JiluWko7{padding-right:0}');var mr=Object(i.memo)((function(e){var t;const{hasLessBalance:a,isBalanceLoading:n,cardBalance:o,methodData:r}=e,c=Object(i.useMemo)(()=>$n(r),[r]),u=Object(i.useMemo)(()=>d()({"Card-v4_paymentMethodCardBalanceContainerValue_-mqoeRGQ":!0,"Card-v4_paymentMethodCardBalanceContainerValueLow_JiluWko7":a}),[a]),m=d()("Card-v4_paymentMethodCardBalance_v8K7zBKm",{"Card-v4_paymentMethodCardBalanceWithSubText_gCYOOPDZ":a||(null===(t=null==r?void 0:r.meta)||void 0===t?void 0:t.promoMsg)}),p=Object(i.useMemo)(()=>eo(r),[r]),_=Object(i.useMemo)(()=>n?l.a.createElement(dr,{size:"medium","data-testid":p.CIRCLE_LOADER}):l.a.createElement("div",{className:u},o),[n,u,o,p.CIRCLE_LOADER]);return l.a.createElement("div",{className:m},l.a.createElement("div",{className:"Card-v4_paymentMethodCardBalanceContainer_texDU0fl","data-testid":p.BALANCE},c&&_,!n&&!a&&l.a.createElement(s.W,{selected:e.selected,"data-testid":p.TICK})))}));const pr=p.default.div(({$isFullWidth:e})=>({width:e?"100%":"90px",marginRight:e?"0":"12px"})),_r=p.default.input(({theme:e,$isInvalid:t,$isFullWidth:a})=>({width:a?"100%":"70px",height:a?"56px":"44px",border:"1.5px solid "+(t?e.colors[e.colorMode].negative:e.colors[e.colorMode].special_positive),background:e.colors[e.colorMode].background_Primary,outline:0,margin:0,padding:`${e.spacing.empty} ${e.spacing.medium}`,verticalAlign:"top",textAlign:"center",caretColor:e.colors[e.colorMode].special_positive,borderRadius:e.cornerRadius.medium,WebkitTextSecurity:"disc",MozTextSecurity:"disc",WebkitAppearance:"none"})),Er=e=>e.stopPropagation();function Cr(e){const{onChange:t,onFocus:a,validCvvLength:n=kn,showFullWidthInputButton:o=!1}=e,[r,s]=Object(i.useState)(""),c=Object(i.useCallback)(e=>{const a=e.target.value;var n;n=Number(e.target.value),!isNaN(n)&&(s(a),t(a))},[t]);return l.a.createElement(pr,{$isFullWidth:o,onClick:Er},l.a.createElement(_r,{$isInvalid:!e.valid,$isFullWidth:o,type:"tel",placeholder:In.CVV,onChange:c,maxLength:n,autoComplete:"off",value:r,autoFocus:e.autoFocus,disabled:e.disabled,onFocus:a,"data-testid":e["data-testid"]}))}Cr.defaultProps={valid:!0};var br=Object(i.memo)(Cr);const yr=e=>{var t;return null!==(t=e.meta.cvvMandatory)&&void 0!==t&&t},gr=(e,t,a)=>{return!("SODEXO"===(null===(n=e.meta.cardBrand)||void 0===n?void 0:n.toUpperCase())||a||!yr(e))&&t.cvvRequired;var n},Or=(e,t,a)=>{if(!a)return!0;const n=to(e);return yr(e)?t.length>=n&&t.length<=4:0===t.length||t.length<=4};var hr=Object(i.memo)((function(e){var t;const a=Object(i.useRef)(""),n=Object(i.useRef)(null),[o,r]=Object(i.useState)(!0),{onPay:c,methodData:d,cvvRequired:u=!0,oneClickEnrolled:m=!1,isSdkAvailable:p,onHideCvv:_,enabled:C}=e,b=Object(i.useMemo)(()=>to(d),[d]),y=Object(i.useCallback)(e=>{if(e.stopPropagation(),Or(d,a.current,u))return r(!0),void c(a.current);r(!1)},[d,c,u]),g=Object(i.useCallback)(e=>{a.current=e,o||r(!0)},[o]),O=Object(i.useMemo)(()=>!((!m||p)&&C),[m,p,C]),h=Object(i.useMemo)(()=>eo(d),[d]);return Object(i.useEffect)(()=>{u||"function"!=typeof _||_()},[u,_]),l.a.createElement("div",{className:"Card-v4_paymentMethodCardPay_aH7XEs92",ref:n},l.a.createElement("div",{className:"Card-v4_paymentMethodCardPayContent_XjGGpzuU"},u&&!m&&l.a.createElement(br,{valid:o,onChange:g,autoFocus:!0,disabled:O,"data-testid":h.CVV,validCvvLength:b}),l.a.createElement("div",{className:"Card-v4_paymentMethodCardPayButton_g2p2ecIW"},l.a.createElement(E.SuperButton,{variant:"fullwidth",buttonType:"specialPositive",buttonSize:"medium",isDisabled:O,onClick:y,"data-testid":h.PAY_BUTTON,className:e.payCtaClassName},m&&l.a.createElement(s.c,{as:"span",className:"Card-v4_paymentMethodCardPayButtonIcon_lj9T2HAz"},l.a.createElement(s.E,{withBg:!1,height:14,width:14,iconColor:"#EDF8F4",className:"Card-v4_paymentMethodCardPayButtonIconFlash_2n1jSF8V"})),l.a.createElement("span",null,null!==(t=e.payCtaText)&&void 0!==t?t:In.PAY),l.a.createElement("span",{className:"Card-v4_paymentMethodCardPayButtonAmount_nU-rPDHB"},e.paymentAmount),m&&l.a.createElement("span",null,In.IN_SINGLE_CLICK)))))}));Ho(".Alert-v4_alert_4Vjnbhfp{display:flex}.Alert-v4_alertMessage_A4zlYTlZ{display:table-cell;vertical-align:middle;word-wrap:break-word}");var Ar=Object(i.memo)((function(e){if(!e.message||"string"==typeof e.message&&e.message.length<=0)return null;const t=d()("Alert-v4_alert_4Vjnbhfp",e.className);return l.a.createElement(s.c,{as:"div",className:t},l.a.createElement(m.Text,{as:"p",variant:"V2.body3.neutral.regular",color:"negative",className:"Alert-v4_alertMessage_A4zlYTlZ","data-testid":e["data-testid"]},e.message))})),fr=Object(i.memo)((function(e){const{isMethodEnabled:t,isBalanceLoading:a,hasSufficentBalance:n,cardData:o,methodData:r}=e,c=Object(i.useMemo)(()=>eo(r),[r]);return t?a||n?null:l.a.createElement(Ar,{className:"Card-v4_paymentMethodAlert_ZikyYkJI",message:Object(s.hb)("Low balance. You need ₹ {0} more in your account",Number(o.additionalBalanceRequired).toFixed(2)),"data-testid":c.ALERT_MESSAGE}):l.a.createElement(Ar,{className:"Card-v4_paymentMethodDisable_IsOYcIMa",message:r.meta.disableMessage,"data-testid":c.DISABLE_MESSAGE})})),vr="SecureCardInfo_paymentAlertAction_oEY4srQi",Tr="SecureCardInfo_paymentAlertContentRow_TYF7hR1Q",Ir="SecureCardInfo_paymentAlertActionSecondary_0muK2DIw";Ho(".SecureCardInfo_paymentAlertAction_oEY4srQi{display:flex;align-items:center;justify-content:center}.SecureCardInfo_paymentAlertHeader_Zu24-Ov0{display:flex;padding:24px 24px 0}.SecureCardInfo_paymentAlertHeaderV3_1TDsCVnk{padding-top:20px}.SecureCardInfo_paymentAlertHeaderInfo_JJOk9sT9{flex:1}.SecureCardInfo_paymentAlertHeaderTitle_wGnr1ele{font-size:24px;line-height:28px;font-weight:800;letter-spacing:-.4px;color:rgba(2,6,12,.9215686275);margin-top:12px;outline:0}.SecureCardInfo_paymentAlertHeaderTitleV3_6Xp-ScLp{font-weight:600;color:#282c3f}.SecureCardInfo_paymentAlertHeaderMessage_FWh7bHvU{font-size:14px;line-height:17px;font-weight:400;letter-spacing:-.3px;color:rgba(2,6,12,.6);margin-top:15px}.SecureCardInfo_paymentAlertHeaderMessageV3_6XekeG6h{color:#93959f;font-weight:200}.SecureCardInfo_paymentAlertHeaderContainer_S9ko-ijF{display:flex}.SecureCardInfo_paymentAlertContent_5WNNFv75{padding:12px 16px 0}.SecureCardInfo_paymentAlertContentV3_wARiqCJ1{padding-top:4px}.SecureCardInfo_paymentAlertContentRow_TYF7hR1Q{padding:8px 0}.SecureCardInfo_paymentAlertContentRowPrimaryAction_BdyT982G{padding:12px 0}.SecureCardInfo_paymentAlertContentRowSecondaryAction_nT8xkV4Z{padding-bottom:20px}.SecureCardInfo_paymentAlertContentRowItem_uLbeE4nB{display:flex;align-items:center;margin:16px 0;max-width:90%}.SecureCardInfo_paymentAlertContentRowItemV3_bDGu-MOV{margin:20px 0}.SecureCardInfo_paymentAlertContentRowItemIcon_9dJdro2A{height:36px;width:36px}.SecureCardInfo_paymentAlertContentRowItemMessage_GuKeiKIS{font-size:16px;line-height:19px;font-weight:600;letter-spacing:-.3px;margin-left:16px}.SecureCardInfo_paymentAlertContentRowItemMessageV3_em4paJr0{font-weight:400}.SecureCardInfo_paymentAlertAction_oEY4srQi{text-transform:none}.SecureCardInfo_paymentAlertActionArrow_NtMZYEf9{position:absolute;right:20px;transform:translateY(-4px) rotate(180deg)}.SecureCardInfo_paymentAlertActionSingle_ipV6aNH9{margin-bottom:24px}.SecureCardInfo_paymentAlertActionSecondary_0muK2DIw{border:none;box-shadow:none;text-transform:none}.SecureCardInfo_paymentAlertActionMain_Ppbnk5ry{text-transform:capitalize}.SecureCardInfo_paymentAlertIcon_sK5DYLOS{border:none!important;margin-right:12px;margin-top:6px}");const Sr=(e,t)=>e&&e.replace("{{cardBrand}}",Object(s.ub)(t)?In.CARD_NETWORK:t),Nr=l.a.memo((function(e){const{data:t,primaryAction:a,secondaryAction:n,close:o,setAction:r,onLoad:c}=e,u=Object(i.useRef)(null),m=Object(i.useRef)(null);Object(i.useEffect)(()=>{m.current=Object(s.ib)()},[]),Object(s.Db)(()=>{"function"==typeof c&&c()}),Object(s.Eb)(u,m);const p=Object(i.useCallback)(()=>{a&&(r(a.onClick),o())},[o,a,r]),_=Object(i.useCallback)(()=>{n?(r(n.onClick),o()):o()},[n,o,r]),b=Object(i.useMemo)(()=>d()(vr,{SecureCardInfo_paymentAlertActionSingle_ipV6aNH9:!n}),[n]),y=Object(i.useMemo)(()=>d()(vr,Ir),[]),g=Object(i.useMemo)(()=>d()("SecureCardInfo_paymentAlertHeader_Zu24-Ov0"),[]),O=Object(i.useMemo)(()=>d()("SecureCardInfo_paymentAlertHeaderTitle_wGnr1ele"),[]),h=Object(i.useMemo)(()=>d()("SecureCardInfo_paymentAlertHeaderMessage_FWh7bHvU"),[]),A=Object(i.useMemo)(()=>d()("SecureCardInfo_paymentAlertContent_5WNNFv75"),[]),f=Object(i.useMemo)(()=>d()("SecureCardInfo_paymentAlertContentRowItem_uLbeE4nB"),[]),v=Object(i.useMemo)(()=>d()("SecureCardInfo_paymentAlertContentRowItemMessage_GuKeiKIS"),[]),T=Object(i.useMemo)(()=>d()("SecureCardInfo_paymentAlertActionMain_Ppbnk5ry"),[]),I=Object(i.useMemo)(()=>d()(Ir),[]);return l.a.createElement("div",{role:Sn,"aria-labelledby":"payment-alert-header-title","aria-describedby":"payment-alert-content"},l.a.createElement("div",{className:g,"data-testid":at},l.a.createElement("div",{className:"SecureCardInfo_paymentAlertHeaderInfo_JJOk9sT9"},l.a.createElement("div",{className:"SecureCardInfo_paymentAlertHeaderContainer_S9ko-ijF"},l.a.createElement("div",null,l.a.createElement("div",{id:"payment-alert-header-title",className:O,"data-testid":nt,ref:u,tabIndex:0,role:Nn,"aria-level":3},Sr(t.title||"",e.cardBrand)),l.a.createElement("div",{className:h,"data-testid":ot},Sr(t.message||"",e.cardBrand)))))),l.a.createElement("div",{className:A,"data-testid":rt},t.points&&l.a.createElement("div",{className:Tr,id:"payment-alert-content"},t.points.map((e,t)=>l.a.createElement("div",{className:f,key:t},l.a.createElement("img",{crossOrigin:"anonymous",src:Tn(e.iconUrl,{height:72}),className:"SecureCardInfo_paymentAlertContentRowItemIcon_9dJdro2A",width:36,height:36}),l.a.createElement("div",{className:v},e.message)))),a&&l.a.createElement("div",{className:d()(Tr,"SecureCardInfo_paymentAlertContentRowPrimaryAction_BdyT982G")},l.a.createElement(E.SuperButton,{onClick:p,buttonType:"specialPositive",variant:"fullwidth",buttonSize:"large",className:b,"data-testid":it},l.a.createElement("div",{className:T},a.text,a.showArrow&&l.a.createElement("span",{className:"SecureCardInfo_paymentAlertActionArrow_NtMZYEf9"},l.a.createElement(s.d,{color:"#ffffff"}))))),n&&l.a.createElement("div",{className:d()(Tr,"SecureCardInfo_paymentAlertContentRowSecondaryAction_nT8xkV4Z")},l.a.createElement(C.TextButton,{onClick:_,color:"special_positive",buttonSize:"medium",className:y,"data-testid":lt},l.a.createElement("div",{className:I},n.text)))))}));var Rr=l.a.memo((function(e){const{hideOnOverlayClick:t=!0,onClose:a}=e,n=fn(e,["hideOnOverlayClick","onClose"]),[o,r]=Object(i.useState)(),c=Object(i.useCallback)(()=>{o&&o(),a&&a()},[a,o]);return Object(s.Fb)(),l.a.createElement(s.e,{hideOnOverlayClick:t,onClose:c},e=>l.a.createElement(Nr,Object.assign({},e,n,{setAction:r})))}));const Pr=Object(i.memo)((function(e){return l.a.createElement("div",{className:"Card-v4_paymentMethodSaveDetails_8KvkHBBP","data-testid":"pm_card_cbw_container"},l.a.createElement("div",{onClick:e.onCheckboxClick,"data-testid":"pm_card_cbw_checkbox"},l.a.createElement("div",{className:"Card-v4_paymentMethodCheckboxWrapper_h3p8S8HL"},l.a.createElement(s.h,{name:"",accent:s.f.SWIGGY_ORANGE,checked:e.pretick}))),l.a.createElement("div",{className:"Card-v4_paymentMethodSaveDetailsText_yyXgscNl"},l.a.createElement(m.Text,{variant:"V2.body2.neutral.medium",color:"text_Med_Emphasis",onClick:e.onCheckboxCardInfoClick,"data-testid":ba,className:ur},e.infoCtaText),l.a.createElement(m.Text,{as:"span",variant:"V2.body2.neutral.bold",color:"primary",onClick:e.onCheckboxCardInfoClick,"data-testid":ba,className:ur},In.KNOW_MORE)))})),Dr=Object(i.memo)((function(e){const{oneClickEligible:t=!1,oneClickEnrolled:a=!1,isSecured:n=!1,tokenizeSupport:o=!1,cardBrand:r}=e,{isSdkAvailable:c}=e,d=Object(i.useMemo)(()=>o&&!n&&e.isSelected,[n,o,e.isSelected]),u=Object(i.useMemo)(()=>c&&t&&!a&&n&&e.isSelected,[c,n,t,a,e.isSelected]),m=Object(i.useMemo)(()=>d?Object(s.hb)(In.SECURE_YOUR_CARD_WITH_VISA_WITH_BRAND,Object(s.Y)(r)):In.ENABLE_ONE_CLICK_FOR_CARD,[r,d]),p=Object(i.useMemo)(()=>d?e.handleSecureCardClick:e.handleOneClickCardClick,[e.handleOneClickCardClick,e.handleSecureCardClick,d]),_=Object(i.useCallback)(t=>d?e.onSecureCardInfoClick(t):e.onOneClickInfoClick(t),[e,d]),E=Object(i.useMemo)(()=>d?e.saveCard:e.oneClickCard,[e.oneClickCard,e.saveCard,d]);return d||u?l.a.createElement(Pr,{infoCtaText:m,onCheckboxClick:p,onCheckboxCardInfoClick:_,pretick:E}):null}));var Lr="OneClickPaymentHalfCard_paymentAlertMoreCardsContainerAction_5Nt19jea",kr="OneClickPaymentHalfCard_paymentAlertHeader_-D45BR-J",xr="OneClickPaymentHalfCard_paymentAlertHeaderInfo_3sYHyvJQ",wr="OneClickPaymentHalfCard_paymentAlertHeaderTitle_kIz6SZLq",Mr="OneClickPaymentHalfCard_paymentAlertHeaderMessage_DOu8dUNk",jr="OneClickPaymentHalfCard_paymentAlertHeaderContainer_LNr-2vxb",Br="OneClickPaymentHalfCard_paymentAlertFlashIcon_z-iX8KG6",Ur="OneClickPaymentHalfCard_paymentAlertContent_X5LbcDvo";Ho(".OneClickPaymentHalfCard_paymentAlertMoreCardsContainer_kIe6-C41,.OneClickPaymentHalfCard_paymentAlertMoreCardsContainerAction_5Nt19jea{display:flex;align-items:center}.OneClickPaymentHalfCard_paymentAlertMoreCardsContainerAction_5Nt19jea{justify-content:center}.OneClickPaymentHalfCard_paymentAlertHeader_-D45BR-J{display:flex;padding:16px 38px 0 20px;align-items:flex-start;justify-content:flex-start}.OneClickPaymentHalfCard_paymentAlertHeaderdisableOneClick_9CIjSjD-{padding:32px 38px 8px 20px}.OneClickPaymentHalfCard_paymentAlertHeaderV3_UDVfJvzz{padding-top:20px}.OneClickPaymentHalfCard_paymentAlertHeaderInfo_3sYHyvJQ{flex:1}.OneClickPaymentHalfCard_paymentAlertHeaderTitle_kIz6SZLq{font-size:24px;line-height:28px;font-weight:800;letter-spacing:-.4px;color:rgba(2,6,12,.9215686275);outline:0}.OneClickPaymentHalfCard_paymentAlertHeaderTitleV3_vsITRHo9{font-weight:600;color:#282c3f}.OneClickPaymentHalfCard_paymentAlertHeaderMessage_DOu8dUNk{font-size:14px;line-height:17px;font-weight:400;letter-spacing:-.3px;color:rgba(2,6,12,.6);margin-top:10px;transition:height .1s ease-in}.OneClickPaymentHalfCard_paymentAlertHeaderMessageV3_pBJtsszx{color:#93959f;font-weight:200}.OneClickPaymentHalfCard_paymentAlertHeaderContainer_LNr-2vxb{display:flex}.OneClickPaymentHalfCard_paymentAlertFlashIcon_z-iX8KG6{display:flex;padding:32px 16px 0;align-items:flex-start;justify-content:flex-start}.OneClickPaymentHalfCard_paymentAlertContent_X5LbcDvo{padding:0 16px}.OneClickPaymentHalfCard_paymentAlertContentV3_75ATG-l0{padding-top:4px}.OneClickPaymentHalfCard_paymentAlertContentActionWrapper_qDeYl49M{margin-bottom:32px}.OneClickPaymentHalfCard_paymentAlertContentRowPrimaryAction_MXAOsS-G{padding:16px 16px 0}.OneClickPaymentHalfCard_paymentAlertContentRowSecondaryAction_m6m-Fno6{padding-top:16px}.OneClickPaymentHalfCard_paymentAlertContentRowItem_bsM36-LE{display:flex;align-items:center;margin:24px 0;max-width:90%}.OneClickPaymentHalfCard_paymentAlertContentRowItemV3_rz9SNew7{margin:20px 0}.OneClickPaymentHalfCard_paymentAlertContentRowItemMessageIcon_tIQR4U86{background:#fff}.OneClickPaymentHalfCard_paymentAlertContentRowItemIcon_f75GIbEk{height:36px;width:36px}.OneClickPaymentHalfCard_paymentAlertContentRowItemMessage_lMPRUxiy{margin-left:16px;font-size:1.15rem;color:rgba(2,6,12,.6);font-weight:200}.OneClickPaymentHalfCard_paymentAlertContentRowItemMessageV3_DTj-53-D{font-weight:400}.OneClickPaymentHalfCard_paymentAlertContentRowItemMessageTandC_L95xDbMX{display:inline-block;border-bottom:1px dashed #909197}.OneClickPaymentHalfCard_paymentAlertContentTandC_PJ8awBwi{text-align:center;font-style:normal;font-weight:400;font-size:.93rem;line-height:16px;color:rgba(2,6,12,.6)}.OneClickPaymentHalfCard_paymentAlertMoreCardsWrapper_mvxhTd3a{background:#fff;margin:0 8px;box-shadow:0 2px 8px 0 rgba(40,44,63,.1);border-radius:0 0 16px 16px}.OneClickPaymentHalfCard_paymentAlertMoreCardsContainer_kIe6-C41{font-size:16px;line-height:19px;font-weight:400;letter-spacing:-.3px;color:rgba(2,6,12,.7490196078);justify-content:space-between;padding:18px 16px;overflow:hidden}.OneClickPaymentHalfCard_paymentAlertMoreCardsContainerAction_5Nt19jea{text-transform:none}.OneClickPaymentHalfCard_paymentAlertMoreCardsContainerActionArrow_y07urA3y{position:absolute;right:20px;transform:translateY(-4px) rotate(180deg);bottom:12px}.OneClickPaymentHalfCard_paymentAlertMoreCardsContainerActionSingle_Qsgm9fNj{margin-bottom:0}.OneClickPaymentHalfCard_paymentAlertMoreCardsContainerActionMain_sWC14dHt{text-transform:capitalize}.OneClickPaymentHalfCard_paymentAlertMoreCardsContainerIcon_8iJIi0t1{border:none!important;margin-right:12px;margin-top:6px}.OneClickPaymentHalfCard_paymentAlertMoreCardsContainerBottomSheetClose_Ie2k-uF4{box-shadow:none}");const Hr={title:"Disable Single Click Payments?",message:"",points:[{iconUrl:"PaymentLogos/paymentIcons/oneClick/disable_oc_card.png",message:"CVV & OTP will be required for every transaction in the future"},{iconUrl:"PaymentLogos/paymentIcons/oneClick/disable_oc_lock.png",message:"You will be able to enable it back only after 45 days"}]};var Gr,Yr;!function(e){e.PURPLE="#6541E4",e.GREY="#02060C99"}(Gr||(Gr={})),function(e){e[e.ENABLE=0]="ENABLE",e[e.DISABLE=1]="DISABLE"}(Yr||(Yr={}));const Wr={cardNumber:{attrs:{autoComplete:"off","data-testid":Je},errorLabel:In.INVALID_CARD_NUMBER,label:In.CARD_NUMBER,maxLength:23,name:"cardNumber",type:"tel"},cvv:{attrs:{autoComplete:"off",pattern:"[0-9]*",inputMode:"numeric","data-testid":Ze},errorLabel:In.INVALID_CVV,label:In.CVV,maxLength:4,name:"cvv",type:"password"},expiry:{attrs:{autoComplete:"off","data-testid":qe},errorLabel:In.INVALID_EXPIRY_DATE,label:In.VALID_THROUGH,maxLength:5,name:"expiry",type:"tel"},name:{attrs:{autoComplete:"cc-name","data-testid":Qe},label:In.NAME_ON_THE_CARD,errorLabel:In.INVALID_CARD_NAME,maxLength:50,name:"name",type:"text"},nickName:{attrs:{"data-testid":et},label:In.CARD_NICKNAME,errorLabel:In.INVALID_NICKNAME,maxLength:50,name:"nickName",type:"text"}},Fr=({data:e,primaryAction:t,secondaryAction:a,close:n,cardBrand:o,onClickTermsOfService:r,showHeaderFlashIcon:c=!0,onLoad:u,halfCardType:m=Yr.ENABLE})=>{const p=Object(i.useCallback)(()=>{t&&(t.onClick(),n())},[n,t]),_=Object(i.useCallback)(()=>{a?(a.onClick(),n()):n()},[n,a]),b=Object(i.useMemo)(()=>d()(Lr,{OneClickPaymentHalfCard_paymentAlertMoreCardsContainerActionSingle_Qsgm9fNj:!a}),[a]),y=Object(i.useMemo)(()=>d()(kr,{"OneClickPaymentHalfCard_paymentAlertHeaderdisableOneClick_9CIjSjD-":m===Yr.DISABLE}),[m]),g=Object(i.useMemo)(()=>d()(wr),[]),O=Object(i.useMemo)(()=>d()(Mr),[]),h=Object(i.useMemo)(()=>d()(Ur),[]),A=Object(i.useMemo)(()=>d()("OneClickPaymentHalfCard_paymentAlertContentRowItem_bsM36-LE"),[]),f=Object(i.useMemo)(()=>d()("OneClickPaymentHalfCard_paymentAlertContentRowItemMessage_lMPRUxiy"),[]),v=Object(i.useMemo)(()=>d()("OneClickPaymentHalfCard_paymentAlertMoreCardsContainerActionMain_sWC14dHt"),[]),T=Object(i.useMemo)(()=>d()("OneClickPaymentHalfCard_paymentAlertContentRowPrimaryAction_MXAOsS-G"),[]),I=Object(i.useMemo)(()=>(e,t)=>so(e,t),[]);return Object(s.Db)(()=>{"function"==typeof u&&u()}),l.a.createElement("div",{"data-testid":"oneClickHalfCard_component"},c&&l.a.createElement("div",{"data-testid":"oneClickHalfCard_header",className:Br},l.a.createElement(s.E,{withBg:!0})),l.a.createElement("div",{className:y},l.a.createElement("div",{className:xr},l.a.createElement("div",{className:jr},l.a.createElement("div",null,l.a.createElement("div",{"data-testid":"oneClickHalfCard_title",className:g},so(e.title,o)),e.message&&l.a.createElement("div",{"data-testid":"oneClickHalfCard_subTitle",className:O},so(e.message,o)))))),l.a.createElement("div",{className:h},e.points&&l.a.createElement("div",null,e.points.map((e,t)=>l.a.createElement("div",{"data-testid":"oneClickHalfCard_points",key:t,className:A},e.iconUrl&&l.a.createElement("div",{className:"OneClickPaymentHalfCard_paymentAlertContentRowItemMessageIcon_tIQR4U86"},l.a.createElement("img",{src:Tn(e.iconUrl,{height:72,width:72}),height:36,width:36})),l.a.createElement("div",{className:f},l.a.createElement("span",null,I(e.message,o)))))),l.a.createElement("div",{className:"OneClickPaymentHalfCard_paymentAlertContentTandC_PJ8awBwi"},e.tncUrl&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,In.TERMS_OF_SERVICE_PRETEXT," "),l.a.createElement("span",{onClick:()=>r&&e.tncUrl&&r(e.tncUrl),className:"OneClickPaymentHalfCard_paymentAlertContentRowItemMessageTandC_L95xDbMX"},In.TERMS_OF_SERVICE)))),l.a.createElement("div",{className:"OneClickPaymentHalfCard_paymentAlertContentActionWrapper_qDeYl49M"},t&&l.a.createElement("div",{className:T},l.a.createElement(E.SuperButton,{className:b,onClick:p,buttonType:t.accent?t.accent:"specialPositive",variant:"fullwidth",buttonSize:"large","data-testid":"oneClickHalfCard_primaryAction"},l.a.createElement("div",{className:v},t.text,t.showArrow&&l.a.createElement("span",{className:"OneClickPaymentHalfCard_paymentAlertMoreCardsContainerActionArrow_y07urA3y"},l.a.createElement(s.d,{color:"#ffffff"}))))),a&&l.a.createElement("div",{className:d()("OneClickPaymentHalfCard_paymentAlertContentRowSecondaryAction_m6m-Fno6")},l.a.createElement(C.TextButton,{className:Lr,color:a.accent?a.accent:"special_positive",buttonSize:"medium",onClick:_,"data-testid":"oneClickHalfCard_secondaryAction"},a.text))))};function Vr(e){const{hideOnOverlay:t=!0,data:a}=e,n=fn(e,["hideOnOverlay","data"]),o=l.a.useCallback(()=>e.onClose&&e.onClose(),[e]);return l.a.createElement("div",null,l.a.createElement(s.e,{onClose:o,hideOnOverlayClick:t},e=>l.a.createElement(Fr,Object.assign({data:a},n,e))))}var Kr,zr,$r,Xr,Jr,Zr,qr,Qr,ei,ti,ai,ni,oi,ri,ii,li,si,ci,di,ui,mi,pi,_i,Ei,Ci,bi,yi,gi,Oi,hi,Ai,fi,vi,Ti,Ii,Si,Ni,Ri,Pi,Di,Li,ki,xi,wi,Mi;!function(e){e.DIALOG="dialog",e.ALERTDIALOG="alertdialog",e.HEADING="heading",e.BUTTON="button",e.CHECKBOX="checkbox",e.ALERT="alert"}(Kr||(Kr={})),function(e){e.POLITE="polite",e.ASSERTIVE="assertive",e.OFF="off"}(zr||(zr={})),function(e){e[e.HOME=1]="HOME",e[e.WORK=2]="WORK",e[e.OTHER=3]="OTHER",e[e.FRIENDS_AND_FAMILY=4]="FRIENDS_AND_FAMILY"}($r||($r={})),function(e){e.HOME="Home",e.WORK="Work",e.OTHER="Other",e.FRIENDS_AND_FAMILY="Friends and Family"}(Xr||(Xr={})),function(e){e.HOME="img_0.png",e.WORK="work.png",e.OTHER="others.png",e.FRIENDS_AND_FAMILY="family_friends.png",e.STATIC="img_1.png"}(Jr||(Jr={})),function(e){e.FETCH_FAILED="FETCH_FAILED",e.TIMEOUT="TIMEOUT",e.LOTTIE_ERROR="LOTTIE_ERROR",e.ASSET_FETCH_ERROR="ASSET_FETCH_ERROR",e.INCOMPLETE_DATA="INCOMPLETE_DATA",e.UNKNOWN="UNKNOWN"}(Zr||(Zr={})),function(e){e.TRUE="true",e.FALSE="false"}(qr||(qr={})),function(e){e.PAYMENTS="show-payments",e.PAYMENTS_INDEX="show-payments",e.ADD_NEW_CARD="add-new-card",e.VPA_TIMER="vpa-timer",e.PAYMENT_TXN_STATUS_POLLING="payment-txn-status-polling",e.CONFIRM_ORDER="confirm-order",e.DIRECT_PLACE_ORDER="direct-place-order",e.MORE_BANKS="more-banks",e.VERIFY_WALLET_LINK_OTP="verify-wallet-link-otp",e.LINK_WALLET_WITH_NUMBER="link-wallet-with-number",e.VERIFY_VPA="verify-vpa",e.LINK_PAYLATER="link-paylater",e.LINK_PAYLATER_MOBILE="link-paylater-mobile",e.REDIRECT_PAGE="redirect-page",e.MORE_PAYMENT_GROUPS="more-payment-groups",e.MORE_PAYMENT_METHODS="more-payment-methods",e.CART="show-cart",e.ADD_SWIGGY_MONEY="add-swiggy-money",e.ADD_SWIGGY_MONEY_INDEX="add-swiggy-money",e.SWIGGY_MONEY_PAYMENTS="swiggy-money-payments",e.ONE_CLICK_ENROLLMENT="one-click-enrollment",e.COUPON_LISTING="coupon-listing",e.PAYMENT_OFFERS="payment-offers",e.DINEOUT_PAYMENT_SUCCESS="dineout-payment-success",e.DINEOUT_SUCCESS_SCREEN="DINEOUT_SUCCESS_SCREEN",e.DINEOUT_DIRECT_PLACE_ORDER="dineout-direct-checkout",e.PAYMENT_MODES_INDEX="payment-modes",e.PAYMENT_MODES_ADD_NEW_CARD="payment-modes-add-new-card",e.MANAGE_CARD="manage-card",e.SECURE_CARD="secure-card",e.CONFIRM_TRANSACTION="confirm-transaction",e.PAYMENT_MODES_VERIFY_WALLET_LINK_OTP="payment-modes-verify-wallet-link-otp",e.PAYMENT_MODES_LINK_WALLET_WITH_NUMBER="payment-modes-link-wallet-with-number",e.LINK_WALLET_INDEX="link-wallets",e.WALLET_DETAILS="wallet-detail",e.PAYLATER_LINKING_CONFIRMATION="paylater-linking-confirmation",e.NATIVE_UPI_ACCOUNTS="native-upi-accounts",e.AUTOPAY_ELIGIBLE_PAYMENT_FAILED="autopay-eligible-payment-failed",e.TURBO_PAY="turbo-pay",e.TURBO_PLACE_ORDER="turbo-place-order",e.SHARED_CART="shared-cart"}(Qr||(Qr={})),function(e){e.PAYMENTS="show-payments",e.PAYMENTS_INDEX="show-payments",e.ADD_NEW_CARD="add-new-card",e.VPA_TIMER="vpa-timer",e.PAYMENT_TXN_STATUS_POLLING="payment-txn-status-polling",e.CONFIRM_ORDER="confirm-order",e.DIRECT_PLACE_ORDER="direct-place-order",e.MORE_BANKS="more-banks",e.VERIFY_WALLET_LINK_OTP="verify-wallet-link-otp",e.LINK_WALLET_WITH_NUMBER="link-wallet-with-number",e.VERIFY_VPA="verify-vpa",e.LINK_PAYLATER="link-paylater",e.LINK_PAYLATER_MOBILE="link-paylater-mobile",e.REDIRECT_PAGE="redirect-page",e.MORE_PAYMENT_GROUPS="more-payment-groups",e.MORE_PAYMENT_METHODS="more-payment-methods",e.CART="show-dineout-cart",e.ADD_SWIGGY_MONEY="add-swiggy-money",e.ADD_SWIGGY_MONEY_INDEX="add-swiggy-money",e.SWIGGY_MONEY_PAYMENTS="swiggy-money-payments",e.ONE_CLICK_ENROLLMENT="one-click-enrollment",e.DINEOUT_DIRECT_FREE_RESERVATION="dineout-direct-free-reservation",e.PAYMENT_OFFERS="payment-offers",e.COUPON_LISTING="coupons-listing",e.DINEOUT_PAYMENT_SUCCESS="dineout-payment-success",e.DINEOUT_DIRECT_PLACE_ORDER="dineout-direct-checkout",e.BILL_PAYMENT_CART="bill-payment-cart",e.TABLE_RESERVATION_CART="table-reservation-cart"}(ei||(ei={})),(ti||(ti={})).GRID_WIDGET="type.googleapis.com/swiggy.gandalf.widgets.v2.GridWidget",(ai||(ai={})).MERCH_CAROUSEL="merch-banner",function(e){e.CAROUSEL="carousel",e.GRID="grid"}(ni||(ni={})),(Mi=oi||(oi={})).WEB="web",Mi.IOS="iOS",Mi.ANDROID="an",function(e){e.CHARGED="CHARGED",e.NEW="NEW",e.PENDING_VBV="PENDING_VBV",e.AUTHENTICATION_FAILED="AUTHENTICATION_FAILED",e.AUTHORIZATION_FAILED="AUTHORIZATION_FAILED",e.JUSPAY_DECLINED="JUSPAY_DECLINED",e.AUTHORIZING="AUTHORIZING",e.USER_ABORTED="USER_ABORTED"}(ri||(ri={})),function(e){e.PROD="prod",e.SAND_BOX="sandbox"}(ii||(ii={})),function(e){e.DENIED="DENIED",e.GRANTED="GRANTED"}(li||(li={})),(si||(si={})).READ_CONTACTS="android.permission.READ_CONTACTS",function(e){e.CARD_INFO_IMAGE="type.googleapis.com/swiggy.gandalf.widgets.v2.ImageInfoLayoutCard.ImageCardInfo",e.CARD_INFO_VIDEO="type.googleapis.com/swiggy.gandalf.widgets.v2.ImageInfoLayoutCard.VideoCardInfo"}(ci||(ci={})),(di||(di={})).CUISINE="STORY_COLLECTION_TYPE_CUISINE",function(e){e.IMAGE="CREATIVE_TYPE_IMAGE",e.VIDEO="CREATIVE_TYPE_VIDEO"}(ui||(ui={})),function(e){e.VIEW="VIEW",e.CLICK="CLICK"}(mi||(mi={})),function(e){e.SCREEN="SCREEN",e.DEEPLINK="DEEPLINK"}(pi||(pi={})),function(e){e.HOME="HOME",e.MENU="MENU",e.COLLECTIONS="COLLECTIONS",e.FOOD="FOOD"}(_i||(_i={})),function(e){e.BIT="BIT",e.BITE="BITE",e.BINGE="BINGE"}(Ei||(Ei={})),function(e){e.FOOD_TRACK="FOOD_TRACK",e.DIALOG_ALERT="DIALOG_ALERT",e.DIALOG_CONFIRM="DIALOG_CONFIRM",e.CLOSE_WEBVIEW="CLOSE_WEBVIEW",e.CLOSE_APP="CLOSE_APP",e.GET_USER_INFO="GET_USER_INFO",e.IS_JUSPAY_AVAILABLE="IS_JUSPAY_AVAILABLE",e.JUSPAY_INIT="JUSPAY_INIT",e.INIT_JUSPAY_WALLET="INIT_JUSPAY_WALLET",e.PAY_USING_JUSPAY_NB="PAY_USING_JUSPAY_NB",e.PAY_USING_SAVED_CARD="PAY_USING_SAVED_CARD",e.PAY_USING_JUSPAY_NEW_CARD="PAY_USING_JUSPAY_NEW_CARD",e.PAY_USING_JUSPAY_WALLET="PAY_USING_JUSPAY_WALLET",e.PAY_USING_JUSPAY_WALLET_CRED="PAY_USING_JUSPAY_WALLET_CRED",e.GET_INAPP_UPI_ACCOUNT_LIST="GET_INAPP_UPI_ACCOUNT_LIST",e.ONBOARD_INAPP_UPI="ONBOARD_INAPP_UPI",e.ADD_NEW_BANK_INAPP_UPI="ADD_NEW_BANK_INAPP_UPI",e.IS_INAPP_UPI_ENABLED="IS_INAPP_UPI_ENABLED",e.GET_INAPP_UPI_DATA_FROM_CACHE="GET_INAPP_UPI_DATA_FROM_CACHE",e.INITIATE_INAPP_UPI_ONBOARDING="INITIATE_INAPP_UPI_ONBOARDING",e.ADD_NEW_INAPP_UPI="ADD_NEW_INAPP_UPI",e.PAY_USING_INAPP_UPI="PAY_USING_INAPP_UPI",e.ON_REFUND_OPTION_SET="ON_REFUND_OPTION_SET",e.WEBVIEW_LAST_STATE="WEBVIEW_LAST_STATE",e.CLEAR_CART="CLEAR_CART",e.GET_CHECKOUT_META_INFO="GET_CHECKOUT_META_INFO",e.NAVIGATE_TO_SCREEN="NAVIGATE_TO_SCREEN",e.SWITCH_TO_NATIVE_PAYMENT="SWITCH_TO_NATIVE_PAYMENT",e.GET_SWIGGY_HEADERS="GET_SWIGGY_HEADERS",e.WEB_NAVIGATE="WEB_NAVIGATE",e.POST_ORDER_EVENT="POST_ORDER_EVENT",e.STORE_ORDER_INFO_EVENT="STORE_ORDER_INFO_EVENT",e.ORDER_FAILED_EVENT="ORDER_FAILED_EVENT",e.SHOW_HEADER="SHOW_HEADER",e.SEND_LINK_ACCOUNT_STATUS="SEND_LINK_ACCOUNT_STATUS",e.GET_LOCATION="GET_LOCATION",e.GET_DEVICE_DETAILS="GET_DEVICE_DETAILS",e.STORAGE="STORAGE",e.PAY_USING_AMAZON_PAY="PAY_USING_AMAZON_PAY",e.DIRECT_PLACE_ORDER_FAILURE="DIRECT_PLACE_ORDER_FAILURE",e.SET_APP_ACTIVE_IN_IDLE_STATE="SET_APP_ACTIVE_IN_IDLE_STATE",e.GET_RESTAURANT_EMPATHY_DATA="GET_RESTAURANT_EMPATHY_DATA",e.GET_SUPPORT_UNREAD_CONVERSATION_DATA="GET_SUPPORT_UNREAD_CONVERSATION_DATA",e.SHARE_ON_SOCIAL_MEDIA="SHARE_ON_SOCIAL_MEDIA",e.IS_UPI_INTENT_METHOD_AVAILABLE="IS_UPI_INTENT_METHOD_AVAILABLE",e.ALL_UPI_INTENT_AVAILABLE_METHODS="ALL_UPI_INTENT_AVAILABLE_METHODS",e.PAY_USING_UPI_INTENT="PAY_USING_UPI_INTENT",e.ORDER_CONFIRMED_EVENT="ORDER_CONFIRMED_EVENT",e.PAYMENT_IN_PENDING_STATE="PAYMENT_IN_PENDING_STATE",e.IS_PHONEPE_SDK_AVAILABLE="IS_PHONEPE_SDK_AVAILABLE",e.MAKE_PAYMENT_USING_PHONEPE="MAKE_PAYMENT_USING_PHONEPE",e.CLEAR_WEB_HISTORY="CLEAR_WEB_HISTORY",e.HIDE_LOADER="HIDE_LOADER",e.SHOW_LOADER="SHOW_LOADER",e.LOGIN="LOGIN",e.PHONE_CONTACT="PHONE_CONTACT",e.IMAGE_UPLOAD="IMAGE_UPLOAD",e.GOOGLE_IMAGE_UPLOAD="GOOGLE_IMAGE_UPLOAD",e.PROCEED_DASH_ORDER="PROCEED_DASH_ORDER",e.LOG_CLEVERTAP_EVENT="SEND_CLEVERTAP_EVENT",e.LOG_GAMOOGA_EVENT="TRACK_GAMOOGA_EVENT",e.LOG_EVENT="TRACK_EVENT",e.KYC_INIT="KYC_INIT",e.ADD_NEW_ADDRESS="ADD_NEW_ADDRESS",e.GENERIC_ADD_NEW_ADDRESS="GENERIC_ADD_NEW_ADDRESS",e.EDIT_ADDRESS="EDIT_ADDRESS",e.STATUS_BAR_CHANGE="STATUS_BAR_CHANGE",e.VIBRATE="VIBRATE",e.WHATSAPP_SHARE="WHATSAPP_SHARE",e.OPEN_SHARE_SHEET="OPEN_SHARE_SHEET",e.COPY_TEXT_TO_CLIPBOARD="COPY_TEXT_TO_CLIPBOARD",e.DISABLE_NATIVE_SCROLL="DISABLE_NATIVE_SCROLL",e.MAKE_DASH_PAYMENT="MAKE_DASH_PAYMENT",e.GET_LOCAL_CART="GET_LOCAL_CART",e.UPDATE_LOCAL_CART="UPDATE_LOCAL_CART",e.CUSTOMISE_CART_ITEM="CUSTOMISE_CART_ITEM",e.APPLY_COUPON="APPLY_COUPON",e.CLEAR_LOCAL_CART="CLEAR_LOCAL_CART",e.GET_CONFIG_VALUE="GET_CONFIG_VALUE",e.OPEN_SUPER_V3="OPEN_SUPER_V3",e.TOGGLE_NATIVE_BOTTOM_BAR="TOGGLE_NATIVE_BOTTOM_BAR",e.TOGGLE_QUICKS_HEADER_TAB="TOGGLE_QUICKS_HEADER_TAB",e.LAUNCH_SOFT_KEYBOARD="LAUNCH_SOFT_KEYBOARD",e.LAUNCH_BROWSER="LAUNCH_BROWSER",e.GET_CRED_ELIGIBILTY_FROM_APP_CACHE="GET_CRED_ELIGIBILTY_FROM_APP_CACHE",e.GET_CRED_ELIGIBILTY="GET_CRED_ELIGIBILTY",e.VERIFY_MOBILE_NUMBER="VERIFY_MOBILE_NUMBER",e.UPDATE_PROFILE_INFO="UPDATE_PROFILE_INFO",e.LOGOUT="LOGOUT",e.ENABLE_BACK_SWIPE="ENABLE_BACK_SWIPE",e.SET_LOCATION="SET_LOCATION",e.SET_LOCATION_WITH_DEEP_LINK="SET_LOCATION_WITH_DEEP_LINK",e.SET_RECIPIENT_INFO="SET_RECIPIENT_INFO",e.UPDATE_CONVERSATION_ID="UPDATE_CONVERSATION_ID",e.GET_NEXT_STEP_DETAILS="GET_NEXT_STEP_DETAILS",e.GET_CURRENT_ADDRESS="GET_CURRENT_ADDRESS",e.IM_GET_LOCAL_CART="IM_GET_LOCAL_CART",e.IM_UPDATE_LOCAL_CART="IM_UPDATE_LOCAL_CART",e.IM_UPDATE_LOCAL_CART_ITEMS="IM_UPDATE_LOCAL_CART_ITEMS",e.IM_CLEAR_LOCAL_CART="IM_CLEAR_LOCAL_CART",e.CHECK_PERMISSION="CHECK_PERMISSION",e.SHOULD_SHOW_PERMISSION_RATIONALE="SHOULD_SHOW_PERMISSION_RATIONALE",e.REQUEST_PERMISSION="REQUEST_PERMISSION",e.LAUNCH_APP_SETTINGS="LAUNCH_APP_SETTINGS",e.EDIT_DIRECTIONS_TO_REACH="EDIT_DIRECTIONS_TO_REACH",e.IOS_CHECK_CAMERA_PERMISSION="IOS_CHECK_CAMERA_PERMISSION",e.IOS_MEDIA_UPLOAD="iOS_MEDIA_UPLOAD",e.GET_SELECTED_LOCATION="GET_SELECTED_LOCATION",e.OPEN_LOCATION_SEARCH="OPEN_LOCATION_SEARCH",e.DINEOUT_GET_LOCAL_CART="DINEOUT_GET_LOCAL_CART",e.DINEOUT_CLEAR_LOCAL_CART="DINEOUT_CLEAR_LOCAL_CART",e.DINEOUT_UPDATE_LOCAL_CART="DINEOUT_UPDATE_LOCAL_CART",e.ONE_CLICK_DE_ENROLL="ONE_CLICK_DE_ENROLL",e.GET_ONE_CLICK_CARD_ELIGIBILITY="GET_ONE_CLICK_CARD_ELIGIBILITY",e.TRANSACTION_CONFIRMED_EVENT="TRANSACTION_CONFIRMED_EVENT",e.TRANSACTION_FAILED_EVENT="TRANSACTION_FAILED_EVENT",e.DELETE_CARD="DELETE_CARD",e.SUBMIT_FEEDBACK="SUBMIT_FEEDBACK",e.GET_WALLET_DATA="GET_WALLET_DATA",e.GET_LINKED_WALLET_DETAILS="GET_LINKED_WALLET_DETAILS",e.WALLET_DELINKED="WALLET_DELINKED",e.WALLET_ADD_MONEY_SUCCESS="WALLET_ADD_MONEY_SUCCESS",e.DELINK_AMAZON_PAY="DELINK_AMAZON_PAY",e.SWITCH_BOTTOM_BAR_TAB="SWITCH_BOTTOM_BAR_TAB",e.GET_TNS_SIGNAL="GET_TNS_SIGNAL",e.IS_LOCATION_ENABLED="IS_LOCATION_ENABLED",e.SCREEN_CAPTURING="SCREEN_CAPTURING",e.SHARE_COLLECTION_INFORMATION="SHARE_COLLECTION_INFORMATION",e.UPDATE_MENU_ITEM_LIST="UPDATE_MENU_ITEM_LIST",e.SHOW_MENULET="SHOW_MENULET",e.TOGGLE_NATIVE_SEARCH_BAR="TOGGLE_NATIVE_SEARCH_BAR",e.UPDATE_NATIVE_SEARCH_BAR="UPDATE_NATIVE_SEARCH_BAR",e.OPEN_NATIVE_VOICE_SEARCH="OPEN_NATIVE_VOICE_SEARCH",e.UPDATE_LAUNCHER_ICON="UPDATE_LAUNCHER_ICON",e.IS_LAUNCHER_ICON_ENABLED="IS_LAUNCHER_ICON_ENABLED",e.QUIZ_PROGRESS_UPDATE="QUIZ_PROGRESS_UPDATE",e.UPDATE_ORDER_EVENT="UPDATE_ORDER_EVENT",e.UPDATE_ACCESS_TOKEN="UPDATE_ACCESS_TOKEN",e.GET_SORTED_ADDRESSES="GET_SORTED_ADDRESSES",e.IS_WEB_BOTTOM_BAR_VISIBLE="IS_WEB_BOTTOM_BAR_VISIBLE",e.GET_ASYNC_IRCTC_PAYLOAD="GET_ASYNC_IRCTC_PAYLOAD",e.GET_LOCAL_IRCTC_PAYLOAD="GET_LOCAL_IRCTC_PAYLOAD",e.UPDATE_LOCAL_IRCTC_PAYLOAD="UPDATE_LOCAL_IRCTC_PAYLOAD",e.GET_NOTIFICATION_PERMISSION_STATUS="GET_NOTIFICATION_PERMISSION_STATUS",e.GET_INSTALLED_APPS="GET_INSTALLED_APPS",e.REFRESH_PARENT_SCREEN="REFRESH_PARENT_SCREEN",e.SEND_FREQUENCY_CAPPING_EVENT="SEND_FREQUENCY_CAPPING_EVENT",e.MANAGE_SWIPE_GESTURE="MANAGE_SWIPE_GESTURE",e.INVITE_MORE_GROUPCART="INVITE_MORE_GROUPCART",e.DELETE_GROUPCART="DELETE_GROUPCART",e.LEAVE_GROUPCART="LEAVE_GROUPCART",e.INIT_IM_WEB="INIT_IM_WEB",e.UPDATE_IM_SHARED_PREFERENCE="UPDATE_IM_SHARED_PREFERENCE",e.REFRESH_SCREEN="REFRESH_SCREEN",e.SUBMIT_UPLOADED_FILES="SUBMIT_UPLOADED_FILES",e.GET_GPS_LOCATION="GET_GPS_LOCATION",e.DOWNLOAD_FILE="DOWNLOAD_FILE",e.SHOW_CHAT_BUBBLE="SHOW_CHAT_BUBBLE"}(Ci||(Ci={})),function(e){e.SUCCESS="SUCCESS",e.FAILURE="FAILED"}(bi||(bi={})),function(e){e.ADDRESS="ADDRESS",e.ANNOTATION="ANNOTATION",e.AREA="AREA",e.MOBILE="MOBILE",e.INSTRUCTIONS="INSTRUCTIONS",e.FLAT_NO="FLAT_NO",e.LANDMARK="LANDMARK"}(yi||(yi={})),function(e){e.ADD_ADDRESS_FULL_FORM="ADD_ADDRESS_FULL_FORM",e.EDIT_RECEIVER_DETAILS_HALF_CARD="EDIT_RECEIVER_DETAILS_HALF_CARD",e.ADD_RECEIVER_DETAILS_HALF_CARD_1="ADD_RECEIVER_DETAILS_HALF_CARD_1",e.ADD_RECEIVER_DETAILS_HALF_CARD_2="ADD_RECEIVER_DETAILS_HALF_CARD_2"}(gi||(gi={})),(Oi||(Oi={})).OFO_EVENTS="OFO_EVENTS",function(e){e.PRIMARY="primary",e.SECONDARY="secondary"}(hi||(hi={})),(Ai||(Ai={})).TWITTER="TWITTER",function(e){e.SCREEN="SCREEN",e.DEEPLINK="DEEPLINK"}(fi||(fi={})),function(e){e.CLOSE="CLOSE",e.THREEDOT="THREEDOT",e.HELP="HELP",e.SHARE="SHARE",e.FILTER="FILTER",e.BOOKMARK="BOOKMARK",e.REFRESH="REFRESH",e.INFO="INFO",e.HEART="HEART"}(vi||(vi={})),function(e){e.CENTER="CENTER",e.LEFT="LEFT"}(Ti||(Ti={})),function(e){e.ACCOUNTS="ACCOUNTS",e.PAYMENTS="PAYMENTS"}(Ii||(Ii={})),function(e){e.SUCCESS="SUCCESS",e.FAILURE="FAILURE"}(Si||(Si={})),function(e){e.GET="GET",e.SAVE="SAVE",e.DELETE="DELETE",e.CLEAN="CLEAN"}(Ni||(Ni={})),function(e){e.DEFAULT="DEFAULT",e.V2="V2"}(Ri||(Ri={})),function(e){e.LIGHT="light",e.HEAVY="heavy",e.MEDIUM="medium"}(Pi||(Pi={})),function(e){e.image="image",e.video="video"}(Di||(Di={})),(Li||(Li={})).pdf="pdf",function(e){e.camera="camera",e.gallery="gallery",e.camcorder="camcorder",e.file="file"}(ki||(ki={})),function(e){e.IM_UPDATE_QUERY_ACTION="IM_UPDATE_QUERY_ACTION",e.IM_RESULTS_LOADED_CALLBACK_ACTION="IM_RESULTS_LOADED_CALLBACK_ACTION"}(xi||(xi={})),(wi||(wi={})).INSTAMART="IM";const ji={},Bi=(e="")=>e?"undefined"==typeof crypto?((Number(e)^16*Math.random())>>Number(e)/4).toString(16):((Number(e)^15&crypto.getRandomValues(new Uint8Array(1))[0])>>Number(e)/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,Bi);let Ui=[e=>{}];function Hi({nativeBridge:e,payload:t,timeout:a=1e4,type:n}){return vn(this,void 0,void 0,(function*(){if("undefined"==typeof window)return;const o=Bi(),r={requestId:o,type:n,payload:null!=t?t:{}},i=JSON.stringify(r);try{Ui.forEach(e=>e(r))}catch(o){}const l=e&&e.getPlatform?e.getPlatform():null;try{window.nativeRequest(i,l)}catch(o){return Promise.reject(o)}return a>0&&function(e,t,a){setTimeout(()=>{(e=>ji[e])(e)&&window.nativeResponse&&window.nativeResponse({requestId:e,type:bi.FAILURE,payload:null,statusCode:408,statusMessage:String(t)})},a)}(o,n,a),((e,t)=>new Promise((a,n)=>{ji[e]={resolve:a,reject:n,type:t}}))(o,n)}))}function Gi(e){return Hi({nativeBridge:this,type:Ci.SEND_LINK_ACCOUNT_STATUS,payload:e})}function Yi(e){return Hi({nativeBridge:this,type:Ci.SHOW_HEADER,payload:e})}function Wi(e){return Hi({nativeBridge:this,type:Ci.WEB_NAVIGATE,payload:e})}function Fi(){return Hi({nativeBridge:this,type:Ci.SWITCH_TO_NATIVE_PAYMENT})}function Vi(e){return Hi({nativeBridge:this,type:Ci.NAVIGATE_TO_SCREEN,payload:e})}function Ki(e){return Hi({nativeBridge:this,type:Ci.GET_CHECKOUT_META_INFO,payload:e})}function zi(e,t){return Hi({nativeBridge:this,type:Ci.IS_JUSPAY_AVAILABLE,payload:e,timeout:t})}function $i(e,t){return Hi({nativeBridge:this,type:Ci.JUSPAY_INIT,payload:e,timeout:t})}function Xi(e,t){return Hi({nativeBridge:this,type:Ci.INIT_JUSPAY_WALLET,payload:e,timeout:t})}function Ji(e,t=-1){return Hi({nativeBridge:this,type:Ci.PAY_USING_JUSPAY_NB,payload:e,timeout:t})}function Zi(e,t=-1){return Hi({nativeBridge:this,type:Ci.PAY_USING_SAVED_CARD,payload:e,timeout:t})}function qi(e,t=-1){return Hi({nativeBridge:this,type:Ci.PAY_USING_JUSPAY_NEW_CARD,payload:e,timeout:t})}function Qi(e,t=-1){return Hi({nativeBridge:this,type:Ci.PAY_USING_JUSPAY_WALLET,payload:e,timeout:t})}function el(e,t=-1){return Hi({nativeBridge:this,type:Ci.PAY_USING_JUSPAY_WALLET_CRED,payload:e,timeout:t})}function tl(e,t=6e4){return Hi({nativeBridge:this,type:Ci.GET_INAPP_UPI_ACCOUNT_LIST,payload:e,timeout:t})}function al(e,t=3e5){return Hi({nativeBridge:this,type:Ci.ONBOARD_INAPP_UPI,payload:e,timeout:t})}function nl(e,t=3e5){return Hi({nativeBridge:this,type:Ci.ADD_NEW_BANK_INAPP_UPI,payload:e,timeout:t})}function ol(e,t=-1){return Hi({nativeBridge:this,type:Ci.PAY_USING_INAPP_UPI,payload:e,timeout:t})}function rl(e,t=-1){return Hi({nativeBridge:this,type:Ci.IS_INAPP_UPI_ENABLED,payload:e,timeout:t})}function il(e,t=-1){return Hi({nativeBridge:this,type:Ci.GET_INAPP_UPI_DATA_FROM_CACHE,payload:e,timeout:t})}function ll(e,t=3e5){return Hi({nativeBridge:this,type:Ci.INITIATE_INAPP_UPI_ONBOARDING,payload:e,timeout:t})}function sl(e,t=3e5){return Hi({nativeBridge:this,type:Ci.ADD_NEW_INAPP_UPI,payload:e,timeout:t})}function cl(e,t=-1){return Hi({nativeBridge:this,type:Ci.PAY_USING_INAPP_UPI,payload:e,timeout:t})}function dl(){return Hi({nativeBridge:this,type:Ci.CLEAR_CART})}function ul(e){return Hi({nativeBridge:this,type:Ci.GET_USER_INFO,payload:{},timeout:e})}function ml(e){return Hi({nativeBridge:this,type:Ci.CLOSE_WEBVIEW,payload:e})}function pl(e,t,a){return Hi({nativeBridge:this,type:Ci.POST_ORDER_EVENT,payload:{orderData:e,businessLine:t,showTrack:a}})}function _l(e,t,a){return Hi({nativeBridge:this,type:Ci.STORE_ORDER_INFO_EVENT,payload:{orderData:e,businessLine:t,orderInfoUrl:a}})}function El(e){return Hi({nativeBridge:this,type:Ci.FOOD_TRACK,payload:{orderId:e}})}function Cl(e){return Hi({nativeBridge:this,type:Ci.DIALOG_ALERT,payload:e})}function bl(){return Hi({nativeBridge:this,type:Ci.GET_SWIGGY_HEADERS})}function yl(){return vn(this,void 0,void 0,(function*(){const e={},t=yield this.getSwiggyHeadersFromClient();if(t)return Object.keys(t).forEach(a=>{e[a.toLowerCase()]=t[a]}),e}))}function gl(e){return Hi({nativeBridge:this,type:Ci.DIALOG_CONFIRM,payload:e})}function Ol(e){return Hi({nativeBridge:this,type:Ci.GET_LOCATION,payload:e})}function hl(){return Hi({nativeBridge:this,type:Ci.IS_LOCATION_ENABLED})}function Al(){return Hi({nativeBridge:this,type:Ci.GET_DEVICE_DETAILS})}function fl(e){return Hi({nativeBridge:this,type:Ci.STORAGE,payload:e})}function vl(e,t=-1){return Hi({nativeBridge:this,type:Ci.PAY_USING_AMAZON_PAY,payload:e,timeout:t})}function Tl(){return Hi({nativeBridge:this,type:Ci.DIRECT_PLACE_ORDER_FAILURE})}function Il(e){return Hi({nativeBridge:this,type:Ci.SET_APP_ACTIVE_IN_IDLE_STATE,payload:e})}function Sl(){return Hi({nativeBridge:this,type:Ci.GET_RESTAURANT_EMPATHY_DATA})}function Nl(){return Hi({type:Ci.GET_SUPPORT_UNREAD_CONVERSATION_DATA,nativeBridge:this})}function Rl(e){return Hi({nativeBridge:this,type:Ci.SHARE_ON_SOCIAL_MEDIA,payload:e})}function Pl(e,t){return Hi({nativeBridge:this,type:Ci.IS_UPI_INTENT_METHOD_AVAILABLE,payload:e,timeout:t})}function Dl(e,t=-1){return Hi({nativeBridge:this,type:Ci.PAY_USING_UPI_INTENT,payload:e,timeout:t})}function Ll(e){return Hi({nativeBridge:this,type:Ci.ALL_UPI_INTENT_AVAILABLE_METHODS,payload:e})}function kl(e){return Hi({nativeBridge:this,type:Ci.ORDER_CONFIRMED_EVENT,payload:{orderData:e}})}function xl(e){return Hi({nativeBridge:this,type:Ci.ORDER_FAILED_EVENT,payload:e})}function wl(e){return Hi({nativeBridge:this,type:Ci.PAYMENT_IN_PENDING_STATE,payload:e})}function Ml(e){return Hi({nativeBridge:this,type:Ci.IS_PHONEPE_SDK_AVAILABLE,payload:{},timeout:e})}function jl(e,t=-1){return Hi({nativeBridge:this,type:Ci.MAKE_PAYMENT_USING_PHONEPE,payload:e,timeout:t})}function Bl(){return Hi({nativeBridge:this,type:Ci.CLEAR_WEB_HISTORY})}function Ul(e={},t=-1){return Hi({nativeBridge:this,type:Ci.LOGIN,payload:e,timeout:t})}function Hl(e={}){return Hi({nativeBridge:this,type:Ci.LOGOUT,payload:e})}function Gl(e){return Hi({nativeBridge:this,type:Ci.STATUS_BAR_CHANGE,payload:e})}function Yl(e,t=-1){return Hi({nativeBridge:this,type:Ci.ADD_NEW_ADDRESS,payload:e,timeout:t})}function Wl(e,t=-1){return Hi({nativeBridge:this,type:Ci.GENERIC_ADD_NEW_ADDRESS,payload:e,timeout:t})}function Fl(e,t=-1){return Hi({nativeBridge:this,type:Ci.EDIT_ADDRESS,payload:e,timeout:t})}function Vl(e){return Hi({nativeBridge:this,type:Ci.LOG_EVENT,payload:e})}function Kl(e){return Hi({nativeBridge:this,type:Ci.LOG_GAMOOGA_EVENT,payload:e})}function zl(e){return Hi({nativeBridge:this,type:Ci.LOG_CLEVERTAP_EVENT,payload:e})}function $l(e){return Hi({nativeBridge:this,type:Ci.COPY_TEXT_TO_CLIPBOARD,payload:{text:e}})}function Xl(e){return Hi({nativeBridge:this,type:Ci.OPEN_SHARE_SHEET,payload:{text:e}})}function Jl(e){return Hi({nativeBridge:this,type:Ci.WHATSAPP_SHARE,payload:e})}function Zl(e,t=-1){return Hi({nativeBridge:this,type:Ci.PHONE_CONTACT,payload:e,timeout:t})}function ql(e,t=-1){return Hi({nativeBridge:this,type:Ci.IMAGE_UPLOAD,payload:e,timeout:t})}function Ql(e,t=-1){return Hi({nativeBridge:this,type:Ci.KYC_INIT,payload:e,timeout:t})}function es(e){return Hi({nativeBridge:this,type:Ci.DISABLE_NATIVE_SCROLL,payload:e})}function ts(e,t=-1){return Hi({nativeBridge:this,type:Ci.MAKE_DASH_PAYMENT,payload:e,timeout:t})}function as(){return Hi({nativeBridge:this,type:Ci.HIDE_LOADER})}function ns(){return Hi({nativeBridge:this,type:Ci.SHOW_LOADER})}function os(e){return Hi({nativeBridge:this,type:Ci.GET_LOCAL_CART,payload:e})}function rs(e){return Hi({nativeBridge:this,type:Ci.UPDATE_LOCAL_CART,payload:e})}function is(e,t=-1){return Hi({nativeBridge:this,type:Ci.CUSTOMISE_CART_ITEM,payload:e,timeout:t})}function ls(e,t=-1){return Hi({nativeBridge:this,type:Ci.APPLY_COUPON,payload:e,timeout:t})}function ss(e){return Hi({nativeBridge:this,type:Ci.CLEAR_LOCAL_CART,payload:e})}function cs(e,t=-1){return Hi({nativeBridge:this,type:Ci.OPEN_SUPER_V3,payload:e,timeout:t})}function ds(e){return Hi({nativeBridge:this,type:Ci.TOGGLE_NATIVE_BOTTOM_BAR,payload:e})}function us(){return Hi({nativeBridge:this,type:Ci.LAUNCH_SOFT_KEYBOARD})}function ms(e){return Hi({nativeBridge:this,type:Ci.VERIFY_MOBILE_NUMBER,payload:e})}function ps(){return Hi({nativeBridge:this,type:Ci.UPDATE_PROFILE_INFO})}function _s(e){return Hi({nativeBridge:this,type:Ci.LAUNCH_BROWSER,payload:e})}function Es(e,t){return Hi({nativeBridge:this,type:Ci.GET_CRED_ELIGIBILTY_FROM_APP_CACHE,payload:e,timeout:t})}function Cs(e,t){return Hi({nativeBridge:this,type:Ci.GET_CRED_ELIGIBILTY,payload:e,timeout:t})}function bs(e){return Hi({nativeBridge:this,type:Ci.VIBRATE,payload:e})}function ys(e){return Hi({nativeBridge:this,type:Ci.ENABLE_BACK_SWIPE,payload:e})}function gs(e){return Hi({nativeBridge:this,type:Ci.SET_RECIPIENT_INFO,payload:e})}function Os(e){return Hi({nativeBridge:this,type:Ci.SET_LOCATION,payload:e})}function hs(e,t=-1){return Hi({nativeBridge:this,type:Ci.SET_LOCATION_WITH_DEEP_LINK,payload:e,timeout:t})}function As(e){return Hi({nativeBridge:this,type:Ci.UPDATE_CONVERSATION_ID,payload:e})}function fs(e){return Hi({nativeBridge:this,type:Ci.GET_NEXT_STEP_DETAILS,payload:e})}function vs(){return Hi({nativeBridge:this,type:Ci.GET_CURRENT_ADDRESS})}function Ts(){return Hi({nativeBridge:this,type:Ci.IM_GET_LOCAL_CART})}function Is(){return Hi({nativeBridge:this,type:Ci.IM_CLEAR_LOCAL_CART})}function Ss(e){return Hi({nativeBridge:this,type:Ci.IM_UPDATE_LOCAL_CART,payload:e})}function Ns(e){return Hi({nativeBridge:this,type:Ci.IM_UPDATE_LOCAL_CART_ITEMS,payload:e})}function Rs(e){return Hi({nativeBridge:this,type:Ci.ON_REFUND_OPTION_SET,payload:e})}function Ps(e){return Hi({nativeBridge:this,type:Ci.CHECK_PERMISSION,payload:e})}function Ds(e){return Hi({nativeBridge:this,type:Ci.SHOULD_SHOW_PERMISSION_RATIONALE,payload:e})}function Ls(e){return Hi({nativeBridge:this,type:Ci.REQUEST_PERMISSION,payload:e})}function ks(){return Hi({nativeBridge:this,type:Ci.LAUNCH_APP_SETTINGS})}function xs(e,t=-1){return Hi({nativeBridge:this,type:Ci.EDIT_DIRECTIONS_TO_REACH,payload:e,timeout:t})}function ws(){return Hi({nativeBridge:this,type:Ci.IOS_CHECK_CAMERA_PERMISSION})}function Ms(e,t){return Hi({nativeBridge:this,type:Ci.ONE_CLICK_DE_ENROLL,payload:e,timeout:t})}function js(e,t){return Hi({nativeBridge:this,type:Ci.GET_ONE_CLICK_CARD_ELIGIBILITY,payload:e,timeout:t})}function Bs(e,t){return Hi({nativeBridge:this,type:Ci.DELETE_CARD,payload:e,timeout:t})}function Us(e){return Hi({nativeBridge:this,type:Ci.TRANSACTION_FAILED_EVENT,payload:e})}function Hs(e){return Hi({nativeBridge:this,type:Ci.TRANSACTION_CONFIRMED_EVENT,payload:e})}function Gs(e){return Hi({nativeBridge:this,type:Ci.SUBMIT_FEEDBACK,payload:e})}function Ys(e,t){return Hi({nativeBridge:this,type:Ci.GET_WALLET_DATA,payload:e,timeout:t})}function Ws(e=-1){return Hi({nativeBridge:this,type:Ci.OPEN_LOCATION_SEARCH,timeout:e})}function Fs(){return Hi({nativeBridge:this,type:Ci.GET_SELECTED_LOCATION})}function Vs(e){return Hi({nativeBridge:this,type:Ci.GET_LINKED_WALLET_DETAILS,payload:e})}function Ks(e){return Hi({nativeBridge:this,type:Ci.WALLET_DELINKED,payload:e})}function zs(e){return Hi({nativeBridge:this,type:Ci.WALLET_ADD_MONEY_SUCCESS,payload:e})}function $s(){return Hi({nativeBridge:this,type:Ci.DELINK_AMAZON_PAY})}function Xs(e,t=-1){return Hi({nativeBridge:this,type:Ci.WEBVIEW_LAST_STATE,payload:e,timeout:t})}function Js(e){return Hi({nativeBridge:this,type:Ci.SWITCH_BOTTOM_BAR_TAB,payload:e})}function Zs(){return Hi({nativeBridge:this,type:Ci.GET_TNS_SIGNAL})}function qs(e,t=-1){return Hi({nativeBridge:this,type:Ci.SCREEN_CAPTURING,payload:e,timeout:t})}function Qs(e){return Hi({nativeBridge:this,type:Ci.SHARE_COLLECTION_INFORMATION,payload:e})}function ec(e){return Hi({nativeBridge:this,type:Ci.UPDATE_MENU_ITEM_LIST,payload:e})}function tc(e){return Hi({nativeBridge:this,type:Ci.TOGGLE_NATIVE_SEARCH_BAR,payload:e})}function ac(e){return Hi({nativeBridge:this,type:Ci.UPDATE_NATIVE_SEARCH_BAR,payload:e})}function nc(e){return Hi({nativeBridge:this,type:Ci.GET_CONFIG_VALUE,payload:e})}function oc(e,t=-1){return Hi({payload:e,nativeBridge:this,type:Ci.OPEN_NATIVE_VOICE_SEARCH,timeout:t})}function rc(e){return Hi({nativeBridge:this,type:Ci.UPDATE_LAUNCHER_ICON,payload:e})}function ic(e){return Hi({nativeBridge:this,type:Ci.IS_LAUNCHER_ICON_ENABLED,payload:e})}function lc(e){return Hi({nativeBridge:this,type:Ci.SHOW_MENULET,payload:e})}function sc(e){return Hi({nativeBridge:this,type:Ci.QUIZ_PROGRESS_UPDATE,payload:e})}function cc(e){return Hi({nativeBridge:this,type:Ci.UPDATE_ORDER_EVENT,payload:e})}function dc(){return Hi({nativeBridge:this,type:Ci.UPDATE_ACCESS_TOKEN})}function uc(e){return Hi({nativeBridge:this,type:Ci.GET_SORTED_ADDRESSES,payload:e})}function mc(e,t){return vn(this,void 0,void 0,(function*(){return Hi({nativeBridge:this,type:Ci.IOS_MEDIA_UPLOAD,payload:e,timeout:t})}))}function pc(e){return Hi({nativeBridge:this,type:Ci.TOGGLE_QUICKS_HEADER_TAB,payload:e})}function _c(e){return Hi({nativeBridge:this,type:Ci.IS_WEB_BOTTOM_BAR_VISIBLE,payload:e})}function Ec(){return Hi({nativeBridge:this,type:Ci.GET_ASYNC_IRCTC_PAYLOAD,timeout:-1})}function Cc(){return Hi({nativeBridge:this,type:Ci.GET_LOCAL_IRCTC_PAYLOAD})}function bc(e){return Hi({nativeBridge:this,type:Ci.UPDATE_LOCAL_IRCTC_PAYLOAD,payload:e})}function yc(){return Hi({nativeBridge:this,type:Ci.GET_NOTIFICATION_PERMISSION_STATUS,timeout:6e4})}function gc(e){return Hi({nativeBridge:this,type:Ci.GET_INSTALLED_APPS,payload:e})}function Oc(e){return Hi({nativeBridge:this,type:Ci.REFRESH_PARENT_SCREEN,payload:e})}function hc(e){return Hi({nativeBridge:this,type:Ci.CLOSE_APP,payload:e})}function Ac(e){const{cappingMode:t,entityId:a,entityType:n}=e,o={frequencyCappingInfo:{frequencyCapping:{cappingEnabled:!0,cappingMode:t},entityId:""+a,entityType:n,isRealTime:!1}};return Hi({nativeBridge:this,type:Ci.SEND_FREQUENCY_CAPPING_EVENT,payload:o})}function fc(e){return Hi({nativeBridge:this,type:Ci.MANAGE_SWIPE_GESTURE,payload:e,timeout:-1})}function vc(e){return Hi({nativeBridge:this,type:Ci.INVITE_MORE_GROUPCART,payload:e})}function Tc(e){return Hi({nativeBridge:this,type:Ci.DELETE_GROUPCART,payload:e})}function Ic(e){return Hi({nativeBridge:this,type:Ci.LEAVE_GROUPCART,payload:e})}function Sc(){return Hi({nativeBridge:this,type:Ci.INIT_IM_WEB})}function Nc(e){return Hi({nativeBridge:this,type:Ci.UPDATE_IM_SHARED_PREFERENCE,payload:e})}function Rc(e){return Hi({nativeBridge:this,type:Ci.DINEOUT_GET_LOCAL_CART,payload:e})}function Pc(e){return Hi({nativeBridge:this,type:Ci.DINEOUT_CLEAR_LOCAL_CART,payload:e})}function Dc(e){return Hi({nativeBridge:this,type:Ci.DINEOUT_UPDATE_LOCAL_CART,payload:e})}function Lc(e){return Hi({nativeBridge:this,type:Ci.REFRESH_SCREEN,payload:e})}function kc(e){return vn(this,void 0,void 0,(function*(){return Hi({nativeBridge:this,type:Ci.SUBMIT_UPLOADED_FILES,payload:e})}))}function xc(){return Hi({nativeBridge:this,type:Ci.GET_GPS_LOCATION})}function wc(e){return Hi({nativeBridge:this,type:Ci.DOWNLOAD_FILE,payload:e})}function Mc(){return Hi({nativeBridge:this,type:Ci.SHOW_CHAT_BUBBLE})}class jc{constructor(e){this.platform=null,this.alert=Cl.bind(this),this.payUsingAmazonPay=vl.bind(this),this.clearCart=dl.bind(this),this.clearWebHistory=Bl.bind(this),this.close=ml.bind(this),this.closeApp=hc.bind(this),this.directPlaceOrderFailure=Tl.bind(this),this.confirm=gl.bind(this),this.foodTrack=El.bind(this),this.getCheckoutMetaInfo=Ki.bind(this),this.getConfigValue=nc.bind(this),this.getDeviceDetails=Al.bind(this),this.getLocation=Ol.bind(this),this.getUserInfo=ul.bind(this),this.getRestaurantEmpathyData=Sl.bind(this),this.getSwiggyHeadersFromClient=bl.bind(this),this.getSwiggyHeadersDataFromClient=yl.bind(this),this.navigateToScreen=Vi.bind(this),this.orderConfirmedEvent=kl.bind(this),this.orderFailedEvent=xl.bind(this),this.paymentInPendingState=wl.bind(this),this.isPhonepeSdkAvailable=Ml.bind(this),this.isJuspaySdkAvailable=zi.bind(this),this.payUsingJuspayNB=Ji.bind(this),this.payUsingJuspaySavedCard=Zi.bind(this),this.initJuspaySdk=$i.bind(this),this.payUsingUpiIntent=Dl.bind(this),this.payUsingJuspayNewCard=qi.bind(this),this.payUsingPhonepeSdk=jl.bind(this),this.payUsingJuspayWallet=Qi.bind(this),this.payUsingJuspayWalletCred=el.bind(this),this.getNativeUpiAccountList=tl.bind(this),this.onboardNativeUpi=al.bind(this),this.onAddNewNativeUpi=nl.bind(this),this.payUsingNativeUpi=ol.bind(this),this.switchToNativePayment=Fi.bind(this),this.upiIntentAvailableMethods=Pl.bind(this),this.allUpiIntentAvailableMethods=Ll.bind(this),this.storage=fl.bind(this),this.shareOnSocialMedia=Rl.bind(this),this.showHeader=Yi.bind(this),this.sendLinkAccountStatusToNative=Gi.bind(this),this.setAppStateInIdleMode=Il.bind(this),this.postOrderEvent=pl.bind(this),this.storeOrderInfoEvent=_l.bind(this),this.webNavigate=Wi.bind(this),this.initJuspaySdkWallet=Xi.bind(this),this.getSupportUnreadConversationData=Nl.bind(this),this.login=Ul.bind(this),this.changeStatusBarColor=Gl.bind(this),this.addNewAddress=Yl.bind(this),this.androidGenericAddNewAddress=Wl.bind(this),this.editAddress=Fl.bind(this),this.setGeoLocationWithDeepLink=hs.bind(this),this.logEvent=Vl.bind(this),this.logGamoogaEvent=Kl.bind(this),this.logClevertapEvent=zl.bind(this),this.whatsappShare=Jl.bind(this),this.openShareSheet=Xl.bind(this),this.copyTextToClipboard=$l.bind(this),this.imageUpload=ql.bind(this),this.kycInit=Ql.bind(this),this.phoneContact=Zl.bind(this),this.toggleMainScroll=es.bind(this),this.makeDashPayment=ts.bind(this),this.hideLoader=as.bind(this),this.showLoader=ns.bind(this),this.openSuperV3=cs.bind(this),this.toggleNativeBottombar=ds.bind(this),this.toggleQuicksHeaderTab=pc.bind(this),this.getLocalCart=os.bind(this),this.updateLocalCart=rs.bind(this),this.customiseCartItem=is.bind(this),this.applyCoupon=ls.bind(this),this.clearLocalCart=ss.bind(this),this.launchSoftKeyboard=us.bind(this),this.verifyMobileNumber=ms.bind(this),this.launchBrowser=_s.bind(this),this.getCredEligibilityFromAppCache=Es.bind(this),this.getCredEligibility=Cs.bind(this),this.vibrate=bs.bind(this),this.logout=Hl.bind(this),this.enableBackSwipe=ys.bind(this),this.setLocation=Os.bind(this),this.setRecipientInfo=gs.bind(this),this.updateConversationId=As.bind(this),this.getNextStepDetails=fs.bind(this),this.getCurrentAddress=vs.bind(this),this.initInstamartWeb=Sc.bind(this),this.imUpdateLocalCart=Ss.bind(this),this.imUpdateLocalCartItems=Ns.bind(this),this.imGetLocalCart=Ts.bind(this),this.imClearLocalCart=Is.bind(this),this.updateIMSharedPreference=Nc.bind(this),this.checkPermission=Ps.bind(this),this.shouldShowPermissionRationale=Ds.bind(this),this.requestPermission=Ls.bind(this),this.launchAppSettings=ks.bind(this),this.editDirectionsToReach=xs.bind(this),this.iosCheckCameraPermission=ws.bind(this),this.getWalletDetails=Ys.bind(this),this.getSelectedLocation=Fs.bind(this),this.openSelectLocation=Ws.bind(this),this.getLinkedWalletDetails=Vs.bind(this),this.walletDelinked=Ks.bind(this),this.walletAddMoneySuccess=zs.bind(this),this.delinkAmazonPay=$s.bind(this),this.updateProfileInfo=ps.bind(this),this.isLocationEnabled=hl.bind(this),this.toggleNativeSearchBar=tc.bind(this),this.updateNativeSearchBar=ac.bind(this),this.onRefundOptionSet=Rs.bind(this),this.getOneClickCardEligibility=js.bind(this),this.oneClickCardDeEnroll=Ms.bind(this),this.deleteCard=Bs.bind(this),this.saveUsersLastState=Xs.bind(this),this.transactionFailedEvent=Us.bind(this),this.transactionConfirmedEvent=Hs.bind(this),this.submitFeedback=Gs.bind(this),this.switchBottomBarTab=Js.bind(this),this.getTnSSignal=Zs.bind(this),this.setScreenCaptureState=qs.bind(this),this.shareCollectionData=Qs.bind(this),this.updateMenuListComponent=ec.bind(this),this.openNativeVoiceSearch=oc.bind(this),this.updateLauncherIcon=rc.bind(this),this.isLauncherIconEnabled=ic.bind(this),this.showMenuListComponent=lc.bind(this),this.quizProgressUpdate=sc.bind(this),this.updateOrderEvent=cc.bind(this),this.updateAccessToken=dc.bind(this),this.getSortedAddressList=uc.bind(this),this.iosMediaUpload=mc.bind(this),this.isWebBottomBarVisible=_c.bind(this),this.getAsyncIrctcPayload=Ec.bind(this),this.getLocalIrctcPayload=Cc.bind(this),this.updateLocalIrctcPayload=bc.bind(this),this.getNotificationPermissionStatus=yc.bind(this),this.getInstalledApps=gc.bind(this),this.refreshParentScreen=Oc.bind(this),this.updateFrequencyCounter=Ac.bind(this),this.manageSwipeGesture=fc.bind(this),this.inviteMoreGroupCart=vc.bind(this),this.deleteGroupCart=Tc.bind(this),this.leaveGroupCart=Ic.bind(this),this.isInAppUpiEnabled=rl.bind(this),this.getInAppUpiHash=il.bind(this),this.initiateInAppUpiOnboarding=ll.bind(this),this.payUsingInAppUpi=cl.bind(this),this.addNewInAppUpi=sl.bind(this),this.dineoutGetLocalCart=Rc.bind(this),this.dineoutClearLocalCart=Pc.bind(this),this.dineoutUpdateLocalCart=Dc.bind(this),this.refreshScreen=Lc.bind(this),this.submitUploadedFiles=kc.bind(this),this.getGpsLocation=xc.bind(this),this.downloadFile=wc.bind(this),this.showChatBubble=Mc.bind(this),this.platform=e}getPlatform(){return this.platform}}var Bc,Uc;!function(e){e.TRACK="TRACK",e.ORDER_DETAIL="ORDER_DETAIL",e.CART="CART",e.CHAT="CHAT",e.HOME="HOME",e.MENU="MENU",e.REFUND_HISTORY="REFUND_HISTORY",e.COLLECTIONS="COLLECTIONS",e.IM_TRACK_SCREEN="IM_TRACK_SCREEN"}(Bc||(Bc={})),function(e){e.CLS="CLS",e.FCP="FCP",e.FP="FP",e.FID="FID",e.LCP="LCP",e.TTFB="TTFB",e.TBT="TBT",e.DATA_CONSUMPTION="data_consumption",e.LCP_FINAL="LCP_final",e.CLS_FINAL="CLS_final"}(Uc||(Uc={})),Uc.FCP,Uc.LCP,Uc.TTFB,Uc.FP,Uc.LCP_FINAL,Uc.CLS_FINAL,Uc.FID,Uc.CLS,Uc.TBT,Uc.DATA_CONSUMPTION;const Hc=(e,t)=>null==e?null:e.clientHeight>window.innerHeight-t&&"scroll"===getComputedStyle(e).overflowY?e:Hc(e.parentElement,t);let Gc=null;const Yc=()=>Gc||(!!Gc||(Gc=new jc(null)),Gc);var Wc,Fc,Vc,Kc;"function"==typeof SuppressedError&&SuppressedError,Ci.CLOSE_WEBVIEW,function(e){e.PROCESSING="processing",e.PENDING="pending"}(Wc||(Wc={})),function(e){e.RESTAURANT_COUPON_LISTING="RESTAURANT",e.PAYMENT_COUPON_LISTING="PAYMENT"}(Fc||(Fc={})),function(e){e.M2C="M2C",e.LINE_ITEM="LINE_ITEM",e.EXPRESS_HALF_CARD="EXPRESS_HALF_CARD",e.FREEDEL_HALF_CARD="FREEDEL_HALF_CARD"}(Vc||(Vc={})),(Kc||(Kc={})).REGULAR="regular";const zc=e=>{const t=Object(i.useRef)(null),a=Object(i.useRef)(0),n=Object(i.useRef)(!1),o=Object(i.useRef)(null),r=Object(i.useRef)(0);Object(i.useEffect)(()=>{let i=null,l=null,s=!0;const c=window.keyboardStateChanged,d=()=>{i&&window.cancelAnimationFrame(i)},u=e=>{d(),(e=>{null==e||e.style.removeProperty("max-height")})(e),s=!0};return(null==e?void 0:e.current)&&"undefined"!=typeof ResizeObserver&&(t.current=new ResizeObserver(t=>{var o;const i=t[0].contentRect.height,l=i!==r.current;if((null==e?void 0:e.current)&&a.current>0&&!n.current&&l){n.current=!0;const t=i-r.current,a=Number((null===(o=e.current.style.minHeight)||void 0===o?void 0:o.replace("px",""))||e.current.clientHeight);e.current.style.setProperty("min-height",a+t+"px"),r.current=i,n.current=!1}})),(null==e?void 0:e.current)&&"function"==typeof c&&c(!1,0),window.keyboardStateChanged=(c,m)=>{var p,_;if(a.current=c?m:0,null==e?void 0:e.current){if(n.current=!0,((e,t,a)=>{var n;const o=Number(null!==(n=e.clientHeight)&&void 0!==n?n:0);t?e.style.setProperty("min-height",o+a+"px"):e.style.removeProperty("min-height")})(e.current,c,m),c){const e=document.activeElement;e instanceof HTMLElement&&e!==o.current&&(null===(p=t.current)||void 0===p||p.disconnect(),null===(_=t.current)||void 0===_||_.observe(e),o.current=e,r.current=e.clientHeight)}else o.current=null,r.current=0;n.current=!1}else if(c){const e=document.activeElement;if(!e)return;const t=e.getBoundingClientRect(),a=Hc(e,m);a!==l&&u(l),l=a,d(),i=window.requestAnimationFrame(()=>{s&&((e,t)=>{const a=null==e?void 0:e.scrollHeight,n=null==e?void 0:e.clientHeight;if(!a||!n)return;const o=n-t;null==e||e.style.setProperty("max-height",o+"px")})(l,m),s=!1,(({container:e,rect:t,bottomOffset:a=16})=>{let n;if(!e)return;const o=e.getBoundingClientRect(),r=e.scrollTop,i=t.bottom,l=o.bottom-a;n=i<l?r-(l-i):r+(i-l),void 0!==n&&(e.style.setProperty("-webkit-overflow-scrolling","auto"),((e,t)=>{const a=t||0;void 0!==e.scroll?e.scroll(0,Math.max(a,0)):e.scrollTop=Math.max(a,0)})(e,n),e.style.setProperty("-webkit-overflow-scrolling","touch"))})({container:l,rect:t,bottomOffset:24})})}else u(l)},()=>{var e;d(),window.keyboardStateChanged=c,null===(e=t.current)||void 0===e||e.disconnect(),o.current=null,r.current=0}},[e])};var $c,Xc,Jc,Zc,qc,Qc,ed,td,ad,nd;function od(e,t){const[a,n]=Object(i.useState)(()=>{try{if("undefined"==typeof window)return t;const a=window.sessionStorage.getItem(e);return a?JSON.parse(a):t}catch(e){return Object(s.Z)(e),t}}),o=Object(i.useCallback)(t=>{try{if("undefined"==typeof window)return;const o=t instanceof Function?t(a):t;n(o),window.sessionStorage.setItem(e,JSON.stringify(o))}catch(e){Object(s.Z)(e)}},[e,a]);return[a,o]}!function(e){e.TIMER_RESPONSE_RECIEVED="timer_response_recieved",e.TIMER_RENDERED="timer_rendered",e.TIMER_END_UPDATE_CART_CALLED="timer_end_update_cart_called",e.CRAZY_DEALS_TIMER_END_UPDATE_CART_CALLED="crazy_deals_timer_end_update_cart_called",e.CHECKOUT_WEB_CART_SESSION_RECORD="checkout_web_cart_session_record",e.CHECKOUT_WEB_DINEOUT_CART_SESSION_RECORD="checkout_web_dineout_cart_session_record",e.PAYMENT_WEB_EXTERNAL_API="payment_web_external_api",e.PAYMENT_WEB_EXTERNAL_API_ERROR="payment_web_external_api_error",e.PAYMENT_WEB_EXTERNAL_API_NETWORK_ERROR="payment_web_external_place_order_api_network_error",e.PAYMENT_WEB_NATIVE_BRIDGE_REQUEST="payment_web_native_bridge_request",e.PAYMENT_WEB_NATIVE_BRIDGE_RESPONSE="payment_web_native_bridge_response",e.WEBVIEW_REFRESH_STATE="webview_refresh_state",e.WEBVIEW_REFRESH_STATE_ERROR="webview_refresh_state_error",e.WEBVIEW_REFRESH_STATE_RESTORE="webview_refresh_state_restore",e.WEBVIEW_REFRESH_PSR="webview_refresh_journey_psr",e.WEBVIEW_REFRESH_DEBUG="webview_refresh_journey_debug",e.WEBVIEW_REFRESH_INFO="webview_refresh_journey_info",e.WEBVIEW_REFRESH_JS_BRIDGE_OVERRIDE="webview_refresh_js_bridge_override",e.CHECKOUT_WEB_VIEW="checkout_web_view",e.DINEOUT_CHECKOUT_WEB_VIEW="dineout_checkout_web_view",e.TABLE_RESERVATION_CART_P0_COMPONENT_IMPRESSION="table_reservation_cart_crucial_components_impression",e.TABLE_RESERVATION_CART_LOCAL_CART_ERROR="table_reservation_cart_local_cart_error",e.TABLE_RESERVATION_CART_ERROR_PAGE_IMPRESSION="table_reservation_cart_error_page_impression",e.ADD_SWIGGY_MONEY_AUTOPAY_FAILURE="add_swiggy_money_autopay_failure",e.PAYMENT_WEB_CONFIRM_ORDER="payment_web_confirm_order",e.PAYMENT_WEB_ORDER_TERMINAL_ALERT_NAVIGATIONS="payment_web_order_terminal_alert_navigations",e.PAYMENT_WEB_DIRECT_PLACE_ORDER="payment_web_direct_place_order",e.NEW_PAYMENT_FAILURE_HALF_CARD_RENDERED="NEW_PAYMENT_FAILURE_HALF_CARD_RENDERED",e.PAYMENT_WEB_VIEW="payment_web_view",e.PAYMENT_MODES_ADD_NEW_CARD="payment_modes_add_new_card",e.PAYMENT_MODES_MANAGE_CARD="PAYMENT_MODES_MANAGE_CARD",e.PAYMENT_MODES_SECURE_CARD="PAYMENT_MODES_SECURE_CARD",e.PAYMENT_NATIVE_BRIDGE_AMAZON_SDK="payment_native_bridge_amazon_sdk",e.INVALID_WALLET="wp_invalid_wallet",e.WEB_CHECKOUT_BACK_BUTTON_PAYMENT_SCREEN="web_checkout_back_button_payment_screen",e.ADD_SWIGGY_MONEY_PAGE_VIEW="add_swiggy_money_page_view",e.PAYMENT_PROCESS_ORDER_STATE_ERROR="payment_process_order_state_error",e.WEB_PAYMENTS_STORAGE_NOT_AVAILABLE="web_payments_storage_not_available",e.JUSPAY_SDK_NOT_AVAILABLE="wp_juspay_sdk_not_avalble",e.NATIVE_UPI_NR_EVENTS_SDK_ERROR="native_upi_sdk_error",e.NATIVE_UPI_NR_EVENTS_NO_PRIMARY_METHOD_EXISTS="native_upi_no_primary_method_exists",e.PAYMENTS_WEB_PLACE_ORDER="payments_web_place_order",e.PAYMENTS_WEB_DIRECT_PLACE_ORDER="payments_web_direct_place_order",e.PAYMENTS_WEB_DIRECT_PLACE_ORDER_FAILURE="payments_web_direct_place_order_failure",e.WP_ADD_NEW_CARD_PROCEED_TO_PAY="WP_ADD_NEW_CARD_PROCEED_TO_PAY",e.PAYMENT_WEB_CONFIRM_ORDER_FAILED="payment_web_confirm_order_failed",e.AMAZONPAYSDK_FAILURES="amazonpaysdk_failures",e.INVALID_CHECKOUT_META="web_payments_invalid_checkout_meta",e.PAYMENT_AUTOPAY_CANCEL_TRANSACTION_FAILED="payment_autopay_cancel_transaction_failed",e.PAYMENT_WEB_PLACE_ORDER_FAILED="payment_web_place_order_failed",e.CARD_OFFER_TABLE="card_offer_table",e.CARD_OFFER_AND_REWARDS_TABLE="card_offer_and_rewards",e.INLINE_WEB_CART_API_STATE="inline_web_cart_api_state",e.CW_INVALID_HEADERS="cw_invalid_headers",e.TRANSITION_SCREEN_ERROR="transition_screen_error",e.CW_DNS_TIME="checkout_web_dns_time",e.CART_ERROR="cart_error",e.CART_INLINE_EMPTY_ITEMS="cart_inline_empty_items",e.CART_INLINE_INVALID_LOCALCART="cart_inline_invalid_localcart",e.TURBO_LOADER_DEBUG="turbo_loader_debug",e.TURBO_SCREEN_LOADER_STATE="turbo_screen_loader_state",e.TURBO_SDK_LOADER_SCREEN_ERROR="turbo_sdk_loader_screen_error",e.DO_PAYMENT_SUCCESS_PAGE_VIEW="dineout_payment_success_page_view",e.TRANSITION_SCREEN_LOAD_TIME="transition_screen_load_time",e.CART_LOTTIE_ERROR="cart_lottie_error",e.GENERIC_ERROR_PAGE_IMPRESSION="generic_error_page_impression",e.INITIAL_IMPRESSION_COUPON_WIDGET="initial_impression_coupon_widget",e.ONSCROLL_IMPRESSION_COUPON_WIDGET="onscroll_impression_coupon_widget",e.POST_LOGIN_FLOW="post_login_flow",e.CHECKOUT_WEB_ERROR_BOUNDARY="checkout_web_error_boundary",e.HERO_INLINE_EVENT_CAPTURE_ERROR="hero_inline_event_capture_error",e.ERROR_IN_JUSPAY_TOKEN="error_in_juspay_token",e.SWIGGY_UPI_ACCOUNTS_MISMATCH="swiggy_upi_accounts_mismatch",e.SWIGGY_UPI_PAYMENT_FAILURE="swiggy_upi_payment_failure",e.SWIGGY_UPI_SDK_ERROR="swiggy_upi_sdk_error",e.GROUP_CART_WEB_VIEW="group_cart_web_view",e.GROUP_CART_TO_CHECKOUT_TRANSITION="group_cart_to_checkout_transition",e.GROUP_CART_LOCK_API_FAILURE="group_cart_lock_api_failure",e.GROUP_CART_GENERIC_ERROR_IMPRESSION="group_cart_generic_error_impression",e.EMI_PAYMENT_GROUP_ERROR="emi_payment_group_error",e.EMPTY_DELIVERY_RENDERER_ERROR="empty_delivery_renderer_error",e.MWEB_UPI_INTENT_REDIRECT_FAILURE="mweb_upi_intent_redirect_failure",e.INCORRECT_CARD_BIN="checkout_web_incorrect_card_bin",e.ONE_GRATIFICATION_POPUP_EVENTS="one_gratification_popup_events",e.ONE_GRATIFICATION_HALF_CARD_EVENTS="one_gratification_half_card_events",e.FETCH_APP_STORAGE_DATA="fetch_app_storage_data",e.GLOBAL_JS_BRIDGE_INCORRECT_TRIGGER="checkout_global_js_bridge_invalid_trigger",e.IPL_SWIGGY_SIXES_DEBUG="ipl_swiggy_sixes_debug",e.EMPTY_REMOVE_PLAN_MESSAGE="empty_remove_plan_message",e.CART_ADDRESS_NUDGE_CONFIG="cart_address_nudge_config",e.TURBO_CART_AMOUNT_MISMATCH="turbo_cart_amount_mismatch",e.TURBO_CART_AMOUNT_MISMATCH_V2="turbo_cart_amount_mismatch_v2",e.TURBO_CART_AMOUNT_MISMATCH_V3="turbo_cart_amount_mismatch_v3"}($c||($c={})),function(e){e[e.SHOW_PAYMENTS=0]="SHOW_PAYMENTS",e[e.SHOW_CART=1]="SHOW_CART",e[e.PROCESS_ORDER=2]="PROCESS_ORDER",e[e.VPA_TIMER=3]="VPA_TIMER",e[e.CONFIRM_ORDER=4]="CONFIRM_ORDER",e[e.PAYMENT_FAILED=5]="PAYMENT_FAILED",e[e.ORDER_INTERRUPTION=6]="ORDER_INTERRUPTION",e[e.SHOW_FULL_PAGE_LOADER=7]="SHOW_FULL_PAGE_LOADER",e[e.ADD_MONEY_CONFIRM=8]="ADD_MONEY_CONFIRM",e[e.INVALID_COUPON_ALERT=9]="INVALID_COUPON_ALERT",e[e.DIRECT_PLACE_ORDER=10]="DIRECT_PLACE_ORDER",e[e.PAYMENT_TXN_STATUS_POLLER=11]="PAYMENT_TXN_STATUS_POLLER",e[e.POST_SWIGGY_ADD_MONEY=12]="POST_SWIGGY_ADD_MONEY",e[e.POST_PAYLATER_LINKING=13]="POST_PAYLATER_LINKING",e[e.SHOW_SWIGGYMONEY_PAYMENTS=14]="SHOW_SWIGGYMONEY_PAYMENTS",e[e.ADD_SWIGGY_MONEY=15]="ADD_SWIGGY_MONEY",e[e.ADD_NEW_CARD=16]="ADD_NEW_CARD",e[e.MANAGE_CARD=17]="MANAGE_CARD",e[e.SECURE_CARD=18]="SECURE_CARD",e[e.PROCESS_TRANSACTION=19]="PROCESS_TRANSACTION",e[e.CONFIRM_TRANSACTION=20]="CONFIRM_TRANSACTION",e[e.TRANSACTION_FAILED=21]="TRANSACTION_FAILED",e[e.GENERIC_PAYMENT_ALERT=22]="GENERIC_PAYMENT_ALERT",e[e.PAY_ON_DELIVERY_PAYMENT_ALREADY_DONE=23]="PAY_ON_DELIVERY_PAYMENT_ALREADY_DONE",e[e.AUTOPAY_ELIGIBLE_PAYMENT_FAILED=24]="AUTOPAY_ELIGIBLE_PAYMENT_FAILED",e[e.AUTOPAY_ORDER_PROCESS_SUCCESSFUL=25]="AUTOPAY_ORDER_PROCESS_SUCCESSFUL",e[e.LINK_WALLET_WITH_NUMBER=26]="LINK_WALLET_WITH_NUMBER",e[e.ADD_MONEY_AND_DELINK_WALLET=27]="ADD_MONEY_AND_DELINK_WALLET",e[e.PAYLATER_LINKING_CONFIRMATION=28]="PAYLATER_LINKING_CONFIRMATION",e[e.TURBO_PAY=29]="TURBO_PAY",e[e.TURBO_PLACE_ORDER=30]="TURBO_PLACE_ORDER",e[e.SHOW_COUPON_LISTING=31]="SHOW_COUPON_LISTING",e[e.PAYLATER_SIMPL_LINKING_FAILED=32]="PAYLATER_SIMPL_LINKING_FAILED",e[e.PAYLATER_SIMPL_LINKING_SUCCESS_DONT_PROCEED_WITH_ORDER=33]="PAYLATER_SIMPL_LINKING_SUCCESS_DONT_PROCEED_WITH_ORDER",e[e.PAYLATER_SIMPL_LINKING_SUCCESS_PROCEED_WITH_ORDER=34]="PAYLATER_SIMPL_LINKING_SUCCESS_PROCEED_WITH_ORDER",e[e.DINEOUT_PAYMENT_SUCCESS=35]="DINEOUT_PAYMENT_SUCCESS",e[e.DINEOUT=36]="DINEOUT",e[e.SHARED_CART=37]="SHARED_CART",e[e.GENERIC_PAYMENT_TOAST=38]="GENERIC_PAYMENT_TOAST",e[e.UNLOCK_GROUP_CART=39]="UNLOCK_GROUP_CART",e[e.DINEOUT_BILL_PAYMENT_CART=40]="DINEOUT_BILL_PAYMENT_CART",e[e.DINEOUT_TABLE_RESERVATION_CART=41]="DINEOUT_TABLE_RESERVATION_CART",e[e.DINEOUT_DIRECT_PLACE_ORDER=42]="DINEOUT_DIRECT_PLACE_ORDER",e[e.WEBVIEW_REFRESH_ORDER_ID_MISMATCH_ALERT=43]="WEBVIEW_REFRESH_ORDER_ID_MISMATCH_ALERT"}(Xc||(Xc={})),Oe.REGULAR,function(e){e.CONFIRM_ORDER_FAIL="CONFIRM_ORDER_FAIL",e.CONFIRM_ORDER_SUCCESS="CONFIRM_ORDER_SUCCESS",e.APP_WEBVIEW_STATE_EMPTY="APP_WEBVIEW_STATE_EMPTY"}(Jc||(Jc={})),function(e){e.VPA_TIMER="VPA_TIMER",e.PROCESS_ORDER="PROCESS_ORDER",e.UPI_POLLER="UPI_POLLER"}(Zc||(Zc={})),function(e){e.CONFIRM_ORDER_SUCCESS="CONFIRM_ORDER_SUCCESS",e.CONFIRM_ORDER_FAILURE="CONFIRM_ORDER_FAILURE"}(qc||(qc={})),l.a.createContext({state:{shouldHandle:!1},setState:()=>{}}),function(e){e.ONCE_PER_SESSION="ONCE_PER_SESSION",e.EVERYTIME_PER_SESSION="EVERYTIME_PER_SESSION"}(Qc||(Qc={})),function(e){e.ONLY_CHECK="ONLY_CHECK",e.CHECK_AND_UPDATE="CHECK_AND_UPDATE"}(ed||(ed={})),function(e){e.INIT="INIT",e.IN_PROGRESS="IN_PROGRESS",e.SUCCESS="SUCCESS",e.FAILED="FAILED"}(td||(td={}));class rd{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return this._size+e}}new rd({maxSize:1e5}),function(e){e.GET="GET",e.POST="POST",e.DELETE="DELETE",e.PATCH="PATCH"}(ad||(ad={})),(nd||(nd={})).POP_SHELL_APP="pop-shell-app";const id=e=>{},ld={clickEvent:id,impressionEvent:id,screenViewEvent:id,landingSourceEvent:e=>{},dpEvent:e=>{}};Object.assign(Object.assign({},{GTM_CLICK_EVENT:"click",GTM_SCREEN_VIEW_EVENT:"screen-view",GTM_IMPRESSION_EVENT:"impression",GTM_LANDING_EVENT:"landing",GTM_LANDING_SOURCE_EVENT:"landing-source"}),{METRIC_EVENT:"PROMETHEUS_EVENT",ECOMMERCE_EVENT:"ECOMMERCE_EVENT"});const sd=(e="")=>e?((Number(e)^16*Math.random())>>Number(e)/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,sd);var cd,dd;sd(),"undefined"==typeof window||/bot|googlebot|crawler|spider|robot|crawling/i.test(window.navigator.userAgent),l.a.createContext(ld),function(e){e[e.TABLE_RESERVATION_CART=0]="TABLE_RESERVATION_CART",e[e.BILL_PAYMENT_CART=1]="BILL_PAYMENT_CART",e[e.EVENT_BOOKING_CART=2]="EVENT_BOOKING_CART"}(cd||(cd={})),Object(i.createContext)({cartType:null,setCartType:()=>{},cartState:{localCart:null,reviewedCart:null},setCartState:()=>{}}),function(e){e.CONFIRM_ORDER="CONFIRM_ORDER",e.WALLET_MONEY_RECEIVED="WALLET_MONEY_RECEIVED",e.PAYMENTS="PAYMENTS",e.BILL_PAYMENT_CART="BILL_PAYMENT_CART",e.TABLE_RESERVATION_CART="TABLE_RESERVATION_CART",e.EVENT_BOOKING_CART="EVENT_BOOKING_CART",e.DINEOUT_SUCCESS_SCREEN="DINEOUT",e.PAYLATER_SIMPL_LINKING_FAILED="PAYLATER_SIMPL_LINKING_FAILED",e.PAYLATER_SIMPL_LINKING_SUCCESS_DONT_PROCEED_WITH_ORDER="PAYLATER_SIMPL_LINKING_SUCCESS_DONT_PROCEED_WITH_ORDER",e.PAYLATER_SIMPL_LINKING_SUCCESS_PROCEED_WITH_ORDER="PAYLATER_SIMPL_LINKING_SUCCESS_PROCEED_WITH_ORDER"}(dd||(dd={})),cd.TABLE_RESERVATION_CART,dd.TABLE_RESERVATION_CART,cd.BILL_PAYMENT_CART,dd.BILL_PAYMENT_CART,cd.EVENT_BOOKING_CART,dd.EVENT_BOOKING_CART,l.a.createContext(ld),l.a.createContext({host:je,paymentHost:je});const ud={type:Xc.SHOW_CART,payload:null};var md,pd,_d,Ed,Cd,bd,yd,gd,Od,hd,Ad,fd,vd,Td,Id,Sd,Nd,Rd,Pd,Dd,Ld,kd,xd,wd,Md,jd,Bd,Ud,Hd,Gd,Yd,Wd,Fd,Vd,Kd,zd,$d,Xd,Jd,Zd,qd,Qd,eu,tu,au,nu,ou,ru,iu,lu;l.a.createContext({checkoutState:ud,setCheckoutState:()=>{}}),l.a.createContext({host:je,analyticsHost:je,simplPostLinkingRedirectUrl:je,enableConfirmOrderDifferentialOrderIdAlert:je}),l.a.createContext({user:je,setUser:e=>{}}),l.a.createContext({showConfetti:()=>{}}),l.a.createContext({deliverySelectedSlot:{deliveryTimeAnnotation:"",deliveryTime:""},setDeliverySelectedSlot:e=>{}}),l.a.createContext({confirmOrderContext:{data:null,statusCode:0,statusMessage:"",rawResponse:void 0},setConfirmOrderContext:()=>{}}),l.a.createContext({checkoutWebXP:{},checkoutWebWP:{}}),l.a.createContext({isGroupCartFlow:!1,setIsGroupCartFlow:()=>{},state:{data:void 0,getSharedCartLoading:!0,updateSharedCartLoading:!1,error:{error:!1},isCartLocked:!1},setState:()=>{}}),function(e){e[e.GROUP_CART_STATE_FETCH_IN_PROGRESS=0]="GROUP_CART_STATE_FETCH_IN_PROGRESS",e[e.GROUP_CART_STATE_UPDATE_IN_PROGRESS=1]="GROUP_CART_STATE_UPDATE_IN_PROGRESS",e[e.UPDATE_GROUP_CART_STATE=2]="UPDATE_GROUP_CART_STATE"}(md||(md={})),l.a.createContext({registerCrouton:()=>{},shouldRenderCrouton:!1,onCloseCrouton:()=>{},croutonContent:null,registerOverlays:()=>{},enabledOverlayId:"",enabledCroutonId:"",onCloseOverlay:()=>{}}),function(e){e[e.NOT_SHOWN=-1]="NOT_SHOWN",e[e.SHOW=0]="SHOW",e[e.SHOWN=1]="SHOWN"}(pd||(pd={})),function(e){e.CLEAR_CART="clearcart",e.REMOVE_SUPER="removesuper",e.REMOVE_UNAVAILABLE_ITEMS="removeunavailableitems",e.VIEW_SIMILAR_RESTAURANTS="viewsimilarrestaurants",e.GOTO_SIMILAR_RESTAURANTS="gotosimilarrestaurants",e.GO_TO_HOME="gotohome",e.RETRY="retry",e.SELECT_ANOTHER_SLOT="selectanotherslot",e.ADD_MORE_ITEMS="addmoreitems"}(_d||(_d={})),function(e){e.COUPON_CARD="type.googleapis.com/swiggy.gandalf.widgets.v2.CouponSection",e.COUPON_TEXT_BANNER="type.googleapis.com/swiggy.gandalf.widgets.v2.TextBanner"}(Ed||(Ed={})),function(e){e.OFFER_CARD_TYPE_POCKET_HERO="OFFER_CARD_TYPE_POCKET_HERO",e.OFFER_CARD_TYPE_MAX_SAVINGS="OFFER_CARD_TYPE_MAX_SAVINGS"}(Cd||(Cd={})),function(e){e.OFFER_CARD_TYPE_INVALID="OFFER_CARD_TYPE_INVALID",e.OFFER_CARD_TYPE_REWARD_OFFER="OFFER_CARD_TYPE_REWARD_OFFER",e.OFFER_CARD_TYPE_VALUE_MEALS="OFFER_CARD_TYPE_VALUE_MEALS",e.OFFER_CARD_TYPE_POCKET_HERO="OFFER_CARD_TYPE_POCKET_HERO"}(bd||(bd={})),function(e){e[e.INVALID=0]="INVALID",e[e.TOP_UP=1]="TOP_UP",e[e.AUTO_APPLY=2]="AUTO_APPLY"}(yd||(yd={})),function(e){e.INVALID="INVALID",e.IPL_SWIGGY_SIXES="SUPER_SIX_OFFER",e.FTUE="FTUE"}(gd||(gd={})),(Od||(Od={})).IPL_SUPER_SIX_OFFER="SUPER_SIX_OFFER",function(e){e.MORE_OFFERS="COUPON_SECTION_TYPE_MORE_OFFERS",e.PAYMENT_OFFERS="COUPON_SECTION_TYPE_PAYMENT_OFFERS",e.BEST_COUPON="COUPON_SECTION_TYPE_BEST_COUPONS",e.GREAT_DEALS="COUPON_SECTION_TYPE_GREAT_DEALS",e.APPLIED_OFFERS="COUPON_SECTION_TYPE_APPLIED_OFFERS",e.RECOMMENDED_OFFERS="COUPON_SECTION_TYPE_RECOMMENDED_OFFERS"}(hd||(hd={})),function(e){e[e.NON_VEG=0]="NON_VEG",e[e.VEG=1]="VEG",e[e.EGG=2]="EGG"}(Ad||(Ad={})),function(e){e.DEFAULT="default",e.BIG="large_image_on_right",e.SMALL="small_image_on_left"}(fd||(fd={})),function(e){e.NORMAL="NORMAL",e.SUPER="SUPER",e.SUPER_V3="SUPER_V3"}(vd||(vd={})),function(e){e.WAS_SUPER="WAS_SUPER",e.NOT_SUPER="NOT_SUPER",e.INVALID_SUPER="INVALID_SUPER",e.SUPER="SUPER"}(Td||(Td={})),function(e){e.DEFAULT="default",e.DISABLE_CTA="disable_cta",e.DISABLE_DESCRIPTION="disable_description"}(Id||(Id={})),function(e){e.COUPON_LOCKED_WIDGET="coupon_locked_widget",e.ADD_MORE_ITEMS_TEXT="add_more_items_text"}(Sd||(Sd={})),function(e){e.DEFAULT="DEFAULT",e.VARIANT_WITH_SAVINGS="VARIANT_WITH_SAVINGS",e.VARIANT_WITH_UPSELL="VARIANT_WITH_UPSELL",e.VARIANT_WITH_SAVING_UPSELL="VARIANT_WITH_SAVING_UPSELL",e.VARIANT_WITHOUT_SAVING_UPSELL="VARIANT_WITHOUT_SAVING_UPSELL"}(Nd||(Nd={})),function(e){e.CONTROL="0",e.TEST1="1",e.TEST2="2",e.TEST3="3",e.TEST4="4"}(Rd||(Rd={})),function(e){e.CONTROL="cart_1_0",e.CART_V2="cart_2_0",e.CART_V2_WITH_OLD_TURBO_V2="cart_2_0_with_old_turbo",e.CART_V2_WITH_OLD_TURBO_V2_WITHOUT_UPSELL="cart_2_0_with_old_turbo_without_one_item_upsell"}(Pd||(Pd={})),function(e){e.POR_DISABLE="v1_disable",e.POR_V1_ENABLE="v1_enable",e.POR_V2_ENABLE="v2_enable"}(Dd||(Dd={})),function(e){e.TRUE="true",e.FALSE="false"}(Ld||(Ld={})),function(e){e.BATCH_NO_RUSH="BATCH_NO_RUSH",e.PRIORITY="PRIORITY",e.STANDARD="STANDARD",e.BATCH_OPT_IN="BATCH_OPT_IN",e.EXPRESS="EXPRESS"}(kd||(kd={})),function(e){e.GREYED="GREYED",e.NOT_VISIBLE="NOT_VISIBLE",e.VISIBLE="VISIBLE"}(xd||(xd={})),function(e){e.EcoSaver="ECO_SAVER",e.Monetary="MONETARY"}(wd||(wd={})),function(e){e.FREE_DELIVERY="BATCHABLE_FREEDEL",e.CASHBACK="BATCHABLE_CASHBACK"}(Md||(Md={})),function(e){e.CART_API_FETCHED="CART_API_FETCHED",e.CART_API_ERROR="CART_API_ERROR",e.FETCH_API_ERROR="FETCH_API_ERROR"}(jd||(jd={})),function(e){e.DEFAULT="Default",e.NEW="New"}(Bd||(Bd={})),function(e){e.NUDGE_TYPE_AUTO_ADD="NUDGE_TYPE_AUTO_ADD",e.NUDGE_TYPE_ONE_TAP="NUDGE_TYPE_ONE_TAP"}(Ud||(Ud={})),function(e){e.ADD="ADD",e.REMOVE="Remove",e.CONFIRM="Confirm"}(Hd||(Hd={})),function(e){e[e.ADD=0]="ADD",e[e.REMOVE=1]="REMOVE"}(Gd||(Gd={})),function(e){e.ASSET_TYPE_IMAGE="ASSET_TYPE_IMAGE",e.ASSET_TYPE_LOTTIE="ASSET_TYPE_LOTTIE"}(Yd||(Yd={})),function(e){e.DEFAULT="DEFAULT",e.M2C_BLACK_RENEWAL="M2C_BLACK_RENEWAL"}(Wd||(Wd={})),function(e){e.COACH_NO="coachNo",e.SEAT_NO="seatNo",e.CONTACT_NO="contactNo"}(Fd||(Fd={})),(Vd||(Vd={})).ONE_TIME_PROMISE="PROMISE_TYPE_ON_TIME",function(e){e.CLEAR_CART="clearCart",e.GO_TO_HOME="goToHome",e.GO_TO_SIMILAR_RESTAURANT="goToSimilarRestaurants",e.GO_TO_LOGIN="goToLogin"}(Kd||(Kd={})),function(e){e.ICON="icon",e.BUTTON="button",e.LABEL="label",e.LINK="link"}(zd||(zd={})),function(e){e.PRIMARY="primary",e.SECONDARY="secondary"}($d||($d={})),function(e){e.BOLT_SELECTION="BOLT_SELECTION",e.STANDARD_BOLT_SELECTION="STANDARD_BOLT_SELECTION"}(Xd||(Xd={})),function(e){e.ONE_BLACK_OTP="ONE_BLACK_OTP",e.CBCC_NUDGE_CROUTON="CBCC_NUDGE_CROUTON",e.COUPON_LISTING="COUPON_LISTING",e.COUPONLESS_SAVINGS="COUPONLESS_SAVINGS",e.DELIVERY_INSTRUCTION="DELIVERY_INSTRUCTION",e.DELIVERY_SPEED="DELIVERY_SPEED",e.CRAZY_DEAL_EXPIRY_TIMER="CRAZY_DEAL_EXPIRY_TIMER",e.CRAZY_DEAL_EXPIRED="CRAZY_DEAL_EXPIRED",e.IPL_SWIGGY_SIXES="IPL_SWIGGY_SIXES",e.FREE_DEL_AND_CASHBACK_TOAST="FREE_DEL_AND_CASHBACK_TOAST",e.DISCOUNTING_TOAST="DISCOUNTING_TOAST"}(Jd||(Jd={})),function(e){e.M2C_HALFCARD="M2C_HALFCARD",e.FTUE_HALFCARD="FTUE_HALFCARD",e.BOLT_HALF_CARD="BOLT_HALF_CARD"}(Zd||(Zd={})),function(e){e.AUTO_APPLIED_COUPON="AUTO_APPLIED_COUPON",e.TRADE_DISCOUNT_COUPON="TRADE_DISCOUNT_COUPON",e.INSTANT_COUPON="INSTANT_COUPON",e.POCKET_HERO_CASHBACK="POCKET_HERO",e.EXPIRY_CASHBACK="EXPIRY_CASHBACK",e.BOLT_POPUP="BOLT_POPUP",e.GRATIFICATION_POPUP="GRATIFICATION_POPUP"}(qd||(qd={})),(Qd||(Qd={})).CART_HEADER_LOTTIE="CART_HEADER_LOTTIE",function(e){e[e.PRIORITY_ORDER_ONE=1]="PRIORITY_ORDER_ONE",e[e.PRIORITY_ORDER_TWO=2]="PRIORITY_ORDER_TWO",e[e.PRIORITY_ORDER_THREE=3]="PRIORITY_ORDER_THREE"}(eu||(eu={})),function(e){e[e.AUTO_APPLIED_COUPON=1]="AUTO_APPLIED_COUPON",e[e.M2C=2]="M2C",e[e.M2C_FTUE=3]="M2C_FTUE",e[e.BOLT_POPUP=4]="BOLT_POPUP",e[e.BOLT_HALF_CARD=5]="BOLT_HALF_CARD",e[e.GRATIFICATION_POPUP=6]="GRATIFICATION_POPUP",e[e.LOTTIE_ANIMATION=7]="LOTTIE_ANIMATION"}(tu||(tu={})),function(e){e.MODAL="MODAL",e.HALFCARD="HALFCARD",e.LOTTIE="LOTTIE",e.CROUTON="CROUTON"}(au||(au={})),function(e){e.ADD_MORE_ITEMS="ADD_MORE_ITEM",e.SEND_CUTLERY="SEND_CUTLERY",e.COOKING_INSTRUCTIONS="COOKING_INSTRUCTIONS",e.ADD_MESSAGE_ON_CAKE="ADD_MESSAGE_ON_CAKE"}(nu||(nu={})),function(e){e.POPULAR="POPULAR",e.BEVERAGE="BEVERAGE",e.SIDE="SIDE",e.DESSERT="DESSERT"}(ou||(ou={})),function(e){e.INVALID="INVALID",e.IPL_SWIGGY_SIX_OFFER_EXPIRY_TIMER_UPDATE="IPL_SWIGGY_SIX_OFFER_EXPIRY_TIMER_UPDATE"}(ru||(ru={})),function(e){e.APP_JS_BRIDGE="app_js_bridge",e.UPDATE_CART="checkout_update_cart",e.FETCH_COUPONS="pl_fetch_coupons"}(iu||(iu={})),function(e){e.DISABLED="DISABLED",e.SIX_HIT="SIX_HIT",e.CONSECUTIVE_SIXES_HIT="CONSECUTIVE_SIXES_HIT",e.EXPIRED="EXPIRED"}(lu||(lu={})),au.MODAL,au.HALFCARD,au.LOTTIE,au.CROUTON,l.a.createContext({play:()=>{},pause:()=>{},resume:()=>{},stop:()=>{},isPlaying:!1});const su={tickerTimerInMinSec:{enabled:!1},croutonCommsState:lu.DISABLED};var cu,du,uu;function mu(e){switch(e.color){case uu.GREEN:return l.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.54L12.105 10.4L8 6.26L8.9843 5L14 10.4L8.9843 15.8L8 14.54Z",fill:"#1BA672"}))}return l.a.createElement("svg",Object.assign({width:"8",height:"12",viewBox:"0 0 8 12",fill:"none"},e,{"data-testid":e["data-testid"]}),l.a.createElement("path",{d:"M1 1.00024L6 6.00024L1 11.0002",stroke:"#BABBC0",strokeWidth:"1.5"}))}l.a.createContext(su),function(e){e[e.UPDATE_LOCAL_AND_REVIEWED_CART=0]="UPDATE_LOCAL_AND_REVIEWED_CART",e[e.UPDATE_LOCAL_CART=1]="UPDATE_LOCAL_CART",e[e.UPDATE_REVIEWED_CART=2]="UPDATE_REVIEWED_CART",e[e.UPDATE_CART=3]="UPDATE_CART",e[e.CLEAR_LOCAL_AND_REVIEWED_CART=4]="CLEAR_LOCAL_AND_REVIEWED_CART",e[e.REMOVE_CART_ITEM=5]="REMOVE_CART_ITEM",e[e.UPDATE_ERROR_PAYLOAD=6]="UPDATE_ERROR_PAYLOAD"}(cu||(cu={})),function(e){e.DELIVERY_TYPE="DELIVERY_SPEED",e.TIP="CARD_INFORMATION",e.INSTRUCTIONS="DELIVERY_INSTRUCTIONS",e.SELF_DELIVERY="SELF_DELIVERY_INSTRUCTIONS"}(du||(du={})),Object(i.createContext)({}),(uu||(uu={})).GREEN="green";var pu=Object(i.memo)((function(e){return l.a.createElement(mu,Object.assign({},e))}));const _u=e=>{const{data:t,children:a,onClickAnotherCards:n,showAnotherCardCTA:o,halfCardContentClassName:r}=e,{halfCardTitle:c,knowMoreMessage:u}=t,[m,p]=l.a.useState(!1),_=Object(i.useRef)(null),E=l.a.useCallback(()=>{p(!0),e.onClickKnowMoreEvent()},[e]),C=l.a.useMemo(()=>d()(Ur,r),[r]);return zc(_),l.a.createElement("div",{"data-testid":"oneClickPromoHalfCard_component",ref:_},l.a.createElement("div",{"data-testid":"oneClickPromoHalfCard_header",className:Br},l.a.createElement(s.E,{withBg:!0})),l.a.createElement("div",{className:kr},l.a.createElement("div",{className:xr},l.a.createElement("div",{className:jr},l.a.createElement("div",null,l.a.createElement("div",{"data-testid":"oneClickPromoHalfCard_title",className:wr},c),u&&!m&&l.a.createElement("div",{className:Mr,onClick:E,"data-testid":"oneClickPromoHalfCard_knowMore"},In.KNOW_MORE),u&&m&&l.a.createElement("div",{"data-testid":"oneClickPromoHalfCard_subTitle",className:Mr},u))))),l.a.createElement("div",{className:C},a,o&&l.a.createElement("div",{className:"OneClickPaymentHalfCard_paymentAlertMoreCardsWrapper_mvxhTd3a",onClick:n,"data-testid":"oneClickPromoHalfCard_seeAllCards"},l.a.createElement("div",{className:"OneClickPaymentHalfCard_paymentAlertMoreCardsContainer_kIe6-C41"},l.a.createElement("div",null,In.SELECT_ANOTHER_CARD),l.a.createElement(s.c,{as:"div"},l.a.createElement(pu,null))))))};function Eu(e){const{data:t,onClose:a}=e,n=fn(e,["data","onClose"]);return l.a.createElement("div",null,l.a.createElement(s.e,{closeButtonClassName:"OneClickPaymentHalfCard_paymentAlertMoreCardsContainerBottomSheetClose_Ie2k-uF4",onClose:a,hideOnOverlayClick:!0,closeButtonDataTestId:"oneClickPromoHalfCard_close"},e=>l.a.createElement(_u,Object.assign({data:t,onClose:a},n,e))))}Ho(".styles_secureCardMessage_V0A1ibHq{font-size:13px;line-height:16px;font-weight:200;letter-spacing:-.3px;margin-top:16px;margin-left:48px;color:rgba(2,6,12,.4509803922)}");var Cu=Object(i.memo)((function(e){const{isCardSecured:t,isOneClickPromotionFlow:a,isTokeniseSupported:n,cardBrand:o="",selected:r}=e;return a&&!t&&n&&r?l.a.createElement("div",{className:"styles_secureCardMessage_V0A1ibHq"},Object(s.hb)("By enabling this card, you agree to secure it with {0} for seamless future payments.",o)):null})),bu=Object(i.memo)((function({message:e,selected:t}){return Object(s.ub)(e)||!t?null:l.a.createElement(m.Text,{as:"p",variant:"V2.body3.neutral.medium",color:"text_Low_Emphasis",className:"Card-v4_cvvMessage_iDvu2Q-c","aria-label":e,"data-testid":Ea.CVV_MESSAGE},e)}));const yu=({paymentMethodData:e,paymentData:t,balance:a,showLessBalanceText:n,isSelected:o})=>{const r=o?"Selected":"",i=Po(e),l=Object(s.hb)("Remaining balance: ₹{0}.",String(a)),c=n?Object(s.hb)(In.LOW_BALANCE_DETAIL,String(t.additionalBalanceRequired)):"";return Object(s.db)(e.displayName,r,l,i,c)()},gu=e=>{const t=Lo(e);return Object(s.db)(e.displayName,t)()},Ou=e=>"AMAZONPAY"===e.paymentCode.toUpperCase()||"AMAZONPAYWEB"===e.paymentCode.toUpperCase(),hu=e=>2===e,Au=e=>e.paymentCode.replace("-SSO",""),fu=e=>"PHONEPE"===Au(e).toUpperCase(),vu=(e=!1)=>({phonepe_payment_type:e?"SDK":"REDIRECT"}),Tu=e=>({payment_method_meta:{isEnoughBalanceInWallet:e}}),Iu=e=>e.startsWith(In.RUPEE)?Number(e.slice(1)):Number(e),Su=e=>{switch(e.walletCode){case G.paytmpostpaid:case G.paytm:return Object(s.hb)(In.DELINK_CONFIRMATION_METHOD_ACCOUNT_TITLE,In.PAYTM);case G.simpl:return Object(s.hb)(In.DELINK_CONFIRMATION_METHOD_ACCOUNT_TITLE,In.SIMPL);default:return In.DELINK_CONFIRMATION_TITLE}},Nu=e=>{switch(e.walletCode){case G.paytmpostpaid:case G.paytm:return Object(s.hb)(In.DELINK_CONFIRMATION_METHOD_ACCOUNT_SUBTITLE,In.PAYTM);default:return""}},Ru=e=>-1!==[z.WALLET,z.WALLET_WEB].indexOf(e.groupName.toUpperCase()),Pu=(e,t)=>{const a=Ou(e),{isPhonepeSdkAvailable:n}=t.getPhonepeSdkStatus();let o;fu(e)&&(o=vu(n));const{state:r}=t.getAmazonPaySdkStatus();return a&&r&&(o=Tu(r.isBalanceSufficient)),o},Du=e=>{const t=e.enabled||!!e.meta.monthlyDebitLimitExceeded;return So(Object.assign(Object.assign({},e),{enabled:t}))},Lu=({displayName:e,meta:t,isTurboPaymentMethod:a})=>{var n;return!a&&Ke(t.nickname)&&Ke(t.cardIssuer)?"":null!==(n=e.slice(-4))&&void 0!==n?n:""},ku=(e,t)=>{const a=So(e),n=No(e),o=Ro(e);let r=Po(e);const i=(ho(e)||Oo(e))&&Ke(r);let l,s;if(Kn(e)){const t=e.meta;l=ro(e.displayName,t,!0),s=Lu({displayName:n,meta:t,isTurboPaymentMethod:!0}),r=null!==(c=e.meta.promoMsg)&&void 0!==c?c:""}var c;return{iconUrl:a,showPayUsingSuperScript:i,methodDisplayName:l||n,promoMsg:r,discount:o,balanceMeta:{show:!0,value:t},showInlineBalance:Ru(e)||e.groupName.toUpperCase()===z.SWIGGY_INSTRUMENTS||Co(e),showNewLineBalance:$n(e),cardSubName:s}},xu=(e,t)=>t?"Your preferred payment option has been selected":(null==e?void 0:e.toUpperCase())===X?"Slide to place your order with Cash on delivery!":"Swipe to pay with your most preferred payment option",wu=e=>{const{onSecureCardInfoClickAction:t,onKnowMoreTokenizationClickAction:a,oneClickEvents:n}=e,[o,r]=Object(i.useState)({show:!1}),[l,s]=Object(i.useState)({show:!1}),c=Object(i.useCallback)(e=>{e.stopPropagation(),"function"==typeof a&&a(),r({show:!0,actions:{primaryAction:{text:In.GOT_IT,onClick:()=>{"function"==typeof t&&t(on.GOT_IT),r({show:!1})}}}})},[a,t]),d=Object(i.useCallback)(()=>{"function"==typeof t&&t(on.CLOSE),r({show:!1})},[t]),u=Object(i.useCallback)(e=>{e.stopPropagation(),n&&"function"==typeof n.onOneClickKnowMoreClickAction&&n.onOneClickKnowMoreClickAction(),s({show:!0,type:Yr.ENABLE,actions:{primaryAction:{text:In.GOT_IT,onClick:()=>{n&&"function"==typeof n.oneClickGotItClickAction&&n.oneClickGotItClickAction(),s({show:!1})}}}})},[n]),m=Object(i.useCallback)(()=>{n&&"function"==typeof n.oneClickCloseClickAction&&n.oneClickCloseClickAction(),s({show:!1})},[n]),p=Object(i.useCallback)((e,a,n)=>{r({show:!0,actions:{primaryAction:{text:n?In.SAVE_CARD_AND_PROCEED:In.SAVE_CARD_AND_PAY,showArrow:!0,onClick:()=>{"function"==typeof t&&t(on.SECURE_CARD_AND_PAY),e()}},secondaryAction:{text:n?In.DONT_ENABLE_ONE_CLICK:In.PAY_WITHOUT_SAVING,onClick:()=>{"function"==typeof t&&t(on.SKIP_FOR_NOW),a()}}}})},[t]);return{showSecureCardInfo:o,showOneClickCInfo:l,onSecureCardInfoClick:c,closeSecureCardInfo:d,onOneClickInfoClick:u,closeOneClickInfo:m,showOneClickHalfCardWithActions:Object(i.useCallback)((e,t,a)=>{s({show:!0,actions:{primaryAction:{text:a?In.ENABLE_ONE_CLICK_AND_PROCEED:In.ENABLE_ONE_CLICK_AND_PAY,showArrow:!0,onClick:()=>{n&&"function"==typeof n.onOneClickProceedClickAction&&n.onOneClickProceedClickAction(),e()}},secondaryAction:{text:In.PAY_WITHOUT_CLICK,accent:"text_Med_Emphasis",onClick:()=>{n&&"function"==typeof n.oneClickSkipForNowClickAction&&n.oneClickSkipForNowClickAction(),t()}}}})},[n]),showSecureCardHalfCardWithActions:p,showOneClickDenrollHalfCard:Object(i.useCallback)((e,t=Yr.DISABLE)=>{s({show:!0,type:t,actions:{primaryAction:{text:In.DISABLE_ONE_CLICK_PAY,accent:"primary",onClick:()=>{n&&"function"==typeof n.onDisableClickAction&&n.onDisableClickAction(),e()}},secondaryAction:{text:In.CANCEL,accent:"primary",onClick:()=>{n&&"function"==typeof n.oneClickCancelClickAction&&n.oneClickCancelClickAction(),s({show:!1})}}}})},[n]),closeDisableOneClickInfo:Object(i.useCallback)(()=>{n&&"function"==typeof n.onOneClickDisabledClose&&n.onOneClickDisabledClose(),s({show:!1})},[n])}};var Mu=Object(i.memo)((function(e){var t,a;const{onSelect:n,onPay:o,getCardAmount:r,onSecureCardInfoClickAction:c,onKnowMoreTokenizationClickAction:u,onSecureCardInfoView:p,onSaveCardClick:_,onClickOneClickTermsOfService:E,onHideCvv:C}=e.paymentActions,{oneClickEligible:b=!1,oneClickEnrolled:y=!1,oneClickPretick:g=!1,oneClickShowHalfCard:O=!1}=e.methodData.meta,{isSdkAvailable:h,oneClickEvents:A,isOneClickPromotionFlow:f}=e,v=$n(e.methodData),T=Object(i.useMemo)(()=>Bo(e.methodData,e.isPaymentGroupEnabled),[e.isPaymentGroupEnabled,e.methodData]),I=Object(i.useMemo)(()=>ao(e.methodData.meta),[e.methodData.meta]),S=Object(i.useMemo)(()=>no(e.methodData.meta),[e.methodData.meta]),N=Object(i.useMemo)(()=>e.methodData.meta.cardBrand||"",[e.methodData.meta]),[R,P]=Object(i.useState)(v),[D,L]=Object(i.useState)(Yn),[k,x]=Object(i.useState)(!1),[w,M]=Object(i.useState)(g),{showOneClickCInfo:j,showSecureCardInfo:B,onSecureCardInfoClick:U,closeSecureCardInfo:H,onOneClickInfoClick:G,closeOneClickInfo:Y,showOneClickHalfCardWithActions:W,showSecureCardHalfCardWithActions:F}=wu({onSecureCardInfoClickAction:c,onKnowMoreTokenizationClickAction:u,oneClickEvents:A}),V=Object(i.useCallback)(e=>{e.stopPropagation(),A&&"function"==typeof A.onOneClickCheckBoxClick&&A.onOneClickCheckBoxClick(!w),M(!w)},[w,A]),K=Object(i.useCallback)(e=>{e.stopPropagation(),"function"==typeof _&&_(!k),x(!k)},[_,k]),z=Object(i.useCallback)(e=>{A&&"function"==typeof A.onTermsAndServicesClickAction&&A.onTermsAndServicesClickAction(),"function"==typeof E&&E(e)},[E,A]),$=Object(i.useMemo)(()=>y&&Number(e.paymentAmount)<=2e3,[y,e.paymentAmount]),X=Object(i.useMemo)(()=>gr(e.methodData,D,$),[D,$,e.methodData]),J=Object(i.useMemo)(()=>(e=>{var t;return null!==(t=e.meta.cvvMessage)&&void 0!==t?t:""})(e.methodData),[e.methodData]),Z=Object(i.useCallback)(t=>{t.preventDefault(),T&&n(e.methodData)},[n,e.methodData,T]),q=Object(i.useCallback)((t,a)=>()=>{o(e.methodData,Object.assign({cvv:t,cardBrand:N},Fn(a)))},[N,o,e.methodData]),Q=Object(i.useCallback)(t=>{if(f&&h){const a=I||S?Wn.SECURED_CARD_WITH_ENABLE_ONE_CLICK:Wn.NOT_TOKENIZED_CARD_WITH_ENABLE_ONE_CLICK;o(e.methodData,Object.assign({cvv:t,cardBrand:N},Fn(a)),{isOneClickPromotionFlow:f})}else if(I){if($)return void o(e.methodData,Object.assign({cvv:t},Fn(Wn.SECURED_CARD_WITH_ENROLLED_ONE_CLICK_FLOW)));if(b&&!y&&(O||w)&&h)return void W(q(t,Wn.SECURED_CARD_WITH_ENABLE_ONE_CLICK),q(t,Wn.SECURED_CARD));o(e.methodData,Object.assign({cvv:t},Fn(Wn.SECURED_CARD)))}else if(S){if(!k)return void F(q(t,Wn.SECURED_CARD),q(t,Wn.NOT_TOKENIZED_CARD));if(O&&h)return void W(q(t,Wn.SECURED_CARD_WITH_ENABLE_ONE_CLICK),q(t,Wn.SECURED_CARD));o(e.methodData,Object.assign({cvv:t},Fn(Wn.SECURED_CARD)))}else{if($)return void o(e.methodData,Object.assign({cvv:t},Fn(Wn.NOT_TOKENIZED_CARD_WITH_ENROLLED_ONE_CLICK)));if(b&&!y&&(O||w)&&h)return void W(q(t,Wn.NOT_TOKENIZED_CARD_WITH_ENABLE_ONE_CLICK),q(t,Wn.NOT_TOKENIZED_CARD));o(e.methodData,Object.assign({cvv:t},Fn(Wn.NOT_TOKENIZED_CARD)))}},[f,h,I,S,o,e.methodData,N,$,b,y,O,w,W,q,k,F]);Object(i.useEffect)(()=>{if(!R)return;if(!r)return void P(!1);const t=r(e.methodData);if(!t)return void P(!1);const[a,n]=t;2===a?(L(n),P(!1)):1===a&&P(!1)},[R,r,e.methodData]);const ee=Object(i.useMemo)(()=>D.isBalanceSufficent,[D]),te=Object(i.useMemo)(()=>eo(e.methodData),[e.methodData]),ae=Object(i.useMemo)(()=>d()("Card-v4_paymentMethod_1GJjsHog",{"Card-v4_paymentMethodDisabled_sIoCGDWD":!ee||!T}),[ee,T]),ne=Uo(e.paymentAmount,e.methodData);return l.a.createElement("div",{className:ae,onClick:Z,"data-testid":te.CONTAINER},l.a.createElement("div",{className:"Card-v4_paymentMethodContainer_BLMtcCzo"},l.a.createElement(Jo,{src:So(e.methodData),width:36,"data-testid":te.ICON}),l.a.createElement(cr,{displayName:ro(e.methodData.displayName,e.methodData.meta),promoMsg:Po(e.methodData),discount:Ro(e.methodData),ariaLabel:io(e.methodData.displayName,e.methodData.meta),subName:Lu({displayName:null===(t=e.methodData)||void 0===t?void 0:t.displayName,meta:null===(a=e.methodData)||void 0===a?void 0:a.meta,isTurboPaymentMethod:!1}),"data-testid":te.NAME,enabled:T},l.a.createElement(fr,{cardData:D,hasSufficentBalance:ee,isBalanceLoading:R,isMethodEnabled:T,methodData:e.methodData})),T&&l.a.createElement(mr,{methodData:e.methodData,selected:e.selected,isBalanceLoading:R,cardBalance:D.balance,hasLessBalance:!ee})),y&&!$&&h&&e.selected&&l.a.createElement("div",{className:"Card-v4_oneClickInfoDisabledContainer_4dUGayin","data-testid":te.ONE_CLICK_DISABLED_MESSAGE},l.a.createElement("span",{className:"Card-v4_oneClickInfoDisabledContainerIcon_bkzHi0X4"},l.a.createElement(s.E,{withBg:!1,height:11,width:11,iconColor:"#02060C99"})),l.a.createElement("span",{className:"Card-v4_oneClickInfoDisabledContainerText_WACGhCg6"},In.ONE_CLICK_DISABLED_MESSAGE)),!R&&ee&&e.selected&&l.a.createElement(hr,{enabled:T,methodData:e.methodData,onPay:Q,paymentAmount:ne,cvvRequired:X,oneClickEnrolled:y&&$,isSdkAvailable:h,payCtaText:e.payCtaText,payCtaClassName:e.payCtaClassName,onHideCvv:C}),$&&h&&!e.selected&&l.a.createElement("div",{className:"Card-v4_oneClickInfoContainer_AB3pSEPI","data-testid":te.ONE_CLICK_ENABLED_MESSAGE},l.a.createElement("span",{className:"Card-v4_oneClickInfoContainerIcon_tXWOHA-O"},l.a.createElement(s.E,{withBg:!1,height:12,width:12})),l.a.createElement(m.Text,{variant:"V2.body3.neutral.medium",color:"text_Med_Emphasis"},In.ONE_CLICK_ENABLED_MESSAGE)),!f&&l.a.createElement(Dr,Object.assign({},e.methodData.meta,{isSdkAvailable:h,isSelected:e.selected,saveCard:k,handleSecureCardClick:K,onSecureCardInfoClick:U,oneClickCard:w,handleOneClickCardClick:V,onOneClickInfoClick:G})),l.a.createElement(Cu,{isCardSecured:I,isOneClickPromotionFlow:!!f,isTokeniseSupported:S,cardBrand:N,selected:e.selected}),l.a.createElement(bu,{message:J,selected:e.selected}),!f&&B.show&&e.juspayTokenizationMeta&&l.a.createElement(Rr,Object.assign({data:e.juspayTokenizationMeta,onClose:H,cardBrand:Gn(N)},B.actions,{onLoad:p})),j.show&&b&&e.oneClickMeta&&l.a.createElement(Vr,Object.assign({data:e.oneClickMeta},j.actions,{onClose:Y,cardBrand:Gn(N),onLoad:null==A?void 0:A.onOneClickHalfCardImpression,onClickTermsOfService:z})))}));const ju=l.a.createContext({showChangeAnimation:!1,onSlideButtonDrag:()=>{},onSlideButtonSuccess:()=>{}}),Bu=p.default.div(({theme:e})=>({overflow:"hidden",padding:`${e.spacing.medium} ${e.spacing.medium} 0 ${e.spacing.medium}`})),Uu=p.default.div`
    display: flex;
    width: 100%;
    align-items: center;
`,Hu=p.default.div`
    display: flex;
`,Gu=p.default.div`
    display: flex;
    flex-direction: column;
    width: calc(100% - ${36}px);
`,Yu=p.default.div(({theme:e})=>({marginLeft:0,marginTop:""+e.spacing.medium})),Wu=p.default.div(({theme:e})=>({height:"1px",backgroundColor:""+e.colors.light.border_Tertiary,margin:`${e.spacing.xxSmall} 0 ${e.spacing.xSmall}`})),Fu=Object(p.default)(m.Text)`
    padding-bottom: ${e=>e.theme.spacing.xxxSmall};
    text-transform: uppercase;
`;var Vu=Object(i.memo)((function(){const e=Object(p.useTheme)(),t=e.colors[e.colorMode].primary;return l.a.createElement("svg",{width:"6",height:"10",viewBox:"0 0 6 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M1 9L5 5.01567L1 0.999999",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))}));const Ku=p.keyframes`
  0% {
    transform: translateX(104px);
  }
  10%, 40%, 50%, 60%, 95% {
    width: 170px;
    transform: translateX(0px);
  }
  100% {
    transform: translateX(104px);
  }
`,zu=p.default.div`
    position: absolute;
    right: 16px;
    display: flex;
    justify-content: flex-end;
    align-items: center;
    overflow: hidden;
    align-self: baseline;
`,$u=p.default.div`
    margin: 0 8px 1px 0;
    overflow: hidden;
`,Xu=Object(p.default)(m.Text)`
    background: linear-gradient(275deg, #FFF 91.10%, rgba(255, 255, 255, 0.00) 99.27%);
    white-space: nowrap;
    ${e=>e.isLongText?"transform: translateX(104px); margin-right: -2px;":"margin-right: 0px;"}
    animation: ${e=>e.isLongText?Ku:"none"} 5s linear;
    animation-delay: 2s;
    animation-fill-mode: forwards;
    padding-left: 12px;
`;var Ju=Object(i.memo)((function({className:e,onClick:t,dataTestId:a}){const[n,o]=Object(i.useState)("Change payment option"),r=Object(i.useCallback)(()=>{o("Change")},[]);return l.a.createElement(zu,null,l.a.createElement($u,null,l.a.createElement(Xu,{"data-testid":a,variant:"V2.body2.neutral.bold",color:"primary",onAnimationEnd:r,className:e,onClick:t,"aria-label":"Change payment method",isLongText:"Change payment option"===n},n)),l.a.createElement(Vu,null))})),Zu=Object(i.memo)((function(){const e=Object(p.useTheme)(),t=e.colors[e.colorMode].primary;return l.a.createElement("svg",{width:"6",height:"10",viewBox:"0 0 6 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M1 9L5 5.01567L1 0.999999",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))}));const qu=p.default.div`
    position: absolute;
    right: 16px;
    display: flex;
    justify-content: flex-end;
    align-items: center;
    overflow: hidden;
    align-self: baseline;
`,Qu=p.default.div`
    margin: 0 8px 1px 0;
    overflow: hidden;
`,em=Object(p.default)(m.Text)`
    background: linear-gradient(275deg, #fff 91.1%, rgba(255, 255, 255, 0) 99.27%);
    white-space: nowrap;
    padding-left: 12px;
`,tm=p.default.div(({theme:e})=>({display:"flex",marginTop:"-"+e.spacing.xxxSmall}));var am=Object(i.memo)((function({className:e,onClick:t,dataTestId:a}){return l.a.createElement(qu,{"data-testid":a},l.a.createElement(Qu,null,l.a.createElement(em,{variant:"V2.body2.neutral.bold",color:"primary",className:e,onClick:t,"data-testid":"tur-pay-wid_chn_pay_cta","aria-label":"Change payment method"},"Change")),l.a.createElement(tm,null,l.a.createElement(Zu,null)))}));const nm=l.a.createContext({onPostSliderSuccessCallback:()=>{},sliderButtonRef:{current:null}});var om=Object(i.memo)((function(e){var t,a;const{methodData:n,paymentMethodDowntime:o,amountWithDiscount:r,amountWithoutDiscount:c,paymentActions:d,onClickChangePaymentCta:u,showDiscountedAmount:p,onLoad:_}=e,[E,C]=od("slide-to-pay-bump-animation-shown",!1),{onSlideButtonDrag:b,onSlideButtonSuccess:y,showChangeAnimation:g}=Object(i.useContext)(ju),{sliderButtonRef:O}=Object(i.useContext)(nm);Object(s.Db)(()=>{const e=setTimeout(()=>{C(!0)},2e3);return _(),()=>{clearTimeout(e)}});const h=Object(i.useCallback)((e={})=>{d.onPay(n,{[Dn]:void 0},Object.assign({isTurboPaymentMethod:!0,isPaymentMethodFacingDowntime:!0},e))},[n,d]),A=Object(i.useCallback)((e,t)=>{null==y||y(e,t),h({slidePercent:e/t*100})},[h,y]),f=Object(i.useMemo)(()=>g?l.a.createElement(Ju,{dataTestId:Ya,onClick:u}):l.a.createElement(am,{dataTestId:Ya,onClick:u}),[u,g]),v=Object(i.useMemo)(()=>Object(s.hb)("Pay ₹{0} after ordering",(p?r:c)||""),[r,c,p]);return l.a.createElement(Bu,null,l.a.createElement(Uu,null,l.a.createElement(Gu,null,l.a.createElement(Hu,null,l.a.createElement("div",null,l.a.createElement(Fu,{color:"text_Low_Emphasis",variant:"V2.overline.neutral.bold"},(null===(t=null==o?void 0:o.singleClickPresentationInfo)||void 0===t?void 0:t.title)||""),l.a.createElement(Wu,null)),f),l.a.createElement(m.Text,{color:"text_Highest_Emphasis",variant:"V2.subheading1.neutral.bold"},(null===(a=null==o?void 0:o.singleClickPresentationInfo)||void 0===a?void 0:a.subtitle)||""))),l.a.createElement(Yu,null,l.a.createElement(s.Q,{dataTestId:Ga,sliderButtonRef:O,showInitialBumpAnimation:!E,onDragUpdate:An(b,200),onSuccess:A,turboCtaText:v,prefixText:"Slide to Pay",amountText:Object(s.hb)("₹{0}",r||"")})))}));const rm=p.default.div`
    padding: ${e=>`${e.theme.spacing.medium} ${e.theme.spacing.medium} 0`};
    display: flex;
    align-items: center;
`,im=p.default.div`
    width: 50%;
`,lm=Object(p.default)(im)`
    display: flex;
    flex-direction: column;
`,sm=Object(p.default)(im)`
    margin-left: ${e=>e.theme.spacing.medium};
`,cm=p.default.div`
    display: flex;
    align-items: center;
`,dm=(p.default.div`
    display: flex;
`,p.default.div`
    display: flex;
    flex-direction: column;
    width: 100%;
`,p.default.div`
    text-overflow: ellipsis;
    overflow: hidden;
    white-space: nowrap;
`,Object(p.default)(m.Text)(({theme:e})=>({margin:`0 ${e.spacing.xxxSmall} 0 ${e.spacing.xxSmall}`,textTransform:"uppercase",letterSpacing:"0.5px"}))),um=p.default.span`
    margin: ${e=>`0 ${e.theme.spacing.xxxSmall} ${e.theme.spacing.xxSmall}`};
`,mm=e=>X===e.name.toUpperCase(),pm=p.default.div`
    padding: 32px 20px 20px;
`,_m=p.default.div`
    margin-top: 30px;
`,Em=p.default.div`
    margin-top: 20px;
`,Cm=p.default.div`
    position: absolute;
    top: ${18}px;
    right: ${18}px;
`,bm=p.default.div`
    display: flex;
`;var ym=Object(i.memo)(e=>{const t=Object(i.useRef)(""),[a,n]=Object(i.useState)(!0),[o,r]=Object(i.useState)(!1),c=Object(i.useRef)(null);zc(c);const{cardSubName:d,onCloseCvvBs:u,onCardPayAction:p,methodData:_}=e,E=Object(i.useMemo)(()=>to(_),[_]),C=Object(i.useCallback)(e=>{if(e.preventDefault(),Or(_,t.current,!0))return n(!0),void p(t.current);n(!1)},[_,p]),g=Object(i.useCallback)(e=>{t.current=e,a||n(!0);const o=Or(_,t.current,!0);r(o)},[_,a]),h=l.a.createElement(Cm,null,l.a.createElement(y.GenericIcon,{Icon:O.a,onClick:u}));return l.a.createElement(s.e,{closeIcon:h,"data-testid":"cvv_bottom_sheet_container",onClose:u},e=>l.a.createElement(pm,{ref:c},d&&l.a.createElement(bm,null,l.a.createElement(m.Text,{"data-testid":"cvv_bottom_sheet_title",variant:"V2.heading2.neutral.black",color:"text_High_Emphasis"},"CVV for card"),l.a.createElement(Qo,{cardNumber:d,textVariant:"V2.heading2.neutral.black",textColor:"text_High_Emphasis",showDivider:!1,bulletRadius:4,isTurboPaymentMethod:!0})),l.a.createElement(_m,null,l.a.createElement(br,{valid:a,onChange:g,autoFocus:!0,validCvvLength:E,showFullWidthInputButton:!0}),l.a.createElement(Em,null,l.a.createElement(b.FullWidthButton,{onClick:C,"data-testid":"cvv_bottom_sheet_pay_button",isDisabled:!o,variant:"specialPositive"},"Continue")))))});const gm=Object(p.default)(m.Text)(({theme:e})=>({color:e.colors.light.text_Highest_Emphasis,paddingTop:e.spacing.xxxSmall,textAlign:"center"})),Om=Object(p.default)(m.Text)(({theme:e})=>({color:e.colors.light.text_High_Emphasis,margin:`${e.spacing.xSmall} auto ${e.spacing.xxSmall}`,width:"90%",textAlign:"center"})),hm=p.default.div(({theme:e})=>({marginTop:e.spacing.xxLarge,paddingBottom:e.spacing.medium,display:"flex"})),Am=p.default.div(({theme:e})=>({flex:1,marginRight:e.spacing.small,"&:last-of-type":{marginRight:0}})),fm=p.default.div(({theme:e})=>({marginTop:e.spacing.xxLarge,paddingBottom:e.spacing.medium})),vm=Object(p.default)(C.TextButton)(({theme:e})=>({marginTop:e.spacing.medium})),Tm=p.default.div(({theme:e})=>({margin:`${e.spacing.small} auto ${e.spacing.medium}`,display:"flex",justifyContent:"center",border:"1.775px solid "+e.colors.light.background_Secondary_Alpha,borderRadius:e.spacing.medium,width:"72px"})),Im=Object(p.default)(u.Image)`
    height: ${"72px"};
    width: ${"72px"};
    object-fit: fill;
`,Sm=e=>{const{turboPodHalfCardEvents:t,onPlaceOrder:a,onCancel:n,iconUrl:o,halfCard:r,halfCardInfo:c}=e,[d,u]=Object(i.useState)(!0);Object(s.Db)(()=>{an(r)||an(c)||t.onLoad(r)});const m=Object(i.useCallback)(()=>{t.onPlaceOrderCtaClick(r),a()},[r,a,t]),p=Object(i.useCallback)(()=>{t.onCancelCtaClick(r),n()},[r,n,t]),_=Object(i.useCallback)(()=>{u(!1),t.onPlaceOrderCtaClick(r,"yes"),a()},[r,a,t]),C=Object(i.useCallback)(()=>{if(r===ln.CONSENT)return l.a.createElement(hm,null,l.a.createElement(Am,null,l.a.createElement(E.SuperButton,{isDisabled:!1,variant:"fullwidth",buttonType:"tertiaryLow",buttonSize:"large",onClick:p,"data-testid":Fa},c.secondaryCta)),l.a.createElement(Am,null,l.a.createElement(E.SuperButton,{isDisabled:!1,variant:"fullwidth",buttonType:"specialPositive",buttonSize:"large",onClick:m,"data-testid":Wa},c.primaryCta)));const e=(e=>{const t=Number(e.waitTime);if(!isNaN(t))return 1e3*t})(c);return l.a.createElement(fm,null,l.a.createElement(E.SuperButton,{isDisabled:!1,variant:"fullwidth",buttonType:"specialPositive",buttonSize:"large",onClick:m,progressTime:e,showProgressBar:d,onCompleteProgress:_,"data-testid":Wa},c.primaryCta),l.a.createElement(vm,{buttonSize:"medium",color:"text_High_Emphasis",onClick:p,"data-testid":Fa},c.secondaryCta))},[r,c,m,p,_,d]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(Tm,null,l.a.createElement(Im,{cloudinaryId:null!=o?o:""})),l.a.createElement(gm,{variant:"V2.heading1.neutral.black","data-testid":"tur_pod_hc_title"},c.title),l.a.createElement(Om,{variant:"V2.body2.neutral.regular","data-testid":"tur_pod_hc_st"},c.subtitle),C())};var Nm=Object(i.memo)((function(e){const{isActive:t,data:a}=e,n=fn(e,["isActive","data"]),{halfCard:o,halfCardInfo:r,iconUrl:i}=a;return an(o)||an(r)?null:l.a.createElement(h.HalfCard,{isOpen:t,hideCloseIcon:!0,closeOnOverlayClick:!1},l.a.createElement(Sm,Object.assign({iconUrl:i,halfCard:o,halfCardInfo:r},n)))}));const Rm=p.default.div`
    display: block;
    padding: ${e=>e.theme.spacing.xxxSmall+" 0"};
    color: ${e=>e.theme.colors[e.theme.colorMode].text_High_Emphasis};
    padding-bottom: 1px;
`,Pm=p.default.div`
    overflow: hidden;
    text-overflow: ellipsis;
    outline: 0;
    white-space: nowrap;
    flex-shrink: 1;
`,Dm=p.default.div`
    display: flex;
    align-items: center;
    outline: none;
    overflow: hidden;
`,Lm=p.default.div`
    display: flex;
`,km=Object(p.default)(m.Text)`
    :before {
        content: "\u20B9";
        margin-left: ${({theme:e})=>e.spacing.xxSmall};
    }
`,xm=Object(p.default)(m.Text)`
    display: flex;
    flex-grow: 0;
    flex-shrink: 1;
    overflow: hidden;
`;var wm=Object(i.memo)((function(e){const{ariaLabel:t,displayName:a,inlineBalanceMeta:n,cardSubName:o}=e;return l.a.createElement(Rm,null,l.a.createElement(Dm,{"aria-label":t,tabIndex:0,role:Rn},l.a.createElement(xm,{"data-testid":Ua,variant:"V2.body2.neutral.bold",color:"text_High_Emphasis"},l.a.createElement(Pm,null,a)),o&&l.a.createElement(Qo,{textVariant:"V2.body3.neutral.medium",textColor:"text_Highest_Emphasis",dotLength:2,cardNumber:o,isTurboPaymentMethod:!0,isTurboV2:!0})),(null==n?void 0:n.show)&&n.value&&l.a.createElement(Lm,{"data-testid":Ha},l.a.createElement(m.Text,{variant:"V2.body3.neutral.regular",color:"text_Med_Emphasis"},"Balance:"),l.a.createElement(km,{variant:"V2.body3.neutral.regular",color:"text_Med_Emphasis"},String(n.value))))})),Mm=Object(i.memo)((function(){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:10,height:6,fill:"none"},l.a.createElement("path",{fill:"#02060C",fillOpacity:.45,d:"M4.63.741a.775.775 0 0 1 1.14 0l3.598 3.896a.775.775 0 0 1-.57 1.3H1.602a.775.775 0 0 1-.57-1.3L4.631.74Z"}))}));Ho(".styles-v4_icon_DTqg-EVY{height:36px;display:flex;width:36px;text-align:left;align-self:flex-start;align-items:center;border-radius:8px;border:1px solid #e2e2e7}.styles-v4_iconImg_oJyOHfR6{max-height:32px;width:auto;max-width:100%;margin:auto}");var jm=Object(i.memo)((function(e){const{className:t,src:a,width:n,alt:o,height:r}=e;if(void 0===t&&void 0===a)return null;const i=d()({"styles-v4_icon_DTqg-EVY":!e.customLogo},e.parentClassName),c=d()({"styles-v4_iconImg_oJyOHfR6":!e.customLogo},e.imgClassName);return l.a.createElement(s.c,{as:"div",className:i,"data-testid":e["data-testid"]},void 0!==t?l.a.createElement("div",{className:t}):l.a.createElement("img",{alt:o,crossOrigin:"anonymous",className:c,src:a,width:n,height:r}))}));const Bm=p.default.div`
    padding: 0;
    width: 100%;
`,Um=p.default.div`
    display: flex;
    :before {
        content: "\u20B9";
        margin-left: 4px;
    }
`,Hm=p.default.div`
    display: flex;
`,Gm=Object(p.default)(m.Text)(({theme:e})=>({borderBottom:"1px dashed "+e.colors.light.positive,position:"relative",display:"inline"})),Ym=Object(p.default)(s.X)`
    max-width: 205px;
    height: 100%;
    z-index: 1;

    &:before {
        left: ${e=>e.theme.spacing.medium};
    }
`,Wm=Object(p.default)(m.Text)(({theme:e})=>({marginTop:"-"+e.spacing.xxxSmall,flex:1})),Fm=p.default.div`
    position: absolute;
    bottom: 22px;
`,Vm=p.default.div`
    position: relative;
    outline: none;
    padding: ${e=>e.theme.spacing.xxxSmall} 0;
`;var Km=Object(i.memo)((function({discount:e}){const[t,a]=Object(i.useState)(!1),n=Object(i.useCallback)(()=>{a(!1)},[]),o=Object(i.useCallback)(()=>{a(!0)},[]);return an(e)?null:e.length<25?l.a.createElement(m.Text,{variant:"V2.body3.neutral.regular",color:"positive"},e):l.a.createElement(Vm,{tabIndex:0,"aria-label":e},l.a.createElement(Gm,{variant:"V2.body3.neutral.regular",onClick:o,color:"positive"},"Offer available"),t&&l.a.createElement(Fm,{"data-testid":"tur-pay-method-wid-discount-tooltip"},l.a.createElement(Ym,{onClickClose:n},l.a.createElement(Wm,{variant:"V2.body3.neutral.regular",color:"text_inverse_Highest_Emphasis"},e))))})),zm=Object(i.memo)((function(e){const{newLineBalanceMeta:t,discount:a,promoMsg:n}=e;return l.a.createElement(Bm,null,(null==t?void 0:t.show)&&!an(t.value)&&l.a.createElement(Hm,null,l.a.createElement(m.Text,{variant:"V2.body3.neutral.regular",color:"text_High_Emphasis"},"Balance:"),l.a.createElement(m.Text,{variant:"V2.body3.neutral.regular",color:"text_High_Emphasis"},l.a.createElement(Um,null,String(t.value)))),l.a.createElement(Km,{discount:a}),n&&n.length>0&&l.a.createElement(m.Text,{variant:"V2.body3.neutral.regular",color:"text_Med_Emphasis"},n))}));const $m=p.keyframes`
    0% {
    transform: translateX(0);
    }

    25% {
    transform: translateX(2px);
    }

    50% {
    transform: translateX(0);
    }

    75% {
    transform: translateX(-2px);
    }

    100% {
    transform: translateX(0);
    }
`,Xm=p.keyframes`
    0% {
        left: -100%;
    }
    100% {
        left: 100%;
    }
`,Jm=p.keyframes`
    0% {
        transform: translateY(0);
        opacity: 1;
    }
    40% {
        transform: translateY(-40%);
        opacity: 0;
    }
    100% {
        transform: translateY(-100%);
        opacity: 0;
    }
`,Zm=p.keyframes`
    0% {
        transform: translateY(100%);
        opacity: 0.5;
    }
    100% {
        transform: translateY(0);
        opacity: 1;
    }
`,qm=Object(p.default)(m.Text).attrs({"data-testid":"turboStrip_strip_msg"})`
    margin-left: ${({theme:e})=>""+e.spacing.xSmall};
`,Qm=p.default.div`
    overflow: hidden;
    margin-left: ${({theme:e})=>""+e.spacing.xSmall};
    height: 18px;
    position: relative;
`,ep=Object(p.default)(m.Text).attrs({"data-testid":"turboStrip_animated_text"})`
    position: absolute;
    width: 100%;
    top: 0;
    left: 0;
    animation: ${({isActive:e,isExiting:t})=>e?p.css`
            ${Zm} ${500}ms ease-out forwards
        `:t?p.css`
            ${Jm} ${500}ms ease-out forwards
        `:"none"};
    white-space: nowrap;
    opacity: ${({isActive:e,isExiting:t})=>e||t?1:0};
    transform: translateY(${({isActive:e,isExiting:t})=>e?"0":t?"-100%":"100%"});
`,tp=p.default.div`
    display: flex;
    align-items: center;
    flex-grow: 1;
    min-width: 0;
`,ap=p.default.div.attrs({"data-testid":"turboStrip_wrapper"})`
    background-color: ${({theme:e})=>e.colors[e.colorMode].background_Secondary};
    padding: ${({theme:e})=>"10px "+e.spacing.small};
    position: relative;
    color: ${({theme:e})=>e.colors[e.colorMode].text_Med_Emphasis};
    overflow: hidden;
    margin: ${({theme:e})=>e.spacing.xxSmall};
    margin-bottom: 0;
`,np=Object(p.default)(ap)`
    border-radius: ${({theme:e})=>`${e.spacing.medium} ${e.spacing.medium} 0 0`};
`,op=p.default.div`
    display: flex;
    align-items: center;
    z-index: 2;
    justify-content: space-between;
    position: relative;
`,rp=p.default.div`
    display: flex;
    position: relative;
    animation: ${$m} 1s ease-out infinite;
`,ip=p.default.div`
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: ${e=>e.theme.spacing.large};
    background-color: ${({theme:e})=>e.colors[e.colorMode].background_Primary};
    transform: rotate(62deg);
    animation: ${Xm} 4s cubic-bezier(0.65, 0, 0.35, 1) 3;
    box-shadow: 0 0 20px 8px rgb(255 255 255 / 97%);
    z-index: 2;
    filter: ${e=>`blur(${e.theme.spacing.xxSmall})`};
    opacity: 0.6;
`,lp=Object(p.default)(f.a).attrs({"data-testid":"turboStrip_chevron"})`
    fill: unset;
    position: absolute;
    left: -7px;
    & > path {
        fill-opacity: 0.4;
    }
`,sp=Object(p.default)(s.c)`
    flex-grow: 1;
`,cp={currentMessageIndex:0,nextMessageIndex:1,cycleCount:0,hasCompletedAnimation:!1,isExiting:!1,isActive:!0,isFinalAnimation:!1};var dp=Object(i.memo)(({data:e})=>{var t;const{stripMsg:a="",isNewBanner:n=!0,animation:o}=e,{hasCompletedAnimation:r,isExiting:c,isActive:d,currentMessage:u,nextMessage:p,shouldAnimate:_}=(e=>{var t;const{isNewBanner:a,animation:n,stripMsg:o}=e,[r,l]=Object(i.useState)(cp),s=Object(i.useRef)(null),{currentMessageIndex:c,nextMessageIndex:d,cycleCount:u,hasCompletedAnimation:m,isExiting:p,isActive:_,isFinalAnimation:E}=r,C=a&&!an(n)&&!an(null==n?void 0:n.messageList)&&!m&&(null===(t=null==n?void 0:n.messageList)||void 0===t?void 0:t.length)>1&&(null==n?void 0:n.frequency)>=1,b=C?null==n?void 0:n.messageList[c]:o,y=C&&(null==n?void 0:n.messageList[d]);return Object(i.useEffect)(()=>{if(!C||!n)return;const e={current:0},t=setInterval(()=>{l(e=>Object.assign(Object.assign({},e),{isExiting:!0,isActive:!1})),e.current=setTimeout(()=>{l(e=>{const t=(e.currentMessageIndex+1)%n.messageList.length,a=0===t?e.cycleCount+1:e.cycleCount,o=a>=n.frequency;return Object.assign(Object.assign({},e),{currentMessageIndex:t,nextMessageIndex:(t+1)%n.messageList.length,cycleCount:a,isExiting:!1,isActive:!0,isFinalAnimation:o&&0===t})})},500)},2e3);return()=>{clearInterval(t),clearTimeout(e.current)}},[C,n]),Object(i.useEffect)(()=>{if(C&&n)return u>=n.frequency&&E?(s.current=setTimeout(()=>{l(e=>Object.assign(Object.assign({},e),{hasCompletedAnimation:!0,currentMessageIndex:0,nextMessageIndex:1,isExiting:!1,isActive:!0}))},500),()=>{s.current&&clearTimeout(s.current)}):void 0},[u,n,C,E]),{hasCompletedAnimation:m,isExiting:p,isActive:_,currentMessage:b,nextMessage:y,shouldAnimate:C}})({isNewBanner:n,animation:o,stripMsg:a}),E=e=>e?e.split(/(\[\[.*?\]\])/).map((e,t)=>{if(e.match(/\[\[.*?\]\]/)){const a=e.replace(/\[\[|\]\]/g,"");return l.a.createElement(m.Text,{as:"span",key:t,variant:"V2.body3.neutral.bold",color:"text_Highest_Emphasis"},a)}return l.a.createElement("span",{key:t},e)}):null;if(r||!_){const e=n&&(null===(t=null==o?void 0:o.messageList)||void 0===t?void 0:t[0])?o.messageList[0]:a;return l.a.createElement(s.c,{as:"div"},l.a.createElement(qm,{variant:"V2.body3.neutral.medium",color:"text_High_Emphasis"},E(e)))}return l.a.createElement(sp,{as:"div"},l.a.createElement(Qm,{isAnimating:_},l.a.createElement(ep,{isActive:d,isExiting:c,color:"text_High_Emphasis",variant:"V2.body3.neutral.medium"},E(u)),_&&p&&l.a.createElement(ep,{isActive:!d&&!c,isExiting:!1,color:"text_High_Emphasis",variant:"V2.body3.neutral.medium"},E(p))))}),up=l.a.memo((function(e){const{onClickTurboStrip:t,onImpressionTurboStrip:a,isTurboV2:n,onClickChangePaymentCta:o,data:r}=e,{stripMsg:c="",isNewBanner:d=!0,bannerId:m="",iconUrl:p=""}=r,_=an(p)?"portal/m/Twid_icon.png":p;Object(i.useEffect)(()=>{((e,t,a)=>{const n=an(a)?"BANNER":a;Yc().updateFrequencyCounter({cappingMode:e,entityId:t,entityType:n}).catch(()=>{})})(mi.VIEW,m)},[c,m]),Object(s.Db)(()=>{!an(a)&&a(d,m,c)});const E=Object(i.useCallback)(()=>{!an(t)&&t(d,m,c),o()},[d,m,c,o,t]);if(an(c))return null;const C=n?ap:np;return l.a.createElement("div",{onClick:E},l.a.createElement(C,null,l.a.createElement(op,null,l.a.createElement(tp,null,d?l.a.createElement(s.D,{skipShimmer:!0}):l.a.createElement(u.Image,{cloudinaryId:_,width:"16px",alt:"Turbo Strip Icon"}),l.a.createElement(dp,{data:r})),l.a.createElement(rp,null,l.a.createElement(lp,null),l.a.createElement(y.GenericIcon,{Icon:f.a,fillColor:"text_High_Emphasis"}))),l.a.createElement(ip,null)))}));const mp=p.default.span(({theme:e})=>({textDecoration:"line-through",margin:`0 ${e.spacing.xxSmall} 0 ${e.spacing.xxxSmall}`,color:e.colors[e.colorMode].text_inverse_Med_Emphasis})),pp=p.default.div(({theme:e})=>({display:"flex",justifyContent:"center",alignItems:"center",marginTop:"-"+e.spacing.xxxSmall})),_p=Object(p.default)(m.Text)(({theme:e})=>({marginTop:e.spacing.xxxSmall,color:e.colors[e.colorMode].text_inverse_Med_Emphasis,marginLeft:e.spacing.xxSmall})),Ep=Object(p.default)(b.FullWidthButton)(({isPop:e})=>Object.assign({height:"52px"},e&&{border:"1px solid #0B1B17"}));var Cp=Object(i.memo)((function({finalAmount:e,onPayClick:t,discountAmount:a,showBolt:n,dataTestId:o,isPop:r}){const s=Object(p.useTheme)(),c=Object(i.useMemo)(()=>((e,t)=>Object.assign(Object.assign({},e),{colors:Object.assign(Object.assign({},e.colors),{[e.colorMode]:Object.assign(Object.assign({},e.colors[e.colorMode]),t)})}))(s,{positive:r?"#CAFE33":s.colors[s.colorMode].special_positive,text_Button_Primary:r?jn:s.colors[s.colorMode].text_Button_Primary,text_inverse_Highest_Emphasis:r?jn:s.colors[s.colorMode].text_inverse_Highest_Emphasis,text_inverse_Med_Emphasis:r?jn:s.colors[s.colorMode].text_inverse_Med_Emphasis}),[r,s]);return l.a.createElement(T.ThemeProvider,{theme:c,colorMode:s.colorMode},l.a.createElement(Ep,{variant:"positive",onClick:t,"data-testid":o,isPop:r},l.a.createElement(m.Text,{"data-testid":"tur-pay-method-wid-pay-button-text",variant:"V2.body1.neutral.bold",color:"text_inverse_Highest_Emphasis"},"Pay"," ",a&&a!==e&&l.a.createElement(m.Text,{"data-testid":"tur-pay-method-wid-pay-button-discount",variant:"V2.overline.neutral.medium",color:"text_inverse_Med_Emphasis",as:"span"},l.a.createElement(mp,null,tn("₹{0}",a))),tn("₹{0}",e)),n&&l.a.createElement(pp,{"data-testid":"tur-pay-method-wid-pay-button-bolt"},l.a.createElement(v.SpriteIconWeb,{iconName:"boltFilled12",fillColor:"text_inverse_Med_Emphasis"}),l.a.createElement(_p,{"data-testid":"tur-pay-method-wid-pay-button-bolt-text",variant:"V2.overline.neutral.bold_spaced"},"Pay Instantly"))))}));Ho(".style_paymentIconV2_h-9X1GHA{height:14px;width:21px;border-radius:4px;border:1px solid rgba(2,6,12,.05);margin-top:2px}");var bp=Object(i.memo)((function(e){const{methodData:t,turboPaymentCtaMeta:a,paymentActions:n,onClickChangePaymentCta:o,balanceValue:r,showDiscountedAmount:c,turboPodHalfCardEvents:d,isPopCart:u,onClickTurboStrip:m,onImpressionTurboStrip:p,turboStrip:_={},isTurboV2:E}=e,{iconUrl:C,methodDisplayName:b,promoMsg:y,discount:g,balanceMeta:O,showInlineBalance:h,cardSubName:A,showNewLineBalance:f}=ku(t,r),{onSlideButtonSuccess:v}=Object(i.useContext)(ju),T=Object(i.useMemo)(()=>{var e;const a=null===(e=null==t?void 0:t.groupName)||void 0===e?void 0:e.toUpperCase(),n=Mn.includes(a)||bo(t),o=s.B.getItem("turbo-payment-instant-payment-subtext",0)||0,r=n&&o<3;return r&&s.B.setItem("turbo-payment-instant-payment-subtext",o+1),r},[t]),[I,S]=Object(i.useState)(!1),[N,R]=Object(i.useState)(!1),P=Object(i.useCallback)((e={},a)=>{const o={[Dn]:void 0};let r;Ru(t)&&(r=Pu(t,n)),Kn(t)&&(r=uo(t,a)),Co(t)&&(r=yo(t)),n.onPay(t,Object.assign(Object.assign({},o),r),Object.assign({isTurboPaymentMethod:!0,isTurboV2:!0},e))},[t,n]),D=Object(i.useCallback)(()=>{if(null==v||v(),Kn(t)&&!$n(t)&&gr(t,Yn,!1))S(!0);else{if(mm(t)){const e=t.meta;if(!an(e.halfCard)&&!an(e.halfCardInfo))return void R(!0)}P()}},[t,P,v]),L=Object(i.useCallback)(()=>{S(!1)},[]),k=Object(i.useCallback)(e=>{S(!1),P({},e)},[P]),x=Object(i.useCallback)(()=>{R(!1),P()},[P]),w=Object(i.useCallback)(()=>{R(!1)},[]),M=!an(_);return l.a.createElement(l.a.Fragment,null,M&&l.a.createElement(up,{onClickChangePaymentCta:o,onClickTurboStrip:m,onImpressionTurboStrip:p,data:_,isTurboV2:E}),l.a.createElement(rm,null,l.a.createElement(lm,null,l.a.createElement("div",{onClick:o,"data-testid":Ya,"aria-label":"Change payment method"},l.a.createElement(cm,null,l.a.createElement(jm,{parentClassName:"style_paymentIconV2_h-9X1GHA",height:12,src:C}),l.a.createElement(dm,{variant:"V2.overline.neutral.medium",color:"text_Low_Emphasis"},"Pay using"),l.a.createElement(um,null,l.a.createElement(Mm,null))),l.a.createElement(wm,{displayName:b,inlineBalanceMeta:h?O:void 0,cardSubName:A})),l.a.createElement(zm,{promoMsg:y,discount:g,newLineBalanceMeta:f?O:void 0})),l.a.createElement(sm,null,l.a.createElement(Cp,{finalAmount:(null==a?void 0:a.amountWithDiscount)||"",onPayClick:D,discountAmount:c&&(null==a?void 0:a.amountWithoutDiscount)?Object(s.hb)("₹{0}",a.amountWithoutDiscount):void 0,showBolt:T,dataTestId:"tur-pay-method-wid-pay-button",isPop:u})),I&&l.a.createElement(ym,{cardSubName:A,methodData:t,onCloseCvvBs:L,onCardPayAction:k}),N&&l.a.createElement(Nm,{isActive:N,data:t.meta,onPlaceOrder:x,onCancel:w,turboPodHalfCardEvents:d})))}));const yp=p.default.div`
    overflow: hidden;
    padding: ${e=>e.theme.spacing.medium} ${e=>e.theme.spacing.medium} 0
        ${e=>e.theme.spacing.medium};
`,gp=p.default.div`
    display: flex;
    width: 100%;
    align-items: center;
`,Op=p.default.div`
    display: flex;
`,hp=p.default.div`
    display: flex;
    flex-direction: column;
    width: calc(100% - ${36}px);
`,Ap=p.default.div`
    margin-left: 0;
    margin-top: 16px;
`,fp=(p.default.div`
    text-overflow: ellipsis;
    overflow: hidden;
    white-space: nowrap;
`,p.default.div`
    display: block;
    flex: 1;
    padding: 0 16px 0 12px;
    color: ${e=>e.theme.colors[e.theme.colorMode].text_High_Emphasis};
    vertical-align: middle;
`),vp=p.default.div`
    overflow: hidden;
    text-overflow: ellipsis;
    outline: 0;
    white-space: nowrap;
`,Tp=p.default.div`
    display: flex;
    align-items: center;
`,Ip=p.default.div`
    display: flex;

    :before {
        content: "";
        border: 1px solid ${e=>e.theme.colors.light.divider};
        height: ${14}px;
        margin-right: 8px;
        margin-left: 6px;
        border-radius: 10px;
    }
`,Sp=p.default.div`
    display: flex;
    :before {
        content: "\u20B9";
        margin-left: 4px;
    }
`,Np=Object(p.default)(m.Text)`
    margin-top: 1px;
`;var Rp=Object(i.memo)((function(e){const{superScriptText:t,ariaLabel:a,displayName:n,inlineBalanceMeta:o,cardSubName:r}=e;return l.a.createElement(fp,null,t&&l.a.createElement(m.Text,{color:"text_Med_Emphasis",variant:"V2.body2.neutral.regular"},t),l.a.createElement(Tp,{"aria-label":a,tabIndex:0,role:Rn},l.a.createElement(vp,{"data-testid":Ua},l.a.createElement(m.Text,{variant:"V2.body1.neutral.medium"},n)),r&&l.a.createElement(Qo,{cardNumber:r,isTurboPaymentMethod:!0}),(null==o?void 0:o.show)&&o.value&&l.a.createElement(Ip,{"data-testid":Ha},l.a.createElement(Np,{variant:"V2.body3.neutral.regular",color:"text_Med_Emphasis"},"Balance:"),l.a.createElement(Np,{variant:"V2.body3.neutral.regular",color:"text_Med_Emphasis"},l.a.createElement(Sp,null,String(o.value))))))}));const Pp=p.default.div`
    width: calc(100% - ${50}px);
    padding: 0 16px 0 12px;
`,Dp=p.default.div(({theme:e})=>({paddingTop:e.spacing.xxxSmall})),Lp=p.default.div`
    display: flex;
    :before {
        content: "\u20B9";
        margin-left: 6px;
    }
`,kp=p.default.div`
    display: flex;
    margin-top: 2px;
`;var xp=Object(i.memo)((function(e){const{newLineBalanceMeta:t,discount:a,promoMsg:n}=e;return l.a.createElement(Pp,null,(null==t?void 0:t.show)&&!Object(s.ub)(t.value)&&l.a.createElement(kp,null,l.a.createElement(m.Text,{variant:"V2.body3.neutral.regular",color:"text_High_Emphasis"},"Balance:"),l.a.createElement(m.Text,{variant:"V2.body3.neutral.regular",color:"text_High_Emphasis"},l.a.createElement(Lp,null,String(t.value)))),!Object(s.ub)(a)&&l.a.createElement(Dp,null,l.a.createElement(m.Text,{variant:"V2.body3.neutral.medium",color:"positive"},a)),n&&n.length>0&&l.a.createElement(Dp,{"aria-hidden":!0},l.a.createElement(m.Text,{variant:"V2.body3.neutral.regular",color:"text_Med_Emphasis"},n)))})),wp=Object(i.memo)((function(e){const{methodData:t,turboPaymentCtaMeta:a,paymentActions:n,onClickChangePaymentCta:o,balanceValue:r,showDiscountedAmount:c,turboPodHalfCardEvents:d,increaseSliderWidth:u,onClickTurboStrip:m,onImpressionTurboStrip:p,turboStrip:_={},isTurboV2:E}=e,{iconUrl:C,showPayUsingSuperScript:b,methodDisplayName:y,promoMsg:g,discount:O,balanceMeta:h,showInlineBalance:A,showNewLineBalance:f,cardSubName:v}=ku(t,r),T=Object(i.useMemo)(()=>{var e;const a=null===(e=null==t?void 0:t.groupName)||void 0===e?void 0:e.toUpperCase(),n=Mn.includes(a)||bo(t),o=s.B.getItem("turbo-payment-instant-payment-subtext",0)||0,r=n&&o<3;return r&&s.B.setItem("turbo-payment-instant-payment-subtext",o+1),r},[t]),[I,S]=od("slide-to-pay-bump-animation-shown",!1),{onSlideButtonDrag:N,onSlideButtonSuccess:R,showChangeAnimation:P}=Object(i.useContext)(ju),{sliderButtonRef:D,onPostSliderSuccessCallback:L}=Object(i.useContext)(nm),[k,x]=Object(i.useState)(!1),[w,M]=Object(i.useState)(!1);Object(s.Db)(()=>{const e=setTimeout(()=>{S(!0)},2e3);return()=>{clearTimeout(e)}});const j=Object(i.useCallback)((e={},a)=>{const o={[Dn]:void 0};let r;Ru(t)&&(r=Pu(t,n)),Kn(t)&&(r=uo(t,a)),Co(t)&&(r=yo(t)),n.onPay(t,Object.assign(Object.assign({},o),r),Object.assign({isTurboPaymentMethod:!0},e))},[t,n]),B=Object(i.useCallback)((e,a)=>{if(null==R||R(e,a),Kn(t)&&!$n(t)&&gr(t,Yn,!1))x(!0);else{if(mm(t)){const e=t.meta;if(!an(e.halfCard)&&!an(e.halfCardInfo))return void M(!0)}j({slidePercent:e/a*100})}},[t,j,R]),U=Object(i.useCallback)(()=>{x(!1),L()},[L]),H=Object(i.useCallback)(e=>{x(!1),j({slidePercent:100},e)},[j]),G=Object(i.useMemo)(()=>{var e;return mm(t)?null!==(e=t.meta.ctaText)&&void 0!==e?e:wn.COD:"Slide to Pay"},[t]),Y=Object(i.useCallback)(()=>{M(!1),j({slidePercent:100})},[j]),W=Object(i.useCallback)(()=>{M(!1),L()},[L]),F=Object(i.useMemo)(()=>P?l.a.createElement(Ju,{dataTestId:Ya,onClick:o}):l.a.createElement(am,{dataTestId:Ya,onClick:o}),[o,P]),V=!an(_);return l.a.createElement(l.a.Fragment,null,V&&l.a.createElement(up,{onClickChangePaymentCta:o,onClickTurboStrip:m,onImpressionTurboStrip:p,data:_,isTurboV2:E}),l.a.createElement(yp,null,l.a.createElement(gp,null,l.a.createElement(jm,{src:C}),l.a.createElement(hp,null,l.a.createElement(Op,null,l.a.createElement(Rp,{displayName:y,superScriptText:b?"Pay using":"",inlineBalanceMeta:A?h:void 0,cardSubName:v}),F),l.a.createElement(xp,{promoMsg:g,discount:O,newLineBalanceMeta:f?h:void 0}))),l.a.createElement(Ap,null,l.a.createElement(s.Q,{dataTestId:Ga,sliderButtonRef:D,showInitialBumpAnimation:!I,onDragUpdate:An(N,200),onSuccess:B,prefixText:G,amountText:Object(s.hb)("₹{0}",(null==a?void 0:a.amountWithDiscount)||""),discountSubtext:c&&(null==a?void 0:a.amountWithoutDiscount)?Object(s.hb)("₹{0}",a.amountWithoutDiscount):void 0,showSubtextForInstantFoP:T,increaseSliderWidth:u})),k&&l.a.createElement(ym,{cardSubName:v,methodData:t,onCloseCvvBs:U,onCardPayAction:H}),w&&l.a.createElement(Nm,{isActive:w,data:t.meta,onPlaceOrder:Y,onCancel:W,turboPodHalfCardEvents:d})))})),Mp=Object(i.memo)((function(e){const{isTurboV2:t=!1}=e;return t?l.a.createElement(bp,Object.assign({},e)):l.a.createElement(wp,Object.assign({},e))}));const jp=p.keyframes`
    50% {
        transform: translate3d(100vw, 0, 0);
    }
`,Bp=Object(p.default)(s.G)`
    background: ${({theme:e})=>e.colors[e.colorMode].background_Primary};
    pointer-events: auto;
`,Up=p.default.div`
    position: fixed;
    top: ${"64px"};
    left: 0;
    z-index: 1024888;
    transform: translateZ(0);
    backface-visibility: hidden;

    @supports (top: var(--status-bar-height)) {
        top: calc(var(--status-bar-height, 0px) + ${"64px"});
    }
`,Hp=p.default.div`
    width: 16px;
    background-color: ${({theme:e})=>e.colors[e.colorMode].primary};
    height: 2px;
    transform: translateZ(0);
    will-change: transform;
    backface-visibility: hidden;
    animation: ${jp} linear 2s infinite;
`;var Gp=Object(i.memo)((function({hideMovingTray:e}){return l.a.createElement(s.H,null,l.a.createElement(s.F,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(Bp,{visible:!0}),!e&&l.a.createElement(Up,null,l.a.createElement(Hp,null)))))}));const Yp=p.keyframes`
    50% {
        transform: translate3d(100vw, 0, 0);
    }
`,Wp=p.default.div`
    transform: translateZ(0);
    backface-visibility: hidden;
`,Fp=p.default.div`
    width: 28px;
    background-color: ${e=>e.theme.colors.light.primary};
    height: 2px;
    transform: translateZ(0);
    will-change: transform;
    backface-visibility: hidden;
    border-radius: 100px;
    position: relative;
    top: -2px;
    animation: ${Yp} linear 2s infinite;
`;var Vp=Object(i.memo)((function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Gp,{hideMovingTray:!0}),l.a.createElement(Wp,{"data-testid":"tur-pay-wid_mov_try_con"},l.a.createElement(Fp,{"data-testid":"tur-pay-wid_mov_try"})))}));const Kp=Object(p.default)(s.c)`
    margin-right: ${e=>e.theme.spacing.xSmall};
`,zp=Object(p.default)(s.X)`
    position: absolute;
    left: ${e=>e.theme.spacing.xSmall};
    bottom: ${e=>e.isTurboV2?e.theme.spacing.xLarge:"92px"};
    transform: translateY(-120%);
    width: 240px;

    ${({isTurboV2:e})=>e&&"\n        height: auto;\n        transform: translateY(-100%);\n        bottom: auto;\n    "}
`,$p=Object(p.default)(m.Text)`
    margin-right: ${e=>e.commsType===pn.OFFER_COMMS?"16px":"0px"};
`;var Xp=Object(i.memo)((function(){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none"},l.a.createElement("g",{clipPath:"url(#a)"},l.a.createElement("mask",{id:"b",width:"20",height:"20",x:"0",y:"0",maskUnits:"userSpaceOnUse"},l.a.createElement("path",{fill:"#fff",d:"M20 0H0v20h20V0Z"})),l.a.createElement("g",{mask:"url(#b)"},l.a.createElement("path",{fill:"#1BA672",d:"M7.93942 2.30534c.66726-.61881 1.0009-.92821 1.37327-1.06289a1.95008 1.95008 0 0 1 1.32651 0c.3723.13468.706.44408 1.3732 1.06289.2804.25998.4205.38995.5785.48839.1821.11359.3819.19631.591.24482.1812.04204.3722.04924.7544.06364.9093.03426 1.364.05139 1.7226.21946.4126.19345.7445.52532.9379.93797.1681.35855.1852.81323.2195 1.72263.0143.38205.0216.57307.0636.75432.0485.20915.1312.40886.2449.59105.0983.1579.2283.29806.4883.57838.6188.66727.9283 1.0009 1.0629 1.37328.155.42857.155.89792 0 1.32652-.1346.3723-.4441.706-1.0629 1.3732-.26.2804-.39.4205-.4883.5784a1.9469 1.9469 0 0 0-.2449.5911c-.042.1813-.0493.3723-.0636.7543-.0343.9093-.0514 1.3641-.2195 1.7226a1.95009 1.95009 0 0 1-.9379.938c-.3586.1681-.8133.1852-1.7226.2195-.3822.0144-.5732.0215-.7544.0636a1.95116 1.95116 0 0 0-.591.2448c-.158.0985-.2981.2285-.5785.4883-.6672.6189-1.0009.9283-1.3732 1.063a1.9502 1.9502 0 0 1-1.32651 0c-.37237-.1347-.70601-.4441-1.37327-1.063-.28033-.2598-.42049-.3898-.57838-.4883a1.95196 1.95196 0 0 0-.59105-.2448c-.18125-.0421-.37227-.0492-.75432-.0636-.90939-.0343-1.36409-.0514-1.72264-.2195a1.95015 1.95015 0 0 1-.93795-.938c-.16808-.3585-.18521-.8133-.21948-1.7226-.0144-.382-.02158-.573-.06363-.7543a1.95 1.95 0 0 0-.24482-.5911c-.09843-.1579-.22842-.298-.4884-.5784-.6188-.6672-.92821-1.0009-1.06288-1.3732a1.95 1.95 0 0 1 0-1.32652c.13467-.37238.44408-.70601 1.06288-1.37328.25998-.28032.38997-.42048.4884-.57838a1.95014 1.95014 0 0 0 .24482-.59105c.04205-.18125.04923-.37227.06363-.75432.03427-.9094.0514-1.36408.21948-1.72263a1.95009 1.95009 0 0 1 .93795-.93797c.35855-.16807.81325-.1852 1.72264-.21946.38205-.0144.57307-.0216.75432-.06364a1.94999 1.94999 0 0 0 .59105-.24482c.15789-.09844.29805-.22841.57838-.48839Z"}),l.a.createElement("g",{filter:"url(#c)"},l.a.createElement("path",{fill:"#fff",d:"M5.85335 9.15925c-.38111-.38888-.57167-.87888-.57167-1.47 0-.59111.19056-1.07722.57167-1.45833.3811-.38889.8711-.58333 1.47-.58333.59889 0 1.08889.19444 1.47.58333.3811.38111.57167.86722.57167 1.45833 0 .59112-.19057 1.08112-.57167 1.47-.38111.38112-.87111.57167-1.47.57167-.5989 0-1.0889-.19055-1.47-.57167Zm.88667-2.1c-.14778.16334-.22167.37334-.22167.63 0 .25667.07389.46667.22167.63.15555.16334.34999.245.58333.245.23333 0 .42389-.08166.57166-.245.15555-.16333.23333-.37333.23333-.63 0-.25666-.07778-.46666-.23333-.63-.14777-.16333-.33833-.245-.57166-.245-.23334 0-.42778.08167-.58333.245Zm4.25838 6.51005c-.3812-.3889-.5717-.8789-.5717-1.47 0-.5912.1905-1.0773.5717-1.4584.3811-.3889.8711-.5833 1.47-.5833s1.0889.1944 1.47.5833c.3811.3811.5716.8672.5716 1.4584 0 .5911-.1905 1.0811-.5716 1.47-.3811.3811-.8711.5716-1.47.5716s-1.0889-.1905-1.47-.5716Zm.8866-2.1c-.1478.1633-.2216.3733-.2216.63 0 .2566.0738.4666.2216.63.1556.1633.35.245.5834.245.2332 0 .4239-.0817.5716-.245.1556-.1634.2334-.3734.2334-.63 0-.2567-.0778-.4667-.2334-.63-.1477-.1634-.3384-.245-.5716-.245-.2334 0-.4278.0816-.5834.245Zm-4.05999 2.625-.93333-.6417 5.07502-7.75835.9333.64167-5.07499 7.75838Z"})))),l.a.createElement("defs",null,l.a.createElement("clipPath",{id:"a"},l.a.createElement("path",{fill:"#fff",d:"M0 0h20v20H0z"})),l.a.createElement("filter",{id:"c",width:"9.68986",height:"8.95483",x:"5.05091",y:"5.64759",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},l.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),l.a.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),l.a.createElement("feOffset",{dy:".23077"}),l.a.createElement("feGaussianBlur",{stdDeviation:".11539"}),l.a.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),l.a.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_1_2"}),l.a.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_1_2",result:"shape"}))))})),Jp=Object(i.memo)((function({turboPaymentOfferComms:e,hideEducationComms:t,primaryToolipDismissCallback:a,commsToShow:n,method:o,isTurboV2:r=!1}){const[s,c]=Object(i.useState)(n),d=Object(i.useCallback)(()=>{c(null),null==a||a()},[a]);Object(i.useEffect)(()=>{t&&s===pn.EDU_COMMS&&c(null)},[s,t]);const u=(({commsType:e,offerCommsText:t,method:a,isTurboV2:n})=>{const o={[pn.EDU_COMMS]:{text:xu(a,n),commsDataTestId:Ba,textVariant:"V2.body3.neutral.medium"},[pn.OFFER_COMMS]:{text:t&&!Ke(t)?t:"Use this payment option to SAVE MORE!",commsDataTestId:"tur-pay-wid_offer_comms",textVariant:"V2.body2.neutral.medium"}};return e?o[e]:null})({commsType:s,offerCommsText:null==e?void 0:e.toolTipText,method:o,isTurboV2:r});if(!u)return null;const{text:m,commsDataTestId:p,textVariant:_}=u;return l.a.createElement(zp,{onClickClose:d,closeIconDataTestId:"tur-pay-wid_comms_cls",isTurboV2:r},l.a.createElement(Kp,{as:"div"},s===pn.OFFER_COMMS&&l.a.createElement(Xp,null)),l.a.createElement($p,{color:"text_Button_Primary",variant:_,"data-testid":p,tabIndex:0,commsType:s},m))}));const Zp=p.default.div`
    position: fixed;
    left: -100vw;
    bottom: "4px";
    top: -100vh;
    right: -100vw;
    z-index: -1;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    background: ${e=>e.theme.colors.light.background_Overlay_Light};
`;var qp=Object(i.memo)(({onClick:e})=>l.a.createElement(Zp,{onClick:e}));const Qp=Object(p.default)(s.c)(({theme:e,bottomArrowPosition:t})=>Object.assign(Object.assign({position:"absolute",top:0,transform:"translateY(-100%)"},"right"===t&&{right:e.spacing.medium}),"left"===t&&{left:e.spacing.medium})),e_=p.default.div(({theme:e})=>({marginRight:e.spacing.xSmall,height:e.spacing.xxLarge,width:e.spacing.xxLarge})),t_=Object(p.default)(s.X)`
    max-width: 260px;
    z-index: 1;

    &:before {
        left: ${e=>"right"===e.bottomArrowPosition?"inherit":e.theme.spacing.xLarge};
        right: ${e=>"right"===e.bottomArrowPosition?e.theme.spacing.xLarge:"inherit"};
    }
`,a_=Object(p.default)(m.Text)(({theme:e})=>({marginTop:"-"+e.spacing.xxxSmall,flex:1}));var n_=Object(i.memo)((function({bottomArrowPosition:e="right",onTooltipClose:t,onTooltipVisible:a,tooltipDetails:n}){const[o,r]=Object(i.useState)(!0),c=Object(i.useCallback)(()=>{t&&t(),r(!1)},[t]);return Object(s.Db)(()=>{a&&a()}),o?l.a.createElement(Qp,{as:"div",bottomArrowPosition:e,"data-testid":"TURBO_TOOLTIP"},l.a.createElement(t_,{bottomArrowPosition:e,closeIconDataTestId:"TURBO_TOOLTIP_CLOSE_ICON",onClickClose:c},l.a.createElement(e_,null,l.a.createElement(u.Image,{cloudinaryId:null==n?void 0:n.icon,height:"100%",width:"100%"})),l.a.createElement(a_,{maxLines:2,variant:"V2.body2.neutral.medium",color:"text_inverse_Highest_Emphasis"},null==n?void 0:n.text))):null}));const o_=p.default.div.attrs(e=>e)`
    position: absolute;
    right: ${e=>e.isChangeModeAnimation?e.theme.spacing.medium:""};
    bottom: ${e=>e.isChangeModeAnimation?"84px":"68px"};
    transform: translateY(-120%);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: ${e=>e.theme.spacing.small};
    background-color: ${e=>e.theme.colors.dark.background_Add_Button};
    border-radius: ${e=>e.theme.cornerRadius.medium};
    width: ${e=>e.isChangeModeAnimation?"200px":"256px"};
    z-index: 1;

    ${e=>e.isTurboV2&&`\n        transform: translateY(-100%);\n        left: ${e.theme.spacing.medium};\n        right: 0;\n        bottom: auto;\n    `}

    &:before {
        //arrow
        content: "";
        width: ${12}px;
        height: ${12}px;
        background-color: ${e=>e.theme.colors.dark.background_Add_Button};
        position: absolute;
        bottom: 0px;
        right: ${e=>e.isChangeModeAnimation?"21px":""};
        transform: translateY(47%) rotate(-45deg);
        border-radius: 0 0 0 2px;
        clip-path: polygon(0% 0%, 100% 100%, 0% 100%);

        ${e=>e.isTurboV2&&"\n            left: 21px;\n            right: 0;\n        "}
    }
`,r_=Object(p.default)(s.J)`
    background-color: transparent;
    height: ${16}px;
    margin-left: 2px;
    align-self: baseline;
`,i_=p.default.div`
    display: flex;
`,l_=e=>e?"turbo_tooltip_count_"+e:"turbo_tooltip_count";var s_=Object(i.memo)((function({isChangeModeAnimation:e,onImpressionChangeTooltipAnimation:t,onClickChangeTooltipAnimation:a,eventOnImpressionTooltip:n,eventOnTooltipClose:o,tooltipDetails:r,showTurboTooltip:c,isTurboV2:d=!1}){const[u,p]=Object(i.useState)(!1),[_,E]=Object(i.useState)(!1);Object(i.useEffect)(()=>{e?setTimeout(()=>{E(!0)},3500):E(!0)},[e]),Object(s.Db)(()=>{e&&t()});const C=Object(i.useCallback)(()=>{p(!1),e&&a()},[a,e]),b=Object(i.useCallback)(()=>{p(!1)},[]);Object(s.Db)(()=>{if(e){const e=s.z.TURBO_PAYMENT_EDUCATION_CHANGE_COMMS_SHOWN;"true"!==s.B.getItem(e)&&(s.B.setItem(e,"true"),p(!0))}});const y=Object(i.useMemo)(()=>{if(e)return"Tap here to choose other payment methods"},[e]),g=Object(i.useMemo)(()=>{if(e)return l.a.createElement(r_,{onClick:C,stroke:"#FFFFFF",opacity:"1"})},[C,e]);return c?l.a.createElement(n_,{onTooltipVisible:()=>{(e=>{const t=l_(e),a=s.B.getItem(t,"0"),n=Number(a)+1;s.B.setItem(t,n)})(null==r?void 0:r.key),n&&n()},onTooltipClose:()=>{o&&o()},tooltipDetails:r,bottomArrowPosition:d?"left":"right"}):u&&_?l.a.createElement(o_,{isTurboV2:d,isChangeModeAnimation:e},!e&&l.a.createElement(qp,{onClick:b}),l.a.createElement(i_,null,l.a.createElement(m.Text,{color:"text_inverse_Highest_Emphasis",variant:"V2.body2.neutral.medium","data-testid":Ba,tabIndex:0},y)),g):null}));const c_=p.keyframes`
    0% {
        background-position: -1000px 0;
    }

    100% {
        background-position: 1000px 0;
    }
`,d_=p.default.div`
    background: linear-gradient(
        90deg,
        ${I.tokens.colors.slateAlpha15} 0%,
        ${I.tokens.colors.slateAlpha05} 52.08%,
        ${I.tokens.colors.slateAlpha15} 100%
    );
    background-size: 1000px 100%;
    animation: ${c_} 3s infinite linear;
`,u_=p.default.div`
    bottom: 0;
    width: 100%;
    border-radius: ${e=>e.theme.cornerRadius.small} ${e=>e.theme.cornerRadius.small} 0 0;
    background: ${e=>e.theme.colors.light.background_Primary};
    padding: ${e=>e.theme.spacing.medium} ${e=>e.theme.spacing.medium} 0
        ${e=>e.theme.spacing.medium};
`,m_=p.default.div`
    display: flex;
`,p_=Object(p.default)(d_)`
    border-radius: ${e=>e.theme.cornerRadius.xSmall};
    width: ${32}px;
    height: ${32}px;
`,__=p.default.div`
    display: flex;
    padding-left: ${e=>e.theme.spacing.small};
    flex-grow: 1;
    justify-content: space-between;
    align-items: center;
`,E_=Object(p.default)(d_)`
    height: ${e=>e.height||15}px;
    width: ${e=>e.width||96}px;
    border-radius: ${e=>e.theme.cornerRadius.xxxSmall};
    margin-bottom: ${e=>e.theme.spacing.xxxSmall};
`,C_=Object(p.default)(d_)`
    border-radius: ${56}px;
    margin-top: ${e=>e.theme.spacing.medium};
    height: ${58}px;
`;var b_=Object(i.memo)(()=>l.a.createElement(u_,{"data-testid":ja},l.a.createElement(m_,null,l.a.createElement(p_,null),l.a.createElement(__,null,l.a.createElement(E_,null),l.a.createElement(E_,{height:11,width:64}))),l.a.createElement(C_,null)));const y_=p.keyframes`
    0% {
        background-position: -1000px 0;
    }

    100% {
        background-position: 1000px 0;
    }
`,g_=p.default.div`
    background: linear-gradient(
        90deg,
        ${I.tokens.colors.slateAlpha15} 0%,
        ${I.tokens.colors.slateAlpha05} 52.08%,
        ${I.tokens.colors.slateAlpha15} 100%
    );
    background-size: 1000px 100%;
    animation: ${y_} 3s infinite linear;
`,O_=p.default.div`
    bottom: 0;
    width: 100%;
    background: ${e=>e.theme.colors.light.background_Primary};
`,h_=p.default.div`
    background: ${e=>e.theme.colors.light.background_Primary};
    padding: ${e=>`${e.theme.spacing.medium} ${e.theme.spacing.medium} 0`};
    min-height: ${40}px;
`,A_=Object(p.default)(g_)`
    height: ${e=>e.height||12}px;
    width: ${e=>e.width||100}%;
`,f_=Object(p.default)(A_)`
    border-radius: ${e=>e.theme.cornerRadius.medium};
`,v_=Object(p.default)(A_)`
    margin-bottom: ${e=>e.theme.spacing.medium};
    border-radius: ${e=>e.theme.cornerRadius.xxSmall};
`,T_=Object(p.default)(v_)`
    margin-right: ${e=>e.theme.spacing.xxSmall};
`,I_=p.default.div`
    display: flex;
    align-items: center;
    flex: 1;
`,S_=p.default.div`
    display: flex;
    flex-direction: column;
    flex: 1;
`;var N_=Object(i.memo)(()=>l.a.createElement(O_,{"data-testid":ja},l.a.createElement(h_,null,l.a.createElement(I_,null,l.a.createElement(S_,null,l.a.createElement(I_,null,l.a.createElement(T_,{height:12,width:10}),l.a.createElement(v_,{height:12,width:40})),l.a.createElement(A_,{height:15,width:65})),l.a.createElement(S_,null,l.a.createElement(f_,{width:100,height:52})))))),R_=Object(i.memo)(e=>{const{paymentMethod:t,onClickChangePaymentCta:a,paymentAmountWithoutDiscount:n,loading:o,getTurboPaymentSpecificActions:r,hideEducationComms:c,showOverlay:d,onSlideButtonDrag:u,onImpressionChangeTooltipAnimation:m,onClickChangeTooltipAnimation:p,onSlideButtonSuccess:_,balanceValue:E,credEligibleData:C,showDiscountedAmount:b,turboPaymentOfferComms:y,paymentMethodDowntime:g,onPaymentDowntimeWidgetLoad:O,autoPaymethod:h,turboPodHalfCardEvents:A,manageSwipe:f,increaseSliderWidth:v,eventOnImpressionTooltip:T,eventOnTooltipClose:I,tooltipDetails:S,isTurboV2:N=!1,isPopCart:R,onClickTurboStrip:P,onImpressionTurboStrip:D,turboStrip:L={},cartCallbackOnTurboPaymentChange:k,amountWithDiscount:x}=e,w=Object(i.useRef)(null),M=Object(i.useMemo)(()=>{var e;if(!t)return null;if(!an(g)&&!an(null==g?void 0:g.singleClickPresentationInfo))return l.a.createElement(om,{methodData:h,paymentMethodDowntime:g,paymentActions:r(z.COD),onClickChangePaymentCta:a,showDiscountedAmount:b,amountWithDiscount:x,amountWithoutDiscount:n,onLoad:O});const o=null===(e=null==t?void 0:t.groupName)||void 0===e?void 0:e.toUpperCase(),i=(({amountWithDiscount:e,amountWithoutDiscount:t,methodData:a})=>{var n;const o=ho(a)||Oo(a);return{amountWithDiscount:e,amountWithoutDiscount:null!=t?t:"",mainText:In.PAY,subText:o&&(null===(n=a.meta.ctaMsg)||void 0===n?void 0:n.includes(In.VIA))?In.VIA+a.meta.ctaMsg.split(In.VIA)[1]:""}})({amountWithDiscount:x,amountWithoutDiscount:n,methodData:t});return l.a.createElement(Mp,{methodData:t,turboPaymentCtaMeta:i,paymentActions:r(o),onClickChangePaymentCta:a,balanceValue:E,credEligibleData:C,showDiscountedAmount:b,turboPodHalfCardEvents:A,increaseSliderWidth:v,isTurboV2:N,isPopCart:R,onClickTurboStrip:P,onImpressionTurboStrip:D,turboStrip:L})},[t,g,x,n,r,a,E,C,b,A,v,N,R,P,D,L,h,O]),[j,B]=Object(i.useState)(!1),U=Object(i.useCallback)(()=>{setTimeout(()=>{B(!0)},5e3)},[]),H=Object(i.useMemo)(()=>o?null:(e=>{const t=s.z.TURBO_PAYMENT_EDUCATION_COMMS_SHOWN,a=s.z.TURBO_PAYMENT_EDUCATION_COMMS_SHOWN_TIMESTAMP,n=s.z.TURBO_PAYMENT_OFFER_COMMS_SHOWN_COUNT,o=s.B.getItem(n);let r=null;return e&&!(e=>e&&Number(e)>=3)(o)?(s.B.setItem(n,Number(s.B.getItem(n)||0)+1),r=pn.OFFER_COMMS):"true"!==s.B.getItem(t)&&(s.B.setItem(t,"true"),s.B.setItem(a,Date.now()),r=pn.EDU_COMMS),r})(null==y?void 0:y.showTooltip),[null==y?void 0:y.showTooltip,o]),G=Object(i.useMemo)(()=>((e,t,a,n)=>{const o=l_(n),r=((e="",t)=>{const a=e.toLowerCase(),n="FlipkartSuperCoin".toLowerCase();return!!(a.includes(n)&&t<=3)||0==t})(n,Number(s.B.getItem(o,0)));return!e&&!t&&a&&r})(H,c,null==S?void 0:S.enabled,null==S?void 0:S.key),[H,null==S?void 0:S.enabled]),Y=j||G;return Object(i.useEffect)(()=>{var e;if(!w.current||!v)return;const t=null===(e=w.current)||void 0===e?void 0:e.offsetHeight;f(!0,t)},[w,f,o,v]),Object(i.useEffect)(()=>{"function"!=typeof k||an(M)||o||null==k||k()},[k,M,o]),o?N?l.a.createElement(N_,null):l.a.createElement(b_,null):l.a.createElement(ju.Provider,{value:{onSlideButtonDrag:u,onSlideButtonSuccess:_,showChangeAnimation:j}},l.a.createElement("div",{ref:w},d&&l.a.createElement(Vp,null),Y&&l.a.createElement(s_,{onImpressionChangeTooltipAnimation:m,onClickChangeTooltipAnimation:p,isChangeModeAnimation:j,eventOnImpressionTooltip:T,eventOnTooltipClose:I,tooltipDetails:S,showTurboTooltip:G,isTurboV2:N}),l.a.createElement(Jp,{hideEducationComms:c,primaryToolipDismissCallback:U,turboPaymentOfferComms:y,commsToShow:H,method:null==t?void 0:t.name,isTurboV2:N}),M))});Ho(".Cod-v4_paymentMethodContainer_twxtgncd{display:flex;align-items:center}.Cod-v4_paymentMethodCouponNotApplicable_knuAhwLQ,.Cod-v4_paymentMethodDisable_mdoWfvvZ,.Cod-v4_paymentMethodTokenExpired_9DhcUlt1{margin-top:2px;margin-left:0}.Cod-v4_paymentMethod_96EKUfLB{padding:19px 16px;overflow:hidden;border-bottom:1px dashed #e2e2e7}.Cod-v4_paymentMethod_96EKUfLB:last-child{border-bottom:none}.Cod-v4_paymentMethodContainer_twxtgncd{width:100%}.Cod-v4_paymentMethodDisabled_tGge961H{opacity:.7}.Cod-v4_paymentMethodPayButton_cTZCDf8u{margin-top:8px;margin-left:48px}.Cod-v4_paymentMethodPromoMsg_ptnIZTg-{margin:10px 0 0 48px}.Cod-v4_paymentMethodIconContainer_23tW38nv{width:36px;height:36px}.Cod-v4_codWithSubText_dJNkCmxy{align-self:flex-start}");var P_=Object(i.memo)((function(e){const t=Object(i.useMemo)(()=>{return e.ctaMsg?(t=e.ctaMsg,a=e.paymentAmount,t.replace(In.AMOUNT,a)):Object(s.Bb)(Object(s.hb)(In.PAY_X_WITH_CASH,e.paymentAmount));var t,a},[e.ctaMsg,e.paymentAmount]);return l.a.createElement("div",{className:"Cod-v4_paymentMethodPayButton_cTZCDf8u"},l.a.createElement(E.SuperButton,{variant:"fullwidth",buttonType:"specialPositive",buttonSize:"medium",onClick:t=>{t.stopPropagation(),e.onPay(e.methodData)},"data-testid":"pm_cod_pay_btn"},t))})),D_=Object(i.memo)(e=>{var t,a;const{methodData:n,paymentActions:o,selected:r,isPaymentGroupEnabled:c}=e,{onLoadCodHalfCard:u,onPlaceCodHalfCardCTa:m,onCancelHalfCard:p}=o,{meta:_,displayName:E}=n,{onSelect:C,onPay:b}=o,[y,g]=Object(i.useState)(!1),O=Object(i.useMemo)(()=>Bo(n,c),[c,n]),h=d()("Cod-v4_paymentMethod_96EKUfLB",{"Cod-v4_paymentMethodDisabled_tGge961H":!O}),A=d()({"Cod-v4_codWithSubText_dJNkCmxy":O&&(null===(a=null===(t=e.methodData)||void 0===t?void 0:t.meta)||void 0===a?void 0:a.promoMsg)}),f=Object(i.useMemo)(()=>So(n),[n]),v=Object(i.useMemo)(()=>((e,t)=>{const a=In.CASH;return t?`${a} ${Po(e)}`:`${a} ${Lo(e)}`})(n,O),[n,O]),T=Object(i.useMemo)(()=>Uo(e.paymentAmount,n),[e.paymentAmount,n]),I=Object(i.useMemo)(()=>!an(null==_?void 0:_.halfCardInfo)&&!an(null==_?void 0:_.halfCard),[null==_?void 0:_.halfCardInfo,null==_?void 0:_.halfCard]),S=Object(i.useMemo)(()=>({onPlaceOrderCtaClick:()=>{null==m||m(_.halfCard||"")},onCancelCtaClick:()=>{null==p||p(_.halfCard||"")},onLoad:()=>{null==u||u(_.halfCard||"")}}),[u,m,p,_.halfCard]),N=Object(i.useCallback)(e=>{e.preventDefault(),O&&C(n)},[O,n,C]),R=Object(i.useCallback)(e=>{I?g(!0):b(e)},[b,I]),P=Object(i.useCallback)(()=>{n&&(b(n),g(!1))},[n,b]),D=Object(i.useCallback)(()=>{g(!1)},[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:h,onClick:N,"data-testid":"pm_cod_container"},l.a.createElement("div",{className:"Cod-v4_paymentMethodContainer_twxtgncd"},l.a.createElement(Jo,{src:f,"data-testid":"pm_cod_icon"}),l.a.createElement(cr,{displayName:E||In.CASH,promoMsg:O?_.promoMsg:"",enabled:O,ariaLabel:v,"data-testid":"pm_cod_name"},!O&&l.a.createElement(Ar,{className:"Cod-v4_paymentMethodDisable_mdoWfvvZ",message:n.meta.disableMessage,"data-testid":"pm_cod_disable_msg"})),O&&l.a.createElement(s.W,{className:A,selected:r,"data-testid":"pm_cod_tick"})),r&&l.a.createElement(P_,{paymentAmount:T,enabled:O,selected:r,methodData:n,onPay:R,ctaMsg:null==_?void 0:_.ctaMsg})),y&&I&&l.a.createElement(Nm,{data:_,onPlaceOrder:P,onCancel:D,turboPodHalfCardEvents:S,isActive:!0}))});Ho(".IconView_container_GJy9nfIw{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:16px 0;width:48px;margin-right:1rem}.IconView_container_GJy9nfIw:first-child{margin-left:1rem}.IconView_container_GJy9nfIw:last-child{margin-right:0}.IconView_containerTitle_FL34i87J{font-size:.93rem;font-weight:200}.IconView_containerDisabled_mHOExvxx{opacity:.7}.IconView_containerIconContainer_1I-UU-N1{width:48px!important;margin-bottom:8px!important;height:auto!important;align-self:center!important}.IconView_containerIconContainerImage_19QN-R28{max-height:48px!important}");var L_=Object(i.memo)((function(e){const{methodData:t,onClick:a,isMethodEnabled:n,testIds:o}=e,r=Object(i.useMemo)(()=>So(t),[t]),s=Object(i.useMemo)(()=>No(t),[t]),c=Object(i.useMemo)(()=>d()("IconView_container_GJy9nfIw",{IconView_containerDisabled_mHOExvxx:!n}),[n]),u=Object(i.useCallback)(e=>{e.preventDefault(),n&&a()},[n,a]);return l.a.createElement("div",{className:c,onClick:u,"data-testid":o.CONTAINER},l.a.createElement(Jo,{src:r,parentClassName:"IconView_containerIconContainer_1I-UU-N1",imgClassName:"IconView_containerIconContainerImage_19QN-R28","data-testid":o.ICON}),l.a.createElement(cr,{displayName:s,enabled:n,"data-testid":o.NAME,className:"IconView_containerTitle_FL34i87J"}))}));Ho('@charset "UTF-8";.ListView-v4_paymentMethodBalance_9jxTnUL6{display:flex;align-items:center}.ListView-v4_paymentMethod_cKCu8VCC{padding:18px;overflow:hidden;border-bottom:1px dashed #e2e2e7}.ListView-v4_paymentMethod_cKCu8VCC:last-child{border-bottom:none}.ListView-v4_paymentMethodContainer_PoKWLHow{display:flex;width:100%;align-items:center}.ListView-v4_paymentMethodContainerTick_TQMZN3do{margin-left:auto}.ListView-v4_paymentMethodDisabled_mRhfuW-Q{opacity:.7}.ListView-v4_paymentMethodPayWrapper_-iNVVTXK{display:inline-block;padding-left:48px;width:100%}.ListView-v4_paymentMethodDisable_KgBvb2iX,.ListView-v4_paymentMethodPayButton_LK9FB8jo{margin-top:8px;animation:ListView-v4_expand_zekFL5P1 .3s ease-out;transform:translateZ(0)}.ListView-v4_paymentMethodTurboPayContainer_3kbZJzq5{padding:16px 16px 24px}.ListView-v4_paymentMethodTurboPayButton_nUsW4fRk,.ListView-v4_paymentMethodTurboPaySlideButton_zE9rTtxg{margin-left:0;margin-top:16px}.ListView-v4_paymentMethodTurboPayButton_nUsW4fRk{height:52px;animation:none;position:relative;overflow:hidden}.ListView-v4_paymentMethodTurboPayButton_nUsW4fRk:after{content:"";position:absolute;top:0;left:0;width:20px;height:100%;opacity:.1;transform:skewX(-40deg);background-color:#fff;animation:ListView-v4_turboCtaShimmer_w8X0wrr0 2s infinite;will-change:left}@keyframes ListView-v4_turboCtaShimmer_w8X0wrr0{0%{transform:skewX(-40deg) translateZ(0)}66%,to{transform:skewX(-40deg) translate3d(400px,0,0)}}.ListView-v4_paymentMethodTurboPayButton_nUsW4fRk:after{filter:blur(6.5px);animation-iteration-count:2}.ListView-v4_paymentMethodTurboPayName_dAZPGd2v{font-size:16px;line-height:19px;font-weight:600;letter-spacing:-.3px;padding-left:12px}.ListView-v4_paymentMethodTurboPayPromoMsg_V-mHGo-q{color:rgba(2,6,12,.4509803922)}.ListView-v4_paymentMethodTurboPayChangePayment_8YXL--Kh{align-self:baseline}.ListView-v4_paymentMethodCouponNotApplicable_Hd6PD32p,.ListView-v4_paymentMethodDisable_KgBvb2iX,.ListView-v4_paymentMethodLowBalance_ACszxF8T,.ListView-v4_paymentMethodTokenExpired_kXwF5W5I{margin-top:2px;margin-left:0}.ListView-v4_paymentMethodArrow_dCyVyguh{margin-right:2px;margin-top:2px;align-self:flex-start}.ListView-v4_paymentMethodBalance_9jxTnUL6{float:right;margin-left:8px;padding-right:10px}.ListView-v4_paymentMethodBalance_9jxTnUL6:before{content:"₹";margin-right:.1rem}@keyframes ListView-v4_expand_zekFL5P1{0%{transform:translate3d(0,-6px,0)}to{transform:translateZ(0)}}');var k_=Object(i.memo)((function(e){const{methodData:t,onClick:a,onPayButtonClick:n,isMethodEnabled:o,testIds:r,selected:c,payCtaMsg:u,isThirdPartyIntentApp:m,showArrow:p=!1,balance:_}=e,C=Object(i.useMemo)(()=>So(t,m),[t,m]),b=Object(i.useMemo)(()=>No(t),[t]),y=Object(i.useMemo)(()=>Po(t),[t]),g=Object(i.useMemo)(()=>Ro(t),[t]),O=Object(i.useMemo)(()=>{var e;return null===(e=t.meta)||void 0===e?void 0:e.newBadgeEnabled},[t]),h=Object(i.useMemo)(()=>d()("ListView-v4_paymentMethod_cKCu8VCC",{"ListView-v4_paymentMethodDisabled_mRhfuW-Q":!o}),[o]),A=Object(i.useCallback)(e=>{e.preventDefault(),o&&a()},[o,a]),f=Object(i.useCallback)(e=>{e.stopPropagation(),n()},[n]);return l.a.createElement("div",{className:h,onClick:A,"data-testid":r.CONTAINER},l.a.createElement("div",{className:"ListView-v4_paymentMethodContainer_PoKWLHow"},l.a.createElement(Jo,{src:C,"data-testid":r.ICON,isThirdPartyDisabledIntentApp:m&&!Io(t)}),l.a.createElement(cr,{displayName:b,promoMsg:y,enabled:o,discount:g,isNewBadgeEnabled:O,"data-testid":r.NAME},!o&&l.a.createElement(Ar,{className:"ListView-v4_paymentMethodDisable_KgBvb2iX",message:e.methodData.meta.disableMessage,"data-testid":r.DISABLE_MESSAGE})),_&&l.a.createElement("div",{"data-testid":null==r?void 0:r.BALANCE,className:"ListView-v4_paymentMethodBalance_9jxTnUL6"},_),p&&l.a.createElement(pu,{className:"ListView-v4_paymentMethodArrow_dCyVyguh"}),o&&!p&&l.a.createElement(s.W,{selected:c,className:"ListView-v4_paymentMethodContainerTick_TQMZN3do","data-testid":r.TICK})),c&&o&&l.a.createElement("div",{className:"ListView-v4_paymentMethodPayWrapper_-iNVVTXK"},l.a.createElement(E.SuperButton,{variant:"fullwidth",buttonType:"specialPositive",buttonSize:"medium",isDisabled:!o,onClick:f,className:"ListView-v4_paymentMethodPayButton_LK9FB8jo","data-testid":r.PAY_BUTTON},u)))}));Ho(".IconListView_arrowIconWrapper_og6tzvWz,.IconListView_paymentMethodPayWrapper_msJ99GIO{display:flex}.IconListView_arrowIconWrapper_og6tzvWz{align-items:center}.IconListView_paymentMethod_vE-DQsE7{font-size:16px;line-height:19px;font-weight:400;letter-spacing:-.3px;height:100%;overflow:hidden;border-bottom:1px dashed #e2e2e7;position:relative;color:rgba(2,6,12,.7490196078)}.IconListView_paymentMethod_vE-DQsE7:last-child{border-bottom:none}.IconListView_paymentMethodIconParent_1QpPlg75{padding:4px;align-self:center;border:1px solid #e2e2e7;border-radius:6px;width:36px;height:36px}.IconListView_paymentMethodContainer_LdEUrlhl{display:flex;width:100%;align-items:center;padding:18px}.IconListView_paymentMethodDisabled_u2s2iUy9{opacity:.7}.IconListView_arrowIcon_yYkwOqZH{float:right;stroke:#babbc0;height:11px;width:8px}");var x_=Object(i.memo)((function(e){const{methodData:t,onClick:a,isMethodEnabled:n,testIds:o}=e,r=Object(i.useMemo)(()=>So(t),[t]),s=Object(i.useMemo)(()=>No(t),[t]),c=Object(i.useMemo)(()=>Ro(t),[t]),u=Object(i.useMemo)(()=>Po(t),[t]),m=Object(i.useMemo)(()=>d()("IconListView_paymentMethod_vE-DQsE7",{IconListView_paymentMethodDisabled_u2s2iUy9:!n}),[n]),p=Object(i.useCallback)(e=>{e.preventDefault(),n&&a()},[n,a]);return l.a.createElement("div",{className:m,onClick:p,"data-testid":o.CONTAINER},l.a.createElement("div",{className:"IconListView_paymentMethodContainer_LdEUrlhl"},l.a.createElement(Jo,{src:r,"data-testid":o.ICON,parentClassName:"IconListView_paymentMethodIconParent_1QpPlg75"}),l.a.createElement(cr,{displayName:s,enabled:n,discount:c,"data-testid":o.NAME,promoMsg:u}),l.a.createElement(pu,{className:"IconListView_arrowIcon_yYkwOqZH"})))})),w_=Object(i.memo)((function(e){var t;const{methodData:a,isPreferredMethod:n,isPaymentGroupEnabled:o,paymentActions:r,paymentGroupMeta:c,selected:d,showListView:u}=e,m=Object(i.useMemo)(()=>Bo(a,o),[o,a]),p=null!==(t=a.payableAmount)&&void 0!==t?t:e.paymentAmount,_=Object(i.useMemo)(()=>n?Object(s.hb)(In.PAY_X,p):"",[n,p]),E=Object(i.useCallback)(()=>{m&&r.onPay(a,{bankCode:a.nbCode,bankName:a.name,merchantId:null==c?void 0:c.merchantId,paymentMethodType:"NB"})},[m,r,a,c]),C=Object(i.useCallback)(()=>{m&&(r.onSelect(a),n||E())},[m,r,a,n,E]);return n?l.a.createElement(k_,{methodData:a,isMethodEnabled:m,testIds:Oa,onClick:C,onPayButtonClick:E,selected:d,payCtaMsg:_}):u?l.a.createElement(x_,{methodData:a,isMethodEnabled:m,testIds:Oa,onClick:E}):l.a.createElement(L_,{methodData:a,isMethodEnabled:m,testIds:Oa,onClick:C})})),M_=Object(i.memo)((function(e){const{methodData:t,paymentActions:a,isPaymentGroupEnabled:n,selected:o,isIconView:r,paymentAmount:c,onClickPaymentGroups:d,position:u,isThirdPartyIntentApp:m}=e,p=Object(i.useMemo)(()=>Bo(t,n),[n,t]),_=Object(i.useMemo)(()=>Oo(t),[t]),E=Object(i.useMemo)(()=>_?Ia:Ta,[_]),C=Object(i.useMemo)(()=>((e,t)=>{var a;return null!==(a=e.meta.ctaMsg)&&void 0!==a?a:Object(s.hb)(In.PAY_X,t)})(t,c),[t,c]),b=Object(i.useCallback)((t={})=>{p&&a.onPay(e.methodData,{},t)},[p,a,e.methodData]),y=Object(i.useCallback)(()=>{d&&d(No(e.methodData),String(p),String(u)),p&&(a.onSelect(e.methodData),r&&b())},[r,p,b,a,e.methodData,d,u]);return r?l.a.createElement(L_,{isMethodEnabled:p,methodData:e.methodData,testIds:E,onClick:y}):l.a.createElement(k_,{methodData:e.methodData,isMethodEnabled:p,onClick:y,onPayButtonClick:b,testIds:E,selected:o,payCtaMsg:C,isThirdPartyIntentApp:m})}));const j_=e=>{var t,a;return null!==(a=null===(t=e.meta)||void 0===t?void 0:t.text)&&void 0!==a?a:""},B_="Confirm and Proceed";Ho(".LinkAccountContent_header_3FiZ5nuc{padding:12px 0}.LinkAccountContent_content_s6uZ0frN,.LinkAccountContent_header_3FiZ5nuc{display:flex;justify-content:center}.LinkAccountContent_primaryBtnBottomFixed_Vuxo4xRg{position:fixed!important;bottom:0;margin-bottom:16px;width:calc(100% - 40px)!important}.LinkAccountContent_secondaryBtn_vvG0Fm4H{margin-top:8px}.LinkAccountContent_container_MlWrbdFH{padding:20px 20px 8px}");var U_=Object(i.memo)((function(e){const{renderHeader:t,renderContent:a,primaryAction:n,secondaryAction:o}=e,r=d()({LinkAccountContent_primaryBtnBottomFixed_Vuxo4xRg:!o});return l.a.createElement("div",{className:d()("LinkAccountContent_container_MlWrbdFH",e.containerClass)},l.a.createElement("div",{className:"LinkAccountContent_header_3FiZ5nuc"},t&&t()),l.a.createElement("div",{className:"LinkAccountContent_content_s6uZ0frN"},a&&a()),l.a.createElement(E.SuperButton,{variant:"fullwidth",buttonType:"primary",buttonSize:"large",onClick:n.onClick,className:r},n.text),o&&l.a.createElement(E.SuperButton,{variant:"fullwidth",buttonType:"secondary",buttonSize:"large",onClick:o.onClick,className:"LinkAccountContent_secondaryBtn_vvG0Fm4H"},l.a.createElement("span",null,o.text)))}));Ho(".LinkAccount-v4_label_a0k4h5cA{margin-top:1px}");var H_=Object(i.memo)((function(e){var t;const{renderContent:a,renderHeader:n,actions:o,user:r,labelClassName:c,canShowDialog:u,closeDialog:m}=e,p=d()("LinkAccount-v4_label_a0k4h5cA",c),_=Object(i.useCallback)(()=>{"function"==typeof m&&m()},[m]),E=Object(i.useCallback)(()=>{"function"==typeof m&&m(),"function"==typeof(null==o?void 0:o.onProceed)&&o.onProceed()},[o,m]),b=Object(i.useCallback)(()=>{if("function"==typeof a&&r)return a(r)},[a,r]);return l.a.createElement(l.a.Fragment,null,u&&l.a.createElement(l.a.Fragment,null,l.a.createElement(s.e,{hideOnOverlayClick:!0,onClose:_},({close:e})=>l.a.createElement(U_,{renderHeader:n,renderContent:b,primaryAction:{text:B_,onClick:E},secondaryAction:{text:"Cancel",onClick:e}}))),l.a.createElement(s.c,{as:"span"},l.a.createElement(C.TextButton,{textAlign:"right",className:p,buttonSize:"small",color:"primary","data-testid":e["data-testid"]},null!==(t=e.label)&&void 0!==t?t:"Link Account")))})),G_="PayLater-v4_dialogHeaderIcon_XTLlmdN8",Y_="PayLater-v4_payLaterLinkHeaderIcon_OHHrnj-n",W_="PayLater-v4_payLaterLinkHeaderIconImg_fOtKl83l",F_="PayLater-v4_dialogContent_AN1FFiAI",V_="PayLater-v4_dialogContentText_7NNa-uDc",K_="PayLater-v4_dialogContentNumber_mwbPTpy3",z_="PayLater-v4_dialogContentSubtext_7tJ82bDy",$_="PayLater-v4_dialogHeader_TZDkPIoO",X_="PayLater-v4_dialogHeaderText_-Zf7hc5r";Ho('@charset "UTF-8";.PayLater-v4_dialogHeaderIcon_XTLlmdN8{display:flex;align-items:center;justify-content:center}.PayLater-v4_paymentMethod_aEtLKfNM{background:#fff;padding:19px 0;margin:0 16px;overflow:hidden;border-bottom:1px dashed #e2e2e7}.PayLater-v4_paymentMethod_aEtLKfNM:last-child{border-bottom:none}.PayLater-v4_paymentMethodContainer_t7VeCchV{display:flex;width:100%;align-items:center}.PayLater-v4_paymentMethodDisabled_zAHtylrI{opacity:.7}.PayLater-v4_paymentMethodDisable_WC-kWMmu,.PayLater-v4_paymentMethodPayButton_SMHgTWzW{margin-top:12px;margin-left:44px;transform:translateZ(0)}.PayLater-v4_paymentMethodCouponNotApplicable_7A9HS4wW,.PayLater-v4_paymentMethodDisable_WC-kWMmu,.PayLater-v4_paymentMethodTokenExpired_UWeyGwXh{margin-top:9px;margin-left:44px}.PayLater-v4_paymentMethodPromoMsg_QK37bSuQ{margin:10px 0 0 44px}.PayLater-v4_paymentMethodIconContainer_2dCaAn34{width:32px;height:32px}.PayLater-v4_payLaterLinkAccount_GneNjK9p{margin-left:auto}.PayLater-v4_payLaterLinkAccountWithSubText_sYk-ro-H{align-self:flex-start}.PayLater-v4_payLaterLinkAccountBalance_tA7Wc5VG{float:right}.PayLater-v4_payLaterLinkAccountBalanceUx4_DQv1LYdj{margin-left:8px}.PayLater-v4_payLaterLinkAccountBalanceValue_tdrYz-kJ{padding-right:10px}.PayLater-v4_payLaterLinkAccountBalanceValue_tdrYz-kJ:before{content:"₹";margin-right:.1rem}.PayLater-v4_payLaterLinkAccountLoader_AZRx1GB-{display:block}.PayLater-v4_payLaterLinkAccountContainer_IJC-sBBC{display:flex;align-items:center}.PayLater-v4_payLaterLinkHeader_X3GKYB4-{background:#f2f6fc;height:96px;padding:30px 16px}.PayLater-v4_payLaterLinkHeaderIcon_OHHrnj-n{height:56px;width:56px;border:none}.PayLater-v4_payLaterLinkHeaderIconImg_fOtKl83l{max-height:56px}.PayLater-v4_payLaterLinkHeaderTitle_Nhp9di31{color:#3d4152;font-size:1.1rem;margin-top:15px;line-height:1.2px;font-weight:400}.PayLater-v4_payLaterLinkBody_a-gedkmn{padding:0 16px}.PayLater-v4_payLaterLinkBodyText_qk-ia4Rd{font-size:.9rem;color:#535665;margin-bottom:7px;margin-top:18px}.PayLater-v4_payLaterLinkBodyNumber_ybWPnhRm{font-size:1.2rem;font-weight:600;margin-bottom:30px;color:#3d4152}.PayLater-v4_payLaterLinkBodyNote_--mkRg9i{color:#93959f;margin-bottom:13px;font-size:.9rem;line-height:1.42px}.PayLater-v4_payLaterDueDate_cpFz08nK{font-size:13px;line-height:16px;font-weight:200;letter-spacing:-.3px;margin-top:7px;color:rgba(2,6,12,.6)}.PayLater-v4_dialogContent_AN1FFiAI{margin-bottom:30px}.PayLater-v4_dialogContentPoint_MJ5R6wWn{display:flex;align-items:center;padding:2px 0}.PayLater-v4_dialogContentPointIcon_z1HqLRqY{display:inline-block;max-height:18px}.PayLater-v4_dialogContentPointIconWrapper_2adBIFSA{border:none;display:flex;align-items:center;margin-right:12px;width:18px}.PayLater-v4_dialogContentPointText_NDD4EhAW{font-size:14px;line-height:17px;font-weight:600;letter-spacing:-.3px;color:rgba(2,6,12,.7490196078)}.PayLater-v4_dialogContentTNC_5vk3L1gV{font-size:9px;color:rgba(2,6,12,.6);margin:12px 0 24px}.PayLater-v4_dialogContentTNCLink_07KlWR57{color:#ff5200;text-decoration:none}.PayLater-v4_dialogContentTNCLink_07KlWR57:before{content:"*";margin-right:3px}.PayLater-v4_dialogContentTNCLink_07KlWR57:after{content:" "}.PayLater-v4_dialogContentText_7NNa-uDc{font-size:13px;line-height:16px;font-weight:200;letter-spacing:-.3px;color:rgba(2,6,12,.4509803922);padding:24px 0 4px;border-top:1px dashed #e2e2e7}.PayLater-v4_dialogContentNumber_mwbPTpy3{color:rgba(2,6,12,.4509803922)}.PayLater-v4_dialogContentNumber_mwbPTpy3,.PayLater-v4_dialogContentSubtext_7tJ82bDy{font-size:14px;line-height:17px;font-weight:600;letter-spacing:-.3px}.PayLater-v4_dialogContentSubtext_7tJ82bDy{color:rgba(2,6,12,.7490196078);margin:3px 0}.PayLater-v4_dialogHeader_TZDkPIoO{font-size:14px;line-height:17px;font-weight:400;letter-spacing:-.3px;color:rgba(2,6,12,.4509803922);text-align:center;padding:0 36px;margin-bottom:16px}.PayLater-v4_dialogHeaderText_-Zf7hc5r{margin-top:12px}');const J_=Object(i.memo)((function(e){const{tncUrl:t}=e;return null==t?null:l.a.createElement("div",{className:"PayLater-v4_dialogContentTNC_5vk3L1gV"},l.a.createElement("a",{href:t,rel:"noopener noreferrer",className:"PayLater-v4_dialogContentTNCLink_07KlWR57","data-testid":e.dataTestId},In.TERMS_AND_CONDITIONS),l.a.createElement("span",null,In.APPLY))})),Z_="Proceed to link {0} with:",q_=Object(i.memo)((function(e){const t=null!==(n=null===(a=e.meta.meta)||void 0===a?void 0:a.points)&&void 0!==n?n:[];var a,n;return Ke(t)?null:l.a.createElement("div",null,t.map((t,a)=>{var n;return l.a.createElement("div",{className:"PayLater-v4_dialogContentPoint_MJ5R6wWn",key:a,"data-testid":e.dataTestId},l.a.createElement(Jo,{parentClassName:"PayLater-v4_dialogContentPointIconWrapper_2adBIFSA",imgClassName:"PayLater-v4_dialogContentPointIcon_z1HqLRqY",src:Tn(null!==(n=t.iconUrl)&&void 0!==n?n:""),width:18}),l.a.createElement("div",{className:"PayLater-v4_dialogContentPointText_NDD4EhAW"},t.text))}))}));var Q_=Object(i.memo)((function(e){var t;const{renderIcon:a,payLaterLinkedData:n,methodData:o,payLaterTestIds:r,linkAccountActions:{onProceed:c},canShowDialog:u,closeDialog:m}=e,p=d()({"PayLater-v4_payLaterLinkAccount_GneNjK9p":!0,"PayLater-v4_payLaterLinkAccountWithSubText_sYk-ro-H":null===(t=null==o?void 0:o.meta)||void 0===t?void 0:t.promoMsg}),_=Object(i.useCallback)(()=>(({renderIcon:e,payLaterTestIds:t,payLaterLinkedData:a})=>l.a.createElement("div",{className:$_},l.a.createElement("div",{className:G_,"data-testid":t.DIALOG_HEADER.ICON},e()),a&&l.a.createElement("div",{className:X_,"data-testid":t.DIALOG_HEADER.TEXT},j_(a))))({renderIcon:a,payLaterLinkedData:n,payLaterTestIds:r}),[a,n,r]),E=Object(i.useCallback)(e=>(({methodData:e,user:t,payLaterLinkedData:a,payLaterTestIds:n})=>{const o=No(e);return l.a.createElement("div",{className:F_,"data-testid":n.DIALOG_CONTENT.WRAPPER},a&&l.a.createElement(q_,{meta:a,dataTestId:n.DIALOG_CONTENT.META_POINT}),l.a.createElement(J_,{tncUrl:(r=e,r.meta["t&cUrl"]),dataTestId:n.DIALOG_CONTENT.TNC_LINK}),l.a.createElement("div",{className:V_,"data-testid":n.DIALOG_CONTENT.METHOD_NAME},Object(s.hb)(Z_,o)),l.a.createElement("div",{className:z_,"data-testid":n.DIALOG_CONTENT.EMAIL},t.email),l.a.createElement("div",{className:K_,"data-testid":n.DIALOG_CONTENT.MOBILE}," "+t.mobile));var r})({methodData:o,user:e,payLaterLinkedData:n,payLaterTestIds:r}),[o,n,r]),C=Object(i.useMemo)(()=>({onProceed:()=>{var t;return c(e.methodData.paymentCode,(null===(t=e.user)||void 0===t?void 0:t.mobile)||"")}}),[c,e.methodData.paymentCode,e.user]);return l.a.createElement("div",{className:p},e.loading?l.a.createElement(dr,{size:"medium",className:"PayLater-v4_payLaterLinkAccountLoader_AZRx1GB-","data-testid":r.CIRCLE_LOADER}):n?n.linked?l.a.createElement(s.W,{selected:e.selected,className:"PayLater-v4_payLaterLinkAccountBalance_tA7Wc5VG","data-testid":r.TICK}):l.a.createElement("div",{className:"PayLater-v4_payLaterLinkAccountContainer_IJC-sBBC"},l.a.createElement(H_,{renderHeader:_,renderContent:E,actions:C,user:e.user,"data-testid":r.LINK_ACCOUNT,canShowDialog:u,closeDialog:m})):null)})),eE=Object(i.memo)((function(e){const[t,a]=Object(i.useState)(!1),n=Object(i.useMemo)(()=>Bo(e.methodData,e.isPaymentGroupEnabled),[e.isPaymentGroupEnabled,e.methodData]),{checkPayLaterLinkStatus:o,onSelect:r,onPay:c,linkPayLater:u,analyticsPayLater:m}=e.paymentActions,{paylaterMethodImpression:p,linkAccountImpression:_,onClickLink:C}=m,[b,y]=o(e.methodData),g=n&&!1!==y.enabled,O=Object(i.useMemo)(()=>va(e.methodData.paymentCode),[e.methodData.paymentCode]);Object(s.Db)(()=>{var t,a,n;p(e.methodData.paymentCode,(null===(t=e.methodData)||void 0===t?void 0:t.enabled)?"":null===(n=null===(a=null==e?void 0:e.methodData)||void 0===a?void 0:a.meta)||void 0===n?void 0:n.disableMessage),(null==y?void 0:y.linked)||_(e.methodData.paymentCode)});const h=Object(i.useCallback)(t=>{var n,o;if(t.preventDefault(),g&&2===b)return(null==y?void 0:y.linked)?void r(e.methodData):(C(e.methodData.paymentCode),void("PayLater_Lazypay"===e.methodData.paymentCode?a(!0):u.onProceed(e.methodData.paymentCode,null===(o=null===(n=e.methodData)||void 0===n?void 0:n.meta)||void 0===o?void 0:o.simplRedirectionUrl)))},[b,y,e.methodData,r,g,u,C]),A=Object(i.useCallback)(()=>{a(!1)},[]),f=Object(i.useCallback)(t=>{t.stopPropagation(),2===b&&c(e.methodData)},[b,c,e.methodData]),v=Object(i.useMemo)(()=>g?Po(e.methodData):n?y.disableMessage:Lo(e.methodData),[n,g,y.disableMessage,e.methodData]),T=Object(i.useCallback)(t=>l.a.createElement(Jo,{src:So(e.methodData),width:t,"data-testid":O.ICON}),[e.methodData,O]),I=Object(i.useCallback)(t=>l.a.createElement(Jo,{src:So(e.methodData),width:t,imgClassName:W_,parentClassName:Y_,"data-testid":O.ICON}),[e.methodData,O.ICON]),S=d()("PayLater-v4_paymentMethod_aEtLKfNM",{"PayLater-v4_paymentMethodDisabled_zAHtylrI":!g}),N=null!==(R=e.methodData.meta.dueDateMessage)&&void 0!==R?R:"";var R;return l.a.createElement("div",{className:S,onClick:h,"data-testid":O.CONTAINER},l.a.createElement("div",{className:"PayLater-v4_paymentMethodContainer_t7VeCchV"},T(),l.a.createElement(cr,{displayName:No(e.methodData),promoMsg:v,discount:Ro(e.methodData),enabled:g,"data-testid":O.NAME}),g&&l.a.createElement(Q_,{user:e.user,renderIcon:I,loading:0===b,selected:e.selected,methodData:e.methodData,payLaterLinkedData:y,linkAccountActions:e.paymentActions.linkAccountActions,payLaterTestIds:O,canShowDialog:t,closeDialog:A})),g?e.selected&&y.linked&&l.a.createElement("div",{className:"PayLater-v4_paymentMethodPayButton_SMHgTWzW"},l.a.createElement(E.SuperButton,{buttonType:"specialPositive",variant:"fullwidth",buttonSize:"medium",onClick:f,"data-testid":O.PAY_BUTTON},Object(s.hb)(In.PAY_X,Uo(e.paymentAmount,e.methodData))),!Ke(N)&&l.a.createElement("div",{className:"PayLater-v4_payLaterDueDate_cpFz08nK","data-testid":O.DUE_DATE_MESSAGE},N)):null)})),tE=Object(i.memo)((function(e){const{user:t,onCloseHalfCard:a,onProceedToLink:n,methodMeta:o,payLaterLinkedData:r,showAsFullPage:c}=e,{paymentCode:d,iconUrl:u}=o,m=Object(i.useMemo)(()=>va(d),[d]),p=Object(i.useCallback)(()=>{"function"==typeof a&&a(),n(d)},[a,n,d]),_=Object(i.useCallback)(()=>{"function"==typeof a&&a()},[a]),E=Object(i.useCallback)(e=>l.a.createElement(Jo,{src:Object(s.nb)(u),width:e,"data-testid":m.ICON,imgClassName:W_,parentClassName:Y_}),[u,m.ICON]),C=Object(i.useCallback)(()=>(({renderIcon:e,payLaterTestIds:t,payLaterLinkedData:a})=>l.a.createElement("div",{className:$_},l.a.createElement("div",{className:G_,"data-testid":t.DIALOG_HEADER.ICON},e()),a&&l.a.createElement("div",{className:X_,"data-testid":t.DIALOG_HEADER.TEXT},j_(a))))({renderIcon:E,payLaterLinkedData:r,payLaterTestIds:m}),[r,m,E]),b=Object(i.useCallback)(()=>{if(t)return(({methodMeta:e,user:t,payLaterLinkedData:a,payLaterTestIds:n})=>{const{displayName:o,tncUrl:r}=e;return l.a.createElement("div",{className:F_,"data-testid":n.DIALOG_CONTENT.WRAPPER},a&&l.a.createElement(q_,{meta:a,dataTestId:n.DIALOG_CONTENT.META_POINT}),l.a.createElement(J_,{tncUrl:r,dataTestId:n.DIALOG_CONTENT.TNC_LINK}),l.a.createElement("div",{className:V_,"data-testid":n.DIALOG_CONTENT.METHOD_NAME},Object(s.hb)(Z_,o)),l.a.createElement("div",{className:z_,"data-testid":n.DIALOG_CONTENT.EMAIL},t.email),l.a.createElement("div",{className:K_,"data-testid":n.DIALOG_CONTENT.MOBILE},""+t.mobile))})({methodMeta:o,user:t,payLaterLinkedData:r,payLaterTestIds:m})},[o,r,m,t]),y=Object(i.useCallback)(()=>l.a.createElement(s.e,{hideOnOverlayClick:!0,onClose:_},({close:e})=>l.a.createElement(U_,{renderHeader:C,renderContent:b,primaryAction:{text:B_,onClick:p},secondaryAction:{text:"Cancel",onClick:e}})),[_,p,b,C]);return l.a.createElement(l.a.Fragment,null,c?l.a.createElement(U_,{renderHeader:C,renderContent:b,primaryAction:{text:B_,onClick:p}}):y())}));Ho(".JuspayWallet_container_RdtJZeyN{display:flex;align-items:center;width:100%;padding-top:12px}.JuspayWallet_paymentMethod_wPwfYDat{background:#fff;padding:0 16px;overflow:hidden}.JuspayWallet_paymentMethod_wPwfYDat:last-child{padding-bottom:12px}.JuspayWallet_paymentMethod_wPwfYDat:last-child:after{display:none}.JuspayWallet_paymentMethodDisabled_A9tNetu2{opacity:.6}.JuspayWallet_paymentMethodPayWrapper_fYMNBt5W{width:calc(100% - 44px)}.JuspayWallet_paymentMethodDisable_Tzxpcoit,.JuspayWallet_paymentMethodPayButton_GYm397kM{margin-top:12px;margin-left:44px;animation:JuspayWallet_expand_w8Bz23nd .3s ease-out}.JuspayWallet_paymentMethodDisable_Tzxpcoit{margin-top:9px;margin-left:44px;margin-bottom:6px}@keyframes JuspayWallet_expand_w8Bz23nd{0%{transform:translate3d(0,-6px,0)}to{transform:translateZ(0)}}");var aE=Object(i.memo)((function(e){return l.a.createElement("div",{className:"JuspayWallet_paymentMethodPayWrapper_fYMNBt5W"},l.a.createElement(E.SuperButton,{onClick:t=>{t.stopPropagation(),e.onPay(e.methodData)},className:"JuspayWallet_paymentMethodPayButton_GYm397kM","data-testid":"pm_jw_pay_btn",buttonType:"specialPositive",variant:"fullwidth",buttonSize:"medium"},In.PAY_VIA_PAYPAL))})),nE=Object(i.memo)((function(e){const{onSelect:t,onPay:a}=e.paymentActions,n=Object(i.useMemo)(()=>Bo(e.methodData,e.isPaymentGroupEnabled),[e.isPaymentGroupEnabled,e.methodData]),o=Object(i.useCallback)(a=>{a.preventDefault(),t(e.methodData)},[t,e.methodData]),r=Object(i.useCallback)(()=>{a(e.methodData,void 0)},[a,e.methodData]),c=d()("JuspayWallet_paymentMethod_wPwfYDat",{JuspayWallet_paymentMethodDisabled_A9tNetu2:!n}),u=Object(i.useMemo)(()=>l.a.createElement(Jo,{src:So(e.methodData),width:32,"data-testid":"pm_jw_icon"}),[e.methodData]);return l.a.createElement("div",{className:c,onClick:o,"data-testid":"pm_jw_container"},l.a.createElement("div",{className:"JuspayWallet_container_RdtJZeyN"},u,l.a.createElement(cr,{displayName:e.methodData.displayName,promoMsg:Po(e.methodData),enabled:n,"data-testid":"pm_jw_name"}),n&&l.a.createElement(s.W,{selected:e.selected,"data-testid":"pm_jw_tick"})),n?e.selected&&l.a.createElement(aE,{onPay:r,methodData:e.methodData}):l.a.createElement(Ar,{className:"JuspayWallet_paymentMethodDisable_Tzxpcoit",message:Lo(e.methodData),"data-testid":"pm_jw_disable_msg"}))}));Ho('@charset "UTF-8";.SwiggyInstruments_paymentMethodContainer_24zqTr9-,.SwiggyInstruments_swiggyInsInfoMessageAndButtonWithAddMoneyCta_-dEURPoQ,.SwiggyInstruments_swiggyInsInfoMessageAndButtonWithoutAddMoneyCta_3SkQuc1L,.SwiggyInstruments_swiggyInsMain_REIWXknS{display:flex}.SwiggyInstruments_swiggyInsInfoMessageAndButtonWithAddMoneyCta_-dEURPoQ{flex-direction:column}.SwiggyInstruments_paymentMethodContainer_24zqTr9-{align-items:center}.SwiggyInstruments_paymentMethodCouponNotApplicable_L5h-drRC,.SwiggyInstruments_paymentMethodDisable_YD09qiGW,.SwiggyInstruments_paymentMethodTokenExpired_4Cud09MI,.SwiggyInstruments_swiggyInsDisable_X6fTklyd{margin-top:2px;margin-left:0}.SwiggyInstruments_paymentMethod_aU09GsDD,.SwiggyInstruments_swiggyInsContainer_ssngYe9T{padding:19px 16px;overflow:hidden;border-bottom:1px dashed #e2e2e7}.SwiggyInstruments_paymentMethod_aU09GsDD:last-child,.SwiggyInstruments_swiggyInsContainer_ssngYe9T:last-child{border-bottom:none}.SwiggyInstruments_paymentMethodContainer_24zqTr9-{width:100%}.SwiggyInstruments_paymentMethodDisabled_vFPZ3FDP{opacity:.7}.SwiggyInstruments_paymentMethodPayButton_eu8xkSb1{margin-top:8px;margin-left:48px}.SwiggyInstruments_paymentMethodPromoMsg_csqW4PYq{margin:10px 0 0 48px}.SwiggyInstruments_paymentMethodIconContainer_-US1HSrv{width:36px;height:36px}@keyframes SwiggyInstruments_expand_1CzCty-X{0%{transform:translate3d(0,-6px,0)}to{transform:translateZ(0)}}.SwiggyInstruments_swiggyInsAddMoneyButtonContainer_7Mcj5ERY,.SwiggyInstruments_swiggyInsPayButtonContainer_1yXKWhuA{animation:SwiggyInstruments_expand_1CzCty-X .3s ease-out;transform:translateZ(0)}.SwiggyInstruments_swiggyInsDebitLimitExceeded_hWa0uRPS{--title-color:rgba(2,6,12,0.6);--balance-color:rgba(2,6,12,0.6);--info-message-color:rgba(2,6,12,0.4509803922);--payment-icon-opacity:0.5;--balance-padding-right:6px;--title-balance-toggle-vertical-position:flex-start}.SwiggyInstruments_swiggyInsContainer_ssngYe9T{padding:18px 16px}.SwiggyInstruments_swiggyInsBalance_BTVGB8ni{font-size:13px;line-height:16px;font-weight:200;letter-spacing:-.3px;line-height:1;padding-right:var(--balance-padding-right,12px);color:var(--balance-color,rgba(2,6,12,.7490196078))}.SwiggyInstruments_swiggyInsBalance_BTVGB8ni:before{content:"₹";margin-right:.1rem}.SwiggyInstruments_swiggyInsTitle_y6RuEaTC{color:var(--title-color,rgba(2,6,12,.7490196078));padding:0!important}.SwiggyInstruments_swiggyInsInfoMessage_vL4Jq7PL{font-size:13px;line-height:16px;font-weight:200;letter-spacing:-.3px;margin-right:4px;color:var(--info-message-color,rgba(2,6,12,.6))}.SwiggyInstruments_swiggyInsToggle_w7uLGuVC{line-height:0}.SwiggyInstruments_swiggyInsToggleSelectedOrWithLowBalanceAlert_nDiGDcF-{position:relative;top:-6px;margin-bottom:-6px}.SwiggyInstruments_swiggyInsSwiggyMoneyInfoCta_3I6WrQTm{font-size:13px;line-height:16px;font-weight:400;letter-spacing:-.3px;letter-spacing:-.1px;color:#ff5200;white-space:nowrap;display:inline-block}.SwiggyInstruments_swiggyInsPaymentMethodIcon_raQJhfT-{align-self:flex-start;opacity:var(--payment-icon-opacity,1)}.SwiggyInstruments_swiggyInsMain_REIWXknS{align-items:var(--title-balance-toggle-vertical-position,center)}.SwiggyInstruments_swiggyInsMainContainer_SBiHe5b2{margin-left:16px;width:100%;align-self:center}.SwiggyInstruments_swiggyInsAddMoneyButton_LikREwJU{line-height:100%}.SwiggyInstruments_swiggyInsAddMoneyButtonContainer_7Mcj5ERY{margin-top:16px;margin-bottom:14px}.SwiggyInstruments_swiggyInsPayButton_3zGPVrp9{line-height:100%}.SwiggyInstruments_swiggyInsPayButtonContainer_1yXKWhuA{margin-top:14px}.SwiggyInstruments_swiggyInsInfoMessageAndButtonWithoutAddMoneyCta_3SkQuc1L{flex-direction:column-reverse;margin-top:8px}.SwiggyInstruments_swiggyInsInfoMessageAndButtonWithoutAddMoneyCta_3SkQuc1L:empty{display:none}.SwiggyInstruments_swiggyInsLowBalance_8l0qZBze{margin-top:4px}.SwiggyInstruments_swiggyInsDisable_X6fTklyd{font-size:13px;line-height:16px;font-weight:200;letter-spacing:-.3px;margin-top:8px}');var oE=Object(i.memo)((function(e){const{canShowAddMoneyCta:t,isBalanceSufficient:a,onPayClick:n,onAddMoneyClick:o,onAddMoneyView:r}=e,c=d()({SwiggyInstruments_swiggyInsPayButtonContainer_1yXKWhuA:e.isBalanceSufficient,SwiggyInstruments_swiggyInsAddMoneyButtonContainer_7Mcj5ERY:e.canShowAddMoneyCta});Object(s.Db)(()=>{t&&r()});const u=Object(i.useCallback)(e=>{e.stopPropagation(),a?n():o()},[a,n,o]),m=Object(i.useMemo)(()=>({buttonType:"specialPositive",buttonSize:"medium",variant:"fullwidth",onClick:u,"data-testid":a?"pm_si_pay_btn":"pm_si_add_money_cta",className:a?"SwiggyInstruments_swiggyInsPayButton_3zGPVrp9":"SwiggyInstruments_swiggyInsAddMoneyButton_LikREwJU"}),[a,n,o]),p=Object(i.useMemo)(()=>a?Object(s.hb)(In.PAY_X_WITH_Y,e.paymentAmount,e.paymentMethodDisplayName):e.addMoneyCtaMessage,[e.addMoneyCtaMessage,a,e.paymentAmount,e.paymentMethodDisplayName]);return a||t?l.a.createElement("div",{className:c},l.a.createElement(E.SuperButton,Object.assign({},m),p)):null}));function rE(e,t,a,n){return t?a?e.colors[e.colorMode][a]:e.colors[e.colorMode].special_positive:n?e.colors[e.colorMode][n]:e.colors[e.colorMode].background_Secondary}const iE=p.default.span(({theme:e,$isActive:t,$isDisabled:a,$activeColor:n,$backgroundColor:o})=>({background:rE(e,t,n,o),width:"40px",height:"24px",position:"relative",transition:"background 0.15s linear",willChange:"background",backfaceVisibility:"hidden",transform:"translateZ(0)",contain:"layout",display:"inline-block",boxShadow:"inset 0px 1px 2px rgba(0, 0, 0, 0.08)",borderRadius:e.cornerRadius.medium,opacity:a?.5:1})),lE=p.default.span(({theme:e,$isActive:t,$thumbColor:a})=>({position:"absolute",top:"4px",left:"4px",width:"16px",height:"16px",background:a?e.colors[e.colorMode][a]:e.colors[e.colorMode].background_Primary,boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.12)",transition:"all 0.15s linear",backfaceVisibility:"hidden",willChange:"transform, border-color",contain:"strict",borderRadius:"8px",border:"none",transform:t?"translate3d(16px, 0, 0)":"translate3d(0, 0, 0)"})),sE={CONTAINER:"toggle-switch-container",BAR:"toggle-switch-bar",THUMB:"toggle-switch-thumb"};var cE=Object(i.memo)((function(e){const{selected:t,className:a,"data-testid":n=sE.CONTAINER,isDisabled:o=!1,onClick:r,activeColor:i,backgroundColor:s,thumbColor:c}=e;return l.a.createElement("div",{className:a,"data-testid":n,onClick:r},l.a.createElement(iE,{$isActive:t,$isDisabled:o,$activeColor:i,$backgroundColor:s,"data-testid":sE.BAR},l.a.createElement(lE,{$isActive:t,$thumbColor:c,"data-testid":sE.THUMB})))})),dE=".LoadingScreen_container_6l2gUQ3J{display:flex;height:100vh;justify-content:center;align-items:center;background:#e9e9eb}",uE={_getCss:function(){return dE},_getId:function(){return"df99d370e3"},container:"LoadingScreen_container_6l2gUQ3J"};Ho(dE);var mE=Object(i.memo)(Object(s.Hb)((function(e){const t=d()(uE.container,e.className);return l.a.createElement("div",{className:t,"data-testid":Ka},l.a.createElement(dr,{size:"large","data-testid":"fpl_circle_loader"}))}),uE)),pE=".InitalLoadingScreen_orderContainer_rkRKuh8a{border-radius:0 0 24px 24px;background:#fff;padding:20px}.InitalLoadingScreen_singleLine_uGkyImIk{display:flex;align-items:center;margin-bottom:16px}.InitalLoadingScreen_singleLine_uGkyImIk:last-child{margin-bottom:0}.InitalLoadingScreen_circle_nAPHC9CM{width:20px;height:20px;border-radius:20px}.InitalLoadingScreen_circle_nAPHC9CM,.InitalLoadingScreen_line_8ocZtMpY{background:linear-gradient(90deg,#e2e2e7,#d0d1d7 52.08%,#e2e2e7);background-size:1000px 100%;animation:InitalLoadingScreen_shimmer_Nr3pER2Z 2s linear infinite}.InitalLoadingScreen_line_8ocZtMpY{width:50%;height:16px;margin-left:18px}.InitalLoadingScreen_square_hfoBfgHY{width:32px;height:32px;border-radius:8px}.InitalLoadingScreen_rectangle_tBLpHZGh,.InitalLoadingScreen_square_hfoBfgHY{background:linear-gradient(90deg,#e2e2e7,#d0d1d7 52.08%,#e2e2e7);background-size:1000px 100%;animation:InitalLoadingScreen_shimmer_Nr3pER2Z 2s linear infinite}.InitalLoadingScreen_rectangle_tBLpHZGh{border-radius:12px;height:60px;margin:0 16px}.InitalLoadingScreen_title_Nbs67uf2{background:linear-gradient(90deg,#e2e2e7,#d0d1d7 52.08%,#e2e2e7);background-size:1000px 100%;animation:InitalLoadingScreen_shimmer_Nr3pER2Z 2s linear infinite;height:16px;margin:46px 0 30px 20px}@keyframes InitalLoadingScreen_shimmer_Nr3pER2Z{0%{background-position:-1000px 0}to{background-position:1000px 0}}.InitalLoadingScreen_paymentMethodContainer_vGN6rR5d{box-shadow:0 1px 16px rgba(0,0,0,.05);border-radius:16px;margin:16px;background:#fff;padding:16px 0}.InitalLoadingScreen_paymentMethodRow_gi4S0aqe{display:flex;flex:1;padding:21px 0;border-bottom:1px solid rgba(235,235,240,.5);justify-content:space-evenly;align-items:center}.InitalLoadingScreen_paymentMethodRow_gi4S0aqe:first-child{padding-top:5px}.InitalLoadingScreen_paymentMethodRow_gi4S0aqe:last-child{padding-bottom:5px;border-bottom:none}.InitalLoadingScreen_paymentMethod_qMSMAFC3:last-child{margin-bottom:5px}.InitalLoadingScreen_row_fGh5QTXf{display:flex;justify-content:space-between;margin:20px 16px 20px 4px}",_E={_getCss:function(){return pE},_getId:function(){return"0d177d6486"},orderContainer:"InitalLoadingScreen_orderContainer_rkRKuh8a",singleLine:"InitalLoadingScreen_singleLine_uGkyImIk",circle:"InitalLoadingScreen_circle_nAPHC9CM",line:"InitalLoadingScreen_line_8ocZtMpY",shimmer:"InitalLoadingScreen_shimmer_Nr3pER2Z",square:"InitalLoadingScreen_square_hfoBfgHY",rectangle:"InitalLoadingScreen_rectangle_tBLpHZGh",title:"InitalLoadingScreen_title_Nbs67uf2",paymentMethodContainer:"InitalLoadingScreen_paymentMethodContainer_vGN6rR5d",paymentMethodRow:"InitalLoadingScreen_paymentMethodRow_gi4S0aqe",paymentMethod:"InitalLoadingScreen_paymentMethod_qMSMAFC3",row:"InitalLoadingScreen_row_fGh5QTXf"};Ho(pE);const EE=Object(i.memo)((function({lineWidth:e=50}){return l.a.createElement("div",{className:_E.singleLine},l.a.createElement("div",{className:_E.circle}),l.a.createElement("div",{className:_E.line,style:{width:e+"%"}}))})),CE=Object(i.memo)((function(){return l.a.createElement("div",{className:_E.paymentMethodRow},l.a.createElement("div",{className:_E.square}),l.a.createElement("div",{className:_E.line,style:{width:"52%"}}),l.a.createElement("div",{className:_E.line,style:{width:"10%"}}))})),bE=Object(i.memo)((function({lineWidth:e=30}){return l.a.createElement("div",{className:_E.title,style:{width:e+"%"}})}));var yE=Object(i.memo)(Object(s.Hb)((function(e){const t=d()(_E.orderContainer,e.className);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:t,"data-testid":Ka},l.a.createElement(EE,{lineWidth:75}),l.a.createElement(EE,{lineWidth:90})),l.a.createElement(bE,{lineWidth:30}),l.a.createElement("div",{className:_E.paymentMethodContainer},l.a.createElement(CE,null),l.a.createElement(CE,null),l.a.createElement(CE,null),l.a.createElement(CE,null)),l.a.createElement(bE,{lineWidth:50}),l.a.createElement("div",{className:_E.paymentMethodContainer},l.a.createElement("div",{className:_E.rectangle}),l.a.createElement("div",{className:_E.row},l.a.createElement("div",{className:_E.line,style:{width:"70%"}}),l.a.createElement("div",{className:_E.line,style:{width:"20%"}})),l.a.createElement("div",{className:_E.row},l.a.createElement("div",{className:_E.line,style:{width:"70%"}}),l.a.createElement("div",{className:_E.line,style:{width:"20%"}}))))}),_E)),gE=Object(i.memo)((function(e){return l.a.createElement(yE,Object.assign({},e))})),OE=".styles_loading_xoUfpZPh{background:#fff}",hE={_getCss:function(){return OE},_getId:function(){return"8e2275fb0a"},loading:"styles_loading_xoUfpZPh"};Ho(OE);const AE=Object(s.Hb)((function(){return Object(i.createElement)(mE,{className:hE.loading})}),hE);Ho(".HalfCardLoader_container_2NleAVIo{display:flex;height:100%;width:100%;overflow:hidden;flex-direction:column;justify-content:center;background:#fff}.HalfCardLoader_containerTitle_X7IGBWcJ{font-size:1.43rem;line-height:24px;letter-spacing:-.3px;font-weight:600;color:#282c3f;margin:26px 16px 0}.HalfCardLoader_containerLoader_-UqRYIbt{padding:44px 16px}");var fE=Object(i.memo)((function(e){const{title:t,onClose:a,loaderBgSrc:n}=e,o=Object(i.useCallback)(()=>{null!=a&&"function"==typeof a&&a()},[a]);return l.a.createElement(s.e,{hideOnOverlayClick:!1,onClose:o},e=>l.a.createElement("div",{className:"HalfCardLoader_container_2NleAVIo"},ze(t)&&l.a.createElement("div",{className:"HalfCardLoader_containerTitle_X7IGBWcJ"},t),l.a.createElement(s.S,{spinnerBgImgSrc:n,containerClass:"HalfCardLoader_containerLoader_-UqRYIbt"})))}));Ho(".styles-v4_swiggyMoneyInfoHalfCard_5Uf1vH0i{padding:32px 16px 16px 24px}.styles-v4_swiggyMoneyInfoHalfCardHeader_chn6qDkd{padding-right:28px}.styles-v4_swiggyMoneyInfoHalfCardBody_AZXtSnEW{margin-top:8px}.styles-v4_swiggyMoneyInfoHalfCardBodyContainer_k0ju-2og{margin-top:16px}.styles-v4_swiggyMoneyInfoHalfCardActionButtonWrapper_lWGH7er2{padding:16px}");var vE=Object(i.memo)((function({onClose:e,heading:t,message:a,ctaMessage:n,onClickSwiggyMoneyInfoHalfCardActionButton:o,onClickSwiggyMoneyInfoHalfCardCloseButton:r,onImpressionSwiggyMoneyInfoHalfCard:c}){Object(s.Db)(()=>{"function"==typeof c&&c()});const d=Object(i.useCallback)(e=>()=>{"function"==typeof o&&o(),e()},[o]);return l.a.createElement(s.e,{onClose:e,hideOnOverlayClick:!0,containerDataTestId:"sm_inf_hf_container",closeButtonDataTestId:"sm_inf_hf_close_button",onClickCloseButton:r},({close:e})=>l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"styles-v4_swiggyMoneyInfoHalfCard_5Uf1vH0i"},l.a.createElement(m.Text,{as:"h4",variant:"V2.heading2.neutral.bold",color:"text_High_Emphasis",className:"styles-v4_swiggyMoneyInfoHalfCardHeader_chn6qDkd"},t),l.a.createElement("div",{className:"styles-v4_swiggyMoneyInfoHalfCardBodyContainer_k0ju-2og"},a.map((e,t)=>l.a.createElement(m.Text,{as:"p",variant:"V2.body3.neutral.medium",color:"text_Med_Emphasis",key:t,className:"styles-v4_swiggyMoneyInfoHalfCardBody_AZXtSnEW"},e)))),l.a.createElement("div",{className:"styles-v4_swiggyMoneyInfoHalfCardActionButtonWrapper_lWGH7er2"},l.a.createElement(E.SuperButton,{variant:"fullwidth",buttonType:"primary",buttonSize:"large",onClick:d(e)},n))))}));Ho(".styles_swiggyMoneyInfoCta_vLkxcDcQ{outline:0}");var TE=Object(i.memo)((function(e){const{info:t,swiggyMoneyInfoHalfCardDetails:a,infoClassName:n,swiggyMoneyInfoCtaClassName:o,actions:r,canShowSwiggyMoneyInfoCta:c}=e,[u,m]=Object(i.useState)(!1),p=Object(i.useMemo)(()=>c&&(null==a?void 0:a.key)?a.key:"",[c,a]);Object(s.Db)(()=>{p&&"function"==typeof(null==r?void 0:r.onSwiggyMoneyInfoCtaImpression)&&r.onSwiggyMoneyInfoCtaImpression()});const _=Object(i.useCallback)(()=>c&&m(e=>!e),[c]),E=Object(i.useCallback)(e=>{e.stopPropagation(),"function"==typeof(null==r?void 0:r.onSwiggyMoneyInfoCtaClick)&&r.onSwiggyMoneyInfoCtaClick(),_()},[_,r]),C=Object(i.useMemo)(()=>d()("styles_swiggyMoneyInfoCta_vLkxcDcQ",o),[o]);return l.a.createElement(l.a.Fragment,null,t?l.a.createElement("span",{"data-testid":"sm_inf_message",className:n},t):null,p?l.a.createElement("span",{onClick:E,className:C,"data-testid":"sm_inf_cta"},p):null,u&&a?l.a.createElement(vE,{onClose:_,heading:a.heading,message:a.message,ctaMessage:a.ctaMessage,onClickSwiggyMoneyInfoHalfCardActionButton:null==r?void 0:r.onClickSwiggyMoneyInfoHalfCardActionButton,onClickSwiggyMoneyInfoHalfCardCloseButton:null==r?void 0:r.onClickSwiggyMoneyInfoHalfCardCloseButton,onImpressionSwiggyMoneyInfoHalfCard:null==r?void 0:r.onImpressionSwiggyMoneyInfoHalfCard}):null)})),IE=".styles_orderContainer_CLJEjhMs{border-radius:0 0 24px 24px;background:#fff;padding:20px}.styles_singleLine_KSI-Cc8Z{display:flex;align-items:center;margin-bottom:16px}.styles_singleLine_KSI-Cc8Z:last-child{margin-bottom:0}.styles_circle_5DpqbNrt{width:20px;height:20px;left:16px;top:33px;border-radius:20px}.styles_circle_5DpqbNrt,.styles_line_xZngTQ0S{background:linear-gradient(90deg,#e2e2e7,#d0d1d7 52.08%,#e2e2e7);background-size:1000px 100%;animation:styles_shimmer_Y5mQCv1u 2s linear infinite}.styles_line_xZngTQ0S{width:50%;height:16px;margin-left:18px}.styles_square_Rp-yLGE6{width:40px;height:40px;border-radius:8px}.styles_rectangle_UnYwKRR9,.styles_square_Rp-yLGE6{background:linear-gradient(90deg,#e2e2e7,#d0d1d7 52.08%,#e2e2e7);background-size:1000px 100%;animation:styles_shimmer_Y5mQCv1u 2s linear infinite}.styles_rectangle_UnYwKRR9{border-radius:12px;height:60px;margin:0 16px}.styles_title_unu1nbBz{height:16px;margin:36px 16px 18px 0;width:70%}.styles_suggestion_o5TkwwCs,.styles_title_unu1nbBz{background:linear-gradient(90deg,#e2e2e7,#d0d1d7 52.08%,#e2e2e7);background-size:1000px 100%;animation:styles_shimmer_Y5mQCv1u 2s linear infinite}.styles_suggestion_o5TkwwCs{width:22%;height:36px;border-radius:6px}.styles_infoHeaderContainer_IlVle-Lr{display:flex}.styles_infoHeaderTextContainer_WSXASeBr{flex-direction:column;display:flex;width:100%}.styles_paymentMethodContainer_9lrF8ldG{box-shadow:0 1px 16px rgba(0,0,0,.05);border-radius:16px;margin:28px 16px;background:#fff;padding:32px 18px 28px 16px}.styles_paymentMethodRow_NnVQSI8N{display:flex;flex:1;padding:21px 0;border-bottom:1px solid rgba(235,235,240,.5);justify-content:space-evenly;align-items:center}.styles_paymentMethodRow_NnVQSI8N:first-child{padding-top:5px}.styles_paymentMethodRow_NnVQSI8N:last-child{padding-bottom:5px;border-bottom:none}.styles_paymentMethod_ap7R7YP-:last-child{margin-bottom:5px}.styles_paymentButton_J7RnkCJw{background:linear-gradient(90deg,#e2e2e7,#d0d1d7 52.08%,#e2e2e7);background-size:1000px 100%;animation:styles_shimmer_Y5mQCv1u 2s linear infinite;height:50px;margin:0 16px 20px;position:fixed;left:0;bottom:0;border-radius:12px;width:calc(100% - 32px)!important}@keyframes styles_shimmer_Y5mQCv1u{0%{background-position:-1000px 0}to{background-position:1000px 0}}.styles_amountSuggestionsContainer_aScnI9G0,.styles_row_87d27kgT{display:flex;justify-content:space-between}.styles_row_87d27kgT{margin:20px 16px 20px 4px}",SE={_getCss:function(){return IE},_getId:function(){return"47667b2adc"},orderContainer:"styles_orderContainer_CLJEjhMs",singleLine:"styles_singleLine_KSI-Cc8Z",circle:"styles_circle_5DpqbNrt",line:"styles_line_xZngTQ0S",shimmer:"styles_shimmer_Y5mQCv1u",square:"styles_square_Rp-yLGE6",rectangle:"styles_rectangle_UnYwKRR9",title:"styles_title_unu1nbBz",suggestion:"styles_suggestion_o5TkwwCs",infoHeaderContainer:"styles_infoHeaderContainer_IlVle-Lr",infoHeaderTextContainer:"styles_infoHeaderTextContainer_WSXASeBr",paymentMethodContainer:"styles_paymentMethodContainer_9lrF8ldG",paymentMethodRow:"styles_paymentMethodRow_NnVQSI8N",paymentMethod:"styles_paymentMethod_ap7R7YP-",paymentButton:"styles_paymentButton_J7RnkCJw",amountSuggestionsContainer:"styles_amountSuggestionsContainer_aScnI9G0",row:"styles_row_87d27kgT"};Ho(IE);const NE=Object(i.memo)((function({lineWidth:e=30}){return l.a.createElement("div",{className:SE.title,style:{width:e+"%"}})}));var RE=Object(i.memo)(Object(s.Hb)((function(e){const t=d()(SE.orderContainer,e.className);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:t,"data-testid":Ka},l.a.createElement("div",{className:SE.infoHeaderContainer},l.a.createElement("div",{className:SE.square,style:{width:"40px",height:"40px"}}),l.a.createElement("div",{className:SE.infoHeaderTextContainer},l.a.createElement("div",{className:SE.line,style:{width:"52%"}}),l.a.createElement("div",{className:SE.line,style:{width:"75%",marginTop:"10px",height:"12px"}})))),l.a.createElement("div",{className:SE.paymentMethodContainer},l.a.createElement("div",null,l.a.createElement("div",{className:SE.singleLine},l.a.createElement("div",{className:SE.circle}),l.a.createElement("div",{className:SE.line,style:{width:"82%",height:"24px"}})),l.a.createElement("div",{className:SE.singleLine},l.a.createElement("div",{className:SE.circle}),l.a.createElement("div",{className:SE.line,style:{width:"82%",height:"24px"}}))),l.a.createElement(NE,{lineWidth:82}),l.a.createElement("div",{className:SE.amountSuggestionsContainer},l.a.createElement("div",{className:SE.suggestion}),l.a.createElement("div",{className:SE.suggestion}),l.a.createElement("div",{className:SE.suggestion}),l.a.createElement("div",{className:SE.suggestion}))),l.a.createElement("div",{className:SE.line,style:{width:"80%",height:"16px"}}),l.a.createElement("div",{className:SE.paymentButton,"data-testid":Ka}))}),SE)),PE=Object(i.memo)((function(){return l.a.createElement(RE,null)}));Ho(".TransactionProgressLoader_overlay_dO73ZLJb{background:#fff;opacity:.7;pointer-events:auto}.TransactionProgressLoader_circleContainer_eWOALpdQ{position:absolute;top:50%;left:calc(50% + 6px);transform:translate(-50%,-50%);z-index:1024888;-webkit-backface-visibility:hidden;backface-visibility:hidden}");var DE=Object(i.memo)((function(){return l.a.createElement(s.H,null,l.a.createElement(s.F,null,l.a.createElement(l.a.Fragment,null,l.a.createElement(s.G,{visible:!0,className:"TransactionProgressLoader_overlay_dO73ZLJb"}),l.a.createElement("div",{className:"TransactionProgressLoader_circleContainer_eWOALpdQ"},l.a.createElement(dr,{size:"large"})))))}));const LE=e=>{const{isPlaying:t,options:a}=e,{duration:n,startAt:o=0}=a,[r,l]=Object(i.useState)(o),s=Object(i.useRef)(null),c=Object(i.useRef)(null),d=Object(i.useRef)(!1),u=Object(i.useRef)(!1),m=Object(i.useCallback)(e=>{const t=e/1e3;if(null===c.current)return c.current=t,void(s.current=requestAnimationFrame(m));const o=t-c.current;c.current=t,l(e=>{const t=e+o;return"number"!=typeof n||t<n?t:(u.current=!0,n)}),u.current?a.onComplete():s.current=requestAnimationFrame(m)},[n]),p=Object(i.useCallback)(()=>{s.current&&cancelAnimationFrame(s.current),c.current=null},[]);return Object(i.useEffect)(()=>(t&&(s.current=requestAnimationFrame(m)),p),[t,m,p]),Object(i.useLayoutEffect)(()=>{t&&d.current&&(p(),s.current=requestAnimationFrame(m))},[n,p,m,t]),Object(i.useLayoutEffect)(()=>(d.current=!0,()=>{d.current=!1})),{elapsedTime:r}};function kE(e){const{title:t,durationInSec:a,onClose:n,subTitle:o,headerClassName:r,contentClassName:c}=e,{duration:u}=Object(i.useRef)({duration:a,startAt:0}).current,{elapsedTime:m}=LE({isPlaying:!0,options:{duration:a,onComplete:()=>{n()},startAt:0}}),p=d()(r,"styles_successBsRedirectHeader_vxkUBkTX"),_=d()(c,"styles_successBsRedirectContent_qg6Xo5iS");return l.a.createElement("div",null,l.a.createElement("div",{className:p},l.a.createElement(Jo,{parentClassName:"styles_successBsRedirectIcon_Eg67A40H",imgClassName:"styles_successBsRedirectImg_x4QJVQ41",src:Object(s.nb)("PaymentLogos/paymentIcons/tick"),width:80})),l.a.createElement("div",{className:_},l.a.createElement("div",{className:"styles_successBsRedirectContentText_cHsXFLN8","data-testid":"sbs_redirect_title"},t),o&&l.a.createElement("div",{className:"styles_successBsRedirectContentSubtitle_db7Yjr-J"},o),l.a.createElement("div",{className:"styles_successBsRedirectContentFooter_aPINPjog","data-testid":"sbs_redirect_timer_text"},`Redirecting in ${Math.ceil(u-m)} secs...`)))}Ho(".styles_successBsRedirectHeader_vxkUBkTX{display:flex;justify-content:center;padding:32px 30px 20px}.styles_successBsRedirectContent_qg6Xo5iS{text-align:center;padding-bottom:32px}.styles_successBsRedirectContentText_cHsXFLN8{font-size:20px;line-height:24px;font-weight:600;letter-spacing:-.3px;color:rgba(2,6,12,.9215686275);padding:0 54px}.styles_successBsRedirectContentSubtitle_db7Yjr-J{font-size:16px;line-height:19px;font-weight:200;letter-spacing:-.3px;color:rgba(2,6,12,.6);padding:16px 54px 32px}.styles_successBsRedirectContentFooter_aPINPjog{font-size:13px;line-height:16px;font-weight:200;letter-spacing:-.3px;color:rgba(2,6,12,.6);padding:12px 20px 0}.styles_successBsRedirectIcon_Eg67A40H{border:none!important;width:80px!important;height:80px!important}.styles_successBsRedirectImg_x4QJVQ41{max-height:80px!important;width:80px!important;height:80px!important}");var xE=Object(i.memo)((function(e){const{title:t,durationInSec:a,onClose:n,hideCloseIcon:o=!1,subTitle:r,contentClassName:i,headerClassName:c}=e;return l.a.createElement(s.e,{onClose:n,hideOnOverlayClick:!1,hideCloseIcon:o},({close:e})=>l.a.createElement(kE,{title:t,durationInSec:a,onClose:e,subTitle:r,contentClassName:i,headerClassName:c}))})),wE="OrderConfirmSubText_logo_Xkjk8Jig";Ho(".OrderConfirmSubText_superText_m-NYUIBL{font-size:14px;line-height:17px;font-weight:400;letter-spacing:-.3px;color:rgba(2,6,12,.4509803922);text-align:center}.OrderConfirmSubText_logo_Xkjk8Jig{min-width:18px;height:18px;position:relative;top:2px}");var ME=Object(i.memo)((function({superMessage:e,subtext:t,className:a}){const n=d()("OrderConfirmSubText_superText_m-NYUIBL",a);return null==e||""===(null==e?void 0:e.successMessageInfo)?l.a.createElement(l.a.Fragment,null,!Ja(t)&&l.a.createElement("div",{className:n},t)):l.a.createElement("div",{className:n},Object(s.Bb)(e.successMessage,wE),Object(s.Bb)(e.successMessageInfo,wE))}));function jE({deliveryAddress:e}){const t=Object(s.ob)(e);return l.a.createElement(t,{className:"DeliveryAddressText_annotationIcon_-2cNzrTf"})}Ho('.DeliveryAddressText_wrapper_BcIGlcLK{position:relative;overflow:hidden;overflow:initial}.DeliveryAddressText_wrapper_BcIGlcLK:after{content:"";position:absolute;top:0;left:0;width:30px;height:100%;opacity:.3;transform:skewX(40deg);background-color:#fff;animation:DeliveryAddressText_deliveryTextShimmer_qUzJqOhq 5s infinite;will-change:left}@keyframes DeliveryAddressText_deliveryTextShimmer_qUzJqOhq{0%{transform:skewX(40deg) translate3d(-300px,0,0)}66%,to{transform:skewX(40deg) translate3d(500px,0,0)}}.DeliveryAddressText_wrapper_BcIGlcLK:after{transform:translate3d(-100px,0,0) skewX(40deg)}.DeliveryAddressText_annotation_ASwCOF72{font-size:14px;line-height:17px;font-weight:600;letter-spacing:-.3px;color:rgba(2,6,12,.6)}.DeliveryAddressText_annotationIcon_-2cNzrTf{fill:rgba(2,6,12,.6);height:14px;width:14px;margin-bottom:-1.5px;margin-right:2px}');var BE,UE=Object(i.memo)((function({deliveryAddress:e,className:t}){const a=Object(i.useMemo)(()=>Object(s.jb)(e),[e]),n=Object(i.useMemo)(()=>Object(s.lb)(e),[e]);return an(n)?null:l.a.createElement(m.Text,{variant:"V2.body2.neutral.medium",color:"text_Low_Emphasis",maxLines:2,textAlign:"center"},l.a.createElement("div",{className:d()("DeliveryAddressText_wrapper_BcIGlcLK",t)},l.a.createElement("span",{className:"DeliveryAddressText_annotation_ASwCOF72"},l.a.createElement(jE,{deliveryAddress:e}),l.a.createElement("span",null,a+": ")),l.a.createElement("span",null,n)))}));!function(e){e[e.OFFER_BUNDLE=0]="OFFER_BUNDLE",e[e.HABIT_FORMING_MILESTONE_UNLOCKED=1]="HABIT_FORMING_MILESTONE_UNLOCKED"}(BE||(BE={})),Ho(".OfferTag_container_13yaVbcj,.OfferTag_container_13yaVbcj .OfferTag_content_kNqJt-HM{display:flex}.OfferTag_container_13yaVbcj .OfferTag_content_kNqJt-HM{align-items:center}.OfferTag_container_13yaVbcj{justify-content:center;padding-top:16px}.OfferTag_container_13yaVbcj .OfferTag_content_kNqJt-HM{gap:4px;padding:6px;border-radius:32px;width:-webkit-fit-content;width:fit-content}.OfferTag_offerPack_t0CubT0Z{background-image:linear-gradient(321deg,rgba(101,65,228,.2),hsla(0,0%,100%,0));background-image:linear-gradient(270deg,hsla(0,0%,100%,0),rgba(101,65,228,.16))}.OfferTag_milestoneUnlocked_HmY5oiun{background:linear-gradient(270deg,hsla(0,0%,100%,0) 1.44%,rgba(228,65,144,.16))}");var HE=Object(i.memo)(({iconEl:e,title:t,bgColor:a})=>l.a.createElement("div",{className:"OfferTag_container_13yaVbcj","data-testid":za},l.a.createElement("div",{className:d()("OfferTag_content_kNqJt-HM",{OfferTag_offerPack_t0CubT0Z:a===BE.OFFER_BUNDLE,OfferTag_milestoneUnlocked_HmY5oiun:a===BE.HABIT_FORMING_MILESTONE_UNLOCKED})},e,l.a.createElement(m.Text,{variant:"V2.body2.neutral.bold"},t)))),GE=".MorePaymentMethodsLoadingScreen_line_AN3SmUga{width:50%;height:16px;margin-left:18px}.MorePaymentMethodsLoadingScreen_line_AN3SmUga,.MorePaymentMethodsLoadingScreen_square_ehNmxmPz{background:linear-gradient(90deg,#e2e2e7,#d0d1d7 52.08%,#e2e2e7);background-size:1000px 100%;animation:MorePaymentMethodsLoadingScreen_shimmer_loiz4vml 2s linear infinite}.MorePaymentMethodsLoadingScreen_square_ehNmxmPz{width:32px;height:32px;border-radius:8px}@keyframes MorePaymentMethodsLoadingScreen_shimmer_loiz4vml{0%{background-position:-1000px 0}to{background-position:1000px 0}}.MorePaymentMethodsLoadingScreen_paymentMethodContainer_5Xhs9dve{box-shadow:0 1px 16px rgba(0,0,0,.05);border-radius:16px;margin:16px;background:#fff;padding:20px 0}.MorePaymentMethodsLoadingScreen_paymentMethodRow_hiA5y0KQ{display:flex;flex:1;padding:21px 0;border-bottom:1px solid rgba(235,235,240,.5);justify-content:space-evenly;align-items:center}.MorePaymentMethodsLoadingScreen_paymentMethodRow_hiA5y0KQ:first-child{padding-top:5px}.MorePaymentMethodsLoadingScreen_paymentMethodRow_hiA5y0KQ:last-child{padding-bottom:5px;border-bottom:none}.MorePaymentMethodsLoadingScreen_paymentMethod_hmQLdMDa:last-child{margin-bottom:5px}",YE={_getCss:function(){return GE},_getId:function(){return"285b10efb3"},line:"MorePaymentMethodsLoadingScreen_line_AN3SmUga",square:"MorePaymentMethodsLoadingScreen_square_ehNmxmPz",shimmer:"MorePaymentMethodsLoadingScreen_shimmer_loiz4vml",paymentMethodContainer:"MorePaymentMethodsLoadingScreen_paymentMethodContainer_5Xhs9dve",paymentMethodRow:"MorePaymentMethodsLoadingScreen_paymentMethodRow_hiA5y0KQ",paymentMethod:"MorePaymentMethodsLoadingScreen_paymentMethod_hmQLdMDa"};Ho(GE);const WE=Object(i.memo)((function(){return l.a.createElement("div",{className:YE.paymentMethodRow},l.a.createElement("div",{className:YE.square}),l.a.createElement("div",{className:YE.line,style:{width:"52%"}}),l.a.createElement("div",{className:YE.line,style:{width:"10%"}}))}));var FE=Object(i.memo)(Object(s.Hb)((function(){return l.a.createElement("div",{"data-testid":Ka},l.a.createElement("div",{className:YE.paymentMethodContainer},l.a.createElement(WE,null)),l.a.createElement("div",{className:YE.paymentMethodContainer},l.a.createElement(WE,null),l.a.createElement(WE,null)))}),YE)),VE=Object(i.memo)((function(){return l.a.createElement("svg",{width:"32",height:"16",viewBox:"0 0 32 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("rect",{width:"32",height:"16",rx:"4",fill:"url(#paint0_linear_2928_12251)"}),l.a.createElement("path",{d:"M4.215 12V4.3H5.997L8.813 8.667C8.82767 8.689 8.87533 8.76967 8.956 8.909C9.03667 9.041 9.099 9.162 9.143 9.272V4.3H10.881V12H9.099L6.283 7.6C6.26833 7.578 6.22067 7.49733 6.14 7.358C6.04467 7.19667 5.98233 7.07567 5.953 6.995V12H4.215ZM12.0146 12V4.3H17.6356V5.862H13.7966V7.259H17.3276V8.777H13.7966V10.438H17.6686V12H12.0146ZM20.0736 12L17.9616 4.3H19.8426L20.8766 8.59C20.9059 8.73667 20.9316 8.84667 20.9536 8.92C20.9682 8.986 20.9866 9.08133 21.0086 9.206C21.0379 9.33067 21.0562 9.415 21.0636 9.459L21.2396 8.579L22.3176 4.3H24.1656L25.2436 8.579L25.4196 9.459C25.4269 9.415 25.4416 9.33067 25.4636 9.206C25.4929 9.08133 25.5149 8.986 25.5296 8.92C25.5516 8.84667 25.5772 8.73667 25.6066 8.59L26.6406 4.3H28.5216L26.4096 12H24.5286L23.2416 6.973L21.9546 12H20.0736Z",fill:"white"}),l.a.createElement("defs",null,l.a.createElement("linearGradient",{id:"paint0_linear_2928_12251",x1:"32",y1:"16",x2:"0",y2:"0",gradientUnits:"userSpaceOnUse"},l.a.createElement("stop",{stopColor:"#C66207"}),l.a.createElement("stop",{offset:"1",stopColor:"#FFA318"}))))}));const KE=Object(p.default)(s.c)(({theme:e,isTurboWidget:t})=>Object.assign(Object.assign({position:"absolute"},t&&{right:e.spacing.medium,bottom:148}),!t&&{left:e.spacing.xSmall,top:-52})),zE=p.default.div(({theme:e})=>({marginRight:e.spacing.xSmall})),$E=Object(p.default)(s.X)`
    width: 300px;
    z-index: 1;

    &:before {
        left: ${e=>e.isTurboWidget?"inherit":"21px"};
        right: ${e=>e.isTurboWidget?"24px":"inherit"};
    }
`,XE=Object(p.default)(m.Text)({marginTop:-2});var JE=Object(i.memo)((function({isTurboWidget:e=!1,onFlipkartToolTipShow:t}){const[a,n]=Object(i.useState)(!1),o=Object(i.useCallback)(()=>{n(!1)},[]);if(Object(s.Db)(()=>{(e=>{const t=e?s.z.FK_COINS_ELIGIBLE_CART_COMMS_IMPRESSION_COUNT:s.z.FK_COINS_ELIGIBLE_PAYMENT_COMMS_IMPRESSION_COUNT;return!((a=s.B.getItem(t))&&Number(a)>=1);var a})(e)&&(n(!0),(e=>{const t=e?s.z.FK_COINS_ELIGIBLE_CART_COMMS_IMPRESSION_COUNT:s.z.FK_COINS_ELIGIBLE_PAYMENT_COMMS_IMPRESSION_COUNT,a=s.B.getItem(t),n=Number(a||0)+1;s.B.setItem(t,n)})(e)),t&&t()}),!a)return null;const r=e?"fk-coins-tooltip_turbo":"fk-coins-tooltip_payment";return l.a.createElement(KE,{as:"div",isTurboWidget:e,"data-testid":r},l.a.createElement($E,{isTurboWidget:e,onClickClose:o},l.a.createElement(zE,null,l.a.createElement(VE,null)),l.a.createElement(XE,{variant:"V2.body2.neutral.medium",color:"text_inverse_Highest_Emphasis"},"Save more on this order using your Flipkart Supercoins!")))})),ZE=Object(i.memo)((function(e){const{methodData:t,paymentActions:a,paymentAmount:n,paymentGroupBanner:o}=e,{onSelect:r,onPay:c,getSwiggyInstrumentsData:u,swiggyMoneyInfoActions:m}=a,p=u(t),_=Object(i.useMemo)(()=>Bo(t,e.isPaymentGroupEnabled),[e.isPaymentGroupEnabled,t]),E=Object(i.useMemo)(()=>!!t.meta.monthlyDebitLimitExceeded,[t]),C=Object(i.useCallback)(e=>{e.preventDefault(),_&&r(t)},[r,t,_]),b=Object(i.useCallback)(()=>{c(t)},[c,t]),y=d()("SwiggyInstruments_swiggyInsContainer_ssngYe9T",{SwiggyInstruments_paymentMethodDisabled_vFPZ3FDP:!_&&!E,SwiggyInstruments_swiggyInsDebitLimitExceeded_hWa0uRPS:E}),g=Object(i.useMemo)(()=>l.a.createElement("div",{className:"SwiggyInstruments_swiggyInsPaymentMethodIcon_raQJhfT-"},l.a.createElement(Jo,{src:Du(t),width:32,"data-testid":"pm_si_icon",customLogo:t.name===oe.SWIGGYPAY})),[t]),O=Object(i.useMemo)(()=>t.showAddMoneyCta&&null!=t.addMoneyCtaMessage,[t]),h=Object(i.useMemo)(()=>((e,t,a)=>{const{monthlyDebitLimitExceeded:n,disableMessage:o,learnMoreHalfCard:r,infoMessage:i}=e.meta;return!(!n||!o&&!r)||!(!i&&!r)&&!(!t||!a)})(t,e.selected,_),[_,t,e.selected]),A=Object(i.useMemo)(()=>(({paymentMethodData:e,swiggyInstrumentsData:t,isSelected:a,isEnabled:n})=>{if(!n)return gu(e);const o=!t.isBalanceSufficient;return yu({paymentMethodData:e,paymentData:t,balance:t.eligibleBalance,showLessBalanceText:o,isSelected:a})})({paymentMethodData:e.methodData,swiggyInstrumentsData:p,isSelected:e.selected,isEnabled:_}),[e.methodData,e.selected,p,_]),f=Object(i.useMemo)(()=>(e=>{const{monthlyDebitLimitExceeded:t,disableMessage:a,infoMessage:n}=e.meta;return t?null!=a?a:"":null!=n?n:""})(t),[t]),v=Object(i.useMemo)(()=>((e,t,a)=>a&&!e.isBalanceSufficient&&!t)(p,e.selected,_),[_,e.selected,p]),T=d()({"SwiggyInstruments_swiggyInsInfoMessageAndButtonWithAddMoneyCta_-dEURPoQ":O,SwiggyInstruments_swiggyInsInfoMessageAndButtonWithoutAddMoneyCta_3SkQuc1L:!O}),I=d()("SwiggyInstruments_swiggyInsToggle_w7uLGuVC",{"SwiggyInstruments_swiggyInsToggleSelectedOrWithLowBalanceAlert_nDiGDcF-":e.selected||v}),S=Object(i.useMemo)(()=>((e,t)=>!e&&!t.meta.monthlyDebitLimitExceeded)(_,t),[_,t]),N=Object(i.useMemo)(()=>Object(s.hb)(In.INSUFFICIENT_BALANCE_DETAIL,p.additionalBalanceRequired),[p.additionalBalanceRequired]),R=Object(i.useMemo)(()=>h&&l.a.createElement("div",null,l.a.createElement(TE,{info:f,swiggyMoneyInfoHalfCardDetails:t.meta.learnMoreHalfCard,canShowSwiggyMoneyInfoCta:t.showLearnMoreHalfCard,infoClassName:"SwiggyInstruments_swiggyInsInfoMessage_vL4Jq7PL",swiggyMoneyInfoCtaClassName:"SwiggyInstruments_swiggyInsSwiggyMoneyInfoCta_3I6WrQTm",actions:m})),[h,f,t.meta.learnMoreHalfCard,t.showLearnMoreHalfCard,m]);return l.a.createElement("div",{className:y,onClick:C,"data-testid":"pm_si_container"},o,l.a.createElement("div",{className:"SwiggyInstruments_paymentMethodContainer_24zqTr9-"},g,l.a.createElement("div",{className:"SwiggyInstruments_swiggyInsMainContainer_SBiHe5b2"},l.a.createElement("div",{className:"SwiggyInstruments_swiggyInsMain_REIWXknS"},l.a.createElement(cr,{displayName:t.displayName,promoMsg:Po(t),enabled:_||E,ariaLabel:A,"data-testid":"pm_si_name",className:"SwiggyInstruments_swiggyInsTitle_y6RuEaTC"},S&&l.a.createElement(Ar,{className:"SwiggyInstruments_swiggyInsDisable_X6fTklyd",message:Lo(e.methodData),"data-testid":"pm_si_disable_msg"})),(_||E)&&l.a.createElement(l.a.Fragment,null,l.a.createElement(s.c,{className:"SwiggyInstruments_swiggyInsBalance_BTVGB8ni","data-testid":"pm_si_bal",as:"div"},t.eligibleBalance),!E&&l.a.createElement(cE,{selected:e.selected,"data-testid":"pm_si_tick",className:I}))),v?l.a.createElement(Ar,{message:N,"data-testid":"pm_si_low_bal_alert",className:"SwiggyInstruments_swiggyInsLowBalance_8l0qZBze"}):l.a.createElement("div",{className:T},_&&e.selected&&l.a.createElement(oE,{isBalanceSufficient:p.isBalanceSufficient,canShowAddMoneyCta:O,onAddMoneyClick:a.onAddMoneyClick,onAddMoneyView:a.onAddMoneyView,onPayClick:b,paymentAmount:n,paymentMethodDisplayName:No(t),addMoneyCtaMessage:t.addMoneyCtaMessage}),R))))})),qE=Object(i.memo)((function(e){return l.a.createElement(ZE,Object.assign({},e))}));Ho('@charset "UTF-8";.FlipkartSuperCoins_fkMainContainer_NNZNvR1c{position:relative;border-bottom:1px dashed #e2e2e7}.FlipkartSuperCoins_fkMainContainer_NNZNvR1c:last-child{border-bottom:none}.FlipkartSuperCoins_paymentMethod_0u1pvMCK{padding:18px 16px;overflow:hidden}.FlipkartSuperCoins_paymentMethodContainer_Sec-clH-{display:flex;width:100%;align-items:center}.FlipkartSuperCoins_paymentMethodContainerTick_kzIoz0CN{margin-left:auto}.FlipkartSuperCoins_paymentMethodBalance_nq-arFGK{padding-right:12px}.FlipkartSuperCoins_paymentMethodBalance_nq-arFGK:before{content:"₹";margin-right:.1rem}.FlipkartSuperCoins_paymentMethodDisabled_D7q-PPQX{opacity:.7}.FlipkartSuperCoins_paymentMethodDisabledText_zIUugTdi{font-size:13px;line-height:16px;font-weight:200;letter-spacing:-.3px;margin-top:2px}.FlipkartSuperCoins_paymentMethodPayWrapper_294SCaQ1{display:inline-block;padding-left:48px;width:100%}.FlipkartSuperCoins_paymentMethodPayButton_cKsFKCZ9{margin-top:8px;animation:FlipkartSuperCoins_expand_e2YgMuMV .3s ease-out;transform:translateZ(0)}@keyframes FlipkartSuperCoins_expand_e2YgMuMV{0%{transform:translate3d(0,-6px,0)}to{transform:translateZ(0)}}');var QE=Object(i.memo)((function(e){const{methodData:t,paymentActions:a,isPaymentGroupEnabled:n,selected:o,paymentAmount:r,onFlipkartToolTipShow:c}=e,{onSelect:u}=a,p=Bo(t,n),_=p?Po(t):"",C=Object(i.useCallback)(()=>{p&&a.onPay(t)},[p,a,t]),b=Object(i.useCallback)(e=>{e.stopPropagation(),C()},[C]),y=Object(i.useCallback)(e=>{e.preventDefault(),p&&u(t)},[u,t,p]),g=d()("FlipkartSuperCoins_paymentMethod_0u1pvMCK",{"FlipkartSuperCoins_paymentMethodDisabled_D7q-PPQX":!p});return l.a.createElement("div",{className:"FlipkartSuperCoins_fkMainContainer_NNZNvR1c"},p&&l.a.createElement(JE,{onFlipkartToolTipShow:c}),l.a.createElement("div",{className:g,onClick:y,"data-testid":"pm_fk_coins_container"},l.a.createElement("div",{className:"FlipkartSuperCoins_paymentMethodContainer_Sec-clH-"},l.a.createElement(Jo,{src:So(t),"data-testid":"pm_fk_coins_icon"}),l.a.createElement(cr,{displayName:No(t),promoMsg:_,discount:Ro(t),enabled:p,"data-testid":"pm_fk_coins_name"},!p&&l.a.createElement(Ar,{className:"FlipkartSuperCoins_paymentMethodDisabledText_zIUugTdi",message:Lo(e.methodData),"data-testid":"pm_fk_coins_disable_msg"})),p&&l.a.createElement(m.Text,{variant:"V2.body3.neutral.regular",color:"text_High_Emphasis",className:"FlipkartSuperCoins_paymentMethodBalance_nq-arFGK","data-testid":"pm_fk_coins_amount"},t.eligibleBalance),p&&l.a.createElement(s.W,{selected:o,className:"FlipkartSuperCoins_paymentMethodContainerTick_kzIoz0CN","data-testid":"pm_fk_coins_tick"})),o&&p&&l.a.createElement("div",{className:"FlipkartSuperCoins_paymentMethodPayWrapper_294SCaQ1"},l.a.createElement(E.SuperButton,{variant:"fullwidth",buttonType:"specialPositive",buttonSize:"medium",onClick:b,className:"FlipkartSuperCoins_paymentMethodPayButton_cKsFKCZ9","data-testid":"pm_fk_coins_pay_btn"},Object(s.hb)(In.PAY_X,r)))))}));const eC=p.default.div`
    display: flex;
    margin-left: 44px;
    margin-top: ${e=>e.theme.spacing.xSmall};
`,tC=p.default.input`
    ${e=>e.theme.typography["V2.body1.neutral.medium"]}
    background: ${e=>e.theme.colors[e.theme.colorMode].background_Primary};
    border: 1.5px solid ${e=>e.theme.colors[e.theme.colorMode].special_positive};
    border-radius: ${e=>e.theme.cornerRadius.small};
    padding: ${e=>e.theme.spacing.empty} ${e=>e.theme.spacing.medium};
    width: 84px;
    height: 44px;
    outline: 0;
    margin: ${e=>e.theme.spacing.empty};
    box-shadow: none;
    box-sizing: border-box;
    caret-color: ${e=>e.theme.colors[e.theme.colorMode].special_positive};
    color: ${e=>e.theme.colors[e.theme.colorMode].text_Highest_Emphasis};
    text-align: center;
    -webkit-appearance: none;

    ${e=>e.$hasError&&p.css`
            border: 1.5px solid ${e.theme.colors[e.theme.colorMode].negative};
        `}
`,aC=p.default.div`
    margin-left: ${e=>e.theme.spacing.small};
    text-transform: uppercase;
    width: 100%;
`;var nC=l.a.memo((function({onClick:e,additionalBalanceNeeded:t,addMoneyImpressionEvent:a,walletTestIds:n}){const[o,r]=l.a.useState(Number(t)||0),c=Object(i.useMemo)(()=>o<t,[t,o]),d=l.a.useCallback(e=>{r(Number(e.target.value)||"")},[]),u=l.a.useCallback(()=>{e(Number(o)||0)},[e,o]),m=l.a.useCallback(e=>{e.stopPropagation()},[]);return Object(s.Db)(()=>{a()}),l.a.createElement(eC,{onClick:m},l.a.createElement(tC,{onChange:d,$hasError:c,type:"tel",autoComplete:"off",value:o,"data-testid":n.ADD_MONEY_INPUT}),l.a.createElement(aC,null,l.a.createElement(E.SuperButton,{variant:"fullwidth",buttonType:"specialPositive",buttonSize:"medium",onClick:u,isDisabled:c,"data-testid":n.ADD_MONEY_BUTTON},"Add Money")))})),oC="Wallet-v4_walletLinkAccountBalance_-kiCtY09",rC="Wallet-v4_paymentMethodTokenExpired_O-pqlAbb",iC="Wallet-v4_walletLinkAccountBalanceValue_bq3-VsI3",lC="Wallet-v4_walletLinkAccountLoader_KBGKGQfV";Ho('@charset "UTF-8";.Wallet-v4_walletLinkAccountBalance_-kiCtY09{display:flex;align-items:center}.Wallet-v4_paymentMethod_FqShfmKY{padding:18px 16px;overflow:hidden;border-bottom:1px dashed #e2e2e7}.Wallet-v4_paymentMethod_FqShfmKY:last-child{border-bottom:none}.Wallet-v4_paymentMethodDisabled_EN8WFLYl{opacity:.6}.Wallet-v4_paymentMethodContainer_HPHEeaVE{display:flex;width:100%;align-items:center}.Wallet-v4_paymentMethodContainerGrayscale_XKJfIcbj{filter:grayscale(100%);opacity:.8}.Wallet-v4_paymentMethodPayWrapper_5bEc9SnX{width:calc(100% - 48px)}.Wallet-v4_paymentMethodDisable_kmHZgFBp,.Wallet-v4_paymentMethodPayButton_0oWow1AA{margin-top:8px;margin-left:48px;transform:translateZ(0)}.Wallet-v4_paymentMethodMoreUpi_8RRxe7iM{color:#5d8ed5;margin-left:48px}.Wallet-v4_paymentMethodCouponNotApplicable_ot3V91Zl,.Wallet-v4_paymentMethodDisable_kmHZgFBp,.Wallet-v4_paymentMethodLowBalance_zzoNPUqp,.Wallet-v4_paymentMethodTokenExpired_O-pqlAbb{margin-top:2px;margin-left:0}.Wallet-v4_walletMobileNumber_DDk7ihn2{font-size:13px;line-height:16px;font-weight:200;letter-spacing:-.3px;color:rgba(2,6,12,.6);margin-top:2px}.Wallet-v4_walletLinkAccount_fBxNe8IM{margin-left:auto}.Wallet-v4_walletLinkAccountWithSubText_dys5vxmd{align-self:flex-start}.Wallet-v4_walletLinkAccountWithPromo_6w3Ey14P{vertical-align:top!important}.Wallet-v4_walletLinkAccountBalance_-kiCtY09,.Wallet-v4_walletLinkAccountTick_QlmNP-v5{float:right;margin-left:8px}.Wallet-v4_walletLinkAccountBalanceValue_bq3-VsI3{padding-right:10px}.Wallet-v4_walletLinkAccountBalanceValue_bq3-VsI3:before{content:"₹";margin-right:.1rem}.Wallet-v4_walletLinkAccountLoader_KBGKGQfV{display:block}.Wallet-v4_walletLinkAccountContainer_Eu5Wq5pa{display:flex;align-items:center}.Wallet-v4_walletLinkHeader_jZ-Xjvnx{background:#f2f6fc;height:96px;padding:30px 16px}.Wallet-v4_walletLinkHeaderIcon_5OhVb5-3{width:56px!important}.Wallet-v4_walletLinkHeaderTitle_X46e0vcr{color:#3d4152;font-size:1.1rem;margin-top:15px;line-height:1.2px;font-weight:400}.Wallet-v4_walletLinkBody_w75IqgB9{padding:0 16px}.Wallet-v4_walletLinkBodyText_NoP-YqHc{font-size:.9rem;color:#535665;margin-bottom:7px;margin-top:18px}.Wallet-v4_walletLinkBodyNumber_zSLWip-4{font-size:1.2rem;font-weight:600;margin-bottom:30px;color:#3d4152}.Wallet-v4_walletLinkBodyNote_MJIW-trh{color:#93959f;margin-bottom:13px;font-size:.9rem;line-height:1.42px}.Wallet-v4_walletOtp_3nBL7cad{height:100vh}.Wallet-v4_walletOtpHeader_XxaV1PN3{margin:0;padding:16px;background-color:rgba(211,219,234,.3);box-shadow:0 1px 1px 0 rgba(40,44,63,.05);height:160px;position:relative}.Wallet-v4_walletOtpHeaderBack_LF7Nj9bH{position:absolute;overflow:hidden;top:0;left:0}.Wallet-v4_walletOtpHeaderIcon_odq01uUX{position:absolute;right:16px;bottom:22px;width:62px!important;text-align:right!important}.Wallet-v4_walletOtpHeaderSection_LGC-E1O1{position:absolute;bottom:20px}.Wallet-v4_walletOtpHeaderSectionTitle_ZVUDIRRl{font-weight:600;font-size:1.25rem;text-transform:uppercase}.Wallet-v4_walletOtpHeaderSectionSubtitle_vH4uPN29{color:#7e808c;line-height:1.4;margin-top:4px;font-size:.93rem}.Wallet-v4_walletOtpVerify_L18YqAoT{padding:30px 16px;position:relative}.Wallet-v4_walletOtpVerifyNoOTP_96Don1-G{text-align:right;margin:-21px 0 32px;font-weight:400}.Wallet-v4_walletOtpVerifyNoOTPQuestion_RdkFqd5q{color:#93959f;font-size:.8rem;margin-right:5px}.Wallet-v4_walletOtpVerifyNoOTPResend_fkDmZJ5D{color:#5d8ed5;text-transform:uppercase;font-size:.9rem}.Wallet-v4_walletOtpVerifyButton_mDq8d6Q8{background-color:#ff5200!important;height:48px!important;line-height:48px!important}.Wallet-v4_walletAddMoney_4cAYZB-v{margin-top:12px;margin-left:52px;transform:translateZ(0)}.Wallet-v4_walletDueDate_i29ANaWp{color:#7e808c;font-size:.93rem;margin-top:7px;margin-left:52px}.Wallet-v4_buttonSubText_vDBjh4iw{font-size:10px;text-transform:none;font-weight:200;opacity:.7;margin-top:2px}');var sC=Object(i.memo)((function(e){const{onPay:t,onAddMoney:a,addMoneyImpressionEvent:n,walletTestIds:o}=e,r=Object(i.useMemo)(()=>!e.hasSufficientBalance&&!Ou(e.methodData)&&(e=>H.indexOf(e.name.toUpperCase())>-1)(e.methodData),[e.hasSufficientBalance,e.methodData]),c=Object(i.useCallback)(e=>{e.stopPropagation(),t()},[t]),d=Object(i.useCallback)(e=>{e>0&&a(e)},[a]);if(e.walletBalanceLoading)return null;if(r)return l.a.createElement(nC,{additionalBalanceNeeded:e.additionalBalanceNeeded,onClick:d,addMoneyImpressionEvent:n,walletTestIds:o});const{title:u,subText:m}=function({walletName:e,additionalBalanceNeeded:t,paymentAmount:a}){const n=t>0?t:a;return{title:Object(s.hb)(In.PAY_X_WITH_Y,String(n),e),subText:function(e){return"PHONEPE"===e.toUpperCase()?Object(s.hb)(In.WALLET_REDIRECT_NOTE,e):""}(e)}}({walletName:e.methodData.name,additionalBalanceNeeded:e.additionalBalanceNeeded,paymentAmount:e.paymentAmount});return l.a.createElement("div",{className:"Wallet-v4_paymentMethodPayWrapper_5bEc9SnX"},l.a.createElement(E.SuperButton,{variant:"fullwidth",buttonType:"specialPositive",buttonSize:"medium",className:"Wallet-v4_paymentMethodPayButton_0oWow1AA",onClick:c,"data-testid":o.PAY_BUTTON,subLabel:m},u))})),cC=Object(i.memo)((function(e){const{methodData:t,actions:a,walletTestIds:n,selected:o,walletBalanceLoading:r,linkStatus:c,hasLessBalance:u,balance:m}=e,{refetchBalance:p}=a,_=Po(t),E=d()({"Wallet-v4_walletLinkAccount_fBxNe8IM":!0,"Wallet-v4_walletLinkAccountWithPromo_6w3Ey14P":!Ke(_),"Wallet-v4_walletLinkAccountWithSubText_dys5vxmd":!Ke(_)||0===c&&(u||hu(c))}),{state:b,sdkFetchInProgress:y}=a.getAmazonPaySdkStatus(),g=Ou(t),O=b&&b.available||!1,h=Object(i.useCallback)(()=>{p(t)},[p,t]);return l.a.createElement("div",{className:E},(()=>{var e;if(g)return y||!b?l.a.createElement(dr,{size:"medium",className:lC,"data-testid":n.CIRCLE_LOADER}):O?l.a.createElement(s.c,{as:"div",className:oC},!Ke(null===(e=b.balance)||void 0===e?void 0:e.toString())&&l.a.createElement("div",{className:iC,"data-testid":n.WALLET_BALANCE},b.balance),b.linked?l.a.createElement(s.W,{selected:o,"data-testid":n.TICK}):l.a.createElement(C.TextButton,{textAlign:"right",buttonSize:"small",color:"primary","data-testid":n.LINK_ACCOUNT},In.LINK_ACCOUNT)):l.a.createElement("div",{className:oC},l.a.createElement(s.W,{selected:o,"data-testid":n.TICK}));if(r)return l.a.createElement(dr,{size:"medium",className:lC,"data-testid":n.CIRCLE_LOADER});switch(c){case 0:return l.a.createElement(s.c,{as:"div",className:oC},l.a.createElement("div",{className:iC,"data-testid":n.WALLET_BALANCE},m),l.a.createElement(s.W,{selected:o,"data-testid":n.TICK}));case 3:return l.a.createElement(C.TextButton,{textAlign:"right",buttonSize:"small",color:"primary",onClick:h,"data-testid":n.RETRY_LINK_ACCOUNT},In.RETRY);default:return l.a.createElement("div",{className:"Wallet-v4_walletLinkAccountContainer_Eu5Wq5pa"},l.a.createElement(H_,{"data-testid":n.LINK_ACCOUNT}))}})())}));const dC=l.a.memo((function(e){const{state:t,walletData:a,dataTestId:n,userMobileNumber:o,isPayTmMethodWithLessBalance:r}=e,i=1!==t&&!a.isWalletBalanceSufficent,c=1!==t&&hu(a.linkStatus),d=1!==t&&((e,t)=>e!==t)(a.mobileNumber,o);return r?l.a.createElement(Ar,{className:rC,message:Object(s.hb)(In.LOW_BALANCE_DETAIL,String(a.additionalBalanceRequired)),"data-testid":n}):d?l.a.createElement("div",{className:"Wallet-v4_walletMobileNumber_DDk7ihn2","data-testid":n},a.mobileNumber):c?l.a.createElement(Ar,{className:rC,message:In.TOKEN_EXPIRED_LINK_ACCOUNT,"data-testid":n}):i?l.a.createElement(Ar,{className:rC,message:Object(s.hb)(In.LOW_BALANCE_DETAIL,String(a.additionalBalanceRequired)),"data-testid":n}):null}));var uC=Object(i.memo)((function(e){var t,{user:a}=e,n=fn(e,["user"]);const{getWalletBalance:o,onSelect:r,onPay:c,onAddMoney:u,onAddMoneyImpression:m,getAmazonPaySdkStatus:p,getPhonepeSdkStatus:_,onLinkWalletClick:E,linkAmazonPaySdk:C,linkWallet:b}=n.paymentActions,[y,g]=Object(i.useMemo)(()=>o(n.methodData),[o,n.methodData]),O=1===y,h=Object(i.useMemo)(()=>Au(n.methodData),[n.methodData]),A=Object(i.useMemo)(()=>Na(h),[h]),{state:f,sdkFetchInProgress:v}=p(),{isPhonepeSdkAvailable:T}=_(),I=Ou(n.methodData),S=null!==(t=null==a?void 0:a.mobile)&&void 0!==t?t:"",N=Object(i.useMemo)(()=>((e,t,a)=>!0!==(null==e?void 0:e.paymentMethodDisabled)&&Bo(t,a))(g,n.methodData,n.isPaymentGroupEnabled),[n.isPaymentGroupEnabled,n.methodData,g]),R=Object(i.useMemo)(()=>{var e;return"PAYTM"===(null===(e=n.methodData.name)||void 0===e?void 0:e.toUpperCase())&&g.linked&&!g.isWalletBalanceSufficent},[n.methodData.name,g.isWalletBalanceSufficent,g.linked]),P=Object(i.useCallback)(e=>{if(e.preventDefault(),N&&!R&&(3===y||I)&&(!I||!v)){if(!(I&&f&&f.available)||f.linked)return 3===g.linkStatus||g.linked||I?void r(n.methodData):(E(n.methodData.name),void b(n.methodData.name,g.isOldWalletLinkFlow));C(n.methodData.name)}},[N,R,y,I,v,f,g.linkStatus,g.linked,g.isOldWalletLinkFlow,r,n.methodData,C,E,b]),D=Object(i.useCallback)(()=>{let e;(I||3===y)&&((e=>{const t=Au(e);return Y.indexOf(t.toUpperCase())>-1})(n.methodData)||g.isWalletBalanceSufficent)&&(fu(n.methodData)&&(e=vu(T)),I&&f&&(e=Tu(f.isBalanceSufficient)),c(n.methodData,e))},[y,c,n.methodData,g.isWalletBalanceSufficent,I,f,T]),L=Object(i.useCallback)(e=>{const t=g.isOldWalletLinkFlow?null==a?void 0:a.mobile:g.mobileNumber;if(!t||3!==y)return;if(g.isWalletBalanceSufficent)return;const n=null!=e?e:g.additionalBalanceRequired;u({walletCode:h,mobile:t,amount:n.toString()})},[y,u,h,a,g.additionalBalanceRequired,g.isOldWalletLinkFlow,g.isWalletBalanceSufficent,g.mobileNumber]),k=Object(i.useCallback)(()=>{m(h)},[m,h]),x=d()("Wallet-v4_paymentMethod_FqShfmKY",{"Wallet-v4_paymentMethodDisabled_EN8WFLYl":!N||R}),w=Object(i.useMemo)(()=>l.a.createElement(Jo,{src:So(n.methodData),alt:n.methodData.displayName,width:32,"data-testid":A.ICON}),[n.methodData,A]),M=Object(i.useMemo)(()=>!(!n.selected||R)&&(I?!v&&(null==f||!f.available||f.linked):g.linked),[n.selected,R,I,v,f,g.linked]),j=Object(i.useMemo)(()=>(({paymentMethodData:e,walletData:t,isSelected:a,isEnabled:n})=>{if(!0===t.paymentMethodDisabled)return(e=>{const t=Do(e);return Object(s.db)(e.displayName,t)()})(e);if(!n)return gu(e);if(!t.linked)return(e=>{const t=Po(e);return Object(s.db)(e.displayName,t,"Not linked.")()})(e);const o=!t.isWalletBalanceSufficent&&!Ou(e);return yu({paymentMethodData:e,paymentData:t,balance:t.balance,showLessBalanceText:o,isSelected:a})})({paymentMethodData:n.methodData,walletData:g,isSelected:n.selected,isEnabled:N}),[N,n.methodData,n.selected,g]),B=Ro(n.methodData);return l.a.createElement("div",{className:x,onClick:P,"data-testid":A.CONTAINER},l.a.createElement("div",{className:"Wallet-v4_paymentMethodContainer_HPHEeaVE"},w,l.a.createElement(cr,{displayName:n.methodData.displayName,promoMsg:Po(n.methodData),enabled:N,ariaLabel:j,"data-testid":A.NAME,discount:B},Ke(B)&&l.a.createElement(l.a.Fragment,null,N?!I&&g.linked&&l.a.createElement(dC,{state:y,walletData:g,userMobileNumber:S,isPayTmMethodWithLessBalance:R}):l.a.createElement(Ar,{className:"Wallet-v4_paymentMethodDisable_kmHZgFBp",message:!0===g.paymentMethodDisabled?Do(n.methodData):Lo(n.methodData),"data-testid":A.DISABLE_MESSAGE}))),N&&a&&l.a.createElement(cC,{walletBalanceLoading:O,selected:n.selected,methodData:n.methodData,actions:n.paymentActions,linkStatus:g.linkStatus,hasLessBalance:!g.isWalletBalanceSufficent,balance:g.balance,walletTestIds:A})),N&&M&&l.a.createElement(sC,{onPay:D,onAddMoney:L,paymentAmount:n.paymentAmount,walletBalanceLoading:O,hasSufficientBalance:g.isWalletBalanceSufficent,methodData:n.methodData,additionalBalanceNeeded:g.additionalBalanceRequired,addMoneyImpressionEvent:k,walletTestIds:A}))})),mC="Cred-v4_subtext_9NjODY9O";Ho(".Cred-v4_paymentMethodContainer_CEphQraE{display:flex;align-items:center}.Cred-v4_paymentMethodCouponNotApplicable_VKyo2N28,.Cred-v4_paymentMethodDisable_-KmgmpkP,.Cred-v4_paymentMethodTokenExpired_M2xmJFpS{margin-top:2px;margin-left:0}.Cred-v4_paymentMethod_EjUjMUR3{padding:19px 16px;overflow:hidden;border-bottom:1px dashed #e2e2e7}.Cred-v4_paymentMethod_EjUjMUR3:last-child{border-bottom:none}.Cred-v4_paymentMethodContainer_CEphQraE{width:100%}.Cred-v4_paymentMethodDisabled_uk10Cd3Q{opacity:.7}.Cred-v4_paymentMethodPayButton_Vhr27lI4{margin-top:8px;margin-left:48px}.Cred-v4_paymentMethodPromoMsg_tfM-mWHP{margin:10px 0 0 48px}.Cred-v4_paymentMethodIconContainer_GVEntmeQ{width:36px;height:36px}.Cred-v4_hideTick_JRKZao0a{visibility:hidden}.Cred-v4_subtext_9NjODY9O{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}");var pC=Object(i.memo)((function(e){return l.a.createElement("div",{className:"Cred-v4_paymentMethodPayButton_Vhr27lI4"},l.a.createElement(E.SuperButton,{onClick:t=>{t.stopPropagation(),e.onPay(e.methodData)},"data-testid":"pm_cred_pay_btn",buttonType:"specialPositive",variant:"fullwidth",buttonSize:"medium"},In.PAY_USING_CRED))})),_C=Object(i.memo)((function(e){const{onSelect:t,onPay:a}=e.paymentActions,{meta:n}=e.methodData,o=Object(i.useMemo)(()=>Bo(e.methodData,e.isPaymentGroupEnabled)&&e.isSdkAvailable,[e.isPaymentGroupEnabled,e.methodData,e.isSdkAvailable]),r=Object(i.useMemo)(()=>!Bo(e.methodData,e.isPaymentGroupEnabled),[e.isPaymentGroupEnabled,e.methodData]),c=Object(i.useMemo)(()=>So(e.methodData),[e.methodData]),u=d()("Cred-v4_paymentMethod_EjUjMUR3",{"Cred-v4_paymentMethodDisabled_uk10Cd3Q":!o}),m=Object(i.useMemo)(()=>r?"":n.promoMsg,[n.promoMsg,r]),p=Object(i.useMemo)(()=>{var t;if(!r)return e.isOfferLoading?l.a.createElement("div",{className:mC},null!==(t=n.loadingOfferMessage)&&void 0!==t?t:"Checking offer Details"," ",l.a.createElement(s.V,null)):l.a.createElement("div",{className:mC},e.bannerText)},[e.bannerText,e.isOfferLoading,r,n.loadingOfferMessage]),_=Object(i.useMemo)(()=>o?"":"Cred-v4_hideTick_JRKZao0a",[o]),E=Object(i.useCallback)(a=>{a.preventDefault(),o&&t(e.methodData)},[o,e.methodData,t]),C=Object(i.useMemo)(()=>{return t=e.methodData,a=o,`${In.CRED} ${(a?Po:Lo)(t)}`;var t,a},[e.methodData,o]);return l.a.createElement("div",{className:u,onClick:E,"data-testid":"pm_cred_container"},l.a.createElement("div",{className:"Cred-v4_paymentMethodContainer_CEphQraE"},l.a.createElement(Jo,{src:c,"data-testid":"pm_cred_icon"}),l.a.createElement(cr,{displayName:e.methodData.displayName,promoMsg:m,enabled:o,ariaLabel:C,"data-testid":"pm_cred_name",dynamicPromoMsg:p},r&&l.a.createElement(Ar,{className:"Cred-v4_paymentMethodDisable_-KmgmpkP",message:e.methodData.meta.disableMessage,"data-testid":"pm_cred_disable_msg"})),l.a.createElement(s.W,{className:_,selected:e.selected,"data-testid":"pm_cred_tick"})),e.selected&&o&&l.a.createElement(pC,{enabled:o,selected:e.selected,methodData:e.methodData,onPay:a}))}));Ho(".CardView_card_n6vdYbTa{display:flex;padding:24px 16px;border-bottom:1px dashed #e2e2e7}.CardView_cardDisabled_0ca6i-AI{opacity:.7}.CardView_cardMain_3U7LCfuS{padding:0 12px;flex:1}.CardView_cardMainText_35CdAqex{font-size:16px;line-height:19px;font-weight:400;letter-spacing:-.3px;color:#36393e}.CardView_cardMainSubtext_-qCKRDCh{font-size:14px;line-height:17px;font-weight:200;letter-spacing:-.3px;color:rgba(2,6,12,.6);margin-top:4px}.CardView_cardTagContainer_jcBs9kl3{display:flex;align-items:center;height:20px}.CardView_cardDefaultTag_KhRAg1OE{font-size:13px;letter-spacing:-.1px;font-weight:600;color:#1ba672;margin-right:8px}.CardView_card_n6vdYbTa:last-child{border-bottom:0}");var EC=Object(i.memo)((function(e){const{methodData:t,onClick:a,isSelected:n,isDisabled:o,isPrimary:r,dataTestId:c}=e,u=Object(i.useMemo)(()=>d()("CardView_card_n6vdYbTa",{"CardView_cardDisabled_0ca6i-AI":o}),[o]);return l.a.createElement("div",{className:u,onClick:a,"data-testid":c},l.a.createElement(Jo,{src:So(t)}),l.a.createElement("div",{className:"CardView_cardMain_3U7LCfuS"},l.a.createElement("div",{className:"CardView_cardMainText_35CdAqex"},t.meta.bankName),l.a.createElement("div",{className:"CardView_cardMainSubtext_-qCKRDCh"},t.meta.maskedAccountNumber)),l.a.createElement("div",{className:"CardView_cardTagContainer_jcBs9kl3"},r&&l.a.createElement("div",{className:"CardView_cardDefaultTag_KhRAg1OE"},"DEFAULT"),l.a.createElement(s.W,{selected:n})))})),CC=Object(i.memo)((function(e){return l.a.createElement(EC,Object.assign({},e))}));Ho(".OneClickListView_container_3ULI0LPa,.OneClickListView_containerArrowIconWrapper_61Z1vf5P,.OneClickListView_containerMain_slVfem4w,.OneClickListView_containerTextWrapper_z-0jX4KW{display:flex}.OneClickListView_container_3ULI0LPa,.OneClickListView_containerTextWrapper_z-0jX4KW{flex-direction:column}.OneClickListView_containerArrowIconWrapper_61Z1vf5P{align-items:center}.OneClickListView_container_3ULI0LPa{background:#fff;padding:12px 0;margin:0 16px;overflow:hidden;border-bottom:1px solid rgba(40,44,63,.05)}.OneClickListView_container_3ULI0LPa:last-child{border-bottom:none}.OneClickListView_containerDisabled_KEJz7XFR{opacity:.7}.OneClickListView_containerIconParent_paaUQHpA{height:24px;width:24px}.OneClickListView_containerIconWithoutUrl_eGFCPvSn{height:24px;width:24px;border-radius:50%;background-color:#f4f4f5}.OneClickListView_containerIconWithUrl_zOIeL9bt{max-width:100%;max-height:100%}.OneClickListView_containerText_iyHzcSLP{font-size:1rem;font-weight:200;color:#282c3f}.OneClickListView_containerTextWrapper_z-0jX4KW{justify-content:center;flex:1;padding:0 12px}.OneClickListView_containerSubtext_c8e0ExRH{font-size:.86rem;color:#93959f;margin-top:4px}.OneClickListView_containerArrowIcon_Ae2Zz-XI{stroke:#282c3f;opacity:.7;height:11px;width:8px}.OneClickListView_containerMain_slVfem4w{flex:1}.OneClickListView_containerAlertMsg_plbwIU0-{margin-top:9px;margin-left:44px}");var bC=Object(i.memo)((function(e){const{iconUrl:t,onClick:a,mainText:n,subText:o,alertMsg:r,infoMsg:s,isDisabled:c,containerClassName:u}=e,m=Object(i.useMemo)(()=>d()("OneClickListView_container_3ULI0LPa",u,{OneClickListView_containerDisabled_KEJz7XFR:c}),[u,c]),p=Object(i.useCallback)(e=>{e.preventDefault(),c||a()},[c,a]);return l.a.createElement("div",{className:m,onClick:p,"data-testid":e.dataTestId},l.a.createElement("div",{className:"OneClickListView_containerMain_slVfem4w"},l.a.createElement(Jo,{src:t}),l.a.createElement("div",{className:"OneClickListView_containerTextWrapper_z-0jX4KW"},l.a.createElement("div",{className:"OneClickListView_containerText_iyHzcSLP"},n),ze(o)&&l.a.createElement("div",{className:"OneClickListView_containerSubtext_c8e0ExRH"},o),ze(s)&&l.a.createElement(Ar,{message:s})),l.a.createElement("div",{className:"OneClickListView_containerArrowIconWrapper_61Z1vf5P"},l.a.createElement(pu,{className:"OneClickListView_containerArrowIcon_Ae2Zz-XI"}))),ze(r)&&l.a.createElement(Ar,{className:"OneClickListView_containerAlertMsg_plbwIU0-",message:r}))}));const yC=e=>e.groupName.toUpperCase()===z.NATIVE_UPI;var gC=Object(i.memo)((function(e){const{methodData:t,onClick:a,isDisabled:n,paymentActions:o,nativeUpiFetchStatus:r,dataTestId:c}=e,d=Object(i.useMemo)(()=>So(t),[t]),u=Object(i.useMemo)(()=>(e=>{var t;const a=null!==(t=e.displayName)&&void 0!==t?t:"";return Object(s.hb)("Swiggy UPI • {0}",a)})(t),[t]),m=Object(i.useMemo)(()=>(e=>{var t;return null!==(t=e.meta.bankCode)&&void 0!==t?t:""})(t),[t]),p=Object(i.useMemo)(()=>1===r?"Error fetching status details. Try again!":o.isInvalidNativeUpiMethod(t)?"This native UPI is no longer valid":void 0,[t,r,o]);return l.a.createElement(bC,{iconUrl:d,onClick:a,isDisabled:n,mainText:u,subText:m,alertMsg:p,dataTestId:c})})),OC=Object(i.memo)((function(e){return l.a.createElement(gC,Object.assign({},e))})),hC=Object(i.memo)((function(e){const{methodData:t,paymentActions:a,isPreferredMethod:n,selected:o,nativeUpiFetchStatus:r,isSdkAvailable:s,primary:c}=e,d=Object(i.useMemo)(()=>s&&2===r&&Bo(e.methodData,e.isPaymentGroupEnabled),[s,r,e.isPaymentGroupEnabled,e.methodData]),u=Object(i.useCallback)(()=>{d&&(n?a.onPay(t):a.onSelect(t))},[d,n,t,a]);return n?l.a.createElement(OC,{methodData:t,isDisabled:!d,onClick:u,paymentActions:a,nativeUpiFetchStatus:r,dataTestId:ga}):l.a.createElement(CC,{methodData:t,isSelected:o,isPrimary:c,onClick:u,dataTestId:ga})})),AC=Object(i.memo)((function(e){const{methodData:t,paymentActions:a,isPaymentGroupEnabled:n,selected:o,paymentAmount:r,onClickPaymentGroups:c,position:d}=e,u=Object(i.useMemo)(()=>Bo(t,n),[n,t]),m=Object(i.useMemo)(()=>{var e;return null===(e=null==t?void 0:t.meta)||void 0===e?void 0:e.liteBalance},[t]),p=Object(i.useMemo)(()=>((e,t)=>{var a,n,o;return!1===(null===(a=null==e?void 0:e.meta)||void 0===a?void 0:a.mpinSet)?null!==(n=e.meta.ctaMsg)&&void 0!==n?n:Object(s.hb)(In.SETUP_PIN_AND_PAY_X,t):null!==(o=e.meta.ctaMsg)&&void 0!==o?o:Object(s.hb)(In.PAY_X,t)})(t,r),[t,r]),_=Object(i.useCallback)((t={})=>{var n,o,r,i;u&&a.onPay(e.methodData,{in_app_upi_params:{account_reference_id:(null===(o=null===(n=null==e?void 0:e.methodData)||void 0===n?void 0:n.meta)||void 0===o?void 0:o.referenceId)||"",account_type:(null===(i=null===(r=null==e?void 0:e.methodData)||void 0===r?void 0:r.meta)||void 0===i?void 0:i.accountType)||""}},t)},[u,a,e.methodData]),E=Object(i.useCallback)(()=>{c&&c(No(e.methodData),String(u),String(d)),u&&a.onSelect(e.methodData)},[u,a,e.methodData,c,d]);return l.a.createElement(k_,{methodData:e.methodData,isMethodEnabled:u,onClick:E,balance:m,onPayButtonClick:_,testIds:Ra,selected:o,payCtaMsg:p})})),fC=Object(i.memo)((function(e){const{paymentAmount:t,user:a,methodData:n,getPaymentActions:o,getPaymentMethodProps:r,credEligibleData:s,juspayMeta:c,getPreferredSpecificData:d,paymentGroupBanner:u}=e,m=Object(i.useMemo)(()=>n.groupName.toUpperCase(),[n.groupName]),p=Object(i.useMemo)(()=>r(n),[r,n]),_=Object(i.useMemo)(()=>o(m),[o,m]),E=Object(i.useMemo)(()=>null==c?void 0:c.tokenizationMeta,[c]),C=Object(i.useMemo)(()=>null==c?void 0:c.oneClickMeta,[c]),b=Object(i.useMemo)(()=>d(m),[d,m]),y=Object(i.useCallback)(e=>{const a=Object.assign(Object.assign({},p),{paymentAmount:t,methodData:e,paymentActions:_});return l.a.createElement(M_,Object.assign({},a))},[p,t,_]);switch(m){case z.CARD:case z.FOOD_CARD:{const e=b,a=_;return l.a.createElement(Mu,Object.assign({},p,{paymentActions:_,methodData:n,paymentAmount:t,juspayTokenizationMeta:E,isSdkAvailable:(null==e?void 0:e.isSdkAvailable)||!1,oneClickEvents:(null==a?void 0:a.oneClickEvents)||void 0,oneClickMeta:C}))}case z.WALLET:case z.WALLET_WEB:return l.a.createElement(uC,Object.assign({},p,{user:a,paymentActions:_,methodData:n,paymentAmount:t}));case z.FLIPKART_SUPER_COIN:return l.a.createElement(QE,Object.assign({},p,{paymentAmount:t,paymentActions:_,methodData:n}));case z.COD:return l.a.createElement(D_,Object.assign({},p,{paymentAmount:t,paymentActions:_,methodData:n}));case z.NETBANKING:return l.a.createElement(w_,Object.assign({},p,{paymentActions:_,methodData:n,paymentAmount:t,isPreferredMethod:!0}));case z.UPI:return y(n);case z.PAY_LATER:return null!=a?l.a.createElement(eE,Object.assign({},p,{user:a,paymentActions:_,methodData:n,paymentAmount:t})):null;case z.JUSPAY_WALLET:return l.a.createElement(nE,Object.assign({},p,{paymentActions:_,methodData:n}));case z.SWIGGY_INSTRUMENTS:return l.a.createElement(qE,Object.assign({},p,{paymentAmount:t,paymentActions:_,methodData:n,paymentGroupBanner:u}));case z.CRED:return s?l.a.createElement(_C,Object.assign({},p,{paymentActions:_,methodData:n,bannerText:s.bannerText,isEligible:s.isEligible,isSdkAvailable:s.isSdkAvailable,isOfferLoading:s.isOfferLoading})):null;case z.NATIVE_UPI:{const e=b;return null==e?null:l.a.createElement(hC,Object.assign({},p,e,{paymentActions:_,methodData:n,isPreferredMethod:!0}))}case z.INAPP_UPI:return l.a.createElement(AC,Object.assign({},p,{methodData:n,paymentActions:_,paymentAmount:t}));default:return null}}));const vC=p.default.div`
    padding: ${e=>e.theme.spacing.large} ${e=>e.theme.spacing.medium};
    text-align: center;
    color: ${e=>e.theme.colors[e.theme.colorMode].text_Button_Secondary};
    display: flex;
    align-items: center;
`,TC=Object(p.default)(m.Text)`
    text-align: center;
    width: ${36}px;
    border: 1px solid ${e=>e.theme.colors[e.theme.colorMode].border_Secondary};
    border-radius: ${e=>e.theme.cornerRadius.xSmall};
    padding: ${e=>e.theme.spacing.xxSmall} 0;
    color: ${e=>e.theme.colors[e.theme.colorMode].text_Button_Secondary};
    text-transform: uppercase;
`,IC=p.default.div`
    width: ${36}px};
    height: ${24}px;
    border-radius: ${e=>e.theme.cornerRadius.xSmall};
    border: 1px solid ${e=>e.theme.colors[e.theme.colorMode].border_Secondary};
`,SC=Object(p.default)(m.Text)`
    padding: 0 ${e=>e.theme.spacing.medium};
`,NC=Object(p.default)(y.GenericIcon)`
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
`;function RC({handleClick:e,dataTestId:t,methodCount:a,icon:n,text:o,onImpressionViewAll:r}){return Object(s.Db)(()=>{r&&r()}),l.a.createElement(vC,{onClick:e,"data-testid":t},!an(a)&&l.a.createElement(TC,{variant:"V2.body1.neutral.bold",color:"text_Button_Secondary"},a),n&&l.a.createElement(IC,null,l.a.createElement(NC,{Icon:N.a,fillColor:"text_Button_Secondary"})),l.a.createElement(SC,{variant:"V2.body1.neutral.bold",color:"text_Button_Secondary"},o))}const PC=3;var DC=Object(i.memo)((function(e){const{paymentAmount:t,user:a,onPreferredMoreCtaClick:n,credEligibleData:o,juspayMeta:r,hideGroupTitle:c,paymentData:d,getPreferredSpecificData:u,paymentGroupBanner:m}=e,{getPaymentActions:p,getPaymentMethodProps:_,paymentMethods:E,canShowPreferredMoreCta:C,foldedMethodsCount:b}=function(e){const{paymentActions:t,getPreferredSpecificActions:a,paymentData:n,showPreferredMoreCta:o}=e,r=Object(i.useMemo)(()=>ko(n),[n]),l=Object(i.useMemo)(()=>Ao(e),[e]),[c,d]=Object(i.useMemo)(()=>{var e;const{multiPpmFoldSize:t=PC}=null!==(e=n.meta)&&void 0!==e?e:{},a=t>=0?t:PC;return[a,l.length-a]},[n.meta,l.length]),u=Object(i.useMemo)(()=>o&&c>0&&d>0,[c,d,o]),m=Object(i.useMemo)(()=>u?Be(Object(s.hb)(1===d?"+ {0} more payment method":"+ {0} more payment methods",String(d))):je,[u,d]),p=Object(i.useMemo)(()=>u?l.slice(0,c):l,[c,u,l]);return{getPaymentActions:Object(i.useCallback)(e=>{const n=a(e);return Object.assign(Object.assign({},t),n)},[a,t]),getPaymentMethodProps:Object(i.useCallback)(t=>{const a=To(t);return{id:a,key:t.displayName,isPaymentGroupEnabled:r,selected:fo(e.selectedPaymentId,a)}},[r,e.selectedPaymentId]),preferredMoreCtaText:m,paymentMethods:p,canShowPreferredMoreCta:u,foldedMethodsCount:d}}(e),y=Object(i.useMemo)(()=>Object(s.hb)("+ {0}",String(b)),[b]);return Ke(E)?null:l.a.createElement(Ko,null,!c&&l.a.createElement(zo,{title:vo(d),disableMessage:xo(d),"data-testid":Gt}),l.a.createElement("div",{className:Yo},E.map(e=>l.a.createElement(fC,{key:e.displayName,methodData:e,getPaymentActions:p,getPaymentMethodProps:_,paymentAmount:t,user:a,credEligibleData:o,juspayMeta:r,getPreferredSpecificData:u,paymentGroupBanner:m})),C&&l.a.createElement(RC,{handleClick:n,dataTestId:ca,methodCount:y,text:"View all preferred methods"})))}));Ho(".OtherPaymentOffersGenericUI_container_TzwMSIC0,.OtherPaymentOffersGenericUI_containerArrowIconWrapper_jZXXp-dg{display:flex}.OtherPaymentOffersGenericUI_container_TzwMSIC0,.OtherPaymentOffersGenericUI_containerArrowIconWrapper_jZXXp-dg{align-items:center}.OtherPaymentOffersGenericUI_container_TzwMSIC0{padding:18px 16px;overflow:hidden}.OtherPaymentOffersGenericUI_container_TzwMSIC0:last-child{border-bottom:none}.OtherPaymentOffersGenericUI_containerBorder_IhahSix3{border-bottom:1px dashed #e2e2e7}.OtherPaymentOffersGenericUI_containerDisabled_jhPnH-YY{opacity:.5}.OtherPaymentOffersGenericUI_containerIconParent_dmD29B-0{padding:7px;align-self:center;border:1px solid #e2e2e7;border-radius:6px;width:36px;height:36px}.OtherPaymentOffersGenericUI_containerIconWithUrl_EXZ9xLTg{max-width:100%;max-height:100%}.OtherPaymentOffersGenericUI_containerText_eWbUzw11{font-size:16px;line-height:19px;font-weight:400;letter-spacing:-.3px;color:rgba(2,6,12,.7490196078);width:-webkit-max-content;width:max-content}.OtherPaymentOffersGenericUI_containerTextWrapper_LlhSZ1X3{flex:1;justify-content:flex-start;align-items:baseline;padding:0 16px;overflow:hidden;outline:0}.OtherPaymentOffersGenericUI_containerSubtext_oW8JYVQZ{font-size:13px;line-height:16px;font-weight:200;letter-spacing:-.3px;flex:1;color:rgba(2,6,12,.6);overflow:visible;text-overflow:ellipsis;margin-top:2px}.OtherPaymentOffersGenericUI_containerArrowIcon_u-PxIfOt{stroke:#babbc0;height:11px;width:8px}");var LC=Object(i.memo)((function(e){const{displayName:t,paymentMethodIcon:a,subtext:n,onClick:o}=e,r=`${t}. ${ze(n)?n:""}`;return l.a.createElement("div",{className:"OtherPaymentOffersGenericUI_containerBorder_IhahSix3","data-testId":"other-offer-container",onClick:o},l.a.createElement("div",{className:"OtherPaymentOffersGenericUI_container_TzwMSIC0"},a,l.a.createElement("div",{className:"OtherPaymentOffersGenericUI_containerTextWrapper_LlhSZ1X3",role:"button",tabIndex:0,"aria-label":r},l.a.createElement(s.c,{as:"div",className:"OtherPaymentOffersGenericUI_containerText_eWbUzw11"},t),ze(n)&&l.a.createElement(s.c,{as:"div",className:"OtherPaymentOffersGenericUI_containerSubtext_oW8JYVQZ"},n)),l.a.createElement(s.c,{as:"div",className:"OtherPaymentOffersGenericUI_containerArrowIconWrapper_jZXXp-dg"},l.a.createElement(pu,{className:"OtherPaymentOffersGenericUI_containerArrowIcon_u-PxIfOt"}))))})),kC=Object(i.memo)((function(e){const t=No(e.methodData),a=Ro(e.methodData),n=Object(i.useMemo)(()=>Bo(e.methodData,e.isPaymentGroupEnabled),[e.isPaymentGroupEnabled,e.methodData]),{onSelect:o}=e.paymentActions,r=Object(i.useCallback)(t=>{t.preventDefault(),n&&o(e.methodData)},[o,e.methodData,n]),s=Object(i.useMemo)(()=>l.a.createElement(Jo,{src:So(e.methodData),alt:e.methodData.displayName,width:32}),[e.methodData]);return l.a.createElement(LC,{onClick:r,displayName:t,subtext:a,paymentMethodIcon:s})})),xC=Object(i.memo)((function(e){const{methodData:t,isPaymentGroupEnabled:a,paymentActions:n,paymentGroupMeta:o}=e,r=Object(i.useMemo)(()=>Bo(t,a),[a,t]),s=Object(i.useCallback)(()=>{r&&n.onPay(t,{bankCode:t.nbCode,bankName:t.name,merchantId:null==o?void 0:o.merchantId,paymentMethodType:"NB"})},[r,n,t,o]),c=No(e.methodData),d=Ro(e.methodData),u=Object(i.useMemo)(()=>l.a.createElement(Jo,{src:So(e.methodData),alt:e.methodData.displayName,width:32}),[e.methodData]);return l.a.createElement(LC,{onClick:s,displayName:c,subtext:d,paymentMethodIcon:u})})),wC=Object(i.memo)((function(e){const t=Object(i.useMemo)(()=>Bo(e.methodData,e.isPaymentGroupEnabled),[e.isPaymentGroupEnabled,e.methodData]),{checkPayLaterLinkStatus:a,onSelect:n}=e.paymentActions,[o]=a(e.methodData),r=Object(i.useCallback)(a=>{a.preventDefault(),t&&2===o&&n(e.methodData)},[o,e.methodData,n,t]),s=Object(i.useMemo)(()=>l.a.createElement(Jo,{src:So(e.methodData),alt:e.methodData.displayName,width:32}),[e.methodData]),c=No(e.methodData),d=Ro(e.methodData);return l.a.createElement(LC,{onClick:r,displayName:c,subtext:d,paymentMethodIcon:s})})),MC=Object(i.memo)((function(e){var{user:t,paymentGroup:a}=e,n=fn(e,["user","paymentGroup"]);const o=Object(i.useContext)(s.K).navigateTo,r=Object(i.useMemo)(()=>Au(n.methodData),[n.methodData]),c=Object(i.useMemo)(()=>Na(r),[r]),d=Object(i.useCallback)(e=>{e.preventDefault(),o(Qr.MORE_PAYMENT_METHODS,{paymentGroup:a})},[o,a]),u=Object(i.useMemo)(()=>l.a.createElement(Jo,{src:So(n.methodData),alt:n.methodData.displayName,width:32,"data-testid":c.ICON}),[n.methodData,c]),m=No(n.methodData),p=Ro(n.methodData);return l.a.createElement(LC,{onClick:d,displayName:m,subtext:p,paymentMethodIcon:u})})),jC=Object(i.memo)((function(e){const{paymentAmount:t,user:a,methodData:n,getPaymentActions:o,getPaymentMethodProps:r}=e,s=n.groupName.toUpperCase(),c=Object(i.useMemo)(()=>r(n),[r,n]),d=Object(i.useMemo)(()=>o(s),[o,s]);switch(s){case z.CARD:case z.FOOD_CARD:return l.a.createElement(kC,Object.assign({},c,{paymentActions:d,methodData:n}));case z.WALLET:case z.WALLET_WEB:return l.a.createElement(MC,Object.assign({},c,{user:a,paymentActions:d,methodData:n,paymentAmount:t,paymentGroup:e.walletGroupData}));case z.NETBANKING:return l.a.createElement(xC,Object.assign({},c,{paymentActions:d,methodData:n,paymentAmount:t,isPreferredMethod:!0}));case z.PAY_LATER:return null!=a?l.a.createElement(wC,Object.assign({},c,{user:a,paymentActions:d,methodData:n})):null;default:return null}}));Ho(".OtherPaymentOffers_paymentGroup_BuY15Gzd{margin-top:24px}.OtherPaymentOffers_paymentGroupContainer_IQEPqDMa{background:#fff;margin:10px 16px 16px;box-shadow:0 1px 16px rgba(0,0,0,.05);border-radius:16px}.OtherPaymentOffers_paymentGroupContainerRow_MaNvyQc-{display:flex;background:#fff;margin:0 16px;overflow-y:scroll}.OtherPaymentOffers_paymentGroupContainerColumn_lhrbRLx0{flex-direction:column;background:none;margin:0;border-bottom:1px dashed #e2e2e7}.OtherPaymentOffers_paymentGroupContainerWithoutBorder_ngDef7L7{border-bottom:none}");var BC=Object(i.memo)((function(e){const{paymentAmount:t,user:a,juspayMeta:n,getPreferredSpecificData:o,paymentGroupBanner:r,paymentData:s}=e,{getPaymentActions:c,getPaymentMethodProps:d,paymentMethods:u}=function(e){const{paymentActions:t,getPreferredSpecificActions:a,paymentData:n}=e,o=Object(i.useMemo)(()=>ko(n),[n]),r=Object(i.useMemo)(()=>Ao(e),[e]);return{getPaymentActions:Object(i.useCallback)(e=>{const n=a(e);return Object.assign(Object.assign({},t),n)},[a,t]),getPaymentMethodProps:Object(i.useCallback)(t=>{const a=To(t);return{id:a,key:a,isPaymentGroupEnabled:o,selected:fo(e.selectedPaymentId,a)}},[o,e.selectedPaymentId]),paymentMethods:r}}(e);return Ke(u)?null:l.a.createElement(Ko,null,l.a.createElement(zo,{title:vo(s)}),l.a.createElement("div",{className:"OtherPaymentOffers_paymentGroupContainer_IQEPqDMa"},u.map(i=>l.a.createElement(jC,{key:i.displayName,methodData:i,getPaymentActions:c,getPaymentMethodProps:d,paymentAmount:t,user:a,juspayMeta:n,getPreferredSpecificData:o,paymentGroupBanner:r,walletGroupData:e.walletGroupData}))))}));Ho(".NetbankingMoreBanks-v4_fixedContainer_sfLp3iIT{display:flex;flex-direction:column;background:#fff;border-radius:16px;margin:14px 16px;box-shadow:0 2px 8px rgba(40,44,63,.1)}.NetbankingMoreBanks-v4_netBankingList_W8qx4Eo-{height:100%}.NetbankingMoreBanks-v4_netBankingListItem_QAWWNhLj{font-size:16px;line-height:19px;font-weight:400;letter-spacing:-.3px;padding:27px 16px;position:relative;overflow:hidden}.NetbankingMoreBanks-v4_netBankingListItemContainer_B086dxg0{border-bottom:1px dashed #e2e2e7}.NetbankingMoreBanks-v4_netBankingListItemContainer_B086dxg0:last-child{border-bottom:none}.NetbankingMoreBanks-v4_netBankingListItem_QAWWNhLj:last-child{border-bottom:0}.NetbankingMoreBanks-v4_netBankingListItemIcon_czpanmJn{float:right;stroke:#babbc0;font-size:9px;position:relative;top:4px}.NetbankingMoreBanks-v4_netBankingListItemDisabled_DyrLyL9i{opacity:.3}");const UC=Object(i.memo)((function({bankCode:e,bankName:t,onClick:a,enabled:n}){const o=Object(i.useCallback)(o=>{o.preventDefault(),n&&a({bankCode:e,bankName:t})},[e,t,n,a]),r=Object(i.useMemo)(()=>d()("NetbankingMoreBanks-v4_netBankingListItem_QAWWNhLj",{"NetbankingMoreBanks-v4_netBankingListItemDisabled_DyrLyL9i":!n}),[n]);return l.a.createElement("div",{className:"NetbankingMoreBanks-v4_netBankingListItemContainer_B086dxg0",onClick:o},l.a.createElement("div",{className:r},l.a.createElement(pu,{className:"NetbankingMoreBanks-v4_netBankingListItemIcon_czpanmJn"}),l.a.createElement("span",null,t)))}));function HC({paymentGroupData:e,onPay:t,netBankingList:a}){const n=a=>{var n;t({displayName:a.bankName,groupName:e.groupName,name:a.bankName,nbCode:a.bankCode,paymentCode:oe.NETBANKING,meta:{code:a.bankCode}},{bankCode:a.bankCode,bankName:a.bankName,merchantId:null===(n=e.meta)||void 0===n?void 0:n.merchantId,paymentMethodType:"NB"})};return l.a.createElement("div",{className:"NetbankingMoreBanks-v4_fixedContainer_sfLp3iIT","data-testid":"more_banks_container"},l.a.createElement("div",{className:"NetbankingMoreBanks-v4_netBankingList_W8qx4Eo-","data-testid":"more_banks_list"},a.map(e=>{const{bankCode:t,bankName:a,enabled:o}=e;return l.a.createElement(UC,{key:`MORE_BANKS_${t}_${a}`,bankName:a,bankCode:t,enabled:o,onClick:n})})))}function GC(e){const{isFrictionPage:t}=e,a=Object(i.useMemo)(()=>Ao(e),[e]),n=Object(i.useMemo)(()=>ko(e.paymentData),[e.paymentData]),o=Object(i.useCallback)(t=>{t.preventDefault(),e.paymentActions.moreBanksActions.onClick()},[e.paymentActions.moreBanksActions]),r=Object(i.useMemo)(()=>Ke(e.netBankingList)||0===e.netBankingList.length,[e.netBankingList]),s=Object(i.useMemo)(()=>n&&!e.isPreferredGroup&&!e.showMoreBanksList&&!r,[n,r,e.isPreferredGroup,e.showMoreBanksList]),c=Object(i.useMemo)(()=>n&&e.showMoreBanksList&&!r,[n,r,e.showMoreBanksList]),u=Object(i.useMemo)(()=>xo(e.paymentData),[e.paymentData]);return Ke(a)?null:l.a.createElement(Ko,{isFrictionPage:t},!e.hideGroupTitle&&l.a.createElement(zo,{title:vo(e.paymentData),disableMessage:u,"data-testid":zt,groupIcon:wo(e.paymentData)}),u&&t&&l.a.createElement("div",{className:"PaymentGroup-v4_paymentGroupDisableMsgContainer_cOBZyMUg"},u),t&&l.a.createElement(zo,{title:In.POPULAR_BANKS,"data-testid":"popular-banks"}),l.a.createElement("div",{className:d()(Yo,{"PaymentGroup-v4_paymentGroupContainerWithSibling_Zi8hJzmP":s})},l.a.createElement("div",{className:d()({"PaymentGroup-v4_paymentGroupContainerNetBanking_4GOzVxgi":!0,"PaymentGroup-v4_paymentGroupContainerNetBankingRow_SsvLX2Hq":!t})},a.map(a=>{const o=To(a);return l.a.createElement(w_,{key:a.displayName,id:o,methodData:a,isPaymentGroupEnabled:n,paymentActions:e.paymentActions,selected:fo(e.selectedPaymentId,o),paymentGroupMeta:e.paymentData.meta,paymentAmount:e.paymentAmount,showListView:t})}))),s&&l.a.createElement("div",{className:"PaymentGroup-v4_paymentGroupContainerNetBankingMoreBanks_0wSx7xET",onClick:o,"data-testid":ia},l.a.createElement(m.Text,{variant:"V2.body3.neutral.bold",color:"primary",className:"PaymentGroup-v4_paymentGroupContainerNetBankingMoreBanksText_2OsuwQNq"},In.MORE_BANKS),l.a.createElement(pu,null)),l.a.createElement("div",{className:d()({[Go]:!0})},c&&!Ke(e.netBankingList)&&l.a.createElement(zo,{title:In.ALL_BANKS,"data-testid":"all-banks"}),c&&!Ke(e.netBankingList)&&l.a.createElement(HC,{paymentInProgress:e.paymentInProgress,paymentGroupData:e.paymentData,netBankingList:e.netBankingList,onPay:e.paymentActions.onPay})))}function YC(e){const{isFrictionPage:t,paymentAmount:a}=e,n=Object(i.useMemo)(()=>Ao(e),[e]),o=Object(i.useMemo)(()=>ko(e.paymentData),[e.paymentData]);return Ke(n)?null:l.a.createElement(Ko,{isFrictionPage:t},!e.hideGroupTitle&&l.a.createElement(zo,{title:vo(e.paymentData),disableMessage:xo(e.paymentData),"data-testid":Ft,groupIcon:wo(e.paymentData)}),l.a.createElement("div",{className:Yo},n.map(t=>{const n=To(t);return l.a.createElement(D_,{key:t.displayName,id:n,methodData:t,paymentAmount:a,paymentActions:e.paymentActions,isPaymentGroupEnabled:o,selected:fo(e.selectedPaymentId,n)})})))}var WC;Ho(".Message_messageWrapper_FNqGm5-S{display:flex;align-items:center}.Message_message_ukmyCTSQ{font-size:.86rem;color:#93959f;font-weight:200;word-wrap:break-word}.Message_messageAlert_H9AKvL-j{color:#fa4a5b}"),function(e){e.INFO="info",e.ALERT="alert"}(WC||(WC={}));var FC=Object(i.memo)((function(e){if(Ke(e.message))return null;const t=d()("Message_messageWrapper_FNqGm5-S",e.wrapperClass),a=d()("Message_message_ukmyCTSQ",{"Message_messageAlert_H9AKvL-j":e.type===WC.ALERT},e.className);return l.a.createElement(s.c,{as:"div",className:t},l.a.createElement("div",{className:a,"data-testid":e["data-testid"]},e.message))})),VC=Object(i.memo)((function(e){const{size:t=13,className:a}=e;return l.a.createElement("div",{className:a},l.a.createElement("svg",Object.assign({width:t,height:t,viewBox:"0 0 13 13",fill:"#787A86",xmlns:"http://www.w3.org/2000/svg"},e),l.a.createElement("path",{clipRule:"evenodd",d:"M6.5 12a5.5 5.5 0 100-11 5.5 5.5 0 000 11z",stroke:"#787A86",strokeWidth:.825}),l.a.createElement("path",{d:"M5.807 9.415v.055h1.38V5.73h-1.38v3.685zm.69-4.433a.777.777 0 00.781-.781.777.777 0 00-.78-.781.777.777 0 00-.782.781c0 .435.347.781.781.781z",fill:"#FFF",stroke:"#FFF",strokeWidth:.11})))}));const KC=p.default.div(({$isDisabled:e})=>({padding:"17px 0",margin:"0 16px",overflow:"hidden",opacity:e?.7:1,"&:last-child":{borderBottom:"none"}})),zC=p.default.div(()=>({display:"flex",width:"100%"})),$C=p.default.div(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",alignSelf:"flex-start",width:"36px",height:"24px",borderRadius:"6px",border:"1px solid "+e.colors[e.colorMode].border_Secondary})),XC=Object(p.default)(y.GenericIcon)(({$isDisabled:e})=>({filter:e?"grayscale(100%)":"none",position:"relative"})),JC=p.default.div(()=>({marginTop:"2px",marginLeft:"0"})),ZC=p.default.div(({theme:e})=>({display:"flex",alignItems:"center",border:"1px solid "+e.colors[e.colorMode].divider,borderRadius:"16px",marginTop:"18px",padding:"8px 16px 8px 10px"})),qC=p.default.div(()=>({paddingLeft:"10px"}));var QC=Object(i.memo)((function(e){const t=Po(e.methodData),a=Object(i.useMemo)(()=>Bo(e.methodData,e.isPaymentGroupEnabled),[e.isPaymentGroupEnabled,e.methodData]),{onSelect:n}=e.paymentActions,{displayName:o}=e.methodData,r=Object(i.useCallback)(t=>{t.preventDefault(),a&&n(e.methodData)},[n,e.methodData,a]),s=Object(i.useMemo)(()=>{return t=e.methodData,Xn(t)?Aa:ha;var t},[e.methodData]);return l.a.createElement(KC,{$isDisabled:!a,onClick:r,"data-testid":s.CONTAINER},l.a.createElement(zC,null,l.a.createElement($C,null,l.a.createElement(XC,{$isDisabled:!a,"data-testid":s.ICON,Icon:P.a,fillColor:"primary"})),l.a.createElement(cr,{displayName:o,promoMsg:t,enabled:a,"data-testid":s.NAME,color:"primary"},!a&&l.a.createElement(JC,null,l.a.createElement(Ar,{message:e.methodData.meta.disableMessage,"data-testid":s.DISABLE_MESSAGE})))),e.nonTokenizeCardRemovalMsg&&l.a.createElement(ZC,{"data-testid":s.NON_TOKENIZE_CARD_REMOVAL_MSG},l.a.createElement(VC,{size:16}),l.a.createElement(qC,null,l.a.createElement(FC,{message:e.nonTokenizeCardRemovalMsg,type:WC.INFO}))))}));function eb(e){const{isFrictionPage:t,groupTitle:a,payCtaText:n,payCtaClassName:o}=e,r=Object(i.useMemo)(()=>Ao(e),[e]),s=Object(i.useMemo)(()=>ko(e.paymentData),[e.paymentData]),[c,u]=Object(i.useMemo)(()=>Xn(e.paymentData)?[Wt,ra]:[Yt,oa],[e.paymentData]),m=null!=a?a:vo(e.paymentData),p=l.a.useMemo(()=>d()(Yo,e.cardGroupCotainerClassName),[e.cardGroupCotainerClassName]);return Ke(r)?null:l.a.createElement(Ko,{isFrictionPage:t},!e.hideGroupTitle&&l.a.createElement(zo,{title:m,bannerMessage:(_=e.paymentData,null!==(C=null===(E=_.meta)||void 0===E?void 0:E.bannerMessage)&&void 0!==C?C:""),disableMessage:xo(e.paymentData),"data-testid":c,bannerMessageTestId:u,groupIcon:wo(e.paymentData)}),l.a.createElement("div",{className:p},r.map(t=>{var a,r,i;const c=To(t);return Vn(t)||zn(t)?l.a.createElement(QC,{key:t.displayName,id:c,methodData:t,paymentActions:e.paymentActions,selected:fo(e.selectedPaymentId,c),options:e.options,isPaymentGroupEnabled:s,nonTokenizeCardRemovalMsg:null===(a=e.juspayMeta)||void 0===a?void 0:a.nonTokenizeCardRemovalMsg}):l.a.createElement(Mu,{key:t.displayName,id:c,methodData:t,paymentActions:e.paymentActions,isPaymentGroupEnabled:s,selected:fo(e.selectedPaymentId,c),paymentAmount:e.paymentAmount,juspayTokenizationMeta:null===(r=e.juspayMeta)||void 0===r?void 0:r.tokenizationMeta,oneClickMeta:null===(i=e.juspayMeta)||void 0===i?void 0:i.oneClickMeta,isSdkAvailable:e.isSdkAvailable,oneClickEvents:e.oneClickEvents,isOneClickPromotionFlow:e.isOneClickPromotionFlow,payCtaText:n,payCtaClassName:o})})));var _,E,C}function tb(e){const{isFrictionPage:t}=e,a=Object(i.useMemo)(()=>Ao(e),[e]),n=Object(i.useMemo)(()=>ko(e.paymentData),[e.paymentData]);return Ke(a)?null:l.a.createElement(Ko,{isFrictionPage:t},!e.hideGroupTitle&&l.a.createElement(zo,{title:vo(e.paymentData),disableMessage:xo(e.paymentData),"data-testid":Qt,groupIcon:wo(e.paymentData)}),l.a.createElement("div",{className:Yo},a.map(t=>{var a;const o=To(t);return l.a.createElement(uC,{key:t.displayName,id:o,methodData:t,paymentActions:e.paymentActions,user:e.user,isPaymentGroupEnabled:n,paymentAmount:null!==(a=t.payableAmount)&&void 0!==a?a:e.paymentAmount,selected:fo(e.selectedPaymentId,o)})})))}function ab(e){const{isFrictionPage:t}=e,a=Object(i.useMemo)(()=>Ao(e),[e]),n=Object(i.useMemo)(()=>ko(e.paymentData),[e.paymentData]);return Ke(a)?null:l.a.createElement(Ko,{isFrictionPage:t},!e.hideGroupTitle&&l.a.createElement(zo,{title:vo(e.paymentData),disableMessage:xo(e.paymentData),"data-testid":Xt,groupIcon:wo(e.paymentData)}),l.a.createElement("div",{className:Yo},a.map(t=>{const a=To(t);return l.a.createElement(eE,{key:t.displayName,id:a,paymentAmount:e.paymentAmount,user:e.user,methodData:t,isPaymentGroupEnabled:n,paymentActions:e.paymentActions,selected:fo(e.selectedPaymentId,a)})})))}const nb=p.default.div(()=>({display:"flex",alignItems:"center"})),ob=p.default.div(({theme:e,$isDisabled:t})=>({padding:"18px 16px",position:"relative",overflow:"hidden",transform:"translateZ(0)",opacity:t?.7:1,"&::after":{content:'""',position:"absolute",bottom:0,left:0,right:0,borderTop:"1px dashed "+e.colors[e.colorMode].border_Secondary},"&:last-child::after":{display:"none"}})),rb=p.default.div(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",alignSelf:"flex-start",width:"36px",height:"24px",borderRadius:"6px",border:"1px solid "+e.colors[e.colorMode].border_Secondary})),ib=Object(p.default)(y.GenericIcon)(({$isDisabled:e})=>({filter:e?"grayscale(100%)":"none",position:"relative"})),lb=p.default.div(({theme:e})=>({marginTop:e.spacing.xSmall}));var sb=Object(i.memo)((function(e){const t=Po(e.methodData),a=Object(i.useMemo)(()=>Bo(e.methodData,e.isPaymentGroupEnabled),[e.isPaymentGroupEnabled,e.methodData]),{onSelectAddNewVpa:n}=e.paymentActions,{onClickAddNew:o,onImpressionAddNew:r}=e;Object(s.Db)(()=>{r()});const c=Object(i.useCallback)(t=>{o(String(e.position)),t.preventDefault(),a&&n(e.methodData.name)},[n,e.methodData.name,a,e.position,o]);return l.a.createElement(ob,{$isDisabled:!a},l.a.createElement(nb,{onClick:c,"data-testid":"pm_nu_container"},l.a.createElement(rb,null,l.a.createElement(ib,{$isDisabled:!a,"data-testid":"pm_nu_icon",Icon:P.a,fillColor:"primary"})),l.a.createElement(cr,{displayName:"Add New UPI ID",promoMsg:t,enabled:a,"data-testid":"pm_nu_name",color:"primary"},!a&&l.a.createElement(lb,null,l.a.createElement(Ar,{message:e.methodData.meta.disableMessage,"data-testid":"pm_nu_disable_msg"})))))})),cb=Object(i.memo)((function(e){const{methodData:t,paymentActions:a,isPaymentGroupEnabled:n,onClickInAppOnBoarding:o}=e,r=Object(i.useMemo)(()=>Bo(t,n),[n,t]),s=Object(i.useCallback)(()=>{o&&o(),r&&a.onSelect(e.methodData)},[r,a,e.methodData,o]);return l.a.createElement(k_,{methodData:e.methodData,isMethodEnabled:r,onClick:s,onPayButtonClick:()=>{},testIds:Pa,selected:!1,payCtaMsg:"",showArrow:!0})}));const db="View all UPI options";var ub=Object(i.memo)((function(e){const{paymentData:t,availableUpiIntentMethods:a,upiIntentMethodFetchInProgress:n,hideGroupTitle:o,selectedPaymentId:r,paymentActions:c,paymentAmount:u,isFrictionPage:m,onClickViewAllBtn:p,onImpressionViewAll:_,onClickAddNew:E,onImpressionAddNew:C,onClickPaymentGroups:b,onClickInAppOnBoarding:y,onImpressionPaymentGroups:g,onImpressionPaymentGroupsExpanded:O}=e,{inAppUpiMethod:h,upiCollectMethods:A,upiIntentMethods:f}=(e=>{const t=Ao(e);return{inAppUpiMethod:t.filter(_o),upiIntentMethods:t.filter(Oo),upiCollectMethods:t.filter(ho)}})(e),v=Object(i.useMemo)(()=>ko(t),[t]),[T,I]=Object(i.useState)((null==t?void 0:t.foldSize)||2),[S]=od(s.M.THIRD_PARTY_UPI_INTENT_APPS_DETAILS,null),N=Object(i.useRef)(!1),R=(e=>{const t=s.T.getItem(s.M.THIRD_PARTY_UPI_INTENT_APPS_DETAILS);if(Ke(e)||Ke(t))return e;const a=e.findIndex(e=>"third.party"===e.name);if(-1===a)return e;const n=((e,t)=>{const a=e.upiAppsDetails.map(e=>e.packageName),n=t.map(e=>e.name);return a.filter(e=>!n.includes(e))})(t,e).map(n=>{var o,r;const i=null===(o=t)||void 0===o?void 0:o.upiAppsDetails.find(e=>(null==e?void 0:e.packageName)===n);if(!Ke(i))return Object.assign(Object.assign({},e[a]),{name:null==i?void 0:i.packageName,upiAppName:null==i?void 0:i.displayName,displayName:null==i?void 0:i.displayName,isThirdPartyIntentApp:!0,meta:Object.assign(Object.assign({},null===(r=e[a])||void 0===r?void 0:r.meta),{iconUrl:null==i?void 0:i.iconUrl,ctaMsg:"Pay Via "+(null==i?void 0:i.displayName)})})});return e.splice(a,1),e.push(...n),e})(f),P=((e,t)=>{if(Ke(s.T.getItem(s.M.THIRD_PARTY_UPI_INTENT_APPS_DETAILS)))return[...e,...t];const{enabledIntentMethods:a,disabledIntentMethods:n}=e.reduce((e,t)=>(t.enabled?e.enabledIntentMethods.push(t):e.disabledIntentMethods.push(t),e),{enabledIntentMethods:[],disabledIntentMethods:[]}),{enabledCollectMethods:o,disabledCollectMethods:r}=t.reduce((e,t)=>(t.enabled?e.enabledCollectMethods.push(t):e.disabledCollectMethods.push(t),e),{enabledCollectMethods:[],disabledCollectMethods:[]});return[...a,...o,...n,...r]})(R&&R.filter(e=>(a||[]).includes(e.name)),A),D=Object(i.useMemo)(()=>-1!==(null==P?void 0:P.findIndex(e=>go(e))),[P]),L=Object(i.useMemo)(()=>!Ke(P)&&(null==P?void 0:P.findIndex(e=>go(e)))===P.length-1,[P]),k=Ke(S)?D:L,x=Object(i.useMemo)(()=>{const e=k&&T+1===(null==P?void 0:P.length)?T+1:T,t=null==P?void 0:P.slice(0,e);if((null==t?void 0:t.length)<T){const e=null==t?void 0:t.map(e=>{var t;return null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.appName});g(null==e?void 0:e.join(","))}return h.length>0?[h[0],...t]:t},[k,T,P,h,g]),w=Object(i.useMemo)(()=>{const e=k?(null==P?void 0:P.length)-1:null==P?void 0:P.length;return T<e},[T,null==P?void 0:P.length,k]),M=Object(i.useCallback)(()=>{p(db);const e=null==P?void 0:P.map(e=>{var t;return null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.appName});O(null==e?void 0:e.join(",")),I(null==P?void 0:P.length)},[p,O,P]);return Object(i.useEffect)(()=>{if(!Ke(S)&&!n&&!N.current){const e=null==P?void 0:P.filter(e=>e.enabled);I(Math.min(e.length||T,T)),N.current=!0}},[n,P,T,S]),Ke(P)&&Ke(h)?null:l.a.createElement(Ko,{isFrictionPage:m},!o&&l.a.createElement(zo,{title:vo(t),disableMessage:xo(t),"data-testid":qt,capitalizeTitle:!1,groupIcon:wo(t)}),l.a.createElement("div",{className:Yo},!Ke(x)&&l.a.createElement("div",{className:d()(Wo,{[Vo]:!x.length,[Fo]:!0})},x.map((e,t)=>{const a=To(e);return _o(e)?l.a.createElement(cb,{key:t,id:a,position:t,methodData:e,isPaymentGroupEnabled:v,paymentActions:c,paymentAmount:u,onClickInAppOnBoarding:y}):go(e)?l.a.createElement(sb,{key:t,id:a,position:t,isPaymentGroupEnabled:v,selected:fo(r,a),methodData:e,paymentActions:c,onClickAddNew:E,onImpressionAddNew:C}):l.a.createElement(M_,{key:t,id:a,position:t,selected:fo(r,a),methodData:e,isPaymentGroupEnabled:v,paymentActions:c,paymentAmount:u,onClickPaymentGroups:b,isThirdPartyIntentApp:!!e.isThirdPartyIntentApp})})),w&&l.a.createElement(RC,{handleClick:M,dataTestId:da,text:db,icon:!0,onImpressionViewAll:_})))}));const mb=p.default.div(()=>({display:"flex",alignItems:"center"})),pb=p.default.div(({theme:e,$isDisabled:t})=>({padding:"18px 16px",position:"relative",overflow:"hidden",transform:"translateZ(0)",opacity:t?.7:1,"&::after":{content:'""',position:"absolute",bottom:0,left:0,right:0,borderTop:"1px dashed "+e.colors[e.colorMode].border_Secondary},"&:last-child::after":{display:"none"}})),_b=p.default.div(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",alignSelf:"flex-start",width:"36px",height:"24px",borderRadius:"6px",border:"1px solid "+e.colors[e.colorMode].border_Secondary})),Eb=Object(p.default)(y.GenericIcon)(({$isDisabled:e})=>({filter:e?"grayscale(100%)":"none",position:"relative"})),Cb=p.default.div(()=>({marginTop:"9px"}));var bb=Object(i.memo)((function(e){const t=Po(e.methodData),a=Object(i.useMemo)(()=>Bo(e.methodData,e.isPaymentGroupEnabled),[e.isPaymentGroupEnabled,e.methodData]),{onSelect:n}=e.paymentActions,{onClickAddNew:o,onImpressionAddNew:r}=e;Object(s.Db)(()=>{"function"==typeof r&&r()});const c=Object(i.useCallback)(t=>{"function"==typeof o&&o(String(e.position)),t.preventDefault(),a&&n(e.methodData)},[o,e.position,e.methodData,a,n]);return l.a.createElement(pb,{$isDisabled:!a},l.a.createElement(mb,{onClick:c,"data-testid":"pm_new_app_upi_container"},l.a.createElement(_b,null,l.a.createElement(Eb,{$isDisabled:!a,"data-testid":"pm_new_app_upi_icon",Icon:P.a,fillColor:"primary"})),l.a.createElement(cr,{displayName:e.methodData.displayName,promoMsg:t,enabled:a,"data-testid":"pm_new_app_upi_name",color:"primary"},!a&&l.a.createElement(Cb,null,l.a.createElement(Ar,{message:e.methodData.meta.disableMessage,"data-testid":"pm_new_app_upi_disable_msg"})))))}));var yb=Object(i.memo)((function(e){const{paymentData:t,hideGroupTitle:a,selectedPaymentId:n,paymentActions:o,paymentAmount:r,isFrictionPage:s}=e,c=Object(i.useMemo)(()=>Ao(e),[e]),u=Object(i.useMemo)(()=>ko(t),[t]),[m,p]=Object(i.useState)((null==t?void 0:t.foldSize)||2),_=Object(i.useMemo)(()=>null==c?void 0:c.some(e=>Eo(e)),[c]),E=Object(i.useMemo)(()=>{const e=_&&m+1===(null==c?void 0:c.length)?m+1:m;return null==c?void 0:c.slice(0,e)},[_,m,c]),C=Object(i.useMemo)(()=>{const e=_?(null==c?void 0:c.length)-1:null==c?void 0:c.length;return m<e},[m,_,null==c?void 0:c.length]),b=Object(i.useCallback)(()=>{p(null==c?void 0:c.length)},[c]);return Ke(c)?null:l.a.createElement(Ko,{isFrictionPage:s},!a&&l.a.createElement(zo,{title:vo(t),disableMessage:xo(t),"data-testid":ta,capitalizeTitle:!1,groupIcon:wo(e.paymentData),groupIconPosition:Mo(e.paymentData),groupSubtext:jo(e.paymentData)}),l.a.createElement("div",{className:Yo},!Ke(E)&&l.a.createElement("div",{className:d()(Wo,{[Vo]:!E.length,[Fo]:!0})},E.map((e,t)=>{const a=To(e);return Eo(e)?l.a.createElement(bb,{key:t,id:a,position:t,isPaymentGroupEnabled:u,selected:fo(n,a),methodData:e,paymentActions:o}):l.a.createElement(AC,{key:t,id:a,position:t,selected:fo(n,a),methodData:e,isPaymentGroupEnabled:u,paymentActions:o,paymentAmount:r})})),C&&l.a.createElement(RC,{handleClick:b,dataTestId:ua,text:"View all UPI options",icon:!0})))}));function gb(e){const{iconUrl:t=Pn}=e;return l.a.createElement("img",{crossOrigin:"anonymous",src:Object(s.nb)(t),width:32,height:32})}Ho(".OtherPayments_content_SG-ByQGs,.OtherPayments_contentIconContainer_c6j3ZUzp{display:flex;align-items:center}.OtherPayments_contentIconContainer_c6j3ZUzp{justify-content:center}.OtherPayments_content_SG-ByQGs{background:#fff;padding:19px 16px;margin:16px;box-shadow:0 1px 16px rgba(0,0,0,.05);border-radius:16px}.OtherPayments_contentTitle_ve6SOb-g{font-size:16px;line-height:19px;font-weight:400;letter-spacing:-.3px;color:rgba(2,6,12,.7490196078)}.OtherPayments_contentInfo_FmYKTcH2{font-size:13px;line-height:16px;font-weight:200;letter-spacing:-.3px;margin-top:2px;color:rgba(2,6,12,.6)}.OtherPayments_contentArrowIcon_wei7aszE{margin-left:4px;stroke:#babbc0}.OtherPayments_contentIcon_iT3AZEuU{margin:auto}.OtherPayments_contentIconContainer_c6j3ZUzp{width:40px;height:36px;background:#fff;border:1px solid #e2e2e7;border-radius:6px;display:flex;align-self:flex-start}.OtherPayments_contentContainer_P2wYdzGS{flex:1;padding-left:15px}");var Ob=Object(i.memo)((function(e){const{hideTitle:t,heading:a,couponCode:n,rewardName:o,iconUrl:r,containerClassName:c}=e,u=Object(i.useMemo)(()=>an(o)?an(n)?void 0:Object(s.hb)(In.COUPON_X_NOT_APPLICABLE_ON_OTHER_METHODS,n):Object(s.hb)(In.X_REWARD_WONT_BE_APPLICABLE_ON_OTHER_METHODS,o),[n,o]),m=d()(c,"OtherPayments_content_SG-ByQGs");return l.a.createElement(Ko,null,!t&&l.a.createElement(zo,{title:In.OTHER_PAYMENT_METHODS,"data-testid":$t}),l.a.createElement("div",{className:m,onClick:e.onClick},l.a.createElement("div",{className:"OtherPayments_contentIconContainer_c6j3ZUzp"},l.a.createElement(gb,{iconUrl:r})),l.a.createElement("div",{className:"OtherPayments_contentContainer_P2wYdzGS"},l.a.createElement("div",{className:"OtherPayments_contentTitle_ve6SOb-g","data-testid":la},null!=a?a:In.PAY_USING_OTHER),!an(u)&&l.a.createElement("div",{className:"OtherPayments_contentInfo_FmYKTcH2","data-testid":sa},u)),l.a.createElement(pu,{className:"OtherPayments_contentArrowIcon_wei7aszE"})))})),hb=Object(i.memo)((function(e){return l.a.createElement(Ob,Object.assign({},e))})),Ab=Object(i.memo)((function(e){const t=Object(i.useMemo)(()=>Ao(e),[e]),a=Object(i.useMemo)(()=>ko(e.paymentData),[e.paymentData]);return Ke(t)?null:l.a.createElement(Ko,null,!e.hideGroupTitle&&l.a.createElement(zo,{title:vo(e.paymentData),disableMessage:xo(e.paymentData),"data-testid":Jt,groupIcon:wo(e.paymentData)}),l.a.createElement("div",{className:Yo},t.map(t=>{const n=To(t);return l.a.createElement(qE,{id:n,key:t.name,methodData:t,paymentActions:e.paymentActions,paymentAmount:e.paymentAmount,isPaymentGroupEnabled:a,selected:fo(e.selectedPaymentId,n)})})))})),fb=Object(i.memo)((function(e){const t=Ao(e),a=ko(e.paymentData);return Ke(t)?null:l.a.createElement(Ko,null,!e.hideGroupTitle&&l.a.createElement(zo,{title:vo(e.paymentData),disableMessage:xo(e.paymentData),"data-testid":Zt,groupIcon:wo(e.paymentData)}),l.a.createElement("div",{className:Yo},t.map(t=>{const n=To(t);return l.a.createElement(QE,{id:n,key:t.name,methodData:t,paymentActions:e.paymentActions,paymentAmount:e.paymentAmount,isPaymentGroupEnabled:a,selected:fo(e.selectedPaymentId,n),onFlipkartToolTipShow:e.onFlipkartToolTipShow})})))}));function vb(e){const{isFrictionPage:t}=e,a=Object(i.useMemo)(()=>Ao(e),[e]),n=Object(i.useMemo)(()=>ko(e.paymentData),[e.paymentData]);return Ke(a)?null:l.a.createElement(Ko,{isFrictionPage:t},!e.hideGroupTitle&&l.a.createElement(zo,{title:vo(e.paymentData),disableMessage:xo(e.paymentData),"data-testid":Vt,groupIcon:wo(e.paymentData)}),l.a.createElement("div",{className:Yo},a.map(t=>{const a=To(t);return l.a.createElement(nE,{key:t.displayName,id:a,methodData:t,isPaymentGroupEnabled:n,paymentActions:e.paymentActions,selected:fo(e.selectedPaymentId,a)})})))}var Tb="PaymentOption-v4_containerIconParent_EnBLsdK0";Ho(".PaymentOption-v4_container_P6OI6mk1,.PaymentOption-v4_containerArrowIconWrapper_sBkDyQv-{display:flex}.PaymentOption-v4_container_P6OI6mk1,.PaymentOption-v4_containerArrowIconWrapper_sBkDyQv-{align-items:center}.PaymentOption-v4_container_P6OI6mk1{padding:18px 16px;overflow:hidden}.PaymentOption-v4_container_P6OI6mk1:last-child{border-bottom:none}.PaymentOption-v4_containerBorder_z9xLmonW{border-bottom:1px dashed #e2e2e7}.PaymentOption-v4_containerDisabled_ZjDwkZ2a{opacity:.5}.PaymentOption-v4_containerIconParent_EnBLsdK0{padding:7px;align-self:center;border:1px solid #e2e2e7;border-radius:6px;width:36px;height:36px}.PaymentOption-v4_containerIconWithoutUrl_IrVilNrt{height:24px;width:24px;border-radius:50%;background-color:#f4f4f5}.PaymentOption-v4_containerIconWithUrl_Wa214LEX{max-width:100%;max-height:100%;border-radius:unset}.PaymentOption-v4_containerText_PmIDtUBB{font-size:16px;line-height:19px;font-weight:400;letter-spacing:-.3px;color:rgba(2,6,12,.7490196078);width:-webkit-max-content;width:max-content}.PaymentOption-v4_containerTextWrapper_qAzJlNAj{flex:1;justify-content:flex-start;align-items:baseline;padding:0 16px;overflow:hidden;outline:0}.PaymentOption-v4_containerSubtext_H8PhgKId{font-size:13px;line-height:16px;font-weight:200;letter-spacing:-.3px;flex:1;color:rgba(2,6,12,.6);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:2px}.PaymentOption-v4_containerArrowIcon_y49T-0BZ{stroke:#babbc0;height:11px;width:8px}");var Ib=Object(i.memo)((function(e){const{groupData:t,onViewEnter:a,onClick:n,otherProps:o,isLastElement:r,useMethodForDisplayName:c=!1}=e,u=Object(i.useMemo)(()=>{return null!=(null===(a=(e=t).meta)||void 0===a?void 0:a.iconUrl)?Tn(e.meta.iconUrl):"";var e,a},[t]),m=Object(i.useMemo)(()=>t.displayName,[t]),p=Object(i.useMemo)(()=>{var e;return null===(e=null==t?void 0:t.paymentMethods[0])||void 0===e?void 0:e.displayName},[null==t?void 0:t.paymentMethods]),_=Object(i.useMemo)(()=>t.groupName.toUpperCase(),[t]),E=Object(i.useMemo)(()=>ko(t),[t]),C=Object(i.useMemo)(()=>E?((e,t)=>{var a,n;return yC(e)?"LINKED"!==(null==t?void 0:t.nativeUpiLinkStatus)?"Set up your Swiggy UPI ID":"":null!==(n=null===(a=e.meta)||void 0===a?void 0:a.ctaSubtext)&&void 0!==n?n:""})(t,o):(e=>{var t;const a=xo(e.groupData);return a.length>0?a:yC(e.groupData)&&1===(null===(t=e.otherProps)||void 0===t?void 0:t.nativeUpiFetchStatus)?"Error fetching status details. Try again!":""})(e),[t,E,o,e]),b=Object(i.useMemo)(()=>d()("PaymentOption-v4_container_P6OI6mk1",{"PaymentOption-v4_containerDisabled_ZjDwkZ2a":!E}),[E]),{container:y,header:g,subtext:O,icon:h}=Object(i.useMemo)(()=>(e=>{const t=_a[e]||"other";return{container:"pg_mo_"+t,header:`pg_mo_${t}_header`,subtext:`pg_mo_${t}_subtext`,icon:`pg_mo_${t}_icon`}})(_),[_]),A=Object(i.useCallback)(()=>{a&&a(_)},[_,a]);let f;const v=Object(i.useCallback)(()=>{E&&n(t)},[t,E,n]);f=ze(u)?{src:u,width:24,imgClassName:"PaymentOption-v4_containerIconWithUrl_Wa214LEX",parentClassName:Tb,"data-testid":h}:{className:"PaymentOption-v4_containerIconWithoutUrl_IrVilNrt",parentClassName:Tb,"data-testid":h};const T=Object(i.useMemo)(()=>d()({"PaymentOption-v4_containerBorder_z9xLmonW":!r}),[r]);return l.a.createElement(s.k,{onViewEnter:A,className:T,onClick:v,"data-testid":y},l.a.createElement("div",{className:b},l.a.createElement(Jo,Object.assign({},f)),l.a.createElement("div",{className:"PaymentOption-v4_containerTextWrapper_qAzJlNAj",role:"button",tabIndex:0,"aria-label":`${m}. ${ze(C)?C:""}`},l.a.createElement(s.c,{as:"div",className:"PaymentOption-v4_containerText_PmIDtUBB","data-testid":g},c?p:m),ze(C)&&l.a.createElement(s.c,{as:"div",className:"PaymentOption-v4_containerSubtext_H8PhgKId","data-testid":O},C)),l.a.createElement(s.c,{as:"div",className:"PaymentOption-v4_containerArrowIconWrapper_sBkDyQv-"},l.a.createElement(pu,{className:"PaymentOption-v4_containerArrowIcon_y49T-0BZ"}))))})),Sb=Object(i.memo)((function(e){const t=Object(i.useMemo)(()=>e.title,[e]),a=Object(i.useMemo)(()=>{return null!==(t=e.paymentGroups)&&void 0!==t?t:[];var t},[e]),n=null==t?"PaymentGroup-v4_paymentGroupWithNoTitle_PCri1L9H":void 0;return l.a.createElement(Ko,{className:n},null!=t&&l.a.createElement(zo,{title:t,"data-testid":Kt}),l.a.createElement("div",{className:Yo},a.map((t,n)=>{const o=n===(null==a?void 0:a.length)-1;return l.a.createElement(Ib,{key:t.groupName,groupData:t,onClick:e.onOptionClick,onViewEnter:e.onViewEnter,otherProps:e.otherProps,isLastElement:o})})))}));function Nb(e){const t=Object(i.useMemo)(()=>Ao(e),[e]),a=Object(i.useMemo)(()=>ko(e.paymentData),[e.paymentData]);return Ke(t)?null:l.a.createElement(Ko,null,!e.hideGroupTitle&&l.a.createElement(zo,{title:vo(e.paymentData),disableMessage:xo(e.paymentData),"data-testid":ea,groupIcon:wo(e.paymentData)}),l.a.createElement("div",{className:Yo},t.map(t=>{const n=To(t);return l.a.createElement(_C,{key:t.displayName,id:n,methodData:t,paymentActions:e.paymentActions,isPaymentGroupEnabled:a,selected:fo(e.selectedPaymentId,n),bannerText:e.bannerText,isEligible:e.isEligible,isSdkAvailable:e.isSdkAvailable,isOfferLoading:e.isOfferLoading})})))}var Rb=Object(i.memo)((function(e){const{paymentData:t,hideGroupTitle:a,isFrictionPage:n}=e,o=Object(i.useMemo)(()=>Ao(e),[e]),r=Object(i.useCallback)(()=>{"function"==typeof e.onPaymentGroupClick&&e.onPaymentGroupClick(t)},[t,e]);return Ke(o)?null:l.a.createElement(Ko,{isFrictionPage:n},!a&&l.a.createElement(zo,{title:vo(t),disableMessage:xo(t),"data-testid":aa,capitalizeTitle:!1,groupIcon:wo(e.paymentData),groupIconPosition:Mo(e.paymentData),groupSubtext:jo(e.paymentData)}),l.a.createElement("div",{className:Yo},l.a.createElement(Ib,{key:t.groupName,groupData:t,onClick:r,isLastElement:!0,useMethodForDisplayName:!0})))}));Ho('@charset "UTF-8";.SplitPay-v4_splitPayBalanceContainer_jtTb2Tyi{display:flex;align-items:center}.SplitPay-v4_splitPay_ECmEAKtp{display:flex;align-items:flex-start;padding:20px 0}.SplitPay-v4_splitPayCenter_D0XPNQ3v{align-items:center}.SplitPay-v4_splitPayContent_ghV06b-n{flex:1;padding:0 12px;text-overflow:ellipsis;overflow:hidden}.SplitPay-v4_splitPayContentOnL1_3anuDzub{padding:0 16px}.SplitPay-v4_splitPayTitle_Qgf8JWjg{overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;font-size:16px;line-height:19px;letter-spacing:-.3px;color:rgba(2,6,12,.7490196078);text-overflow:ellipsis}.SplitPay-v4_splitPayTitle_Qgf8JWjg,.SplitPay-v4_splitPayTitleSelected_97sXEFkt{font-weight:400}.SplitPay-v4_splitPaySubtitle_-dFRMz9D,.SplitPay-v4_splitPayTitleDisabled_EW1qc1pJ{color:rgba(2,6,12,.6)}.SplitPay-v4_splitPaySubtitle_-dFRMz9D{overflow:hidden;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;font-size:13px;line-height:16px;font-weight:200;letter-spacing:-.3px;text-overflow:ellipsis;margin-top:2px}.SplitPay-v4_splitPaySubtitleDisabled_6ajtSPs0{color:#e53554}.SplitPay-v4_splitPayBalance_g-Xns96J{margin-left:5px;font-size:.93rem;margin-right:10px;color:#36393e}.SplitPay-v4_splitPayBalance_g-Xns96J:before{content:"₹";margin-right:.1rem}.SplitPay-v4_paymentOffer_xyJm5-iA{display:flex;align-items:flex-start;padding:14px 0}.SplitPay-v4_paymentOfferCallout_wmpOW-ic{font-size:14px;line-height:17px;font-weight:200;letter-spacing:-.3px;color:rgba(2,6,12,.6);margin:2px 0 0 8px}.SplitPay-v4_paymentOfferImage_iS4tHyoQ{height:32px;margin:2px 0}');var Pb=Object(i.memo)(({isSelected:e,splitPayData:t,isDisabled:a,onClick:n,inlineMessage:o,paymentPageOfferEnabled:r,orderAmount:c,isPrimaryPaymentPage:u=!1})=>{var m,p,_,E;const C=Object(i.useMemo)(()=>d()("SplitPay-v4_splitPayTitle_Qgf8JWjg",{"SplitPay-v4_splitPayTitleSelected_97sXEFkt":e,"SplitPay-v4_splitPayTitleDisabled_EW1qc1pJ":u&&a}),[e,a,u]),b=Object(i.useMemo)(()=>d()("SplitPay-v4_splitPaySubtitle_-dFRMz9D",{"SplitPay-v4_splitPaySubtitleDisabled_6ajtSPs0":u&&a}),[u,a]),y=Object(i.useMemo)(()=>d()("SplitPay-v4_splitPay_ECmEAKtp",{"SplitPay-v4_splitPayCenter_D0XPNQ3v":Ke(o)||!e}),[o,e]),g=Object(i.useMemo)(()=>d()("SplitPay-v4_splitPayContent_ghV06b-n",{"SplitPay-v4_splitPayContentOnL1_3anuDzub":u}),[u]);return r?l.a.createElement("div",{className:"SplitPay-v4_paymentOffer_xyJm5-iA"},l.a.createElement(s.c,{as:"div",className:"SplitPay-v4_paymentOfferImage_iS4tHyoQ"},l.a.createElement("img",{crossOrigin:"anonymous",src:Object(s.nb)(null!==(p=null===(m=null==t?void 0:t.meta)||void 0===m?void 0:m.iconUrl)&&void 0!==p?p:""),width:32})),l.a.createElement("div",{className:"SplitPay-v4_paymentOfferCallout_wmpOW-ic"},Object(s.hb)(In.SWIGGY_PAY_CALLOUT,t.swiggyPayEligibleBalance,c))):l.a.createElement("div",{className:y},l.a.createElement(Jo,{src:Object(s.nb)(null!==(E=null===(_=null==t?void 0:t.meta)||void 0===_?void 0:_.iconUrl)&&void 0!==E?E:"",{grayscale:u&&a}),width:32,poweredByLogo:t.meta.poweredByLogo,poweredByIconAlt:t.meta.poweredBy}),l.a.createElement("div",{className:g},l.a.createElement("div",{className:C},t.title),(e||u)&&l.a.createElement("div",{className:b},o)),!u&&l.a.createElement("div",{className:"SplitPay-v4_splitPayBalanceContainer_jtTb2Tyi"},l.a.createElement("div",{className:"SplitPay-v4_splitPayBalance_g-Xns96J"},t.swiggyPayEligibleBalance),l.a.createElement(cE,{selected:e,isDisabled:a,onClick:n})))});const Db=p.default.div`
    border-bottom: ${e=>"1px dashed "+e.theme.colors[e.theme.colorMode].border_Secondary};
    padding: ${e=>"0 "+e.theme.spacing.medium};
    opacity: 0.7;

    &:last-child {
        border-bottom: none;
    }
`;var Lb=l.a.memo(({paymentMethod:e})=>{var t;return l.a.createElement(Db,{key:e.name},l.a.createElement(Pb,{isSelected:!1,isDisabled:!0,inlineMessage:e.meta.disableMessage,splitPayData:{title:e.displayName,swiggyPayEligibleBalance:"0",meta:{iconUrl:null!==(t=e.meta.iconUrl)&&void 0!==t?t:"",poweredByLogo:e.poweredBy===cn.TWID?Object(s.nb)("portal/m/twid_logo.png",{grayscale:!0}):"",poweredBy:e.poweredBy}},onClick:()=>{},orderAmount:"0",isPrimaryPaymentPage:!0}))});const kb=p.default.div(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",padding:"18px "+e.spacing.medium})),xb=p.default.div(({theme:e})=>({width:e.spacing.xLarge,height:e.spacing.xLarge})),wb=Object(p.default)(y.GenericIcon)(()=>({display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}));var Mb=Object(i.memo)((function(e){const t=Ao(e),a=ko(e.paymentData),[n,o]=Object(i.useState)(e.paymentData.foldSize||Number.MAX_VALUE),r=Object(i.useMemo)(()=>n<t.length,[n,t]),s=Object(i.useMemo)(()=>t.length<n?t:t.slice(0,n),[n,t]),c=Object(i.useCallback)(()=>{o(t.length)},[t.length]);return an(t)?null:l.a.createElement(Ko,null,!e.hideGroupTitle&&l.a.createElement(zo,{title:vo(e.paymentData),disableMessage:xo(e.paymentData),"data-testid":na}),l.a.createElement("div",{className:Yo,"data-testid":ma},s.map(t=>{const n=To(t);return t.paymentCode===oe.FLIPKART_SUPER_COIN?l.a.createElement(QE,{id:n,key:t.name,methodData:t,paymentActions:e.paymentActions,paymentAmount:e.paymentAmount,isPaymentGroupEnabled:a,selected:fo(e.selectedPaymentId,n),onFlipkartToolTipShow:e.onFlipkartToolTipShow}):(e=>e.paymentCode===oe.TWID_REWARD)(t)?l.a.createElement(Lb,{key:t.name,paymentMethod:t}):void 0}),r&&l.a.createElement(kb,{onClick:c,"data-testid":pa},l.a.createElement(m.Text,{variant:"V2.body2.neutral.bold",color:"text_Button_Disabled",dangerouslySetInnerHTML:{__html:In.VIEW_ALL_REWARDS}}),l.a.createElement(xb,null,l.a.createElement(wb,{Icon:N.a,fillColor:"text_Button_Disabled"})))))}));Ho(".PaymentBanner_imageBanner_j-oPzum4,.PaymentBanner_kycBanner_ikghZH0K{display:flex}.PaymentBanner_imageBanner_j-oPzum4{justify-content:center}.PaymentBanner_kycBanner_ikghZH0K{border:0;outline:0;width:calc(100% - 32px);height:92px;justify-content:space-between;margin:16px;padding:16px;color:#fff;background:linear-gradient(90deg,#364168,#552378);border-radius:4px;text-align:left;overflow:hidden;position:relative}.PaymentBanner_kycBannerContent_mlOa8Qhq{width:75%}.PaymentBanner_kycBannerTitle_n431v0gS{font-size:1rem;font-weight:400;margin-bottom:6px}.PaymentBanner_kycBannerDesc_zXmf87Tz{font-size:.86rem;font-weight:400;opacity:.7}.PaymentBanner_kycBannerImage_QF6l1-XN{position:absolute;top:0;right:0;height:92px}.PaymentBanner_imageBanner_j-oPzum4{min-height:80px;margin-top:16px;width:100%;background:none;padding:0 16px}.PaymentBanner_imageBannerImage_JDXAagJg{width:100%;max-width:100%}");const jb={[mn.KYCBANNER]:function(e){const{banner:t,handleClick:a}=e,n=Object(i.useMemo)(()=>{var e;const a=(null!==(e=t.backgroundColor)&&void 0!==e?e:"").split(",");return{background:1===a.length?a[0]:`linear-gradient(to right, ${a[0]}, ${a[1]})`}},[t.backgroundColor]);return l.a.createElement("div",{onClick:a,className:"PaymentBanner_kycBanner_ikghZH0K",style:n,"data-testid":"payment_banner_kyc"},l.a.createElement("div",{className:"PaymentBanner_kycBannerContent_mlOa8Qhq"},l.a.createElement("div",{className:"PaymentBanner_kycBannerTitle_n431v0gS"},t.title),l.a.createElement("div",{className:"PaymentBanner_kycBannerDesc_zXmf87Tz"},t.description)),l.a.createElement("img",{src:Object(s.nb)(t.backgroundImage),className:"PaymentBanner_kycBannerImage_QF6l1-XN",alt:t.title}))},[mn.IMAGEBANNER]:function({handleClick:e,banner:t,containerClassName:a,bannerDimensions:n}){const o=d()("PaymentBanner_imageBanner_j-oPzum4",a),r=null!=n?n:{};return l.a.createElement("div",{onClick:e,className:o,"data-testid":"payment_banner_image"},l.a.createElement("img",Object.assign({src:Object(s.nb)(t.backgroundImage,{width:800}),alt:t.title,className:"PaymentBanner_imageBannerImage_JDXAagJg"},r)))}},Bb=Object(i.memo)((function({banner:e,onClick:t,onViewBanner:a,containerClassName:n,bannerDimensions:o}){const r=Object(i.useCallback)(a=>{a.preventDefault(),t&&e.cta&&t(e.cta.link,e.cta.type,e.id)},[t,e.cta,e.id]);Object(s.Db)(()=>{a(e)});const c=jb[e.bannerType];return l.a.createElement(c,{handleClick:r,bannerDimensions:o,banner:e,containerClassName:n})}));Ho(".BannerMessage_container_u8kyvEmh{padding:12px 16px;background:#282c3f;box-shadow:0 -1px 3px 0 #e9e9eb;color:#fff;font-size:.86rem}.BannerMessage_containerLabel_0ac-KBjl{color:hsla(0,0%,100%,.8)}");const Ub=Object(i.memo)((function({message:e}){return 0===e.trim().length?null:l.a.createElement("div",{className:"BannerMessage_container_u8kyvEmh"},l.a.createElement("div",{className:"BannerMessage_containerLabel_0ac-KBjl","data-testid":"banner_msg"},e))}));var Hb="PaymentAlert-v4_paymentAlertContentRow_-9OnFHoY";Ho(".PaymentAlert-v4_paymentAlertHeader_VE5TBn0o{display:flex;padding:24px 16px 20px}.PaymentAlert-v4_paymentAlertHeaderInfo_Mh7ULgzu{flex:1}.PaymentAlert-v4_paymentAlertHeaderTitle_rkHBuIyn{margin-top:12px;outline:0;width:calc(100% - 27px)}.PaymentAlert-v4_paymentAlertHeaderMessage_1H29GVfm{margin-top:12px}.PaymentAlert-v4_paymentAlertHeaderContainer_GjJHSxlT{display:flex}.PaymentAlert-v4_paymentAlertContent_EiOd2oPi{padding:12px 16px 4px}.PaymentAlert-v4_paymentAlertContentRow_-9OnFHoY{padding:0}.PaymentAlert-v4_paymentAlertInfo_mWkg9pyi{text-transform:uppercase}.PaymentAlert-v4_paymentAlertActionSingle_T7YXjr4g{margin-bottom:24px}.PaymentAlert-v4_paymentAlertActionSecondary_fzeSWprt{text-transform:capitalize;margin:8px 0}.PaymentAlert-v4_paymentAlertActionSub_pj2bOla-{margin-top:2px}.PaymentAlert-v4_paymentAlertIcon_ISltma9x{border:none!important;width:22px!important;margin-right:12px;margin-top:6px}");const Gb=l.a.memo((function(e){const{setAction:t,primaryAction:a,secondaryAction:n,close:o,hideIcon:r,renderPrimaryCTA:c}=e,u=Tn(e.icon||"PaymentLogos/paymentIcons/error",{trim:!0}),p=Object(i.useRef)(null),_=Object(i.useRef)(null);Object(i.useEffect)(()=>{_.current=Object(s.ib)()},[]),Object(s.Eb)(p,_);const E=Object(i.useCallback)(()=>{t(a.onClick),o()},[o,a.onClick,t]),y=Object(i.useCallback)(()=>{n?(t(n.onClick),o()):o()},[o,n,t]),g=d()({"PaymentAlert-v4_paymentAlertActionSingle_T7YXjr4g":!e.secondaryAction}),O=Object(i.useMemo)(()=>{const t={onClick:E,variant:"primary",className:g,subLabel:e.primaryAction.subText,"data-testid":it};return c&&"function"==typeof c?c(t):l.a.createElement(b.FullWidthButton,Object.assign({},t),e.primaryAction.text)},[g,E,e.primaryAction,c]);return l.a.createElement("div",{role:Sn,"aria-labelledby":"payment-alert-header-title","aria-describedby":"payment-alert-content"},l.a.createElement("div",{className:"PaymentAlert-v4_paymentAlertHeader_VE5TBn0o","data-testid":at},l.a.createElement("div",{className:"PaymentAlert-v4_paymentAlertHeaderInfo_Mh7ULgzu"},e.info&&l.a.createElement("div",{className:Hb,id:"payment-alert-content"},l.a.createElement(m.Text,{variant:"V2.body3.neutral.regular",color:"text_Med_Emphasis",className:"PaymentAlert-v4_paymentAlertInfo_mWkg9pyi","data-testid":"alert_info"},e.info," ",e.subInfo&&e.subInfo)),l.a.createElement("div",{className:"PaymentAlert-v4_paymentAlertHeaderContainer_GjJHSxlT"},l.a.createElement("div",null,!r&&l.a.createElement(Jo,{src:u,"data-testid":"alert_header_icon",parentClassName:"PaymentAlert-v4_paymentAlertIcon_ISltma9x"})),l.a.createElement("div",null,l.a.createElement(m.Text,{variant:"V2.heading2.neutral.bold",color:"text_Highest_Emphasis",id:"payment-alert-header-title",className:"PaymentAlert-v4_paymentAlertHeaderTitle_rkHBuIyn","data-testid":nt,ref:p,tabIndex:0,role:Nn,"aria-level":3},e.title||""),l.a.createElement(m.Text,{variant:"V2.body2.neutral.regular",color:"text_Med_Emphasis",className:"PaymentAlert-v4_paymentAlertHeaderMessage_1H29GVfm","data-testid":ot},Object(s.Bb)(e.message||"")))))),l.a.createElement("div",{className:"PaymentAlert-v4_paymentAlertContent_EiOd2oPi","data-testid":rt},l.a.createElement("div",{className:Hb},O),e.secondaryAction&&l.a.createElement("div",{className:Hb},l.a.createElement(C.TextButton,{onClick:y,color:"primary",buttonSize:"medium",className:"PaymentAlert-v4_paymentAlertActionSecondary_fzeSWprt","data-testid":lt},l.a.createElement("div",null,e.secondaryAction.text),e.secondaryAction.subText&&l.a.createElement("div",{className:"PaymentAlert-v4_paymentAlertActionSub_pj2bOla-"},e.secondaryAction.subText)))))}));var Yb=l.a.memo((function(e){const{hideOnOverlayClick:t=!0,onClose:a,hideCloseIcon:n=!1,closeButtonDataTestId:o}=e,r=fn(e,["hideOnOverlayClick","onClose","hideCloseIcon","closeButtonDataTestId"]),[c,d]=Object(i.useState)(),u=Object(i.useCallback)(()=>{c&&c(),a&&a()},[a,c]);return Object(s.Fb)(),l.a.createElement(s.e,{hideOnOverlayClick:t,onClose:u,hideCloseIcon:n,closeButtonDataTestId:o},e=>l.a.createElement(Gb,Object.assign({},e,r,{setAction:d})))}));const Wb={cardNumber:{attrs:{autoComplete:"off","data-testid":Je},errorLabel:In.INVALID_CARD_NUMBER,label:In.CARD_NUMBER,maxLength:23,name:"cardNumber",type:"tel"},cvv:{attrs:{autoComplete:"off",pattern:"[0-9]*",inputMode:"numeric","data-testid":Ze},errorLabel:In.INVALID_CVV,label:In.CVV,maxLength:4,name:"cvv",type:"password"},expiry:{attrs:{autoComplete:"off","data-testid":qe},errorLabel:In.INVALID_EXPIRY_DATE,label:`${In.VALID_THROUGH.toUpperCase()} (${In.MONTH_FORMAT}/${In.YEAR_FORMAT})`,labelV4:`${In.VALID_THROUGH} (${In.MONTH_FORMAT}/${In.YEAR_FORMAT})`,maxLength:5,name:"expiry",type:"tel"},name:{attrs:{autoComplete:"cc-name","data-testid":Qe},label:In.NAME_ON_THE_CARD,errorLabel:In.INVALID_CARD_NAME,maxLength:50,name:"name",type:"text"},nickName:{attrs:{"data-testid":et},label:In.CARD_NICKNAME,errorLabel:In.INVALID_NICKNAME,maxLength:50,name:"nickName",type:"text"}};function Fb(e){const{cardBrandDetails:t,details:a,updateDetails:n,errors:o,resetError:r,onCardNumberChange:l,onCardNumberBlur:c}=e,d=Object(i.useCallback)((e,o)=>{if(void 0===o)return;const i=(({name:e,value:t,details:a})=>{if("cardNumber"===e){if(!/^[0-9\s]*$/.test(String(t)))return;return t.toString().replace(/\s/g,"").replace(/.{4}(?=.)/g,"$& ").trim()}if("name"===e){if(!/^[a-zA-Z\s]*$/.test(String(t)))return;return String(t).toUpperCase()}if("expiry"===e){if(!/^[0-9/]*$/.test(String(t))||-1!==String(t).indexOf("/")&&2!==String(t).lastIndexOf("/"))return;if(1===t.toString().length&&Number(t)>1)return String(`0${t}/`);if(2===t.toString().length){const e=a.expiry.toString();return 3===e.length?e.substring(0,1):String(t+"/")}return String(t)}if("cvv"===e){if(!/^[0-9]*$/.test(String(t)))return;return""+t}return"month"===e?t<0||t>12?void 0:t:"nickName"===e?/^[a-zA-Z\s]*$/.test(String(t))?t:void 0:t})({name:o,value:e,details:a});if(void 0!==i&&(n(Object.assign(Object.assign({},a),{[o]:i})),r(o),"cardNumber"===o)){const a=String(e).replace(/[\s]/g,"");t.cardBrand&&a.length<9?l(a):!t.cardBrand&&a.length>=9&&l(a.substring(0,9))}},[t.cardBrand,a,l,r,n]),u=Object(i.useCallback)(()=>{const e=Jn(a.cardNumber.trim());!Object(s.ub)(c)&&qn(e)&&c(Object(s.Ab)(a.cardNumber," ",""))},[a,c]);return e.children(Object.assign(Object.assign({},t),{cardInputs:Wb,details:a,errors:o,onInputChange:d,onCardNumberInputBlur:u}))}var Vb=".AddNewCard-v4_newCardInlineContainer_GwVuarTi,.AddNewCard-v4_newCardSelectionCard_Nt2-XFOE,.AddNewCard-v4_newCardSelectionCardText_P2YZFfph{display:flex}.AddNewCard-v4_newCard_QvBhSCPW,.AddNewCard-v4_newCardSelectionCardText_P2YZFfph{flex-direction:column}.AddNewCard-v4_newCard_QvBhSCPW{background:#fff;height:100%;display:flex;justify-content:space-between}.AddNewCard-v4_newCardTitle_IdjqgNli{background:#f4f4f5;padding:20px 16px 14px;text-transform:uppercase;color:#535665;font-size:.93rem;font-weight:400}.AddNewCard-v4_newCardDetails_Mni4U-QL{padding:0 16px}.AddNewCard-v4_newCardDetailsRow_fw-VGfUl{position:relative;overflow:hidden}.AddNewCard-v4_newCardDetailsLogo_T0fJh539{position:absolute;top:38px;right:0;transform:translateY(40px);transition:transform .5s ease-in-out}.AddNewCard-v4_newCardDetailsLogoImg_GeMr1jMC{height:36px}.AddNewCard-v4_newCardDetailsLogoImgWithPadding3_tMKnTaNo{padding:3px 0}.AddNewCard-v4_newCardDetailsLogoImgWithPadding1_w0C1r0GQ{padding:1px 0}.AddNewCard-v4_newCardDetailsLogoImgWithPadding10_qPK4fk6j{padding:10px 0}.AddNewCard-v4_newCardDetailsLogoShow_8MgFhNrn{opacity:1;transform:translateY(0)}.AddNewCard-v4_newCardDetailsLogoParent_nA1mP2jC{display:flex}.AddNewCard-v4_newCardDetailsLogoUx4_LpcmjgTT{right:12px}.AddNewCard-v4_newCardInput_PUyd3rqI{font-size:16px;line-height:19px;font-weight:400;letter-spacing:-.3px;color:rgba(2,6,12,.9215686275)}.AddNewCard-v4_newCardInputDisabled_X0LGhHNV{color:rgba(2,6,12,.4509803922)}.AddNewCard-v4_newCardInputContainer_rTi7ioB6{margin:28px 0 0!important}.AddNewCard-v4_newCardInputRounded_-rU24-Sk{border-radius:12px!important}.AddNewCard-v4_newCardRowInputContainer_gWXNcbLu{display:block}.AddNewCard-v4_newCardRowInputContainerPadded_K2JpQYrY{padding-top:4px}.AddNewCard-v4_newCardInlineInputContainer_JcdmQLid{padding:0 12px}.AddNewCard-v4_newCardInlineInputContainer_JcdmQLid:first-child{padding-left:0;width:160%}.AddNewCard-v4_newCardInlineInputContainer_JcdmQLid:last-child{padding-right:0}.AddNewCard-v4_newCardSaveCardDetails_dY6I7pfp{padding:8px 16px 0;display:flex;width:100%}.AddNewCard-v4_newCardSaveCardDetailsText_FTzjATCJ{font-size:14px;line-height:17px;font-weight:400;letter-spacing:-.3px;padding-left:8px;color:rgba(2,6,12,.6);margin-top:2px}.AddNewCard-v4_newCardSaveCardDetailsTextInfo_mI4DXLGF{font-size:14px;line-height:17px;font-weight:600;letter-spacing:-.3px;color:rgba(2,6,12,.9215686275)}.AddNewCard-v4_newCardSelectionCard_Nt2-XFOE{padding:8px 16px;width:100%}.AddNewCard-v4_newCardSelectionCardWrapper_-o8Bv9aY{padding:24px 0 16px}.AddNewCard-v4_newCardSelectionCardCheckbox_NTC0q1at{flex-shrink:0}.AddNewCard-v4_newCardSelectionCardHidden_MS1fByKp{visibility:hidden}.AddNewCard-v4_newCardSelectionCardText_P2YZFfph{justify-content:flex-start;align-items:flex-start}.AddNewCard-v4_newCardSelectionCardTitleText_ZVjNaHX7{font-size:14px;line-height:17px;font-weight:400;letter-spacing:-.3px;padding-left:8px;color:rgba(2,6,12,.6)}.AddNewCard-v4_newCardSelectionCardTitleTextInfo_DaKrOxNL{font-size:14px;line-height:17px;font-weight:600;letter-spacing:-.3px;color:rgba(2,6,12,.9215686275);text-decoration:underline;padding-left:4px}.AddNewCard-v4_newCardSelectionCardSubTitleText_EKJoLKx5{font-size:13px;line-height:16px;font-weight:200;letter-spacing:-.3px;padding-left:8px;color:rgba(2,6,12,.6);margin-top:2px}.AddNewCard-v4_newCardSelectionCardSubTitleTextInfo_8cgY5Ovn{font-size:13px;line-height:16px;font-weight:600;letter-spacing:-.3px;color:rgba(2,6,12,.9215686275);text-decoration:underline;padding-left:4px}.AddNewCard-v4_newCardOneClickCardDetails_KAvLO-zN{padding:16px;display:flex;width:100%}.AddNewCard-v4_newCardOneClickCardDetailsCheckbox_Jh2mS2ZT{flex-shrink:0}.AddNewCard-v4_newCardOneClickCardDetailsHidden_a4SNWbj9{visibility:hidden}.AddNewCard-v4_newCardOneClickCardDetailsText_lnbaRJr5{font-size:14px;line-height:17px;font-weight:400;letter-spacing:-.3px;padding-left:8px;color:rgba(2,6,12,.6);margin-top:2px}.AddNewCard-v4_newCardOneClickCardDetailsTextInfo_LDruHaQL{font-size:14px;line-height:17px;font-weight:600;letter-spacing:-.3px;color:rgba(2,6,12,.9215686275)}.AddNewCard-v4_newCardSave_IU5-QAFq{text-transform:none}.AddNewCard-v4_newCardSaveContainer_XxhBgVqO{padding:16px 16px 32px;position:fixed;bottom:0;width:100%}.AddNewCard-v4_newCardLogos_3UgBTIgX{padding:0 16px}.AddNewCard-v4_newCardLogosContainer_X3SLTQkH{text-align:center;margin-top:20px}.AddNewCard-v4_newCardLogosImg_zHmCIHhL{width:170px}.AddNewCard-v4_offerBannerWrapper_hRBxoG6h{display:flex;height:85px}",Kb={_getCss:function(){return Vb},_getId:function(){return"1a539cc5de"},newCardInlineContainer:"AddNewCard-v4_newCardInlineContainer_GwVuarTi",newCardSelectionCard:"AddNewCard-v4_newCardSelectionCard_Nt2-XFOE",newCardSelectionCardText:"AddNewCard-v4_newCardSelectionCardText_P2YZFfph",newCard:"AddNewCard-v4_newCard_QvBhSCPW",newCardTitle:"AddNewCard-v4_newCardTitle_IdjqgNli",newCardDetails:"AddNewCard-v4_newCardDetails_Mni4U-QL",newCardDetailsRow:"AddNewCard-v4_newCardDetailsRow_fw-VGfUl",newCardDetailsLogo:"AddNewCard-v4_newCardDetailsLogo_T0fJh539",newCardDetailsLogoImg:"AddNewCard-v4_newCardDetailsLogoImg_GeMr1jMC",newCardDetailsLogoImgWithPadding3:"AddNewCard-v4_newCardDetailsLogoImgWithPadding3_tMKnTaNo",newCardDetailsLogoImgWithPadding1:"AddNewCard-v4_newCardDetailsLogoImgWithPadding1_w0C1r0GQ",newCardDetailsLogoImgWithPadding10:"AddNewCard-v4_newCardDetailsLogoImgWithPadding10_qPK4fk6j",newCardDetailsLogoShow:"AddNewCard-v4_newCardDetailsLogoShow_8MgFhNrn",newCardDetailsLogoParent:"AddNewCard-v4_newCardDetailsLogoParent_nA1mP2jC",newCardDetailsLogoUx4:"AddNewCard-v4_newCardDetailsLogoUx4_LpcmjgTT",newCardInput:"AddNewCard-v4_newCardInput_PUyd3rqI",newCardInputDisabled:"AddNewCard-v4_newCardInputDisabled_X0LGhHNV",newCardInputContainer:"AddNewCard-v4_newCardInputContainer_rTi7ioB6",newCardInputRounded:"AddNewCard-v4_newCardInputRounded_-rU24-Sk",newCardRowInputContainer:"AddNewCard-v4_newCardRowInputContainer_gWXNcbLu",newCardRowInputContainerPadded:"AddNewCard-v4_newCardRowInputContainerPadded_K2JpQYrY",newCardInlineInputContainer:"AddNewCard-v4_newCardInlineInputContainer_JcdmQLid",newCardSaveCardDetails:"AddNewCard-v4_newCardSaveCardDetails_dY6I7pfp",newCardSaveCardDetailsText:"AddNewCard-v4_newCardSaveCardDetailsText_FTzjATCJ",newCardSaveCardDetailsTextInfo:"AddNewCard-v4_newCardSaveCardDetailsTextInfo_mI4DXLGF",newCardSelectionCardWrapper:"AddNewCard-v4_newCardSelectionCardWrapper_-o8Bv9aY",newCardSelectionCardCheckbox:"AddNewCard-v4_newCardSelectionCardCheckbox_NTC0q1at",newCardSelectionCardHidden:"AddNewCard-v4_newCardSelectionCardHidden_MS1fByKp",newCardSelectionCardTitleText:"AddNewCard-v4_newCardSelectionCardTitleText_ZVjNaHX7",newCardSelectionCardTitleTextInfo:"AddNewCard-v4_newCardSelectionCardTitleTextInfo_DaKrOxNL",newCardSelectionCardSubTitleText:"AddNewCard-v4_newCardSelectionCardSubTitleText_EKJoLKx5",newCardSelectionCardSubTitleTextInfo:"AddNewCard-v4_newCardSelectionCardSubTitleTextInfo_8cgY5Ovn",newCardOneClickCardDetails:"AddNewCard-v4_newCardOneClickCardDetails_KAvLO-zN",newCardOneClickCardDetailsCheckbox:"AddNewCard-v4_newCardOneClickCardDetailsCheckbox_Jh2mS2ZT",newCardOneClickCardDetailsHidden:"AddNewCard-v4_newCardOneClickCardDetailsHidden_a4SNWbj9",newCardOneClickCardDetailsText:"AddNewCard-v4_newCardOneClickCardDetailsText_lnbaRJr5",newCardOneClickCardDetailsTextInfo:"AddNewCard-v4_newCardOneClickCardDetailsTextInfo_LDruHaQL",newCardSave:"AddNewCard-v4_newCardSave_IU5-QAFq",newCardSaveContainer:"AddNewCard-v4_newCardSaveContainer_XxhBgVqO",newCardLogos:"AddNewCard-v4_newCardLogos_3UgBTIgX",newCardLogosContainer:"AddNewCard-v4_newCardLogosContainer_X3SLTQkH",newCardLogosImg:"AddNewCard-v4_newCardLogosImg_zHmCIHhL",offerBannerWrapper:"AddNewCard-v4_offerBannerWrapper_hRBxoG6h"};function zb(e){const t=e.onChange,a=Object(i.useCallback)((a,n)=>{a.toString().length>e.maxLength||t(a,n)},[t,e.maxLength]),n=Object(i.useMemo)(()=>Object.assign({type:e.type,name:e.name,maxLength:e.maxLength},e.attrs),[e.attrs,e.maxLength,e.name,e.type]);return l.a.createElement(s.y,{value:e.value,label:e.label,onChange:a,onBlur:e.onBlur,attrs:n,error:e.showError,className:Kb.newCardInputContainer,inputClassName:d()(Kb.newCardInput,{[Kb.newCardInputRounded]:!0,[Kb.newCardInputDisabled]:e.disabled}),setSelectionRange:e.setSelectionRange,errorMessage:e.showError?e.errorLabel:void 0,keepLabelActive:e.keepLabelActive,disabled:e.disabled,warningMessage:e.showWarning?e.warningLabel:void 0,warning:e.showWarning})}Ho(Vb),zb.defaultProps={errorLabel:"",onBlur:()=>{},setSelectionRange:!1,showError:!1,style:null,disabled:!1,error:!1,inline:!1,scrollIntoView:!1,roundedInput:!1,showWarning:!1,warningLabel:""};var $b=Object(i.memo)(zb),Xb=l.a.memo((function(e){const{rewardApplicable:t=!0}=e||{};return l.a.createElement(Fb,Object.assign({},e),({cardBrand:a,details:n,onInputChange:o,errors:r,cardInputs:i,onCardNumberInputBlur:c})=>{var u;const m=d()(Kb.newCardDetailsLogo,{[Kb.newCardDetailsLogoShow]:a,[Kb.newCardDetailsLogoUx4]:!0}),p=d()(Kb.newCardRowInputContainer),_={[Kb.newCardDetailsLogoImg]:!0},E=lo(a);if(a){const e=(null==E?void 0:E.padding)||1;_[Kb["newCardDetailsLogoImgWithPadding"+e]]=!0}const C=d()(_),b=E?l.a.createElement("div",{className:m},l.a.createElement(Jo,{src:Object(s.nb)(E.id,{trim:!0}),imgClassName:C,parentClassName:Kb.newCardDetailsLogoParent,"data-testid":"card_icon"})):null,y=null!=e.cardNumberErrorMessage||r.cardNumber,g=Object(s.hb)(In.WARNING_INFO_ADD_CARD,null!==(u=null==e?void 0:e.payableAmount)&&void 0!==u?u:"0");return l.a.createElement("div",{className:Kb.newCardDetails},l.a.createElement("div",{className:Kb.newCardDetailsRow},l.a.createElement($b,Object.assign({value:n.cardNumber,onChange:o,showError:y},i.cardNumber,{errorLabel:e.cardNumberErrorMessage||i.cardNumber.errorLabel,keepLabelActive:ze(n.cardNumber),onBlur:c,warningLabel:t?"":g,showWarning:!t})),y?null:b),l.a.createElement("div",{className:Kb.newCardInlineContainer},l.a.createElement("div",{className:Kb.newCardInlineInputContainer},l.a.createElement($b,Object.assign({value:n.expiry,onChange:o,showError:r.expiry},Object.assign(Object.assign({},i.expiry),{label:i.expiry.labelV4}),{keepLabelActive:ze(n.expiry)}))),l.a.createElement("div",{className:Kb.newCardInlineInputContainer},l.a.createElement($b,Object.assign({value:n.cvv,onChange:o,showError:r.cvv},i.cvv,{keepLabelActive:ze(n.cvv)})))),l.a.createElement($b,Object.assign({value:n.name,onChange:o,showError:r.name},i.name,{keepLabelActive:ze(n.name)})),l.a.createElement("div",{className:p},l.a.createElement($b,Object.assign({value:n.nickName,onChange:o,showError:r.nickName},i.nickName,{keepLabelActive:ze(n.nickName)}))))})}));const Jb={"data-testid":"selection-card-tick"};var Zb=l.a.memo((function({title:e,titleLink:t,subTitle:a,subTitleLink:n,selected:o,isHidden:r,onClick:i,onInfoClick:c}){const u=d()(Kb.newCardSelectionCard,{[Kb.newCardSelectionCardHidden]:r});return l.a.createElement("div",{className:u},l.a.createElement("div",{className:Kb.newCardSelectionCardCheckbox},l.a.createElement(s.h,{name:e,accent:s.f.SWIGGY_ORANGE,checked:o,onChange:i,attrs:Jb})),l.a.createElement("div",{className:Kb.newCardSelectionCardText},l.a.createElement("div",{className:Kb.newCardSelectionCardTitleText,"data-testid":"selection-card-text"},e,t&&l.a.createElement("span",{className:Kb.newCardSelectionCardTitleTextInfo,onClick:c},t)),l.a.createElement("div",{className:Kb.newCardSelectionCardSubTitleText,"data-testid":"selection-card-sub-text"},a,n&&l.a.createElement("span",{className:Kb.newCardSelectionCardSubTitleTextInfo,onClick:c},n))))})),qb=l.a.memo(({oneClickEligible:e,secureCard:t,oneClickCard:a,juspayTokenizationMeta:n,oneClickMeta:o,ctaEnabled:r,showCardNumberErrorMessage:c,onPayClick:d,showSecureCardHalfCardWithActions:u,showOneClickHalfCardWithActions:m,onProceedToPayClickAction:p,payableAmount:_,inProgress:C,rewardApplicable:b=!0})=>{const y=Object(i.useCallback)(()=>d(!0,!1),[d]),g=Object(i.useCallback)(()=>d(!1,!1),[d]),O=Object(i.useCallback)(()=>d(!0,!0),[d]),h=Object(i.useCallback)(r=>{if(r.preventDefault(),"function"==typeof p&&p(a,t),e)if(t||a)if(t&&!a){if(!o)return void d(t,a);m(O,y)}else if(!t&&a){if(!n)return void d(t,a);u(O,g,a)}else O();else{if(!n)return void d(t,a);u(y,g)}else if(t)y();else{if(!n)return void d(t,a);u(y,g)}},[t,a,e,n,o,p,u,m,y,g,O,d]);let A=Object(s.ub)(_)?In.PROCEED:Object(s.hb)(In.PROCEED_TO_PAY_AMOUNT,_);return b||(A=In.PROCEED_WITHOUT_OFFER),l.a.createElement("div",{className:Kb.newCardSaveContainer},l.a.createElement(E.SuperButton,{buttonType:"primary",loading:C,onClick:h,"data-testid":tt,isDisabled:c||!r,variant:"fullwidth",buttonSize:"large"},A))});function Qb(e){const[t,a]=Object(i.useState)({cardNumber:"",cvv:"",name:"",expiry:"",nickName:""}),{onPay:n,paymentInProgress:o,onSecureCardInfoView:r,onSecureCardInfoClickAction:c,onCardNumberChange:d,cardBrandDetails:u,onClickOneClickTermsOfService:m,onKnowMoreTokenizationClickAction:p,oneClickEvents:_,onProceedToPayClick:E,onSaveCardClick:C,onProceedToPayClickAction:b,cardOffer:y,onCardNumberBlur:g,cardFingerPrintData:O,apiInProgress:h=!1,skipClientCardValidation:A}=e,{showOneClickCInfo:f,showSecureCardInfo:v,onSecureCardInfoClick:T,closeSecureCardInfo:I,onOneClickInfoClick:S,closeOneClickInfo:N,showOneClickHalfCardWithActions:R,showSecureCardHalfCardWithActions:P}=wu({onSecureCardInfoClickAction:c,onKnowMoreTokenizationClickAction:p,oneClickEvents:_}),[D,L]=Object(i.useState)(!1),[k,x]=Object(i.useState)(xn),[w,M]=Object(i.useState)(!1),[j,B]=Object(i.useState)(!1),U=Object(i.useCallback)(()=>{"function"==typeof C&&C(!j),B(!j)},[j,C]),H=Object(i.useCallback)(()=>{_&&"function"==typeof _.onOneClickCheckBoxClick&&_.onOneClickCheckBoxClick(!w),M(!w)},[w,_]),G=Object(i.useCallback)(e=>{_&&"function"==typeof _.onTermsAndServicesClickAction&&_.onTermsAndServicesClickAction(),m(e)},[m,_]),Y=Object(i.useCallback)(e=>{const a=Qn(e,t);return x(a),!(a.cardNumber||a.cvv||a.expiry||a.name)},[t]),W=Object(i.useCallback)(({brand:a,month:o,saveCard:r,year:i,oneClickCard:l})=>{const s=t.nickName.trim(),c=O?{cardFingerprint:null==O?void 0:O.card_fingerprint,par:null==O?void 0:O.par}:null;n(Object.assign(Object.assign({},e.methodData),{payableAmount:null==y?void 0:y.payableAmount,bin:u.cardBin||"",meta:Object.assign(Object.assign({},e.methodData.meta),{token:c,tokenizeSupport:u.tokenizeSupport||!1})}),Object.assign(Object.assign({},t),{saveCard:r,month:o,year:i,brand:a,nickName:s,oneClickCard:l,cardBrand:u.cardBrand||"",cardBin:u.cardBin||""}),{isRewardApplicable:(null==y?void 0:y.rewardApplicable)||!1})},[t,n,e.methodData,null==y?void 0:y.payableAmount,null==y?void 0:y.rewardApplicable,u.tokenizeSupport,u.cardBrand,u.cardBin,O]),F=Object(i.useCallback)((e,a)=>{B(e),M(a);try{if(o)return void E(rn.PAYMENT_IN_PROGRESS);const n=Jn(t.cardNumber.trim());if(!A&&!Y(n))return void E(rn.INVALID_CARD_DETAILS);const r=n.getCardDetails(),{month:i,year:l}=Zn(t.expiry),s=r.card_type.toUpperCase();E(rn.PROCEED_TO_PAY),W({saveCard:e,month:i,year:l,brand:s,oneClickCard:a})}catch(e){E(rn.FAILED_TO_PROCEED),Object(s.Z)(e)}},[t.cardNumber,t.expiry,Y,E,o,W,A]),V=Object(i.useCallback)(()=>x(xn),[]),K=Object(i.useCallback)(e=>{const t=fn(e,["nickName"]),n=Object.values(t).every(e=>""!==e);L(n),a(e)},[]),z=Object(i.useMemo)(()=>!Object(s.ub)(u.disableForTenant)&&!Object(s.ub)(u.disableForTenantReason)&&u.disableForTenant,[u.disableForTenant,u.disableForTenantReason]),$=Object(i.useMemo)(()=>z||!(null==u?void 0:u.enabled),[z,null==u?void 0:u.enabled]),X=Object(i.useMemo)(()=>(null==u?void 0:u.enabled)?z?u.disableForTenantReason||"Sodexo Card are not supported for non food flows yet":void 0:(null==u?void 0:u.disableReason)||"",[u.disableForTenantReason,null==u?void 0:u.disableReason,z,null==u?void 0:u.enabled]),J=Object(i.useMemo)(()=>({details:t,errors:k,resetError:V,updateDetails:K,cardBrandDetails:u,onCardNumberChange:d,cardNumberErrorMessage:X,onCardNumberBlur:g,rewardApplicable:null==y?void 0:y.rewardApplicable,payableAmount:null==y?void 0:y.payableAmount}),[t,k,V,K,u,d,X,g,null==y?void 0:y.rewardApplicable,null==y?void 0:y.payableAmount]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:Kb.newCard},l.a.createElement("div",null,l.a.createElement(Xb,Object.assign({},J)),l.a.createElement("div",{className:Kb.newCardSelectionCardWrapper},l.a.createElement(Zb,{title:In.SECURE_CARD,titleLink:e.juspayTokenizationMeta&&In.WHY_IS_IT_IMP,selected:j,onClick:U,onInfoClick:T}),l.a.createElement(Zb,{title:In.ONE_CLICK_PAYMENT_TEXT,subTitle:In.NO_CVV_OTP,subTitleLink:e.oneClickMeta&&In.KNOW_MORE,selected:w,onClick:H,onInfoClick:S,isHidden:!e.oneClickEligible||J.details.cardNumber.length<=9}))),v.show&&e.juspayTokenizationMeta&&l.a.createElement(Rr,Object.assign({data:e.juspayTokenizationMeta},v.actions,{onClose:I,cardBrand:Gn(u.cardBrand||""),onLoad:r})),f.show&&e.oneClickEligible&&e.oneClickMeta&&l.a.createElement(Vr,Object.assign({data:e.oneClickMeta},f.actions,{onClose:N,cardBrand:Gn(u.cardBrand||""),onClickTermsOfService:G,onLoad:null==_?void 0:_.onOneClickHalfCardImpression}))),l.a.createElement(qb,{oneClickEligible:e.oneClickEligible,secureCard:j,inProgress:h,oneClickCard:w,juspayTokenizationMeta:!!e.juspayTokenizationMeta,oneClickMeta:!!e.oneClickMeta,ctaEnabled:D&&!h,showCardNumberErrorMessage:$,onPayClick:F,showSecureCardHalfCardWithActions:P,showOneClickHalfCardWithActions:R,onProceedToPayClickAction:b,payableAmount:null==y?void 0:y.payableAmount,rewardApplicable:null==y?void 0:y.rewardApplicable}))}var ey=l.a.memo((function(e){const t=Object(i.useMemo)(()=>Object(s.ub)(e.cardBrand)||!e.tokenizeSupport&&"SODEXO"!==e.cardBrand.toUpperCase()?"":Object(s.hb)("By adding this card, you agree to save it with {0} for seamless future payments. ",e.cardBrand),[e.cardBrand,e.tokenizeSupport]);return l.a.createElement("div",{className:Kb.newCardSaveCardDetails},l.a.createElement("div",{className:Kb.newCardSaveCardDetailsText,"data-testid":"save_text"},t,e.tokenizeSupport&&l.a.createElement("span",{className:Kb.newCardSaveCardDetailsTextInfo,onClick:e.onInfoClick},In.KNOW_MORE)))}));const ty={"data-testid":"one_click_tick"};var ay=l.a.memo((function(e){const t=Object(i.useMemo)(()=>{if(e.oneClickEligible)return"Enable Single Click Payments on this card(No CVV/OTP needed for future payments upto ₹2000). "},[e.oneClickEligible]),a=d()(Kb.newCardOneClickCardDetails,{[Kb.newCardOneClickCardDetailsHidden]:!e.oneClickEligible});return l.a.createElement("div",{className:a},l.a.createElement("div",{className:Kb.newCardOneClickCardDetailsCheckbox},l.a.createElement(s.h,{name:"",accent:s.f.SWIGGY_ORANGE,checked:e.selected,onChange:e.onClick,attrs:ty})),l.a.createElement("div",{className:Kb.newCardOneClickCardDetailsText,"data-testid":"one_click_text"},t,l.a.createElement("span",{className:Kb.newCardOneClickCardDetailsTextInfo,onClick:e.onInfoClick},In.KNOW_MORE)))})),ny=l.a.memo((function(e){const{isOfferEnabled:t,imageId:a}=e;return"true"!==t||an(a)?null:l.a.createElement("div",{className:Kb.offerBannerWrapper,"data-testid":"offer_banner"},l.a.createElement(u.Image,{src:yn(a),width:"100%"}))}));const oy=Object(i.memo)(e=>{const{onProceed:t,juspayTokenizationMeta:a,addCardDetails:n,onCardNumberChange:o,onSecureCardInfoView:r,onSecureCardInfoClickAction:c,cardBrandDetails:d,onClickOneClickTermsOfService:u,onKnowMoreTokenizationClickAction:m,oneClickEvents:p,skipClientCardValidation:_,onProceedToPayClick:C,isOfferEnabled:b,imageId:y}=e,[g,O]=Object(i.useState)({cardNumber:(null==n?void 0:n.cardNumber)||"",cvv:(null==n?void 0:n.cvv)||"",name:(null==n?void 0:n.name)||"",expiry:(null==n?void 0:n.expiry)||"",nickName:(null==n?void 0:n.nickName)||""}),{showOneClickCInfo:h,showSecureCardInfo:A,onSecureCardInfoClick:f,closeSecureCardInfo:v,onOneClickInfoClick:T,closeOneClickInfo:I,showOneClickHalfCardWithActions:S}=wu({onSecureCardInfoClickAction:c,onKnowMoreTokenizationClickAction:m,oneClickEvents:p}),[N,R]=Object(i.useState)(xn),[P,D]=Object(i.useState)(!1),L=Object(i.useCallback)(()=>{p&&"function"==typeof p.onOneClickCheckBoxClick&&p.onOneClickCheckBoxClick(!P),D(!P)},[P,p]),k=Object(i.useCallback)(e=>{const t=Qn(e,g);return R(t),!(t.cardNumber||t.cvv||t.expiry||t.name)},[g]),x=Object(i.useCallback)((e,a,n)=>{var o,r;const i=n.getCardDetails(),{month:l,year:s}=Zn(g.expiry),c=i.card_type.toUpperCase(),u=lo(d.cardBrand),m=g.nickName.trim();t(Object.assign(Object.assign({},g),{month:l,year:s,brand:c,saveCard:e,tokenizeSupport:d.tokenizeSupport||!1,cardBin:null!==(o=d.cardBin)&&void 0!==o?o:"",iconUrl:null!==(r=d.url)&&void 0!==r?r:"",cardIcon:u,nickName:m,oneClickCard:a}))},[d.cardBin,d.cardBrand,d.tokenizeSupport,d.url,g,t]),w=Object(i.useCallback)(e=>{D(e);try{const t=Jn(g.cardNumber.trim());if(_||k(t))return C(rn.PROCEED_TO_PAY),void x(!0,e,t);C(rn.INVALID_CARD_DETAILS)}catch(e){C(rn.FAILED_TO_PROCEED),Object(s.Z)(e)}},[g.cardNumber,k,x,_,C]),M=Object(i.useCallback)(()=>w(!0),[w]),j=Object(i.useCallback)(()=>w(!1),[w]),B=Object(i.useCallback)(t=>{t.preventDefault(),e.oneClickEligible?P?M():S(M,j,!0):j()},[P,e.oneClickEligible,S,M,j]),U=Object(i.useCallback)(()=>R(xn),[]),H=Object(i.useCallback)(e=>{O(e)},[]),G=Object(i.useMemo)(()=>{const e=fn(g,["nickName"]);return Object.values(e).every(e=>""!==e)},[g]),Y=Object(i.useMemo)(()=>({details:g,errors:N,resetError:U,updateDetails:H,onCardNumberChange:o,cardBrandDetails:d}),[d,g,N,o,U,H]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(ny,{isOfferEnabled:b,imageId:y}),l.a.createElement("div",{className:Kb.newCard},l.a.createElement("div",null,l.a.createElement(Xb,Object.assign({},Y)),l.a.createElement("div",{className:Kb.newCardSelectionCardWrapper},null!=d.tokenizeSupport&&l.a.createElement(ey,{onInfoClick:f,cardBrand:Gn(d.cardBrand||""),tokenizeSupport:d.tokenizeSupport}),l.a.createElement(ay,{selected:P,onClick:L,onInfoClick:T,oneClickEligible:e.oneClickEligible}))),l.a.createElement("div",{className:Kb.newCardSaveContainer},l.a.createElement(E.SuperButton,{buttonType:"primary",className:Kb.newCardSave,onClick:B,"data-testid":tt,isDisabled:!G,variant:"fullwidth",buttonSize:"large"},"Proceed")),A.show&&a&&l.a.createElement(Rr,Object.assign({data:a},A.actions,{onClose:v,cardBrand:Gn(d.cardBrand||""),onLoad:r})),h.show&&e.oneClickEligible&&e.oneClickMeta&&l.a.createElement(Vr,Object.assign({data:e.oneClickMeta},h.actions,{onClose:I,cardBrand:Gn(d.cardBrand||""),onClickTermsOfService:u,onLoad:null==p?void 0:p.onOneClickHalfCardImpression}))))});function ry(e){const[t,a]=Object(i.useState)(""),[n,o]=Object(i.useState)(!1),{resendOtp:r,verifyOtp:c,verifyInProgress:d,resendInProgress:u}=e.actions,m=Object(i.useCallback)(()=>{if(e.walletCode in W)return W[e.walletCode]},[e.walletCode]),p=Object(i.useCallback)(e=>{a(e),o(!1)},[]),_=Object(i.useCallback)(e=>vn(this,void 0,void 0,(function*(){if(e.preventDefault(),!d)if(t.length<Number(m()))o(!0);else try{yield c(t)}catch(e){o(!0)}})),[m,t,d,c]),C=Object(i.useMemo)(()=>({maxLength:m(),type:"tel",name:"verifyOtp",id:"verifyOtp","data-testid":"lav_otp"}),[m]);return l.a.createElement("div",{className:"LinkAccountView-v4_verifyOtp_Z7Svw4nT"},l.a.createElement("div",{className:"LinkAccountView-v4_verifyOtpInput_aXOj4y60"},l.a.createElement(s.y,{label:"Enter OTP",onChange:p,attrs:C,error:n,value:t}),l.a.createElement("div",{className:"LinkAccountView-v4_verifyOtpNoOTP_zY71Gn9B"},l.a.createElement(E.SuperButton,{buttonType:"secondary",buttonSize:"small",onClick:r,"data-testid":"resendOtpBtn",isDisabled:u},u?In.RESENDING_CODE:In.RESEND))),l.a.createElement(E.SuperButton,{onClick:_,loading:d,"data-testid":"proceedBtn",buttonType:"primary",buttonSize:"large",isDisabled:0===t.length},e.ctaText||In.VERIFY_N_LINK))}Ho(".LinkAccountView-v4_container_0TwQkmc7{background-color:#fff;height:100%}.LinkAccountView-v4_verifyOtp_Z7Svw4nT{padding:0 16px;position:relative}.LinkAccountView-v4_verifyOtpHeader_9CqeVJwB{margin:0;padding:28px 16px 0;display:flex;justify-content:space-between;align-items:center}.LinkAccountView-v4_verifyOtpHeaderIcon_jhgRWKze{width:55px!important;height:52px;text-align:right!important}.LinkAccountView-v4_verifyOtpHeaderSubtitle_-Su7uny3{margin-top:4px}.LinkAccountView-v4_verifyOtpNoOTP_zY71Gn9B{position:absolute;bottom:8px;right:16px;text-transform:uppercase}.LinkAccountView-v4_verifyOtpInput_aXOj4y60{margin:32px 0 0;position:relative}");var iy,ly,sy=Object(i.memo)((function(e){return l.a.createElement("div",{className:"LinkAccountView-v4_verifyOtpHeader_9CqeVJwB","data-testid":"lav_header"},l.a.createElement("div",null,l.a.createElement(m.Text,{variant:"V2.subheading1.neutral.bold",color:"text_Highest_Emphasis","data-testid":"lav_title"},e.title),l.a.createElement(m.Text,{variant:"V2.body2.neutral.medium",color:"text_Highest_Emphasis",className:"LinkAccountView-v4_verifyOtpHeaderSubtitle_-Su7uny3","data-testid":"lav_subtitle"},e.mobile)),l.a.createElement(Jo,{parentClassName:"LinkAccountView-v4_verifyOtpHeaderIcon_jhgRWKze",src:e.iconUrl,width:40,"data-testid":"lav_icon"}))})),cy=Object(i.memo)((function(e){const{displayName:t,walletCode:a,iconUrl:n,onCloseBS:o,showSuccessBS:r,mobile:c,verifyCtaText:d}=e,u=Object(i.useCallback)(()=>In.ENTER_OTP_RECEIVED,[]),m=Object(i.useCallback)(()=>{"function"==typeof o&&o()},[o]),p=Object(s.hb)("{0} Account has been linked successfully!",t),_=Object(s.hb)("You can now use all active {0} methods on Swiggy",t);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{"data-testid":"lav_container",className:"LinkAccountView-v4_container_0TwQkmc7"},l.a.createElement(sy,{title:u(),mobile:c,iconUrl:n}),l.a.createElement(ry,{actions:e.actions,walletCode:a,ctaText:d})),r&&l.a.createElement(xE,{onClose:m,title:p,subTitle:_,durationInSec:3}))}));!function(e){e[e.LOADING=0]="LOADING",e[e.SUCCESS=1]="SUCCESS"}(iy||(iy={})),function(e){e.GREEN="GREEN",e.BRICK="BRICK",e.VIOLET="VIOLET",e.MUSTARD="MUSTARD"}(ly||(ly={}));const dy={[iy.SUCCESS]:"Order Placed Successfully",[iy.LOADING]:"Processing"},uy=[0,40],my=[40,81],py=hn(s.A.TRANSITION_LOTTIE_FILE_ID),_y=hn(s.A.TRANSITION_LOTTIE_FILE_ID_BLACK),Ey=hn(s.A.TRANSITION_LOTTIE_FILE_ID_BLACK_OTP),Cy=hn(s.A.TRANSITION_LOTTIE_FILE_ID_POP),by=hn(s.n.FESTIVE_TRANSITION_LOTTIE_FILE_ID),yy=hn(s.A.TRANSITION_LOTTIE_FILE_ID_BOLT),gy=hn(s.A.TRANSITION_LOTTIE_FILE_ID_BOLT_OTP),Oy=hn(s.A.TRANSITION_LOTTIE_FILE_ID_AFFORDABLE),hy=hn(s.N.TRING_SOUND),Ay=hn(s.N.SPEEDY_SOUND);var fy;!function(e){e.TRING_SOUND="tringSound",e.SPEEDY_SOUND="speedy_sound"}(fy||(fy={}));const vy=p.keyframes`
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
`,Ty=p.keyframes`
    0% {
        stroke-dasharray: 1, 351;
        stroke-dashoffset: 0;
    }
    50% {
        stroke-dasharray: 251, 351;
        stroke-dashoffset: -50;
    }
    100% {
        stroke-dasharray: 251, 351;
        stroke-dashoffset: -301;
    }
`,Iy=p.keyframes`
    0% {
        transform: scale(1);
    }
    48% {
        transform: scale(1.2);
    }
    50% {
        transform: scale(1.2);
    }
    100% {
        transform: scale(1);
    }
`,Sy=p.keyframes`
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.2);
    }
    80% {
        opacity: 1;
    }
    100% {
        transform: scale(1.6);
        opacity: 0;
    }
`,Ny=p.keyframes`
    to {
        opacity: 1;
        stroke-dashoffset: 0;
    }
`,Ry=p.keyframes`
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
`,Py=p.keyframes`
    0% {
        opacity: 0;
        transform: translateX(-200px);
    }
    20% {
        opacity: 1;
        transform: translateX(30px);
    }
    40% {
        transform: translateX(0px);
    }
    80% {
        opacity: 1;
        transform: translateX(400px);
    }
    90% {
        opacity: 1;
        transform: translateX(500px);
    }
    100% {
        opacity: 0;
        transform: translateX(600px);
    }
`,Dy=p.default.div`
    display: flex;
    height: 100vh;
    width: 100%;
    overflow: hidden;
    flex-direction: column;
    justify-content: center;
    background: ${e=>e.theme.colors[e.theme.colorMode].background_Primary};
    position: relative;
`,Ly=p.default.div`
    display: flex;
    width: 100%;
    overflow: visible;
    flex-direction: column;
    justify-content: center;
`,ky=p.default.svg`
    transform-origin: center center;
    margin: auto;
    display: block;
    transform: translateZ(0);
    width: 140px;
    height: 140px;
    overflow: visible !important;

    ${e=>e.$showLoadingScreen&&p.css`
            animation: ${vy} 2.2s linear infinite;
            transform: rotate(360deg);
            will-change: transform;
        `}
`,xy=p.default.circle`
    fill: none;
    stroke-width: 10px;

    ${e=>{const{theme:t,$tickAccent:a,$showTickScreen:n,$showFlashIconScreen:o,$isSuper:r,$isSwiggyMoney:i}=e;let l=t.colors[t.colorMode].primary_Sub;return r?l=t.colors[t.colorMode].primary_Sub:i||a===ly.GREEN?l=t.colors[t.colorMode].background_Primary:o||a===ly.VIOLET?l=t.colors[t.colorMode].rain_Sub:a===ly.BRICK?l=t.colors[t.colorMode].background_Primary:a===ly.MUSTARD&&(l=t.colors[t.colorMode].highlight_Sub),p.css`
            stroke: ${l};

            ${n&&p.css`
                    fill: ${l};
                    stroke-width: 0;
                    transform-origin: center;
                    animation: ${Sy} 800ms ease-in-out;
                `}
        `}}
`,wy=p.default.circle`
    fill: none;
    stroke-width: 10px;

    ${e=>{const{theme:t,$tickAccent:a,$showTickScreen:n,$showLoadingScreen:o,$showFlashIconScreen:r,$isSuper:i,$isSwiggyMoney:l}=e;let s=t.colors[t.colorMode].primary;return i?s=t.colors[t.colorMode].primary:l||a===ly.GREEN?s=t.colors[t.colorMode].special_positive:r||a===ly.VIOLET?s=t.colors[t.colorMode].rain:a===ly.BRICK?s=t.colors[t.colorMode].swiggy_One:a===ly.MUSTARD&&(s=t.colors[t.colorMode].highlight),p.css`
            stroke: ${s};

            ${o&&p.css`
                    animation: ${Ty} 1.25s linear infinite;
                    stroke-linecap: round;
                    transform: translateZ(0);
                    will-change: transform;
                `}

            ${n&&p.css`
                    fill: ${s};
                    animation: ${Iy} 800ms ease-in-out;
                    transform-origin: center;
                `}
        `}}
`,My=p.default.path`
    stroke: ${e=>e.theme.colors[e.theme.colorMode].background_Primary};
    fill: transparent;
    stroke-width: 10px;
    stroke-dasharray: 140px;
    stroke-dashoffset: 140px;
    transition: stroke-dashoffset 1.5s ease-out;
    stroke-linecap: round;
    stroke-linejoin: round;

    ${e=>e.$showTickScreen&&p.css`
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            animation: ${Ny} 1.5s ease-in-out;
            animation-delay: 200ms;
            animation-fill-mode: forwards;
        `}

    ${e=>e.$isSuper&&p.css`
            stroke: ${e.theme.colors[e.theme.colorMode].background_Primary};
        `}

    ${e=>e.$isSwiggyMoney&&p.css`
            stroke: ${e.theme.colors[e.theme.colorMode].background_Primary};
        `}
`,jy=p.default.path`
    stroke: ${e=>e.theme.colors[e.theme.colorMode].background_Primary};
    stroke-opacity: 0.4;
    fill: transparent;
    stroke-width: 10px;
    stroke-dasharray: 140px;
    stroke-dashoffset: 0;
    stroke-linecap: round;
    stroke-linejoin: round;
`,By=p.default.div`
    margin: 34px 16px 40px;
    height: 100px;

    ${e=>e.$showLoadingScreen&&p.css`
            opacity: 1;
            transition: opacity 0.4s ease-out;
        `}

    ${e=>e.$showTickScreen&&p.css`
            text-align: center;
            font-size: 15px;
            opacity: 1;
            transform: translate3d(0, 0, 0);
            will-change: opacity, transform;
            animation: ${Ry} 0.2s linear;
        `}

    ${e=>e.$isSuper&&e.$showLoadingScreen&&p.css`
            color: ${e.theme.colors[e.theme.colorMode].text_Med_Emphasis};
        `}

    ${e=>e.$isSwiggyMoney&&e.$showLoadingScreen&&p.css`
            color: ${e.theme.colors[e.theme.colorMode].text_Highest_Emphasis};
        `}
`,Uy=p.default.div`
    ${e=>e.$showLoadingScreen&&p.css`
            text-align: center;
            margin: 10px 0;
        `}

    ${e=>e.$showTickScreen&&p.css`
            margin: 15px 0;
        `}

    ${e=>e.$isSwiggyMoney&&e.$showTickScreen&&p.css`
            color: ${e.theme.colors[e.theme.colorMode].text_Highest_Emphasis} !important;
            font-size: 20px;
        `}
`,Hy=p.default.div`
    ${e=>e.$showLoadingScreen&&p.css`
            text-align: center;
        `}

    ${e=>e.$showTickScreen&&p.css`
            margin: 0 10%;
        `}

    ${e=>e.$isSwiggyMoney&&e.$showTickScreen&&p.css`
            font-weight: 200 !important;
            font-size: 13px;
            color: ${e.theme.colors[e.theme.colorMode].text_Med_Emphasis} !important;
        `}
`,Gy=p.default.div`
    opacity: 1;
    transform: translate3d(0, 0, 0);
    will-change: opacity, transform;
    animation: ${Ry} 0.6s linear;
`,Yy=p.default.div`
    margin-bottom: 4px;

    ${e=>e.$showLoadingScreen&&p.css`
            text-align: center;
        `}
`,Wy=p.default.div`
    display: flex;
    width: 100%;
    justify-content: center;
    position: absolute;
    bottom: 5%;
    animation-name: ${Py};
    animation-fill-mode: both;
    animation-duration: 4s;
`,Fy=p.default.div`
    align-items: center;
    text-align: center;
    position: absolute;
    bottom: 5%;
    width: 100%;
`,Vy=(p.default.div`
    display: flex;
    padding-bottom: 10px;
    justify-content: center;
`,p.default.div`
    padding-right: 7px;
`,p.default.div`
    display: flex;
    justify-content: center;
`);var Ky=Object(i.memo)((function(e){const{postSuccessCb:t,customSuccessScreen:a=!1,a11yStatus:n,tickState:o,mainText:r,intermediateText:c,tickAccent:d,showBottomAnimation:u,showFlashIconScreen:p,bottomSuccessSubMessage:_,tagElement:E,isSuper:C=!1,isSwiggyMoney:b=!1}=e,[y,g]=Object(i.useState)(!1),O=Object(i.useRef)(null),h=Object(i.useRef)(null),A=Object(i.useCallback)(()=>{g(!0),t&&t()},[t]),f=Object(i.useCallback)(()=>{y||A()},[y,A]);Object(i.useEffect)(()=>{if(o!==iy.SUCCESS||"function"!=typeof t)return;a&&A();const n=h.current,r=$e();if(n&&r){n.addEventListener(r,A,!1);const t=setTimeout(f,e.successTimeout);return()=>{n.removeEventListener(r,A,!1),clearTimeout(t)}}},[o,t,A,f,a,e.successTimeout]);const v=Object(i.useMemo)(()=>!a&&o===iy.SUCCESS,[a,o]),T=Object(i.useMemo)(()=>a||o===iy.LOADING,[a,o]),I=Object(i.useMemo)(()=>!an(e.subTextNode)&&Object(i.isValidElement)(e.subTextNode)?l.a.createElement(Hy,{$showLoadingScreen:T,$showTickScreen:v,$isSwiggyMoney:b},l.a.createElement(m.Text,{variant:"V2.body2.neutral.medium",color:"text_Low_Emphasis","data-testid":xa},l.a.createElement(Gy,null,e.subTextNode))):null==e.subText?null:l.a.createElement(Hy,{$showLoadingScreen:T,$showTickScreen:v,$isSwiggyMoney:b},!Ja(e.subText)&&l.a.createElement(m.Text,{variant:"V2.body2.neutral.medium",color:"text_Low_Emphasis","data-testid":xa},e.subText)),[e.subTextNode,e.subText,T,v,b]),S=Object(i.useMemo)(()=>`scale(2) translate(-${Math.floor(12)},-${Math.floor(12)})`,[]);return l.a.createElement(Dy,{"data-testid":La},l.a.createElement(Ly,null,l.a.createElement(ky,{$showLoadingScreen:T,viewBox:"0 0 100 100","data-testid":ka},l.a.createElement(xy,{$tickAccent:d,$showTickScreen:v,$showFlashIconScreen:p,cx:"50",cy:"50",r:48}),l.a.createElement(wy,{$tickAccent:d,$showTickScreen:v,$showLoadingScreen:T,$showFlashIconScreen:p,$isSuper:C,$isSwiggyMoney:b,cx:"50",cy:"50",r:48}),v&&p?l.a.createElement(s.p,{ref:h,fillColor:"#fff",transform:S}):v&&l.a.createElement(l.a.Fragment,null,l.a.createElement(jy,{d:"M25,50 L40,65 L75,35"}),l.a.createElement(My,{ref:h,$showTickScreen:v,$isSuper:C,$isSwiggyMoney:b,d:"M25,50 L40,65 L75,35"}))),l.a.createElement(By,{ref:O,$showLoadingScreen:T,$showTickScreen:v,$isSuper:C,$isSwiggyMoney:b,tabIndex:0,role:"alert","aria-live":"assertive","aria-label":n},!Ja(r)&&l.a.createElement(Uy,{$showLoadingScreen:T,$showTickScreen:v,$isSwiggyMoney:b},l.a.createElement(m.Text,{variant:"V2.heading1.neutral.bold",color:"text_Highest_Emphasis","data-testid":"tick_main"},r)),!Ja(c)&&l.a.createElement(Yy,{$showLoadingScreen:T},l.a.createElement(m.Text,{variant:"V2.body2.neutral.medium",color:"text_Highest_Emphasis","data-testid":"tick_intermediate"},c)),I,E||null)),v&&u&&l.a.createElement(Wy,null,l.a.createElement(s.c,{as:"div"},l.a.createElement("img",{crossOrigin:"anonymous",src:Object(s.nb)("4_0_Assets/prioritydelivery",{width:85,height:37})}))),v&&p&&l.a.createElement(Fy,null,_&&l.a.createElement(Vy,null,l.a.createElement(m.Text,{variant:"V2.overline.neutral.medium",color:"text_Med_Emphasis"},_))))})),zy=Object(i.memo)((function(e){const{postSuccessCb:t,isSuper:a=!1,customSuccessScreen:n=!1,isSwiggyMoney:o=!1,showBottomAnimation:r=!1,showFlashIconScreen:s=!1,bottomSuccessSubMessage:c,subTextNodeList:d,tagElement:u}=e,[m,p]=Object(i.useState)(e.tickState),[_,E]=Object(i.useState)(e.mainText),[C,b]=Object(i.useState)(e.subText),[y,g]=Object(i.useState)(e.intermediateText),[O,h]=Object(i.useState)(0),[A,f]=Object(i.useState)(null),v=an(d)?2e3:2e3*d.length;Object(i.useEffect)(()=>{if(e.tickState!==iy.SUCCESS)return;const t=window.setTimeout(()=>{p(e.tickState),E(e.mainText),b(e.subText),g(e.intermediateText),an(d)||f(d[O])},1e3);return()=>clearTimeout(t)},[e.mainText,e.subText,e.intermediateText,e.tickState,m,d,O]),Object(i.useEffect)(()=>{if(e.tickState!==iy.SUCCESS||an(d))return;const t=window.setInterval(()=>{O!==d.length-1?h(O+1):clearInterval(t)},2e3);return()=>clearInterval(t)},[e.tickState,O,d]);const T=Object(i.useMemo)(()=>{const t=null!=e.a11yTexts?e.a11yTexts:dy;return m==iy.SUCCESS?t[iy.SUCCESS]:t[iy.LOADING]},[e.a11yTexts,m]);return l.a.createElement(Ky,{tickState:m,mainText:_,subText:C,subTextNode:A,intermediateText:y,tagElement:u,postSuccessCb:t,a11yStatus:T,customSuccessScreen:n,tickAccent:e.accent,showBottomAnimation:r,showFlashIconScreen:s,bottomSuccessSubMessage:c,successTimeout:v,isSuper:a,isSwiggyMoney:o})}));const $y=p.default.div`
    height: 100%;
    width: 100%;
`,Xy=p.default.div(({show:e})=>({position:"absolute",top:"55%",width:"100%",transition:"opacity 300ms, visibility 300ms",visibility:e?"visible":"hidden",opacity:e?1:0})),Jy=p.default.div`
    height: 100vh;
    width: 100vw;
    overflow: hidden;
    background: #fff;
    outline: none;
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
`,Zy=p.default.div(({show:e})=>({position:"absolute",top:"85%",width:"100%",transition:"opacity 300ms, visibility 300ms",visibility:e?"visible":"hidden",opacity:e?1:0})),qy=p.default.div(()=>({display:"flex",justifyContent:"center"})),Qy=Object(p.default)(m.Text)(({theme:e})=>({padding:"0 "+e.spacing.large,textAlign:"center",textTransform:"capitalize"})),eg=Object(p.default)(m.Text)(()=>({padding:"8px 48px 0"}));var tg,ag,ng=Object(i.memo)((function({deliveryAddress:e}){const t=Object(i.useMemo)(()=>Object(s.jb)(e),[e]),a=Object(i.useMemo)(()=>Object(s.lb)(e),[e]);return an(e)?null:l.a.createElement(l.a.Fragment,null,l.a.createElement(Qy,{variant:"V2.heading1.neutral.black",maxLines:1,color:"text_Highest_Emphasis",textAlign:"center"},t),l.a.createElement(eg,{variant:"V2.subheading1.neutral.medium",color:"text_High_Emphasis",maxLines:2,textAlign:"center"},a))}));!function(e){e.FETCH_FAILED="FETCH_FAILED",e.TIMEOUT="TIMEOUT",e.LOTTIE_ERROR="LOTTIE_ERROR",e.ASSET_FETCH_ERROR="ASSET_FETCH_ERROR",e.UNKNOWN="UNKNOWN"}(tg||(tg={})),function(e){e.AFFORDABLE_M2="AFFORDABLE_M2",e.BOLT_M3="BOLT_M3",e.DEFAULT="DEFAULT"}(ag||(ag={}));const og=(e,t)=>vn(void 0,void 0,void 0,(function*(){var a;if(an(e))return t(tg.ASSET_FETCH_ERROR,"Invalid asset id"),null;const n=yn(e);try{if(an(n))return t(tg.ASSET_FETCH_ERROR,"Invalid asset url"),null;const e=yield fetch(n),o=yield e.blob();return null===(a=null===URL||void 0===URL?void 0:URL.createObjectURL)||void 0===a?void 0:a.call(URL,o)}catch(e){return t(tg.ASSET_FETCH_ERROR,e,n),null}})),rg=(e,t)=>{if(!an(e)&&!an(e.markers))return e.markers.find(e=>e.cm===t)};var ig=Object(i.memo)(({tickState:e,onDOMLoaded:t,onError:n,deliveryAddressAnotation:o,recordTransitionScreenLoadTime:r,isSwiggyBlackApplicable:c,isSwiggyBlackOtpAnimationApplicable:d,isPopCart:u,isBoltCartM3:m,isAffordableCartM2:p})=>{const _=Object(i.useRef)(null),E=Object(i.useRef)(),C=Object(i.useRef)(0),b=Object(i.useRef)(0),y=Object(i.useRef)(0),g=Object(i.useRef)(null),O=Object(i.useRef)(null),h=Object(i.useRef)(!1),{play:A}=(()=>{const[e,t]=Object(i.useState)(!1),a=Object(i.useRef)(null);return{play:Object(i.useCallback)((e,n={})=>{a.current&&a.current.pause();const o=new Audio(e);a.current=o,o.onplay=()=>{t(!0),"function"==typeof n.onPlay&&n.onPlay()},o.onpause=()=>{t(!1),"function"==typeof n.onPause&&n.onPause()},o.onended=()=>{t(!1),"function"==typeof n.onEnd&&n.onEnd()},o.onerror=e=>{let a="";a="string"==typeof e?e:e.type,t(!1),"function"==typeof n.onError&&n.onError(new Error(a+"Something went wrong"))},o.play().catch(e=>{t(!1),"function"==typeof n.onError&&n.onError(new Error("Playback failed :: "+e))})},[]),pause:Object(i.useCallback)(()=>{a.current&&a.current.pause()},[]),resume:Object(i.useCallback)(e=>{a.current&&a.current.paused&&a.current.play().catch(t=>{"function"==typeof e&&e(new Error("Failed to resume audio :: "+t))})},[]),stop:Object(i.useCallback)(()=>{a.current&&(a.current.pause(),a.current.currentTime=0,t(!1))},[]),isPlaying:e}})(),[f,v]=Object(i.useState)(!1),[T,I]=Object(i.useState)(0),[S,N]=Object(i.useState)(!1),[R,P]=Object(i.useState)(!1),D=Object(i.useCallback)((e,t,a)=>{"function"==typeof n&&n(e,t,a)},[n]),L=Object(i.useCallback)(()=>{if("function"==typeof r){const e=Date.now()-C.current,t=b.current-C.current,a=y.current-C.current;r(e,t,a)}},[r]),k=Object(i.useCallback)((e,t)=>{E.current&&(E.current.loop=t,E.current.playSegments(e,!0))},[]),x=Object(i.useCallback)(e=>{var t;if(!an(O.current)&&e.currentTime>=O.current.tm&&!h.current){const e=function({isBoltCartM3:e,isSwiggyBlackOtpAnimationApplicable:t,isAffordableCartM2:a}){return a?hy:e?t?hy:Ay:hy}({isBoltCartM3:m,isSwiggyBlackOtpAnimationApplicable:d,isAffordableCartM2:p});A(null!=e?e:""),h.current=!0,null===(t=E.current)||void 0===t||t.removeEventListener("enterFrame")}},[m,d,p,A]),w=Object(i.useMemo)(()=>An(e=>x(e),500),[x]),M=Object(i.useMemo)(()=>[p?70:131,T],[p,T]),j=Object(i.useCallback)(()=>vn(void 0,void 0,void 0,(function*(){var e,t;try{const n=(yield Promise.all([a.e(13),a.e(16)]).then(a.t.bind(null,"qFE6Lx",7))).default,r=yield(({onError:e,deliveryAddressAnotation:t,isSwiggyBlackApplicable:a,isSwiggyBlackOtpAnimationApplicable:n,isPopCart:o,isBoltCartM3:r,isAffordableCartM2:i})=>vn(void 0,void 0,void 0,(function*(){var l,c,d,u,m,p,_,E,C,b,y,g,O,h,A,f,v,T,I,S,N;const R=null!==(l=function({isSwiggyBlackApplicable:e,isSwiggyBlackOtpAnimationApplicable:t,isPopCart:a,isBoltCartM3:n,isAffordableCartM2:o}){const r=Object(s.tb)(new Date,s.o,s.m);return e?t&&!n?Ey:n&&!t?yy:n&&t?gy:o?Oy:_y:a?Cy:r?by:n?yy:o?Oy:py}({isSwiggyBlackApplicable:a,isSwiggyBlackOtpAnimationApplicable:n,isPopCart:o,isBoltCartM3:r,isAffordableCartM2:i}))&&void 0!==l?l:"";try{const o=a&&n,r=yield fetch(R),i=yield r.json(),l=yield og("portal/m/cw_transition_screen_v2/images/"+ue.STATIC,e);if(t&&(null===(d=null===(c=null==i?void 0:i.assets)||void 0===c?void 0:c[0])||void 0===d?void 0:d.p)&&(null===(m=null===(u=null==i?void 0:i.assets)||void 0===u?void 0:u[0])||void 0===m?void 0:m.u)){const a=yield og("portal/m/cw_transition_screen_v2/images/"+t,e);i.assets[0].p=a,i.assets[0].u=""}if(l&&(null===(_=null===(p=null==i?void 0:i.assets)||void 0===p?void 0:p[1])||void 0===_?void 0:_.p)&&(null===(C=null===(E=null==i?void 0:i.assets)||void 0===E?void 0:E[1])||void 0===C?void 0:C.u)&&(i.assets[1].p=l,i.assets[1].u=""),o){if((null===(y=null===(b=null==i?void 0:i.assets)||void 0===b?void 0:b[2])||void 0===y?void 0:y.p)&&(null===(O=null===(g=null==i?void 0:i.assets)||void 0===g?void 0:g[2])||void 0===O?void 0:O.u)){const t=yield og("portal/m/cw_transition_screen_v2/images/bright_star.png",e);i.assets[2].p=t,i.assets[2].u=""}if((null===(A=null===(h=null==i?void 0:i.assets)||void 0===h?void 0:h[3])||void 0===A?void 0:A.p)&&(null===(v=null===(f=null==i?void 0:i.assets)||void 0===f?void 0:f[3])||void 0===v?void 0:v.u)){const t=yield og("portal/m/cw_transition_screen_v2/images/golden_shimmer.png",e);i.assets[3].p=t,i.assets[3].u=""}if((null===(I=null===(T=null==i?void 0:i.assets)||void 0===T?void 0:T[4])||void 0===I?void 0:I.p)&&(null===(N=null===(S=null==i?void 0:i.assets)||void 0===S?void 0:S[4])||void 0===N?void 0:N.u)){const t=yield og("portal/m/cw_transition_screen_v2/images/one_blck_otg_stamp.png",e);i.assets[4].p=t,i.assets[4].u=""}}return i}catch(t){Object(s.Z)(t),e(tg.FETCH_FAILED,t,R)}})))({onError:D,deliveryAddressAnotation:o,isSwiggyBlackApplicable:c,isSwiggyBlackOtpAnimationApplicable:d,isPopCart:u,isBoltCartM3:m,isAffordableCartM2:p});_.current&&(E.current=n.loadAnimation({container:_.current,renderer:"svg",loop:!1,autoplay:!1,animationData:r,rendererSettings:{hideOnTransparent:!0,progressiveLoad:!0}}),O.current=(({isAffordableCartM2:e,isBoltCartM3:t,isSwiggyBlackOtpAnimationApplicable:a,lottieData:n})=>{switch((({isAffordableCartM2:e,isBoltCartM3:t,isSwiggyBlackOtpAnimationApplicable:a})=>e?ag.AFFORDABLE_M2:t&&!a?ag.BOLT_M3:ag.DEFAULT)({isAffordableCartM2:e,isBoltCartM3:t,isSwiggyBlackOtpAnimationApplicable:a})){case ag.AFFORDABLE_M2:return rg(n,fy.TRING_SOUND);case ag.BOLT_M3:return rg(n,fy.SPEEDY_SOUND);default:return rg(n,fy.TRING_SOUND)}})({isAffordableCartM2:p,isBoltCartM3:m,isSwiggyBlackOtpAnimationApplicable:d,lottieData:r}),E.current.addEventListener("DOMLoaded",()=>{var e,t;I(null!==(t=null===(e=E.current)||void 0===e?void 0:e.totalFrames)&&void 0!==t?t:0),N(!0),0===b.current&&(b.current=Date.now())}),E.current.addEventListener("loaded_images",()=>{P(!0),0===y.current&&(y.current=Date.now())}),E.current.addEventListener("complete",()=>{f||v(!0)}),null===(e=null==E?void 0:E.current)||void 0===e||e.addEventListener("error",e=>{D(tg.LOTTIE_ERROR,e)}),null===(t=null==E?void 0:E.current)||void 0===t||t.addEventListener("enterFrame",w))}catch(e){Object(s.Z)(e),D(tg.FETCH_FAILED,e)}})),[D,o,c,d,u,m,p,w,f]);return Object(s.Db)(()=>(j(),0===C.current&&(C.current=Date.now()),()=>{E.current&&E.current.destroy()})),Object(i.useEffect)(()=>{f&&(e===iy.LOADING?k(my,!0):e===iy.SUCCESS&&k(M,!1))},[k,f,e,M]),Object(i.useEffect)(()=>(S&&R&&!f?(g.current&&clearTimeout(g.current),L(),k(uy,!1),"function"==typeof t&&t()):g.current||(g.current=setTimeout(()=>{S&&R||(D(tg.TIMEOUT),L())},5e3)),()=>{g.current&&clearTimeout(g.current)}),[S,D,R,t,k,f,L]),l.a.createElement($y,{ref:_,"data-testid":ka,"aria-hidden":"true"})});const lg=(e,t)=>1.5+.5*(e+t),sg=p.default.div`
    position: absolute;
    top: 3rem;
    z-index: 1;
    width: 100%;
    display: flex;
    text-align: center;

    @supports (top: env(safe-area-inset-top)) {
        top: calc(2.5rem + env(safe-area-inset-top));
    }
`,cg=Object(p.default)(m.Text)(({theme:e})=>({marginLeft:"0.4rem",width:"auto",b:Object.assign({},e.typography["V2.body1.neutral.bold"])})),dg=p.default.div(({theme:e,isFreeDel:t})=>({display:"flex",alignItems:"center",borderRadius:e.cornerRadius.small,background:t?e.colors[e.colorMode].rain_Sub:"rgba(221, 251, 239, 0.70)",borderColor:t?"rgba(101, 65, 228, 0.30)":"rgba(27, 166, 114, 0.40)",borderStyle:"solid",borderWidth:"1px",padding:"0.625rem",margin:"0 1rem",overflow:"hidden",width:"100%"})),ug=p.default.div`
    height: ${24}px;
    width: ${24}px;
`,mg=p.default.div`
    flex-grow: 1;
`,pg=p.default.div(({isOnlyOneLine:e,theme:t,isBolt:a})=>Object.assign({display:"table",padding:t.spacing.small,minWidth:"20%",margin:`-${e?t.spacing.large:t.spacing.small} auto`},a&&{marginTop:"5px"})),_g=(e,t)=>void 0!==t&&(e=>e/2!=0)(t)?`translateY(${e}px) rotate(180deg)`:`translateY(${e}px)`,Eg=(e,t=1)=>p.keyframes`
    0% {
        opacity: 0;
        transform: ${_g(6,e)};
    }
    100% {
        opacity: ${t};
        transform: ${_g(0,e)};
    }
`,Cg=Object(p.default)(m.Text)`
    text-align: center;
    letter-spacing: 1.5px;
    opacity: 0;
    text-transform: uppercase;
    animation: ${({index:e})=>p.css`
            ${Eg()} 0.5s cubic-bezier(0.46, 0.03, 0.52, 0.96) ${lg(e,1)}s forwards
        `};
`,bg=p.default.div`
    width: 100%;
    height: 1px;
    opacity: 0;
    background: linear-gradient(
        91deg,
        rgba(179, 151, 131, 0) 0.33%,
        rgba(110, 80, 83, 0.6) 50.45%,
        rgba(255, 231, 183, 0) 100.57%
    );
    filter: blur(0px);
    animation: ${({index:e})=>p.css`
            ${Eg(e,.4)} 0.2s cubic-bezier(0.46, 0.03, 0.52, 0.96) ${lg(e,1.5)}s forwards
        `};
`,yg=p.default.div`
    opacity: 0;
    max-width: 65%;
    max-height: 20px;
    margin: -${({theme:e})=>e.spacing.xxSmall} auto 0;
    margin-bottom: -${({theme:e})=>e.spacing.xxSmall};
    animation: ${({index:e})=>p.css`
            ${Eg(e)} 0.2s cubic-bezier(0.46, 0.03, 0.52, 0.96) ${lg(e,1.5)}s forwards
        `};
`;var gg=Object(i.memo)((function({width:e=24,height:t=24,isFreeDel:a}){return a?l.a.createElement(u.Image,{cloudinaryWidth:2*e,cloudinaryHeight:2*t,cloudinaryId:"transition_screen/Free-Delivery-final.png",height:String(t),width:String(e)}):l.a.createElement(u.Image,{cloudinaryId:"transition_screen/generic-final.png",height:String(t),width:String(e),cloudinaryWidth:2*e,cloudinaryHeight:2*t})})),Og=Object(i.memo)((function({savings:e,tickState:t,isFreeDel:a,isMilestoneUnlockEligible:n}){const o=Object(i.useMemo)(()=>((e,t)=>{if(an(e))return t?Object(s.Bb)("[[Reward Unlocked!]]"):"";const a=(null==e?void 0:e.successMessageInfo)||(null==e?void 0:e.successMessage);return an(a)?t?Object(s.Bb)("[[Reward Unlocked!]]"):"":Object(s.Bb)(t?a+" & reward unlocked!":a)})(e,n),[e,n]);return an(e)||t!==iy.SUCCESS||an(e.successMessage)&&an(e.successMessageInfo)&&!n?null:l.a.createElement(sg,{"data-testid":za},l.a.createElement(dg,{"data-testid":"tick_savings",isFreeDel:a},l.a.createElement(mg,null),l.a.createElement(ug,null,l.a.createElement(gg,{isFreeDel:a})),l.a.createElement(cg,{variant:"V2.body3.neutral.regular",color:a?"rain":"positive",maxLines:2,textAlign:"left"},o),l.a.createElement(mg,null)))}));Ho(".BlackMembershipBenefits_benefitImage_5mcSAjgn{width:14px;height:13px;vertical-align:sub}");const hg=({message:e,index:t,length:a,isOnlyOneLine:n,isBolt:o})=>{const r=Object(i.useMemo)(()=>Object(s.Bb)(e,o?"":"BlackMembershipBenefits_benefitImage_5mcSAjgn"),[o,e]),c=Object(i.useMemo)(()=>t===a-1,[t,a]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(Cg,{variant:"V2.overline.neutral.bold",color:o?"Dineout_Primary":"secondary_One_Blck",index:t},r),n&&!o&&l.a.createElement(bg,{index:t}),!c&&!o&&l.a.createElement(yg,{index:t},l.a.createElement(u.Image,{cloudinaryId:"portal/testing/one-black-test/star_with_border_bottom.png",alt:"border-bottom"})))};var Ag=Object(i.memo)(({successMessageInfoV2:e,setBlackBenefitsTimeout:t,isBolt:a})=>{const n=Object(i.useMemo)(()=>e?e.includes("<br/>")?e.split("<br/>"):[e]:[],[e]);Object(i.useEffect)(()=>{t(n.length)},[t,n.length]);const o=Object(i.useMemo)(()=>1===n.length,[n]);return l.a.createElement(pg,{"data-testid":"tick_black_membership_benefits",isOnlyOneLine:o,isBolt:a},n.length>0&&n.map((e,t)=>l.a.createElement(hg,{key:e,message:e,index:t,length:null==n?void 0:n.length,isOnlyOneLine:o,isBolt:a})))});const fg=({successFooterMessage:e,showContent:t,tickState:a})=>an(e)||a!==iy.SUCCESS?null:l.a.createElement(Zy,{show:t},l.a.createElement(m.Text,{variant:"V2.subheading1.neutral.medium",color:"text_High_Emphasis",textAlign:"center"},e.text),!an(e.icon)&&l.a.createElement(qy,{"data-testid":"tick_footer_success_icon"},l.a.createElement(u.Image,{cloudinaryId:e.icon,width:"56px",height:"24px",alt:"category icon"})));var vg=Object(i.memo)((function({tickState:e,postSuccessCb:t,successTimeout:a=2e3,customSuccessScreen:n=!1,deliveryAddress:o,a11yTexts:r,onError:c,getSuperMessage:d,isOfferBundleApplied:u,isMilestoneUnlockEligible:m,onTransitionScreenView:p,recordTransitionScreenLoadTime:_,isSwiggyBlackApplicable:E,isSwiggyBlackOtpAnimationApplicable:C,isPopCart:b,successFooterMessage:y,isBoltCartM3:g,isAffordableCartM2:O}){const[h,A]=Object(i.useState)(!1),[f,v]=Object(i.useState)(!1),[T,I]=Object(i.useState)(e),[S,N]=Object(i.useState)(0),R=Object(i.useMemo)(()=>E&&T===iy.SUCCESS,[E,T]),P=Object(i.useMemo)(()=>g&&T===iy.SUCCESS,[g,T]),D=Object(i.useMemo)(()=>O&&T===iy.SUCCESS,[O,T]),L=Object(i.useMemo)(()=>!R&&!P&&!D,[R,P,D]);Object(i.useEffect)(()=>{if(e!==iy.SUCCESS)return;const t=window.setTimeout(()=>{I(e)},1e3);return()=>clearTimeout(t)},[e]);const k=Object(i.useCallback)(()=>{A(!0),t&&t()},[t]),x=Object(i.useCallback)(()=>{h||k()},[h,k]);Object(i.useEffect)(()=>{if(T!==iy.SUCCESS||"function"!=typeof t)return;n&&k();const e=(({isSwiggyBlackApplicable:e=!1,blackBenefitsTimeout:t,successTimeout:a,isBoltCartM3:n=!1,isAffordableCartM2:o=!1})=>n||o?3500:e?1e3*(2+1*t):a)({isSwiggyBlackApplicable:E,blackBenefitsTimeout:S,successTimeout:a,isBoltCartM3:g,isAffordableCartM2:O}),o=setTimeout(x,e);return()=>{clearTimeout(o)}},[T,t,k,x,n,a,E,S,g,O]);const w=Object(i.useCallback)(()=>{v(!0)},[]),M=Object(i.useMemo)(()=>{const e=null!=r?r:dy;return T==iy.SUCCESS?e[iy.SUCCESS]:e[iy.LOADING]},[r,T]),j=Object(i.useMemo)(()=>null==d?void 0:d(),[d]),B=Object(i.useMemo)(()=>(e=>{var t;if(an(null==e?void 0:e.annotation))return ue.HOME;switch(null===(t=null==e?void 0:e.annotation)||void 0===t?void 0:t.toLowerCase()){case de.HOME.toLowerCase():return ue.HOME;case de.WORK.toLowerCase():return ue.WORK;case de.FRIENDS_AND_FAMILY.toLowerCase():return ue.FRIENDS_AND_FAMILY;case de.OTHER.toLowerCase():default:return ue.OTHER}})(o),[o]);return Object(s.Db)(()=>{null==p||p()}),l.a.createElement(Jy,{"data-testid":La,tabIndex:0,role:Kr.ALERT,"aria-live":"assertive","aria-label":M},L&&l.a.createElement(Og,{savings:j,tickState:T,isFreeDel:u,isMilestoneUnlockEligible:m}),l.a.createElement(ig,{onDOMLoaded:w,onError:c,deliveryAddressAnotation:B,tickState:T,recordTransitionScreenLoadTime:_,isSwiggyBlackApplicable:E,isSwiggyBlackOtpAnimationApplicable:C,isPopCart:b,isBoltCartM3:g,isAffordableCartM2:O}),l.a.createElement(Xy,{show:f,"data-testid":"tick_address"},!D&&(R||P)&&l.a.createElement(Ag,{successMessageInfoV2:null==j?void 0:j.successMessageInfo,setBlackBenefitsTimeout:N,isBolt:P}),L&&l.a.createElement(ng,{deliveryAddress:o})),l.a.createElement(fg,{successFooterMessage:y,showContent:f,tickState:T}))})),Tg=Object(i.memo)((function(e){const{onTransitionScreenError:t,transitionScreenEnabled:a}=e,[n,o]=Object(i.useState)(!1),r=Object(i.useCallback)((e,a,n)=>{o(!0),null==t||t(e,a,n)},[t]);return!e.isRegular||an(e.deliveryAddress)||n||an(a)?l.a.createElement(zy,Object.assign({},e)):l.a.createElement(vg,Object.assign({},e,{onError:r}))}));const Ig=p.default.div(({theme:e})=>({background:e.colors[e.colorMode].positive_Sub,padding:`${e.spacing.small} ${e.spacing.medium}`,marginBottom:e.spacing.large,boxShadow:"0px 1px 16px rgba(0, 0, 0, 0.05)",borderBottomRightRadius:e.cornerRadius.small,borderBottomLeftRadius:e.cornerRadius.small,display:"flex",alignItems:"center"})),Sg=p.default.div(({theme:e})=>({marginLeft:e.spacing.xxSmall})),Ng=p.default.div(({theme:e})=>({display:"flex",alignItems:"center",padding:"0px "+e.spacing.small,marginTop:e.spacing.xxxSmall}));function Rg(){return l.a.createElement("img",{crossOrigin:"anonymous",src:Object(s.nb)("PaymentLogos/paymentIcons/couponAppliedNew"),width:20,height:20})}var Pg=Object(i.memo)((function(e){return l.a.createElement(Ig,{"data-testid":"offer_banner_container"},l.a.createElement(Rg,null),l.a.createElement(Ng,null,l.a.createElement(m.Text,{variant:"V2.body2.neutral.bold",color:"positive","data-testid":"offer_banner_code"},e.offerCode),l.a.createElement(Sg,null,l.a.createElement(m.Text,{variant:"V2.body2.neutral.medium",color:"positive","data-testid":"offer_banner_title"},In.OFFER_APPLIED))))})),Dg=Object(i.memo)((function(e){return l.a.createElement(Pg,Object.assign({},e))})),Lg="DeliveryAddressView_separator_uezis2ae";function kg(){return l.a.createElement("svg",{width:"4",height:"15",viewBox:"0 0 4 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M2 0V27",stroke:"#6541E4",strokeWidth:"5"}))}Ho(".DeliveryAddressView_wrapper_kxT1wWaY{background-color:#fff;padding:18px 23px;width:100%}.DeliveryAddressView_wrapperWithoutCoupon_OPFPDOp-{border-radius:0 0 24px 24px;box-shadow:0 1px 16px rgba(0,0,0,.05)}.DeliveryAddressView_innerWrapper_5SY9TLez{display:flex;width:100%}.DeliveryAddressView_icons_FEnExDFU{display:flex;flex-direction:column;align-items:center;line-height:0}.DeliveryAddressView_linkIcon_Lt0hTkcr{height:24px;width:6px;padding:4px 0}.DeliveryAddressView_details_IkHT112J{width:100%;padding:0 16px;line-height:17px;letter-spacing:-.3px}.DeliveryAddressView_pickupDetails_P-s8s7Ln{display:flex}.DeliveryAddressView_deliveryDetails_id5kbYW4{display:flex;align-items:baseline;margin-top:8px}.DeliveryAddressView_restaurantName_Enfn2k6s{max-width:50%;color:rgba(2,6,12,.7490196078);text-transform:capitalize;padding-right:8px;flex-shrink:0}.DeliveryAddressView_orderDetails_QTrjMjNm,.DeliveryAddressView_restaurantName_Enfn2k6s{font-size:14px;line-height:17px;font-weight:400;letter-spacing:-.3px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.DeliveryAddressView_orderDetails_QTrjMjNm{color:rgba(2,6,12,.4509803922);padding-left:8px}.DeliveryAddressView_annotation_Kcxvu0nv{color:rgba(2,6,12,.7490196078);padding-bottom:2px;text-transform:capitalize;padding-right:8px;overflow:auto;max-width:60%;flex-shrink:0}.DeliveryAddressView_annotation_Kcxvu0nv,.DeliveryAddressView_deliveryAddress_zpxImkZw{font-size:14px;line-height:17px;font-weight:400;letter-spacing:-.3px;text-overflow:ellipsis;white-space:nowrap}.DeliveryAddressView_deliveryAddress_zpxImkZw{overflow:hidden;color:rgba(2,6,12,.4509803922);padding-left:8px}.DeliveryAddressView_pickupSubtext_NPIKtTFs,.DeliveryAddressView_separator_uezis2ae{color:rgba(2,6,12,.4509803922);font-weight:400}.DeliveryAddressView_pickupSubtext_NPIKtTFs{font-size:14px;line-height:17px;letter-spacing:-.3px;text-overflow:ellipsis;overflow:hidden;margin-left:8px;white-space:nowrap}.DeliveryAddressView_deliveryTimeContainer_GbuT2H3i{margin-top:10px}.DeliveryAddressView_deliveryTimeAnnotation_T8h4u-L9{font-weight:400;color:rgba(2,6,12,.4509803922)}.DeliveryAddressView_deliveryTimeAnnotation_T8h4u-L9,.DeliveryAddressView_deliveryTimeText_AP21fvS0{font-size:14px;line-height:17px;letter-spacing:-.3px}.DeliveryAddressView_deliveryTimeText_AP21fvS0{font-weight:600;color:rgba(2,6,12,.7490196078);margin-left:4px}");var xg=Object(i.memo)((function(e){const{PickupIcon:t,pickupName:a,deliveryAddress:n,deliveryAnnotation:o,DeliveryIcon:r,couponBannerVisible:i,pickupSubtext:c,deliveryTimeAnnotation:u,deliveryTime:m}=e,p=d()("DeliveryAddressView_wrapper_kxT1wWaY",{"DeliveryAddressView_wrapperWithoutCoupon_OPFPDOp-":!i});return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:p},l.a.createElement("div",{className:"DeliveryAddressView_innerWrapper_5SY9TLez"},l.a.createElement("div",{className:"DeliveryAddressView_icons_FEnExDFU"},l.a.createElement("span",{"data-testid":"dav_outlet_icon"},l.a.createElement(t,null)),l.a.createElement(kg,null),l.a.createElement("span",{"data-testid":"dav_addr_icon"},l.a.createElement(r,null))),l.a.createElement(s.O,{text:`Delivering to: ${o} ${n}`}),l.a.createElement("div",{className:"DeliveryAddressView_details_IkHT112J","aria-hidden":"true"},l.a.createElement("div",{className:"DeliveryAddressView_pickupDetails_P-s8s7Ln"},l.a.createElement("div",{className:"DeliveryAddressView_restaurantName_Enfn2k6s","data-testid":"dav_outlet_name"},a),c&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:Lg},"|"),l.a.createElement("p",{className:"DeliveryAddressView_pickupSubtext_NPIKtTFs"},c))),l.a.createElement("div",{className:"DeliveryAddressView_deliveryDetails_id5kbYW4"},l.a.createElement("div",{className:"DeliveryAddressView_annotation_Kcxvu0nv","data-testid":"dav_addr_tag"},o),n&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:Lg},"|"),l.a.createElement("div",{className:"DeliveryAddressView_deliveryAddress_zpxImkZw","data-testid":"dav_addr_dtls"},n))),u&&m&&l.a.createElement("div",{className:"DeliveryAddressView_deliveryTimeContainer_GbuT2H3i"},l.a.createElement("span",{className:"DeliveryAddressView_deliveryTimeAnnotation_T8h4u-L9"},u),l.a.createElement("span",{className:"DeliveryAddressView_deliveryTimeText_AP21fvS0"},m))))))})),wg=Object(i.memo)((function(e){return l.a.createElement(xg,Object.assign({},e))}));function Mg(e){var t,a,n,o,r,c;const[d,m]=Object(i.useState)(""),[p,_]=Object(i.useState)(!0),[C,b]=Object(i.useState)(!1),{verifyVpa:y}=e.actions,g=Object(i.useCallback)(e=>{m(e),b(!1)},[]),O=Object(i.useCallback)(()=>{var t;!Ke(t=d)&&/\w@\w/.test(t)?y(d,p,e.methodData):b(!0)},[e.methodData,p,d,y]),h=Object(i.useCallback)(e=>{13===e.keyCode&&(e.preventDefault(),O())},[O]),A=Object(i.useCallback)(()=>{_(!p)},[p]),f=Object(i.useCallback)(e=>{e.preventDefault(),O()},[O]),v=Object(i.useMemo)(()=>({disabled:e.verifyVpaInProgress,name:"upi-input",autoComplete:"off","data-testid":"upi_input"}),[e.verifyVpaInProgress]),T=Object(i.useMemo)(()=>({"data-testid":"save_upi_tick"}),[]),I=C||e.invalidVpa;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"AddNewVpa-v4_content_zfjpTzXp","data-testid":"add-new-vpa-container"},l.a.createElement(s.y,{label:"Enter your UPI ID",labelClassName:"",className:"AddNewVpa-v4_contentContainer_dg4aY72-",value:d,onChange:g,onDown:h,attrs:v,error:C||e.invalidVpa,errorMessage:I?"Invalid UPI":void 0}),l.a.createElement("div",{className:"AddNewVpa-v4_contentSaveVpa_gyL62lLX"},l.a.createElement(s.h,{accent:s.f.SWIGGY_ORANGE,checked:p,onChange:A,name:"save-vpa",attrs:T}),l.a.createElement("span",{className:"AddNewVpa-v4_contentSaveVpaText_zn4Uo-Oq","data-testid":"save_upi_text"},null!==(n=null===(a=null===(t=e.methodData)||void 0===t?void 0:t.meta)||void 0===a?void 0:a.consentMsg)&&void 0!==n?n:"Securely save VPA for future use")),l.a.createElement(E.SuperButton,{isDisabled:C||""===d,onClick:f,buttonType:"primary",variant:"fullwidth",buttonSize:"large","data-testid":"verify_btn"},"Verify and Pay"),l.a.createElement("img",{className:"AddNewVpa-v4_contentIcons_-pCQ1m5f",crossOrigin:"anonymous",src:Tn("PaymentLogos/paymentIcons/upiIcons")}),(null===(r=null===(o=null==e?void 0:e.methodData)||void 0===o?void 0:o.meta)||void 0===r?void 0:r.bottomIconUrl)&&l.a.createElement(u.Image,{className:"AddNewVpa-v4_contentBottomIcon_55-zBGx7",cloudinaryId:null===(c=e.methodData.meta)||void 0===c?void 0:c.bottomIconUrl,cloudinaryHeight:64,cloudinaryWidth:128,height:"32px",width:"64px","data-testid":"bottom_icon"})))}Ho(".AddNewVpa-v4_content_zfjpTzXp{display:flex;flex-direction:column;padding:28px 16px;background:#fff;height:100%}.AddNewVpa-v4_contentContainer_dg4aY72-{display:block;margin:0 0 28px}.AddNewVpa-v4_contentIcons_-pCQ1m5f{margin-top:10px}.AddNewVpa-v4_contentSaveVpa_gyL62lLX{display:flex;margin-bottom:32px;margin-top:4px}.AddNewVpa-v4_contentSaveVpaText_zn4Uo-Oq{font-size:14px;line-height:17px;font-weight:400;letter-spacing:-.3px;color:rgba(2,6,12,.7490196078);margin-left:8px;margin-top:2px}.AddNewVpa-v4_contentBottomIcon_55-zBGx7{width:-webkit-fit-content;width:fit-content;position:absolute;bottom:40px;left:calc(50% - 32px)}.AddNewVpa-v4_contentHowModal_LnGIzvr1{padding:16px}.AddNewVpa-v4_contentHowModalTitle_JnEmfAJB{font-size:20px;font-weight:700}.AddNewVpa-v4_contentHowModalContent_hEqLsEGb{margin-top:17px}.AddNewVpa-v4_contentHowModalContentRow_0kKZKyqq{display:flex;align-items:center;margin-bottom:30px}.AddNewVpa-v4_contentHowModalContentRow_0kKZKyqq:last-child{margin-bottom:10px}.AddNewVpa-v4_contentHowModalContentRowText_J-LDQtu1{color:#535665;margin-left:15px;max-width:290px}.AddNewVpa-v4_contentHowModalContentRowIcon_x40oLvV6{max-height:50px}");const jg=({r:e,g:t,b:a,opacity:n})=>`rgba(${e}, ${t}, ${a}, ${n})`,Bg=(e,t,a,n)=>0===n?a:t+a*(e/n),Ug=(e,t)=>{if(1===e.length)return jg(e[0]);const a=e.find(({colorEndTime:e})=>t<=e);return Object(s.ub)(a)?"#E53554":jg(a)};Ho(".TimerWidget_container_3Pc0qMb1,.TimerWidget_outerContainer_129JqB3U{display:flex;align-items:center;justify-content:center}.TimerWidget_container_3Pc0qMb1{box-shadow:0 2px 20px rgba(0,0,0,.12);background:#fff}.TimerWidget_outerContainer_129JqB3U{height:200px;width:200px;border-radius:100px;position:absolute;top:16%;left:calc(50% - 100px);background:rgba(226,226,231,.25)}.TimerWidget_timer_Mt3ALoRt{position:absolute;left:0;top:0;width:100%;height:100%}.TimerWidget_timer_Mt3ALoRt,.TimerWidget_timerTextContainer_QVJ4Dflc{display:flex;justify-content:center;align-items:center}.TimerWidget_timerTextContainer_QVJ4Dflc{flex-direction:column}.TimerWidget_timerText_O-kIbqw-{font-size:13px;line-height:16px;font-weight:400;letter-spacing:-.3px;color:rgba(2,6,12,.4509803922);display:inline-block;max-width:90px;margin-top:-2px}.TimerWidget_timerTime_s5ZfS-pK{font-size:28px;line-height:32px;font-weight:800;letter-spacing:-.6px;display:inline-block;color:rgba(2,6,12,.7490196078);margin-top:1px}");const Hg=e=>({position:"relative",width:e,height:e,borderRadius:e/2});function Gg(e){const{center:t,offset:a,pathLength:n,stroke:o}=e,r=mo.NUMBER_OF_STROKES-Math.floor(a/n*mo.NUMBER_OF_STROKES);return l.a.createElement(l.a.Fragment,null,[...Array(mo.NUMBER_OF_STROKES)].map((e,a)=>{const n=`rotate(${360*a/mo.NUMBER_OF_STROKES} ${t} ${t})`,i=a>=r?"#F0F0F5":o;return l.a.createElement(l.a.Fragment,null,a%(mo.NUMBER_OF_STROKES/4)?l.a.createElement("rect",{x:t,y:"2",key:a,width:"1",height:"9",fill:i,transform:n}):l.a.createElement("rect",{x:t,y:"2",key:a,width:"1",height:"13",fill:i,transform:n}))}))}var Yg=Object(i.memo)((function(e){const{duration:t,colors:a,size:n=mo.SIZE,strokeLinecap:o=mo.STROKELIKE_CAP,strokeWidth:r=mo.STROKE_WIDTH,startAt:s}=e,{path:c,pathLength:d,stroke:u,strokeDashoffset:m,timeProps:p}=(e=>{const{duration:t,colors:a,size:n,strokeWidth:o,rotation:r,startAt:l=0}=e,{duration:s}=Object(i.useRef)({duration:t}).current,{path:c,pathLength:d}=Object(i.useMemo)(()=>((e,t,a)=>{const n=e/2,o=t/2,r=n-o,i=2*r,l="clockwise"===a?"1,0":"0,1";return{path:`m ${n},${o}\n            a ${r},${r} 0 ${l} 0,${i}\n            a ${r},${r} 0 ${l} 0,-${i}`,pathLength:2*Math.PI*r}})(n,o,r),[n,o,r]),u=Object(i.useMemo)(()=>((e,t)=>{const a=(e=>{const t=(e=>e.map(e=>{var t;const a=null===(t=e.colorCode.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(e,t,a,n)=>`#${t}${t}${a}${a}${n}${n}`).substring(1).match(/.{2}/g))||void 0===t?void 0:t.map(e=>parseInt(e,16));if(!a)throw new Error("Error in genrating color code");return[{r:a[0],g:a[1],b:a[2],opacity:1},e.duration]}))(e);let a=0,n=[];return n=t.map((e,n)=>{const o=t.length===n+1;let r="0%";if(n>0){const e=t[n-1][1],i=Math.round(100*e);a+=i,a>100||o?(a=100,r="100%"):r=a+"%"}const i={offset:r,stopColor:jg(e[0]),key:n};return[Object.assign(Object.assign({},e[0]),{gradient:i}),e[1]]}),n})(e);let n=0;return a.map((e,o)=>{const r=a.length===o+1;if(n>=t||r)return n=t,Object.assign(Object.assign({},e[0]),{colorEndTime:n});const i=n,l=void 0!==e[1]?i+e[1]*t:t,s=l>=t?t:l,c=a[o+1][0],d={goalR:c.r-e[0].r,goalG:c.g-e[0].g,goalB:c.b-e[0].b};return n=s,Object.assign(Object.assign(Object.assign({},e[0]),d),{colorStartTime:i,colorEndTime:s,duration:s-i})})})(a,s),[a,s]),{elapsedTime:m}=LE({isPlaying:!0,options:{duration:t,onComplete:()=>{},startAt:l}});return{path:c,pathLength:d,stroke:Ug(u,m),strokeDashoffset:Bg(m,0,d,s),timeProps:{remainingTime:Math.ceil(s-m),elapsedTime:m}}})({duration:t,colors:a,rotation:mo.ROTATION,size:n,strokeWidth:r,startAt:s});return l.a.createElement("div",{className:"TimerWidget_outerContainer_129JqB3U"},l.a.createElement("div",{style:Hg(mo.CONTAINER_SIZE),"data-testid":"tw_container",className:"TimerWidget_container_3Pc0qMb1"},l.a.createElement("svg",{width:n,height:n,fill:"none"},l.a.createElement(Gg,{offset:m,pathLength:d,center:n/2,stroke:u}),l.a.createElement("path",{d:c,fill:"none",strokeWidth:r}),l.a.createElement("path",{d:c,fill:"none",stroke:u,strokeLinecap:o,strokeWidth:r,strokeDasharray:d,strokeDashoffset:m})),l.a.createElement("div",{className:"TimerWidget_timer_Mt3ALoRt"},l.a.createElement("div",{className:"TimerWidget_timerTextContainer_QVJ4Dflc"},l.a.createElement("div",{className:"TimerWidget_timerTime_s5ZfS-pK","data-testid":"tw_time"},p.remainingTime<60?p.remainingTime:(e=>{const t=Math.floor(e/60);return`${("0"+t).slice(-2)}:${(e=>e<10?"0"+e:e.toString())(e-60*t)}`})(p.remainingTime)),l.a.createElement("div",{className:"TimerWidget_timerText_O-kIbqw-"}," ",p.remainingTime<60?"secs":"mins"," remaining")))))})),Wg=Object(i.memo)((function(e){return l.a.createElement(Yg,Object.assign({},e))})),Fg="styles_container_Xc10cXyJ",Vg="styles_containerContent_o-nR-rGI";Ho(".styles_container_Xc10cXyJ{width:100%;justify-content:center;text-align:center;margin:0 40px;padding-bottom:36px}.styles_container_Xc10cXyJ,.styles_containerContent_o-nR-rGI{display:flex;flex-direction:column;align-items:center}.styles_containerContent_o-nR-rGI{margin:auto}.styles_containerContentTitle_1oMiXrof{font-size:20px;line-height:24px;font-weight:600;top:calc(232px + 16%);color:rgba(2,6,12,.9215686275)}.styles_containerContentMeta_gC-3ClOH,.styles_containerContentTitle_1oMiXrof{letter-spacing:-.3px;position:absolute;width:80%;left:10%}.styles_containerContentMeta_gC-3ClOH{font-size:14px;line-height:17px;font-weight:400;color:rgba(2,6,12,.4509803922);padding:0 20px;bottom:90px}.styles_containerContentMetaNote_sSbgVJLl{font-size:14px;line-height:17px;font-weight:600;letter-spacing:-.3px;color:rgba(2,6,12,.9215686275)}.styles_containerActionIntent_bfb-VPKE{position:absolute;bottom:36px}");var Kg=Object(i.memo)((function({isIntent:e=!1}){const t=e?Va:wa;return l.a.createElement("div",{className:"styles_containerContentMeta_gC-3ClOH","data-testid":t.META},l.a.createElement("span",{className:"styles_containerContentMetaNote_sSbgVJLl"},"Note: "),"Do not hit back button or close this screen until the transaction is complete")})),zg=Object(i.memo)((function({onCancelTransaction:e,onSecondaryActionClick:t,paymentAmount:a,itemCount:n,showCancelModal:o}){const r=Object(i.useMemo)(()=>({text:"Yes, cancel",onClick:e}),[e]),s=Object(i.useMemo)(()=>({text:"No",onClick:t}),[t]);return o?l.a.createElement(Yb,{hideOnOverlayClick:!1,hideIcon:!0,title:"Are you sure you want to cancel the payment?",message:"This payment request will get cancelled only if you have not completed the payment on UPI app",primaryAction:r,secondaryAction:s,info:tn("PAYMENT OF ₹{0}",a),subInfo:tn(" • FOR {0} ITEMS",String(n)),onClose:t}):null})),$g=Object(i.memo)((function({onCancel:e,isIntent:t=!1}){const a=t?Va:wa,n=d()({"styles_containerActionIntent_bfb-VPKE":t});return l.a.createElement(C.TextButton,{className:n,buttonSize:"medium",color:"primary",onClick:e,"data-testid":a.CANCEL_PAYMENT_LINK},In.CANCEL_PAYMENT)}));function Xg(e){const{setShowCancelModal:t,onCancelTransaction:a}=e,n=po,o=Object(i.useCallback)(e=>{e.preventDefault(),t(!0)},[t]),r=Object(i.useCallback)(()=>{t(!1)},[t]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:Fg,"data-testid":wa.CONTAINER},l.a.createElement("div",{className:Vg},l.a.createElement(Wg,{duration:e.countdownTimeInS,isPlaying:!0,colors:n,size:e.radius,strokeWidth:e.strokeWidth,startAt:null==e?void 0:e.startAt}),l.a.createElement("div",{className:"styles_containerContentTitle_1oMiXrof","data-testid":wa.TITLE},"Open your UPI app to approve the payment request before the timer runs out"),l.a.createElement(Kg,null)),l.a.createElement($g,{onCancel:o})),l.a.createElement(zg,{onCancelTransaction:a,onSecondaryActionClick:r,paymentAmount:e.paymentAmount,itemCount:String(e.itemCount),showCancelModal:e.showCancelModal}))}var Jg=Object(i.memo)((function(e){const{setShowCancelModal:t,onCancelTransaction:a}=e,n=Object(i.useCallback)(()=>{t(!1)},[t]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:Fg,"data-testid":Va.CONTAINER},l.a.createElement("div",{className:Vg},l.a.createElement(Tg,{tickState:e.tickState,mainText:e.mainText,subText:e.subText,isSuper:e.isSuper,isSwiggyMoney:e.isSwiggyMoney,accent:e.accent}),l.a.createElement(Kg,{isIntent:!0}))),l.a.createElement(zg,{onCancelTransaction:a,onSecondaryActionClick:n,paymentAmount:e.paymentAmount,itemCount:String(e.itemCount),showCancelModal:e.showCancelModal}))}));Ho('@charset "UTF-8";.SplitPayBanner_splitPayInfoMessageAndButtonWithAddMoneyCta_Pi5zYEgI,.SplitPayBanner_splitPayInfoMessageAndButtonWithoutAddMoneyCta_s6QkNlGg,.SplitPayBanner_splitPayMainContainer_Grw02QuU,.SplitPayBanner_splitPayMainContainerContent_7KVys6qT,.SplitPayBanner_splitPayTitleBalanceContainer_Phh5Wu6L{display:flex}.SplitPayBanner_splitPayInfoMessageAndButtonWithAddMoneyCta_Pi5zYEgI,.SplitPayBanner_splitPayMainContainerContent_7KVys6qT{flex-direction:column}.SplitPayBanner_splitPayTitleBalanceContainer_Phh5Wu6L{align-items:center}.SplitPayBanner_splitPay_4aZ4ipSQ{position:relative;z-index:10;border-bottom:1px dashed #e2e2e7}.SplitPayBanner_splitPay_4aZ4ipSQ:first-child>div:first-child{border-top-left-radius:16px;border-top-right-radius:16px}.SplitPayBanner_splitPay_4aZ4ipSQ:last-child{border-bottom:none}.SplitPayBanner_splitPay_4aZ4ipSQ:last-child>div:first-child{border-bottom-left-radius:16px;border-bottom-right-radius:16px}.SplitPayBanner_splitPayContainer_4EB8t9uN{padding:19px 16px;background-color:#fff;overflow:hidden}.SplitPayBanner_splitPayContainerDisabled_biqp5Ohe{opacity:.7}.SplitPayBanner_splitPayMain_AgV-sRMD{outline:0}.SplitPayBanner_splitPayMainContainerContent_7KVys6qT{justify-content:center;width:100%;margin-left:16px}.SplitPayBanner_splitPayMainIcon_yYLH83nL{width:32px}.SplitPayBanner_splitPayMainTitle_2Mgbc2Xg{font-size:1rem;font-size:16px;line-height:19px;font-weight:400;letter-spacing:-.3px;padding:0!important}.SplitPayBanner_splitPayMainTitleDisabled_zpRY8jPv{color:rgba(2,6,12,.6)}.SplitPayBanner_splitPayMainBalance_5cUwLjep{padding-left:4px;font-size:13px;line-height:16px;font-weight:200;letter-spacing:-.3px;color:rgba(2,6,12,.7490196078);padding-right:12px}.SplitPayBanner_splitPayMainBalance_5cUwLjep:before{content:"₹";margin-right:.1rem}.SplitPayBanner_splitPayToggle_RohVbpHd{line-height:0}.SplitPayBanner_splitPayToggleChecked_cD8mH5o1{position:relative;top:-6px;margin-bottom:-6px}.SplitPayBanner_splitPayInfoMessage_b52kHPxb{font-size:13px;line-height:16px;font-weight:200;letter-spacing:-.3px;color:rgba(2,6,12,.6);margin-right:4px}.SplitPayBanner_splitPayInfoMessageWithoutCta_IJNmjp6W:empty{display:none}.SplitPayBanner_splitPayLearnMoreCta_UqVOxlsd{font-size:13px;line-height:16px;font-weight:400;letter-spacing:-.3px;letter-spacing:-.1px;color:#ff5200;white-space:nowrap;display:inline-flex}.SplitPayBanner_splitPayAddMoneyBtn_-fXdcPbV{line-height:100%}.SplitPayBanner_splitPayAddMoneyBtnContainer_lzq81dT5{animation:SplitPayBanner_expand_ki1Rmgdn .3s ease-out;margin-top:16px;transform:translateZ(0)}.SplitPayBanner_splitPayInfoMessageAndButtonWithoutAddMoneyCta_s6QkNlGg{flex-direction:column-reverse;margin-top:8px}.SplitPayBanner_splitPayLowBalance_ShxvhHEM{margin-top:4px}@keyframes SplitPayBanner_expand_ki1Rmgdn{0%{transform:translate3d(0,-6px,0)}to{transform:translateZ(0)}}');var Zg=Object(i.memo)((function(e){const{disabled:t,onClick:a,onView:n,ctaMessage:o}=e;return Object(s.Db)(()=>{n()}),l.a.createElement("div",{className:"SplitPayBanner_splitPayAddMoneyBtnContainer_lzq81dT5"},l.a.createElement(E.SuperButton,{autoFocus:!0,variant:"fullwidth",buttonType:"specialPositive",buttonSize:"medium",onClick:a,"data-testid":e.testId,isDisabled:t,className:"SplitPayBanner_splitPayAddMoneyBtn_-fXdcPbV"},o))}));const qg=(e,t=!1)=>Tn(e.iconUrl,{grayscale:t}),Qg=e=>e.enabled,eO=e=>an(e.splitPayIdentifier)?an(e.paymentCode)?"":e.paymentCode:e.splitPayIdentifier,tO=e=>e.poweredBy===cn.TWID?"portal/m/twid_logo.png":"",aO=e=>{var t;return(null===(t=e.paymentCode)||void 0===t?void 0:t.toUpperCase())===Q},nO=e=>e.isReward&&e.select,oO=e=>e.isReward,rO=(e,t,a,n)=>{let o=[...e];return n&&(o=o.filter(e=>!e.isReward)),o=null==o?void 0:o.filter(e=>!(aO(e)&&0===Number(null==e?void 0:e.eligibleBalance))),t&&(o=o.filter(e=>e.couponApplicable)),a&&(o=o.filter(e=>e.rewardApplicable)),o},iO=Object(p.default)(m.Text)(({theme:e})=>({marginTop:""+e.spacing.xxSmall})),lO=p.default.div(({theme:e})=>({backgroundImage:`linear-gradient(to right, ${e.colors[e.colorMode].background_Secondary}, ${e.colors[e.colorMode].background_Secondary}, ${e.colors[e.colorMode].background_Primary})`,padding:`${e.spacing.xxSmall} 6px ${e.spacing.xxSmall} 6px`,borderRadius:""+e.spacing.xxSmall,marginTop:""+e.spacing.xxSmall})),sO=p.default.div(({theme:e})=>({display:"flex",alignItems:"center",marginTop:e.spacing.xSmall})),cO=p.default.div(({theme:e})=>({width:e.spacing.xLarge,height:e.spacing.medium})),dO=Object(p.default)(y.GenericIcon)(()=>({display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}));var uO=Object(i.memo)((function(e){var t,a,n,o,r,c;const{data:u,handleChange:p,isSplitPayChecked:_,className:E,addMoneyActions:C,isFrictionLayout:b=!1,paymentGroupBanner:y,isAddMoneyCtaDisabled:g,swiggyMoneyInfoActions:O,onFlipkartToolTipShow:h,showViewAllRewardsCta:A=!1,handleViewAllRewardsClick:f,selectionType:v=dn.TOGGLE,analyticsEvents:T}=e,I=!b&&(null==u?void 0:u.showAddMoneyCta)&&null!=(null==u?void 0:u.addMoneyCtaMessage),S=I?null===(t=null==u?void 0:u.meta)||void 0===t?void 0:t.infoMessageWithCta:null===(a=null==u?void 0:u.meta)||void 0===a?void 0:a.infoMessageWithoutCta,R=Object(i.useMemo)(()=>!!S||!!u.meta.learnMoreHalfCard,[S,u.meta.learnMoreHalfCard]),P=Object(i.useMemo)(()=>(e=>{const t=(e=>{var t;const a=e.toUpperCase();return null!==(t=Da[a])&&void 0!==t?t:"spb"})(e);return{CONTAINER:t+"_container",MAIN:t+"_main",MAIN_ICON:t+"_icon",MAIN_TITLE:t+"_title",CHECK_BOX:t+"_cb",ADD_MONEY_CTA:t+"_add_money_cta",BALANCE:t+"_balance",PAYMENT_AMOUNT:t+"_amt",SELECTION_COMP:t+"_slctn_cmp"}})(eO(u)),[u]),{isEnabled:D,poweredByLogo:L,showBannerMessage:k,showDisableMessage:x,showOfferMessage:w,showPromoMessage:M}=Object(i.useMemo)(()=>(e=>{var t,a,n,o;return{isEnabled:Qg(e),showPromoMessage:Qg(e)&&!an(null===(t=e.meta)||void 0===t?void 0:t.promoMsg),showOfferMessage:Qg(e)&&!an(null===(a=e.meta)||void 0===a?void 0:a.offerMessage),showBannerMessage:Qg(e)&&!an(null===(n=e.meta)||void 0===n?void 0:n.bannerMessage),showDisableMessage:!Qg(e)&&!an(null===(o=e.meta)||void 0===o?void 0:o.disableMessage),poweredByLogo:tO(e)}})(u),[u]),j=(null==u?void 0:u.paymentCode)===oe.FLIPKART_SUPER_COIN,B=j||u.isReward,U=B&&!D,H=Object(i.useMemo)(()=>{var e;return l.a.createElement(Jo,{src:qg(u.meta,U),imgClassName:B?"":"SplitPayBanner_splitPayMainIcon_yYLH83nL",alt:u.displayName,"data-testid":P.MAIN_ICON,poweredByIconAlt:null!==(e=u.poweredBy)&&void 0!==e?e:"",customLogo:!B,poweredByLogo:an(L)?"":Object(s.nb)(L,{grayscale:U})})},[u.meta,B,P.MAIN_ICON,U,L,u.poweredBy,u.displayName]),G=d()({SplitPayBanner_splitPayInfoMessageAndButtonWithAddMoneyCta_Pi5zYEgI:I,SplitPayBanner_splitPayInfoMessageAndButtonWithoutAddMoneyCta_s6QkNlGg:!I}),Y=d()("SplitPayBanner_splitPayToggle_RohVbpHd",{SplitPayBanner_splitPayToggleChecked_cD8mH5o1:_}),W=d()("SplitPayBanner_splitPayContainer_4EB8t9uN",E,{SplitPayBanner_splitPayContainerDisabled_biqp5Ohe:!D}),F=d()("SplitPayBanner_splitPayMainTitle_2Mgbc2Xg",{SplitPayBanner_splitPayMainTitleDisabled_zpRY8jPv:!D}),V=Object(i.useMemo)(()=>R&&_&&l.a.createElement("div",null,l.a.createElement(TE,{swiggyMoneyInfoHalfCardDetails:u.meta.learnMoreHalfCard,canShowSwiggyMoneyInfoCta:u.showLearnMoreHalfCard,info:S,infoClassName:"SplitPayBanner_splitPayInfoMessage_b52kHPxb",swiggyMoneyInfoCtaClassName:"SplitPayBanner_splitPayLearnMoreCta_UqVOxlsd",actions:O})),[R,_,u.meta.learnMoreHalfCard,u.showLearnMoreHalfCard,S,O]),K=Object(i.useMemo)(()=>D?v===dn.TOGGLE?l.a.createElement(cE,{"data-testid":P.SELECTION_COMP+"__toggle",selected:e.isSplitPayChecked,className:Y}):l.a.createElement(s.W,{"data-testid":P.SELECTION_COMP+"__tick",selected:e.isSplitPayChecked}):null,[e.isSplitPayChecked,Y,v,D,P.SELECTION_COMP]),z=I||V,$=Object(i.useMemo)(()=>(e=>e.displayName)(u),[u]),X=M?null===(n=null==u?void 0:u.meta)||void 0===n?void 0:n.promoMsg:"",J=Object(i.useMemo)(()=>0!==Number(null==u?void 0:u.eligibleBalance),[null==u?void 0:u.eligibleBalance]),Z=Object(i.useCallback)(()=>{v!==dn.TOGGLE||an(null==T?void 0:T.splitpayClickEvent)?v!==dn.TICK||an(null==T?void 0:T.rewardsInHalfcardClickEvent)||null==T||T.rewardsInHalfcardClickEvent(u.displayName,!_):null==T||T.splitpayClickEvent(((e,t)=>e.isReward?JSON.stringify({methodName:"Rewards: "+e.splitPayIdentifier,selected:t}):aO(e)?JSON.stringify({methodName:e.paymentCode,selected:t}):"")(u,!_))},[v,T,u,_]),q=Object(i.useCallback)(()=>{Z(),D&&(p(!_,u),u.isReward&&s.T.removeItem(s.M.WITH_REWARD))},[p,_,u,D,Z]),Q=Object(i.useCallback)(e=>{e.stopPropagation(),an(null==T?void 0:T.viewAllRewardsCtaClickEvent)||null==T||T.viewAllRewardsCtaClickEvent(),f&&f(!0)},[f,T]);return Object(i.useEffect)(()=>{!an(null==T?void 0:T.viewAllRewardsCtaImpressionEvent)&&A&&(null==T||T.viewAllRewardsCtaImpressionEvent())},[A,T]),l.a.createElement("div",{className:"SplitPayBanner_splitPay_4aZ4ipSQ","data-testid":P.CONTAINER},l.a.createElement("div",{className:W},y,l.a.createElement("div",{onClick:q,className:"SplitPayBanner_splitPayMain_AgV-sRMD","data-testid":P.MAIN,role:"checkbox","aria-checked":_,"aria-labelledby":"split-pay-banner-main",tabIndex:0},l.a.createElement("div",{className:"SplitPayBanner_splitPayMainContainer_Grw02QuU"},H,l.a.createElement("div",{className:"SplitPayBanner_splitPayMainContainerContent_7KVys6qT"},l.a.createElement("div",{className:"SplitPayBanner_splitPayTitleBalanceContainer_Phh5Wu6L"},l.a.createElement(cr,{"data-testid":P.MAIN_TITLE,displayName:$,enabled:D,promoMsg:X,className:F}),D&&l.a.createElement("p",{className:"SplitPayBanner_splitPayMainBalance_5cUwLjep"},u.eligibleBalance," "),K),w&&l.a.createElement(lO,null,l.a.createElement(m.Text,{"data-testid":"offer-message",color:"text_Med_Emphasis",variant:"V2.overline.neutral.medium"},null===(o=null==u?void 0:u.meta)||void 0===o?void 0:o.offerMessage)),k&&l.a.createElement(iO,{"data-testid":"banner-message",color:"text_Low_Emphasis",variant:"V2.body3.neutral.regular"},null===(r=null==u?void 0:u.meta)||void 0===r?void 0:r.bannerMessage),x&&l.a.createElement(m.Text,{"data-testid":"disable-message",color:"negative",variant:"V2.body3.neutral.regular"},null===(c=null==u?void 0:u.meta)||void 0===c?void 0:c.disableMessage),A&&l.a.createElement(sO,{onClick:Q},l.a.createElement(m.Text,{color:"text_Button_Secondary",variant:"V2.body3.neutral.bold",dangerouslySetInnerHTML:{__html:In.VIEW_ALL_REWARDS}}),l.a.createElement(cO,null,l.a.createElement(dO,{Icon:N.a,fillColor:"text_Button_Secondary"}))),_&&z&&l.a.createElement("div",{className:G},I&&!an(C)&&l.a.createElement(Zg,{onClick:null==C?void 0:C.onAddMoneyClick,disabled:!!g,onView:null==C?void 0:C.onAddMoneyView,ctaMessage:u.addMoneyCtaMessage,focusOnMount:J,testId:P.ADD_MONEY_CTA}),V))))),j&&D&&l.a.createElement(JE,{onFlipkartToolTipShow:h}))})),mO=Object(i.memo)((function(e){return l.a.createElement(uO,Object.assign({},e))}));const pO=p.default.div(({theme:e})=>({background:e.colors[e.colorMode].background_Primary,margin:`10px ${e.spacing.medium} ${e.spacing.medium}`,borderRadius:e.cornerRadius.medium,boxShadow:"0 1px 16px rgba(0,0,0,.05)"})),_O=p.default.div(({theme:e})=>({margin:e.spacing.medium+" 0 0 0",display:"flex"})),EO=p.default.div(({theme:e})=>({margin:`0 0 ${e.spacing.medium} -${e.spacing.small}`,transform:"translate(0, 1px)"}));p.default.div(({theme:e})=>({"& .toast":{bottom:e.spacing.xLarge,left:e.spacing.medium,right:e.spacing.medium,zIndex:9}}));var CO=Object(i.memo)((function(e){const{handleChange:t,selectedSplitpayMethods:a,splitPayList:n,isFrictionLayout:o=!1,addMoneyActions:r,paymentGroupBanner:i,isAddMoneyCtaDisabled:c,swiggyMoneyInfoActions:d,groupDisplayName:u,onFlipkartToolTipShow:m,handleViewAllRewardsClick:p,couponApplied:_,rewardApplied:E,analyticsEvents:C}=e,b=rO(n,_,E,o),{firstFoldSplitPayList:y,canShowViewAllRewards:g}=((e,t=!1)=>{if(t)return{firstFoldSplitPayList:e,canShowViewAllRewards:!1};const a=e.find(aO);let n=e.find(nO);an(n)&&(n=e.find(e=>e.isReward));const o=[a,n].filter(e=>void 0!==e),r=e.filter(e=>!o.includes(e));return{firstFoldSplitPayList:o,canShowViewAllRewards:!an(r)}})(b,o);return Object(s.Db)(()=>{an(null==C?void 0:C.splitpayGroupImpressionEvent)||null==C||C.splitpayGroupImpressionEvent()}),0===b.length?null:l.a.createElement(l.a.Fragment,null,!an(u)&&l.a.createElement(_O,null,l.a.createElement(zo,{title:u}),l.a.createElement(EO,null,l.a.createElement(s.D,null))),l.a.createElement(pO,{"data-testid":"split-pay-banner-list-container"},y.map((e,n)=>{const s=n==y.length-1&&g;return l.a.createElement(mO,{data:e,key:e.paymentCode,isSplitPayChecked:(null==a?void 0:a.includes(eO(e)))||!1,isFrictionLayout:o,handleChange:t,addMoneyActions:r,paymentGroupBanner:i,swiggyMoneyInfoActions:d,isAddMoneyCtaDisabled:c,onFlipkartToolTipShow:m,showViewAllRewardsCta:s,handleViewAllRewardsClick:p,analyticsEvents:C})})))}));Ho(".DeliverySla_deliverySla_Roegef6w{display:flex;background-color:#eff4fb;height:48px;justify-content:space-between;align-items:center;padding-left:16px;border-top:1px solid #e9e9eb;border-bottom:1px solid #e9e9eb}.DeliverySla_deliverySlaText_XfetOtfP{font-size:1rem;padding-right:4px}.DeliverySla_deliverySlaIcon_pdBXQDZ0{height:48px}"),l.a.memo(({deliverySla:e,deIcon:t})=>{const a=t||"InstamartAssets/IMDeliveryTimeDE.png";return l.a.createElement("section",{"data-testid":"delivery-sla-container",className:"DeliverySla_deliverySla_Roegef6w"},l.a.createElement("span",{className:"DeliverySla_deliverySlaText_XfetOtfP"},e),l.a.createElement("img",{"data-testid":"delivery-sla-image",className:"DeliverySla_deliverySlaIcon_pdBXQDZ0",src:Object(s.nb)(a)}))}),un.NONE;const bO=p.default.div(({theme:e})=>({background:e.colors[e.colorMode].background_Primary})),yO=p.default.div(({theme:e})=>({display:"flex",marginTop:e.spacing.xSmall,":first-child":{marginTop:0}})),gO=Object(p.default)(m.Text)(({theme:e})=>({marginLeft:e.spacing.xSmall})),OO=p.default.img({alignSelf:"normal"}),hO=p.default.div(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",alignSelf:"flex-start",borderRadius:e.cornerRadius.xSmall,background:e.colors[e.colorMode].background_Primary})),AO=20;function fO(e){const{size:t=AO}=e;return l.a.createElement(OO,{"aria-hidden":"true",crossOrigin:"anonymous",src:Object(s.nb)("4_0_Assets/Money/AddMoneyOffers.png"),width:t,height:t})}var vO=Object(i.memo)((function(e){const{offers:t}=e;return t.length?l.a.createElement(bO,{"data-testid":"sm_offers_container"},t.map((e,t)=>l.a.createElement(yO,{key:t},l.a.createElement(hO,{"data-testid":"sm_offers_content_item"},l.a.createElement(fO,{"data-testid":"sm_offers_icon"}),l.a.createElement(gO,{variant:"V2.body2.neutral.medium",color:"text_Med_Emphasis","data-testid":"sm_offers_title"},e))))):null}));const TO=p.default.div(({theme:e})=>({margin:e.spacing.medium,border:"1px solid "+e.colors[e.colorMode].border_Tertiary,boxShadow:"0px 8px 16px rgba(27, 30, 36, 0.1)",borderRadius:e.cornerRadius.medium,padding:e.spacing.medium,background:e.colors[e.colorMode].background_Primary})),IO=Object(p.default)(m.Text)(({theme:e})=>({display:"flex",alignItems:"flex-start",marginBottom:e.spacing.medium,":last-child":{marginBottom:0}})),SO=p.default.div(({theme:e})=>({margin:e.spacing.xSmall+" 0 0"})),NO=p.default.div(({theme:e})=>({borderRadius:e.cornerRadius.rounded,border:"3px solid "+e.colors[e.colorMode].border_Primary,marginRight:e.spacing.xSmall,marginTop:e.spacing.xxSmall}));var RO=Object(i.memo)((function(e){const{notes:t,title:a}=e;return t.length?l.a.createElement(TO,{"data-testid":"sm_notes_container"},l.a.createElement(m.Text,{"data-testid":"sm_notes_title",variant:"V2.body3.neutral.medium",color:"negative"},a),l.a.createElement(SO,{"data-testid":"sm_notes_item_list"},t.map((e,t)=>l.a.createElement(IO,{"data-testid":"sm_notes_content_item",variant:"V2.body3.neutral.medium",color:"text_Low_Emphasis",key:t},l.a.createElement(NO,{"data-testid":"sm_notes_icon"}),e)))):null}));Ho(".styles-v4_violationContainer_yI4quNIH{font-size:13px;line-height:16px;font-weight:200;letter-spacing:-.3px;margin-left:16px;margin-right:16px;margin-bottom:10px}.styles-v4_violationWarning_FFnvgPFO{color:#f88a44;margin-top:8px}.styles-v4_violationError_BIjwSrbG{color:#e53554;padding:24px 16px 8px;margin:-30px 0 10px;background:#ffecef;border:1.5px solid #f3d0d6;border-radius:12px}.styles-v4_violationAnimation_5UUyrZFz{animation:styles-v4_expandHeight_l3S26Qp4;animation-duration:.25s;animation-timing-function:ease-out}.styles-v4_swiggyMoneyInfoCta_qBA7ETpe{font-size:13px;letter-spacing:-.1px;font-weight:600;display:inline-block}.styles-v4_swiggyMoneyInfoMessage_pCWGvdTY{margin-right:5px}@keyframes styles-v4_expandHeight_l3S26Qp4{0%{max-height:10px;opacity:0}to{min-height:10px;max-height:100px;opacity:1}}");var PO=Object(i.memo)((function({swiggyMoneyInfoHalfCard:e,actions:t,violation:a}){const n=a.type==un.WARNING,o=a.type==un.ERROR,r=(n||o)&&a.message.length,i=d()("styles-v4_violationContainer_yI4quNIH",{"styles-v4_violationError_BIjwSrbG":o,"styles-v4_violationWarning_FFnvgPFO":n,"styles-v4_violationAnimation_5UUyrZFz":r});return l.a.createElement("div",{"data-testid":"add_swiggy_money_amt_error",className:i},a.message.length?l.a.createElement(TE,{info:a.message,swiggyMoneyInfoHalfCardDetails:e,canShowSwiggyMoneyInfoCta:a.showSwiggyMoneyInfoHalfCard,swiggyMoneyInfoCtaClassName:"styles-v4_swiggyMoneyInfoCta_qBA7ETpe",infoClassName:"styles-v4_swiggyMoneyInfoMessage_pCWGvdTY",actions:t}):null)})),DO=Object(i.memo)(({amountOptions:e,amount:t,reflectChangedAmountImmediately:a,onUpdateAmount:n,inputScrollIntoView:o,clickPredefinedAmount:r,inputFieldPlaceHolder:c,swiggyMoneyInfoHalfCard:d,swiggyMoneyInfoActions:u,violationInfo:m})=>{const p=Object(i.useCallback)(e=>{const t=Number(e),a=isNaN(t)?0:t;n(a)},[n]),_=Object(i.useCallback)(({selected:e,amount:t})=>{e?(p(String(t)),r(t)):p(String(""))},[p,r]),E=Object(i.useMemo)(()=>l.a.createElement(s.a,{dataTestId:"add_swiggy_money_amt_input",amount:String(t),onUpdateAmount:p,reflectChangedAmountImmediately:a,scrollIntoView:o,inputFieldPlaceHolder:c}),[t,p,a,o,c]),C=Object(i.useMemo)(()=>({default:"add_swiggy_money_amt_suggestion_box",selected:"add_swiggy_money_amt_suggestion_box_selected"}),[]),b=Object(i.useMemo)(()=>l.a.createElement(s.b,{"data-testid":"add_swiggy_money_amt_selection_container",suggestionBoxDataTestIds:C,onPredefinedAmountBoxSelection:_,selectedAmount:t,amountOptions:e}),[C,_,t,e]);return l.a.createElement(l.a.Fragment,null,E,l.a.createElement(PO,{violation:m,actions:u,swiggyMoneyInfoHalfCard:d}),b)});const LO=Object(p.default)(C.TextButton)(({theme:e})=>({paddingLeft:e.spacing.xSmall,width:"initial"})),kO=p.default.div(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"flex-start",padding:`${e.spacing.xSmall} ${e.spacing.medium}`}));var xO=Object(i.memo)((function({labelText:e,btnText:t,onButtonClick:a}){return l.a.createElement(kO,null,l.a.createElement(m.Text,{variant:"V2.body2.neutral.bold",color:"text_Med_Emphasis"},e),l.a.createElement(LO,{buttonSize:"small",color:"special_positive",onClick:a},t))}));const wO=p.default.div(({theme:e})=>({background:e.colors[e.colorMode].background_Secondary,marginTop:e.spacing.medium})),MO=p.default.div(({theme:e})=>({overflowY:"auto",maxHeight:"calc(100vh - var(--status-bar-height, 0px) + 148px)",background:e.colors[e.colorMode].background_Primary,margin:"0 "+e.spacing.medium,boxShadow:e.elevation[e.colorMode].cards_And_Navigations.boxShadow,borderRadius:e.cornerRadius.medium})),jO=p.default.div(({theme:e})=>({position:"fixed",width:"100%",background:e.colors[e.colorMode].background_Primary,left:0,bottom:0,padding:e.spacing.medium,"@supports (padding-bottom: env(safe-area-inset-bottom))":{paddingBottom:`calc(${e.spacing.medium} + (env(safe-area-inset-bottom) / 2))`}})),BO=p.default.div(({theme:e})=>({marginTop:e.spacing.xxSmall,marginBottom:e.spacing.large,":empty":{display:"none"}})),UO=p.default.hr(({theme:e})=>({margin:"0px "+e.spacing.medium,border:"none",borderTop:"1px solid "+e.colors[e.colorMode].border_Tertiary})),HO=p.default.div(({theme:e})=>({background:e.colors[e.colorMode].background_Primary,margin:`${e.spacing.xLarge} ${e.spacing.medium} 0px`}));var GO=Object(i.memo)((function(e){const{offers:t,eligibilityDetails:a,onAddMoney:n,selectionAmount:o,updateSelectedAmount:r,clickPredefinedAmount:c,swiggyMoneyInfoActions:d,isSwMoneyBusinessLine:u,redirectToVoucher:m}=e,{validationInfo:p,suggestedAmounts:_=[],addMoneyNotes:C}=a,b=Object(i.useMemo)(()=>((e,t)=>{const{creditValidation:a,debitValidation:n,cashbackValidation:o,minErrorValidation:r}=t;return e<r.limit?{type:un.ERROR,message:r.message,showSwiggyMoneyInfoHalfCard:r.showLearnMoreHalfCard}:e>a.limit?{type:un.ERROR,message:a.message,showSwiggyMoneyInfoHalfCard:a.showLearnMoreHalfCard}:e>o.limit?{type:un.WARNING,message:o.message,showSwiggyMoneyInfoHalfCard:o.showLearnMoreHalfCard}:e>n.limit?{type:un.WARNING,message:n.message,showSwiggyMoneyInfoHalfCard:n.showLearnMoreHalfCard}:{type:un.NONE,message:"",showSwiggyMoneyInfoHalfCard:!1}})(o,p),[o,p]),y=Object(i.useMemo)(()=>b.type==un.ERROR,[b.type]),g=Object(i.useMemo)(()=>_.map(e=>Object.assign({},e)),[_]),O=Object(i.useMemo)(()=>Object(s.hb)("Proceed to Add {0} rupees to Swiggy Money",String(o)),[o]),h=Object(i.useCallback)(()=>{y||n()},[y,n]);return l.a.createElement(wO,{"data-testid":"add_swiggy_money_container"},l.a.createElement(MO,null,l.a.createElement(HO,null,l.a.createElement(DO,{reflectChangedAmountImmediately:!0,inputFieldPlaceHolder:"Enter Amount",amountOptions:g,amount:o,onUpdateAmount:r,inputScrollIntoView:100,swiggyMoneyInfoHalfCard:null==a?void 0:a.learnMoreHalfCard,violationInfo:b,clickPredefinedAmount:c,swiggyMoneyInfoActions:d}),l.a.createElement(BO,null,l.a.createElement(vO,{offers:t}))),u&&l.a.createElement(l.a.Fragment,null,l.a.createElement(UO,null),l.a.createElement(xO,{labelText:"Have a gift voucher?",btnText:"Redeem Now",onButtonClick:m}))),l.a.createElement(RO,{title:"Note:",notes:C}),l.a.createElement(jO,null,l.a.createElement(E.SuperButton,{onClick:h,isDisabled:y,ariaLabel:O,"data-testid":"add_swiggy_money_proceed_btn",buttonType:"specialPositive",buttonSize:"large"},"Proceed to Add Balance")))})),YO=Object(i.memo)((function(e){return l.a.createElement(GO,Object.assign({},e))}));Ho(".PayButton-v4_payButton_H0iPNNyM{height:56px!important;line-height:48px;box-shadow:0 1px 3px 0 rgba(0,0,0,.12)!important;transform:translateZ(0);margin:0;display:block!important}.PayButton-v4_payButtonContainer_x31zKjwg{display:block}");var WO=Object(i.memo)(e=>{const t=Object(i.useCallback)(t=>{t.stopPropagation(),e.onClick()},[e.onClick]);return l.a.createElement("div",{"data-testid":"fallback_alert_primary_btn",className:"PayButton-v4_payButtonContainer_x31zKjwg"},l.a.createElement(E.SuperButton,{className:"PayButton-v4_payButton_H0iPNNyM",onClick:t,buttonType:"primary",variant:"fullwidth",buttonSize:"medium"},e.children))});Ho(".NoPaymentMethod-v4_title_e08-KVUF{font-size:16px;line-height:19px;font-weight:600;letter-spacing:-.3px;text-transform:none}");var FO=Object(i.memo)(e=>(Object(s.Db)(()=>{e.onImpression()}),l.a.createElement(WO,{onClick:e.onClick},l.a.createElement("div",{className:"NoPaymentMethod-v4_title_e08-KVUF"},Gn(e.title)))));Ho('@charset "UTF-8";.PaymentMethod-v4_paymentMethodBalanceContainer_Pn6WP6f7{display:flex;align-items:center}.PaymentMethod-v4_paymentMethod_VtMFfdfw{padding:20px 0;display:flex;align-items:flex-start}.PaymentMethod-v4_paymentMethodContent_qa-biWTR{flex:1;padding:0 12px;text-overflow:ellipsis;overflow:hidden}.PaymentMethod-v4_paymentMethodTitle_dQpTa7ru{overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;font-size:16px;line-height:19px;font-weight:400;letter-spacing:-.3px;color:rgba(2,6,12,.7490196078);text-overflow:ellipsis}.PaymentMethod-v4_paymentMethodTitleSelected_71tdh18E{font-weight:400}.PaymentMethod-v4_paymentMethodSubtitle_n28p05pS{overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:13px;line-height:16px;font-weight:200;letter-spacing:-.3px;text-overflow:ellipsis;color:rgba(2,6,12,.6);margin-top:2px}.PaymentMethod-v4_paymentMethodBalance_nH2kDJDH{margin-left:5px;font-size:.93rem;color:#36393e;margin-right:10px}.PaymentMethod-v4_paymentMethodBalance_nH2kDJDH:before{content:"₹";margin-right:.1rem}.PaymentMethod-v4_discountCallout_vwQmhrdw{margin-top:2px}');var VO=Object(i.memo)(({id:e,paymentMethodData:t,onSelectPaymentMethod:a,isSelected:n,onImpression:o})=>{var r,c,u;const p=Object(i.useCallback)(()=>{a(t)},[t,a]),_=Object(i.useMemo)(()=>d()("PaymentMethod-v4_paymentMethodTitle_dQpTa7ru",{"PaymentMethod-v4_paymentMethodTitleSelected_71tdh18E":n}),[n]),E=Object(i.useMemo)(()=>{var e,a;return(null!==(a=null===(e=t.balanceData)||void 0===e?void 0:e.units)&&void 0!==a?a:0)>1},[t]);return Object(s.Db)(()=>{o(t)}),l.a.createElement("div",{className:"PaymentMethod-v4_paymentMethod_VtMFfdfw",key:e,onClick:p},l.a.createElement(Jo,{src:Object(s.nb)(null!==(c=null===(r=null==t?void 0:t.meta)||void 0===r?void 0:r.iconUrl)&&void 0!==c?c:""),alt:t.displayName}),l.a.createElement("div",{className:"PaymentMethod-v4_paymentMethodContent_qa-biWTR"},l.a.createElement("div",{className:_},t.displayName),l.a.createElement("div",{className:"PaymentMethod-v4_paymentMethodSubtitle_n28p05pS"},t.inlineMessage),!Object(s.ub)(t.discount)&&l.a.createElement(m.Text,{variant:"V2.body3.neutral.medium",color:"positive",className:"PaymentMethod-v4_discountCallout_vwQmhrdw"},t.discount)),l.a.createElement("div",{className:"PaymentMethod-v4_paymentMethodBalanceContainer_Pn6WP6f7"},E&&l.a.createElement("div",{className:"PaymentMethod-v4_paymentMethodBalance_nH2kDJDH"},null===(u=t.balanceData)||void 0===u?void 0:u.units),l.a.createElement("div",null,l.a.createElement(s.W,{selected:n,accent:s.U.ORANGE}))))});Ho(".TryOtherPaymentMethods-v4_otherPaymentMethods_CeT7S3uf{font-size:16px;line-height:19px;font-weight:400;letter-spacing:-.3px;color:rgba(2,6,12,.7490196078);padding-top:20px;padding-left:4px;padding-bottom:20px;display:flex;justify-content:space-between}.TryOtherPaymentMethods-v4_arrowIcon_gH0dhOji{stroke:#babbc0;height:11px;width:8px}.TryOtherPaymentMethods-v4_arrowIconWhite_DLRAwmP7{stroke:#fff;fill:#fff;margin-left:4px}");var KO=Object(i.memo)(e=>(Object(s.Db)(()=>{e.onImpression()}),l.a.createElement("div",{className:"TryOtherPaymentMethods-v4_otherPaymentMethods_CeT7S3uf",onClick:e.onClick},l.a.createElement("div",null,Gn(e.title)),l.a.createElement(pu,{className:"TryOtherPaymentMethods-v4_arrowIcon_gH0dhOji"}))));Ho(".VerifyCvv_containerHeading_T7WLahWB{display:flex;align-items:center;margin-left:30%;margin-bottom:32px}.VerifyCvv_containerHeadingText_qGonjzf4{font-size:16px;line-height:19px;font-weight:400;letter-spacing:-.3px;margin-left:16px;color:rgba(2,6,12,.7490196078)}.VerifyCvv_containerTitle_TComzdLv{font-size:24px;line-height:28px;font-weight:800;letter-spacing:-.4px;color:rgba(2,6,12,.7490196078)}.VerifyCvv_containerMessage_-on6qokS{font-size:14px;line-height:17px;font-weight:400;letter-spacing:-.3px;color:rgba(2,6,12,.4509803922);margin-top:8px;margin-bottom:32px}.VerifyCvv_containerInput_JchkvdRj{margin-bottom:6px}.VerifyCvv_containerButton_Sosc4k8V{margin:24px 0 16px}.VerifyCvv_containerButtonText_1wDdLOz4{text-transform:none!important}");const zO={attrs:{autoComplete:"off",pattern:"[0-9]*",inputMode:"numeric","data-testid":Ze},errorLabel:In.INVALID_CVV,label:In.CVV,maxLength:4,name:"cvv",type:"password"};var $O=Object(i.memo)((function(e){const{renderingDetails:t,cardDetails:a,onPay:n,defaultCvv:o,isNonSecureCard:r,enableOneClickPay:c}=e,[d,u]=Object(i.useState)(e.defaultCvv||""),m=Object(i.useCallback)((e,t)=>{u(e)},[]),p=Object(i.useMemo)(()=>d.length>=3&&d.length<=4,[d]),_=Object(i.useMemo)(()=>c&&!co(a)?In.ONE_CLICK_PAY_CVV_TITLE:r?In.SECURE_SAVE_YOUR_CARD:Object(s.hb)(In.SECURE_YOUR_CARD_WITH_VISA_WITH_BRAND,Gn(t.cardBrand)),[a,c,r,t.cardBrand]),C=Object(i.useMemo)(()=>c&&!co(a)?so(In.VERIFY_CVV_MESSAGE_ONE_CLICK_PAY,t.cardBrand):r?In.VERIFY_CVV_MESSAGE_SAVE_CARD:Object(s.hb)(In.VERIFY_CVV_MESSAGE,Gn(t.cardBrand)),[a,c,r,t.cardBrand]),b=Object(i.useMemo)(()=>c&&!co(a)?Object(s.hb)(In.PAY_X,"2"):Object(s.hb)(r?In.PAY_X_AND_ADD:In.PAY_X_AND_SECURE,"2"),[a,c,r]),y=Object(i.useCallback)(()=>{n(a,{cvv:d})},[n,d,a]),g=Object(i.useMemo)(()=>ze(o),[o]);return l.a.createElement("div",null,l.a.createElement("div",{className:"VerifyCvv_containerHeading_T7WLahWB"},l.a.createElement(Jo,{src:Object(s.nb)(t.iconUrl),width:36}),l.a.createElement("div",{className:"VerifyCvv_containerHeadingText_qGonjzf4"},oo(a.cardNumber))),l.a.createElement("div",{className:"VerifyCvv_containerTitle_TComzdLv","data-testid":"verify_cvv_title"},_),l.a.createElement("div",{className:"VerifyCvv_containerMessage_-on6qokS","data-testid":"verify_cvv_subTitle"},C),l.a.createElement($b,Object.assign({className:"VerifyCvv_containerInput_JchkvdRj",value:d,onChange:m,showError:!1},zO,{keepLabelActive:g,"data-testid":"verify_cvv_input"})),l.a.createElement("div",{className:"VerifyCvv_containerButton_Sosc4k8V"},l.a.createElement(E.SuperButton,{onClick:y,isDisabled:!p,buttonType:"specialPositive",variant:"fullwidth",buttonSize:"large",className:"VerifyCvv_containerButtonText_1wDdLOz4","data-testid":"verify_cvv_primary_action"},b)))}));Ho(".ManageCard_manageCardHeroIcon_lHC-JIah,.ManageCard_manageCardInlineContainer_r7BCAnXx,.ManageCard_manageCardSaveCardDetails_Cv1M2QoO,.ManageCard_wrapper_OOxGGqRx{display:flex}.ManageCard_wrapper_OOxGGqRx{flex-direction:column}.ManageCard_manageCardHeroIcon_lHC-JIah{align-items:center;justify-content:center}.ManageCard_wrapper_OOxGGqRx{justify-content:space-between;height:100%}.ManageCard_manageCard_TJgU2GI2{background:#fff}.ManageCard_manageCardTitle_kAT8RnhH{background:#f4f4f5;padding:20px 16px 14px;text-transform:uppercase;color:#535665;font-size:.93rem;font-weight:400}.ManageCard_manageCardDetails_lCcOXVYw{padding-top:6px;position:relative;overflow:hidden}.ManageCard_manageCardDetailsHidden_kz1Q7Nb-{margin-top:30px;min-height:60px}.ManageCard_manageCardDetailsLogo_uB1JrZCr{position:absolute;top:44px;right:0;transform:translateY(40px);transition:transform .5s ease-in-out}.ManageCard_manageCardDetailsLogoImg_KWpw9g9k{height:16px}.ManageCard_manageCardDetailsLogoImgWithPadding3_Ko-WXxpj{padding:3px 0}.ManageCard_manageCardDetailsLogoImgWithPadding1_MbrPdpPD{padding:1px 0}.ManageCard_manageCardDetailsLogoShow_iM3rV6Su{opacity:1;transform:translateY(0)}.ManageCard_manageCardDetailsLogoParent_l3F1swoI{width:36px;border:1px solid #e2e2e7}.ManageCard_manageCardDetailsLogoUx4_sZWPIznw{right:16px}.ManageCard_manageCardInput_558LvnG2{font-size:16px;line-height:19px;font-weight:400;letter-spacing:-.3px;color:rgba(2,6,12,.9215686275);border:1px solid #babbc0}.ManageCard_manageCardInputContainer_NeiMHK8M{margin:28px 0 0}.ManageCard_manageCardInputDisabled_Gsvdyeo7{font-size:16px;line-height:19px;font-weight:400;letter-spacing:-.3px;color:rgba(2,6,12,.4509803922);border:1px solid #e2e2e7}.ManageCard_manageCardInputDisabledContainer_hEgi6gbW{margin:28px 0 0}.ManageCard_manageCardInputRounded_vOtMIDAA{border-radius:12px!important}.ManageCard_manageCardInlineInputContainer_5O-aSIJk{padding:0 12px}.ManageCard_manageCardInlineInputContainer_5O-aSIJk:first-child{padding-left:0;width:80%}.ManageCard_manageCardInlineInputContainer_5O-aSIJk:last-child{padding-right:0}.ManageCard_manageCardSaveCardDetails_Cv1M2QoO{width:100%;margin-top:32px}.ManageCard_manageCardSaveCardDetailsText_y0BhzEih{color:rgba(2,6,12,.6)}.ManageCard_manageCardSaveCardDetailsLink_Xudi0wmd,.ManageCard_manageCardSaveCardDetailsText_y0BhzEih{font-size:14px;line-height:17px;font-weight:400;letter-spacing:-.3px;margin-top:2px;display:inline}.ManageCard_manageCardSaveCardDetailsLink_Xudi0wmd{padding-left:8px;color:#ff5200}.ManageCard_manageCardSaveButton_jAcAaj57{text-transform:none}@media (max-width:360px){.ManageCard_manageCardSaveButton_jAcAaj57{font-size:16px;line-height:20px;letter-spacing:-.3px;font-weight:600}}.ManageCard_manageCardSaveButtonContainer_Asc46g-Q{padding:24px 0 16px}.ManageCard_manageCardLogos_v1pPQNqd{padding:0 16px}.ManageCard_manageCardHeroIcon_lHC-JIah{height:auto;margin:20px 0 6px}.ManageCard_manageCardHeroIconImg_VxztMzdB{height:128px;width:auto;border-radius:12.77px;box-shadow:2px 2px 10px 5px rgba(0,0,0,.1)}.ManageCard_manageCardDeEnrollWrapper_lB2o8twn{display:flex;padding-right:48px;align-items:flex-start;padding-top:32px}.ManageCard_manageCardDeEnrollWrapperFlashIcon_1W-UyHqP{margin-top:3px}.ManageCard_manageCardDeEnrollWrapperDeEnrollText_jvuuprRf,.ManageCard_manageCardDeEnrollWrapperDeEnrollTextV4_UbQaK1ac{padding-right:23px;padding-left:10px;font-weight:400;font-size:14px;line-height:18px;letter-spacing:-.3px;color:rgba(40,44,62,.6)}.ManageCard_manageCardDeEnrollWrapperClickableText_YfJp70RN,.ManageCard_manageCardDeEnrollWrapperClickableTextV4_-bgxTnjo{display:inline-block;margin-left:3px;border-bottom:1px solid rgba(40,44,62,.6);color:rgba(2,6,12,.75)}.ManageCard_manageCardDeEnrollWrapperdeErollSuccess_vcRSRNnP,.ManageCard_manageCardDeEnrollWrapperdeErollSuccessV4_Y-f1KZfX{display:flex;align-items:center;padding-top:27px}.ManageCard_manageCardDeEnrollWrapperdeEnrollMessage_mPoYKbLJ,.ManageCard_manageCardDeEnrollWrapperdeEnrollMessageV4_CTDjf84e{padding-left:8px;font-weight:400;font-size:14px;line-height:18px;letter-spacing:-.3px;color:rgba(40,44,62,.6)}.ManageCard_manageCardSecureMessageWrapper_pWbfEXXF{width:calc(100% - 18px);padding-left:8px}");var XO,JO=l.a.memo((function(e){return l.a.createElement("div",{className:e.className},e.text&&l.a.createElement("div",{className:"ManageCard_manageCardSaveCardDetails_Cv1M2QoO"},l.a.createElement(s.h,{name:"",accent:s.f.SWIGGY_ORANGE,checked:e.selected,onChange:e.onClick}),l.a.createElement("div",{className:"ManageCard_manageCardSecureMessageWrapper_pWbfEXXF"},l.a.createElement("div",{className:"ManageCard_manageCardSaveCardDetailsText_y0BhzEih"},Object(s.hb)(e.text,e.cardBrandName)),l.a.createElement("div",{"data-testid":"ManageCard_KnowMore",className:"ManageCard_manageCardSaveCardDetailsLink_Xudi0wmd",onClick:e.onClickKnowMore},"Know More"))))}));function ZO(e){const{nickname:t,fullImageUrl:a,iconUrl:n,isSecured:o,tokenizeSupport:r,cardBrand:c,cardExpMonth:u,cardExpYear:m,cardNumber:p,oneClickEligible:_,oneClickEnrolled:C}=e.cardDetails,{onClickDisableOneClickPay:b,deEnrollState:y,isCardEligibleForOneClickPay:g,onClickOneClickTermsOfService:O,isSDKAvailable:h,userPartOfOneClick:A,oneClickEvents:f,onKnowMoreTokenizationClickAction:v}=e,T=Object(i.useMemo)(()=>`${u}/${m}`,[u,m]),[I,S]=Object(i.useState)(t),[N,R]=Object(i.useState)(!1),{showOneClickCInfo:P,showSecureCardInfo:D,onSecureCardInfoClick:L,closeSecureCardInfo:k,onOneClickInfoClick:x,closeOneClickInfo:w,closeDisableOneClickInfo:M,showOneClickDenrollHalfCard:j}=wu({onKnowMoreTokenizationClickAction:v,oneClickEvents:f}),B=Object(i.useCallback)(()=>{f&&"function"==typeof f.onOneClickCheckBoxClick&&f.onOneClickCheckBoxClick(!N),R(!N)},[f,N]),U=Object(i.useCallback)(t=>{t.stopPropagation(),e.onClickSave(I,N)},[I,e,N]),H=Object(i.useCallback)(t=>{o&&e.isCardEligibleForOneClickPay?x(t):L(t)},[o,x,L,e.isCardEligibleForOneClickPay]),G=Object(i.useCallback)(()=>{w(),e.resetDeEnrollState()},[w,e]),Y=d()("ManageCard_manageCardDetailsLogo_uB1JrZCr",{ManageCard_manageCardDetailsLogoShow_iM3rV6Su:c,ManageCard_manageCardDetailsLogoUx4_sZWPIznw:!0}),W=Object(i.useMemo)(()=>Object(s.nb)(a),[a]),F=Object(i.useMemo)(()=>Object(s.nb)(n),[n]),V=Object(i.useMemo)(()=>o&&A&&_&&!C?In.SAVE_AND_ENABLE_ONE_CLICK_PAYMENT_BUTTON:r&&!o?In.MANAGE_CARD_SAVE_AND_SECURE_BUTTON:In.MANAGE_CARD_SAVE_BUTTON,[o,A,_,C,r]),K=Object(i.useCallback)(e=>{S(String(e).replace(/[^a-zA-z ]/gim,""))},[]),z=Object(i.useCallback)(()=>{I&&S(I.trim().replace(/\s\s+/g," "))},[I]),$=Object(i.useCallback)(()=>{b()},[b]),X=Object(i.useCallback)(()=>{j($)},[$,j]),J=l.a.useMemo(()=>d()("ManageCard_manageCardDeEnrollWrapper_lB2o8twn"),[]),Z=l.a.useMemo(()=>d()("ManageCard_manageCardDeEnrollWrapperClickableTextV4_-bgxTnjo"),[]),q=l.a.useMemo(()=>d()("ManageCard_manageCardDeEnrollWrapperdeEnrollMessageV4_CTDjf84e"),[]),Q=n?l.a.createElement("div",{className:Y},l.a.createElement(Jo,{src:F,imgClassName:"ManageCard_manageCardDetailsLogoImgWithPadding3_Ko-WXxpj",parentClassName:"ManageCard_manageCardDetailsLogoParent_l3F1swoI"})):null,ee=l.a.useMemo(()=>!(N||!r||o)||!(h&&N||!o||!_||C||!A),[h,N,r,o,_,C,A]),te=Object(i.useMemo)(()=>!o&&r?In.STORE_YOUR_CARD:o&&A&&g?In.ONE_CLICK_PAY_CHECKBOX_TEXT:void 0,[g,o,r,A]),ae=Object(i.useMemo)(()=>y.isCardDeEnrolled?l.a.createElement("div",{"data-testid":Ma,className:q},so(In.DEENROLL_DISABLED_MESSAGE,c)):C?l.a.createElement("div",{"data-testid":Ma,className:q},In.DENROLL_ONE_CLICK_TEXT,l.a.createElement("div",{"data-testid":"ManageCard_deEnrollText",className:Z,onClick:X},In.DEENROLL_CLICKABLE_TEXT)):void 0,[c,Z,q,y.isCardDeEnrolled,X,C]),ne=Object(i.useMemo)(()=>{if(o&&_&&!C)return"ManageCard_manageCardDetailsHidden_kz1Q7Nb-"},[o,_,C]),oe=Object(i.useMemo)(()=>!(!r||o)||!(!o||!_||C||!A),[o,_,C,r,A]);return l.a.createElement("div",{className:"ManageCard_wrapper_OOxGGqRx"},l.a.createElement("div",{className:"ManageCard_manageCard_TJgU2GI2"},l.a.createElement("div",{className:"ManageCard_manageCardHeroIcon_lHC-JIah"},l.a.createElement("img",{alt:"",crossOrigin:"anonymous",className:"ManageCard_manageCardHeroIconImg_VxztMzdB",src:W})),l.a.createElement("div",{className:"ManageCard_manageCardDetails_lCcOXVYw"},l.a.createElement($b,Object.assign({value:oo(p)},Wr.cardNumber,{disabled:!0,keepLabelActive:!0,onChange:()=>{}})),Q),l.a.createElement($b,Object.assign({value:T},Wr.expiry,{disabled:!0,keepLabelActive:!0,onChange:()=>{}})),l.a.createElement("div",{className:"ManageCard_manageCardInputContainer_NeiMHK8M"},l.a.createElement($b,Object.assign({value:I},Wr.nickName,{keepLabelActive:""!=t,disabled:oe,onChange:K,onBlur:z}))),l.a.createElement(JO,{selected:N,onClick:B,onClickKnowMore:H,cardBrandName:null!=c?c:"VISA",text:te,className:ne}),(y.isCardDeEnrolled||C)&&l.a.createElement("div",{className:J},l.a.createElement("div",{className:"ManageCard_manageCardDeEnrollWrapperFlashIcon_1W-UyHqP"},l.a.createElement(s.E,{height:16,width:16,withBg:!1,iconColor:y.isCardDeEnrolled?Gr.GREY:Gr.PURPLE})),ae),D.show&&e.juspayTokenizationMeta&&l.a.createElement(Rr,Object.assign({data:e.juspayTokenizationMeta},D.actions,{onClose:k,cardBrand:Gn(c||"")})),y.isDeEnrollInProgress&&l.a.createElement(Gp,null),P.show&&e.oneClickMeta&&l.a.createElement(Vr,Object.assign({data:P.type===Yr.ENABLE?e.oneClickMeta:Hr,hideOnOverlay:!0},P.actions,{cardBrand:c,onClose:P.type===Yr.ENABLE?G:M,showHeaderFlashIcon:P.type===Yr.ENABLE,halfCardType:P.type,onClickTermsOfService:O,onLoad:P.type===Yr.ENABLE?null==f?void 0:f.onOneClickHalfCardImpression:null==f?void 0:f.onOneClickDisabledHalfCardImpression})),y.didCatchError&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Yb,{icon:"PaymentLogos/paymentIcons/error",title:In.DEENROLL_ERROR_TITLE,message:In.DEENROLL_ERROR_MESSAGE,onClose:G,primaryAction:{text:Gn(In.RETRY),onClick:b},secondaryAction:{text:In.CANCEL,onClick:G}}))),l.a.createElement("div",{className:"ManageCard_manageCardSaveButtonContainer_Asc46g-Q"},l.a.createElement(E.SuperButton,{buttonType:"primary",buttonSize:"large",variant:"fullwidth",className:"ManageCard_manageCardSaveButton_jAcAaj57",onClick:U,isDisabled:ee,"data-testid":"ManageCard_actionBtn"},V)))}Ho('.Button-v4_button_cZUjOGSz{background:transparent;outline:none;text-align:left;-webkit-appearance:none;font-size:13px;letter-spacing:-.1px;font-weight:600;width:100%;height:48px;text-align:center;padding:0 16px;background:#1ba672;color:#fff;text-transform:uppercase;border:1px solid #1ba672;outline:0;position:relative;overflow:hidden;align-items:center;justify-content:center;border-radius:12px;box-sizing:border-box;box-shadow:0 2px 6px rgba(0,0,0,.12)}.Button-v4_buttonOrange_wv9BOz6s{background:#ff5200}.Button-v4_buttonDisabled_33Rvhm3M{background:#f0f0f5!important;border:1px solid #f0f0f5!important;box-shadow:none;color:rgba(2,6,12,.1490196078)}.Button-v4_buttonProgress_XID-T9D3:before{content:"";width:90%;position:absolute;left:0;top:0;bottom:0;z-index:1;transform:translateZ(0);transform-origin:left;background:rgba(0,0,0,.2);animation:Button-v4_lineProgressBar_uFWAK12A 2s ease-out}.Button-v4_orangeButton_L7CsphU7{background:#ff5200;border:1px solid #ff5200}.Button-v4_orangeButtonPlain_f4D8LjBP{background:#fff;border:none;box-shadow:none;color:#ff5200}.Button-v4_orangeButtonLarge_1q-ssZwL,.Button-v4_orangeButtonPlain_f4D8LjBP{font-size:18px;letter-spacing:-.3px;font-weight:600;text-transform:capitalize}.Button-v4_orangeButtonLarge_1q-ssZwL{background:#ff5200;border:1px solid #ff5200;height:52px}.Button-v4_orangeButtonTransparent_Lm-SFEKc{border:none;box-shadow:none;background:#fff;height:-webkit-fit-content;height:fit-content;color:#ff5200}.Button-v4_rustyOrangeButton_368jl2rR{background:#ff5200;border:1px solid #ff5200}.Button-v4_rustyOrangeBorderButton_DJ-Tn8qE{background:#fff;color:#ff5200;border:1px solid #ff5200}.Button-v4_greenButtonLarge_maLDzdDj{font-size:18px;letter-spacing:-.3px;font-weight:600;height:52px}.Button-v4_greenButtonTransparent_NvOWWi22{border:none;box-shadow:none;background:#fff;height:-webkit-fit-content;height:fit-content;color:#1ba672}.Button-v4_greenBorderButton_qehYp4-y{background:#fff;color:#1ba672;border:1px solid #1ba672}.Button-v4_greyButtonTransparent_GfAWzj2s{border:none;box-shadow:none;background:#fff;height:-webkit-fit-content;height:fit-content;color:rgba(2,6,12,.6)}@keyframes Button-v4_lineProgressBar_uFWAK12A{0%{transform:scaleX(0)}to{transform:scaleX(1)}}'),function(e){e.RUSTY_ORANGE="RUSTY_ORANGE",e.RUSTY_ORANGE_BORDER="RUSTY_ORANGE_BORDER",e.SWIGGY_ORANGE="SWIGGY_ORANGE",e.SWIGGY_ORANGE_PLAIN="SWIGGY_ORANGE_PLAIN",e.SWIGGY_ORANGE_LARGE="SWIGGY_ORANGE_LARGE",e.SWIGGY_ORANGE_TRANSPARENT="SWIGGY_ORANGE_TRANSPARENT",e.BLACK_BORDER="BLACK_BORDER",e.GREEN="GREEN",e.GREEN_LARGE="GREEN_LARGE",e.GREEN_BORDER="GREEN_BORDER",e.GREEN_TRANSPARENT="GREEN_TRANSPARENT",e.SWIGGY_GREY_TRANSPARENT="GREY_TRANSPARENT"}(XO||(XO={}));var qO=Object(i.memo)((function(e){const{disabled:t,progress:a,onClick:n,accent:o,focusOnMount:r}=e,s=Object(i.useRef)(null);Object(i.useEffect)(()=>{let e;return r&&(e=window.setTimeout(()=>{var e;null===(e=s.current)||void 0===e||e.focus()},500)),()=>clearTimeout(e)},[s,r]);const c=d()("Button-v4_button_cZUjOGSz",{"Button-v4_orangeButton_L7CsphU7":XO.SWIGGY_ORANGE===o,"Button-v4_orangeButtonPlain_f4D8LjBP":XO.SWIGGY_ORANGE_PLAIN===o,"Button-v4_orangeButtonLarge_1q-ssZwL":XO.SWIGGY_ORANGE_LARGE===o,"Button-v4_rustyOrangeButton_368jl2rR":XO.RUSTY_ORANGE===o,"Button-v4_rustyOrangeBorderButton_DJ-Tn8qE":XO.RUSTY_ORANGE_BORDER===o,"Button-v4_greenBorderButton_qehYp4-y":XO.GREEN_BORDER===o,"Button-v4_greenButtonLarge_maLDzdDj":XO.GREEN_LARGE===o,"Button-v4_greenButtonTransparent_NvOWWi22":XO.GREEN_TRANSPARENT===o,"Button-v4_orangeButtonTransparent_Lm-SFEKc":XO.SWIGGY_ORANGE_TRANSPARENT===o,"Button-v4_greyButtonTransparent_GfAWzj2s":XO.SWIGGY_GREY_TRANSPARENT===o,"Button-v4_buttonProgress_XID-T9D3":e.progress,"Button-v4_buttonDisabled_33Rvhm3M":e.disabled},e.className),u=Object(i.useCallback)(e=>{e.stopPropagation(),t||a||"function"!=typeof n||n(e)},[t,n,a]);return l.a.createElement("button",{className:c,onClick:u,"data-testid":e["data-testid"],ref:s,"aria-label":e.ariaLabel},e.children)})),QO="DeleteCardPrompt_deleteCardAction_o-CcZcnw",eh="DeleteCardPrompt_deleteCardHeader_ZH5IZCfT",th="DeleteCardPrompt_deleteCardHeaderInfo_hghgt5ug",ah="DeleteCardPrompt_deleteCardHeaderTitle_v-x9k9Wi",nh="DeleteCardPrompt_deleteCardContent_xnpDUQdU",oh="DeleteCardPrompt_deleteCardActionSingle_ZSWJfms7",rh="DeleteCardPrompt_deleteCardActionMain_L5RNZdV7";Ho(".DeleteCardPrompt_deleteCardAction_o-CcZcnw,.DeleteCardPrompt_deleteCardHeader_ZH5IZCfT,.DeleteCardPrompt_deleteCardHeaderConfirmContainer_xlCU5yyd,.DeleteCardPrompt_deleteCardHeaderContainer_o4Rc1W-T,.DeleteCardPrompt_deleteCardHeaderIconContainer_GMk8dweO{display:flex}.DeleteCardPrompt_deleteCardAction_o-CcZcnw,.DeleteCardPrompt_deleteCardHeaderIconContainer_GMk8dweO{align-items:center}.DeleteCardPrompt_deleteCardAction_o-CcZcnw,.DeleteCardPrompt_deleteCardHeaderConfirmContainer_xlCU5yyd,.DeleteCardPrompt_deleteCardHeaderIconContainer_GMk8dweO{justify-content:center}.DeleteCardPrompt_deleteCardHeader_ZH5IZCfT{padding:24px 24px 0}.DeleteCardPrompt_deleteCardHeaderInfo_hghgt5ug{flex:1}.DeleteCardPrompt_deleteCardHeaderTitle_v-x9k9Wi{font-size:20px;line-height:24px;font-weight:600;letter-spacing:-.3px;color:rgba(2,6,12,.9215686275);margin-top:16px;outline:0}.DeleteCardPrompt_deleteCardHeaderMessage_bg8vOUUG{font-size:13px;line-height:16px;font-weight:200;letter-spacing:-.3px;color:rgba(2,6,12,.4509803922);margin-top:12px}.DeleteCardPrompt_deleteCardHeaderIcon_m-nMIvSj{padding-top:10px;max-width:76px}.DeleteCardPrompt_deleteCardContent_xnpDUQdU{padding:16px 16px 0}.DeleteCardPrompt_deleteCardContentRowPrimaryAction_qvKMxhWw{padding:20px 0 16px}.DeleteCardPrompt_deleteCardContentRowSecondaryAction_sLfTG-ca{padding-bottom:24px}.DeleteCardPrompt_deleteCardContentRowSecondaryActionCta_jOl8Xzl4{height:-webkit-fit-content;height:fit-content}.DeleteCardPrompt_deleteCardAction_o-CcZcnw{text-transform:none}.DeleteCardPrompt_deleteCardActionSingle_ZSWJfms7{margin-bottom:24px}.DeleteCardPrompt_deleteCardActionSecondary_fWkRv1bw{border:none;box-shadow:none}.DeleteCardPrompt_deleteCardActionMain_L5RNZdV7,.DeleteCardPrompt_deleteCardActionSecondary_fWkRv1bw{font-size:18px;letter-spacing:-.3px;font-weight:600;text-transform:none}");const ih=l.a.memo((function(e){const t=Object(i.useRef)(null),a=Object(i.useRef)(null);Object(i.useEffect)(()=>{a.current=Object(s.ib)()},[]),Object(s.Eb)(t,a);const n=d()(QO,{[oh]:!e.secondaryAction}),o=d()(QO,"DeleteCardPrompt_deleteCardActionSecondary_fWkRv1bw",{DeleteCardPrompt_deleteCardContentRowSecondaryActionCta_jOl8Xzl4:!0});return l.a.createElement("div",{role:Sn,"aria-labelledby":"payment-alert-header-title","aria-describedby":"payment-alert-content"},l.a.createElement("div",{className:eh,"data-testid":at},l.a.createElement("div",{className:th},l.a.createElement("div",{className:"DeleteCardPrompt_deleteCardHeaderContainer_o4Rc1W-T"},l.a.createElement("div",null,l.a.createElement("div",{id:"payment-alert-header-title",className:ah,"data-testid":nt,ref:t,tabIndex:0,role:Nn,"aria-level":3},e.title),l.a.createElement("div",{className:"DeleteCardPrompt_deleteCardHeaderMessage_bg8vOUUG","data-testid":ot},e.message))))),l.a.createElement("div",{className:nh,"data-testid":rt},e.primaryAction&&l.a.createElement("div",{className:d()(nh,"DeleteCardPrompt_deleteCardContentRowPrimaryAction_qvKMxhWw")},l.a.createElement(qO,{onClick:()=>{e.primaryAction&&(e.setAction(e.primaryAction.onClick),e.close())},accent:XO.SWIGGY_ORANGE_LARGE,className:n,"data-testid":it},l.a.createElement("div",{className:rh},e.primaryAction.text))),e.secondaryAction&&l.a.createElement("div",{className:"DeleteCardPrompt_deleteCardContentRowSecondaryAction_sLfTG-ca"},l.a.createElement(qO,{onClick:()=>{e.secondaryAction?(e.setAction(e.secondaryAction.onClick),e.close()):e.close()},accent:XO.SWIGGY_ORANGE_TRANSPARENT,className:o,"data-testid":lt},l.a.createElement("div",{className:rh},e.secondaryAction.text)))))}));var lh=l.a.memo((function(e){const{hideOnOverlayClick:t=!0,onClose:a}=e,n=fn(e,["hideOnOverlayClick","onClose"]),[o,r]=Object(i.useState)(),c=Object(i.useCallback)(()=>{o&&o(),a&&a()},[a,o]);return Object(s.Fb)(),l.a.createElement(s.e,{hideOnOverlayClick:t,onClose:c},e=>l.a.createElement(ih,Object.assign({},e,n,{setAction:r})))}));const sh=l.a.memo((function(e){const t=Object(i.useRef)(null),a=Object(i.useRef)(null);Object(i.useEffect)(()=>{a.current=Object(s.ib)()},[]),Object(s.Eb)(t,a);const n=d()(QO,{[oh]:!0}),o=Object(s.nb)(e.iconUrl);return l.a.createElement("div",{role:Sn,"aria-labelledby":"payment-alert-header-title","aria-describedby":"payment-alert-content"},l.a.createElement("div",{className:eh,"data-testid":at},l.a.createElement("div",{className:th},l.a.createElement("div",{className:"DeleteCardPrompt_deleteCardHeaderIconContainer_GMk8dweO"},l.a.createElement("img",{className:"DeleteCardPrompt_deleteCardHeaderIcon_m-nMIvSj",src:o,alt:""})),l.a.createElement("div",{className:"DeleteCardPrompt_deleteCardHeaderConfirmContainer_xlCU5yyd"},l.a.createElement("div",{id:"payment-alert-header-title",className:ah,"data-testid":nt,ref:t,tabIndex:0,role:Nn,"aria-level":3},so(e.title,e.cardBrand?e.cardBrand:""))))),l.a.createElement("div",{className:nh,"data-testid":rt},e.primaryAction&&l.a.createElement(qO,{onClick:()=>{e.primaryAction&&(e.setAction(e.primaryAction.onClick),e.close())},accent:XO.SWIGGY_ORANGE_TRANSPARENT,className:n,"data-testid":it},l.a.createElement("div",{className:rh},e.primaryAction.text))))}));var ch=l.a.memo((function(e){const{hideOnOverlayClick:t=!0,onClose:a}=e,n=fn(e,["hideOnOverlayClick","onClose"]),[o,r]=Object(i.useState)(),c=Object(i.useCallback)(()=>{o&&o(),a&&a()},[a,o]);return Object(s.Fb)(),l.a.createElement(s.e,{hideOnOverlayClick:t,onClose:c},e=>l.a.createElement(sh,Object.assign({},e,n,{setAction:r})))}));Ho(".styles-v4_payButtonWrapper_PcaZVUoe{padding:16px;position:fixed;width:100%;background-color:#fff;bottom:0;left:0;box-shadow:0 -2px 16px rgba(0,0,0,.05)}");var dh=Object(i.memo)((function(e){const{onPayClick:t,isLoading:a}=e,n=Object(i.useCallback)(e=>{e.stopPropagation(),t()},[t]);return l.a.createElement("div",{className:"styles-v4_payButtonWrapper_PcaZVUoe"},l.a.createElement(E.SuperButton,{buttonType:"specialPositive",buttonSize:"large",onClick:n,"data-testid":"nul_pb",loading:a},a?In.LOADING:In.PROCEED_TO_PAY))}));Ho(".NativeUpiList_container_zR4YkT74{background-color:#fff}.NativeUpiList_containerLoading_IaHgX5N0{opacity:.7}.NativeUpiList_containerHeader_AKx7MFhd{font-size:20px;line-height:24px;font-weight:600;letter-spacing:-.3px;color:rgba(2,6,12,.9215686275);padding:24px 16px}.NativeUpiList_containerCantFindBank_Ezq2jCW3{font-size:13px;letter-spacing:-.1px;font-weight:600;color:rgba(2,6,12,.6);margin:24px 16px;line-height:16px;text-transform:uppercase}.NativeUpiList_contentContainer_9nmcA-Oc{overflow-y:auto;max-height:calc(100vh - var(--status-bar-height, 0px) - 148px)}.NativeUpiList_fixedContainer_ZfD5WKFo{display:flex;flex-direction:column;background:#fff;border-radius:16px;margin:0 16px;box-shadow:0 2px 8px rgba(40,44,63,.1)}.NativeUpiList_accountList_YeS0F7PV{height:100%}.NativeUpiList_accountListItem_nAdpzf02{font-size:16px;line-height:19px;font-weight:400;letter-spacing:-.3px;padding:27px 16px;position:relative;overflow:hidden}.NativeUpiList_accountListItemContainer_c8hgSTBc{border-bottom:1px dashed #e2e2e7}.NativeUpiList_accountListItemContainer_c8hgSTBc:last-child{border-bottom:none}.NativeUpiList_accountListItem_nAdpzf02:last-child{border-bottom:0}.NativeUpiList_accountListItemIcon_vOR6LCLi{float:right;stroke:#babbc0;font-size:9px;position:relative;top:4px}.NativeUpiList_accountListItemDisabled_LPWB0xTt{opacity:.3}");var uh=Object(i.memo)((function(e){const{paymentActions:t,selectedNativeUpiRef:a,primaryNativeUpiRef:n,paymentAmount:o,itemsCount:r,nativeUpiFetchStatus:s,paymentInProgress:c}=e,u=Object(i.useMemo)(()=>Ao(e),[e]),m=Object(i.useMemo)(()=>u.find(e=>e.meta.referenceId===a),[u,a]),p=Object(i.useCallback)(()=>{null!=m&&t.onPay(m)},[t,m]),_=Object(i.useMemo)(()=>{return null!==(a=null===(t=e.paymentData.meta)||void 0===t?void 0:t.title)&&void 0!==a?a:"Select your preferred bank account and enter your UPI PIN:";var t,a},[e.paymentData]),E=Object(i.useMemo)(()=>{return null!==(a=null===(t=e.paymentData.meta)||void 0===t?void 0:t.addAccountCta)&&void 0!==a?a:"Cannot find your bank?";var t,a},[e.paymentData]);if(Ke(u))return null;const C=d()("NativeUpiList_container_zR4YkT74",{NativeUpiList_containerLoading_IaHgX5N0:c});return l.a.createElement("div",{className:C},l.a.createElement("div",{className:"NativeUpiList_contentContainer_9nmcA-Oc"},l.a.createElement("div",{className:"NativeUpiList_containerHeader_AKx7MFhd","data-testid":"nul_title"},_),l.a.createElement("div",{className:"NativeUpiList_fixedContainer_ZfD5WKFo"},l.a.createElement("div",{className:"NativeUpiList_accountList_YeS0F7PV"},u.map(o=>{const r=o.meta.referenceId,i=To(o);return l.a.createElement(hC,{key:r,id:i,methodData:o,isSdkAvailable:e.isSdkAvailable,selected:r===a,primary:r===n,paymentActions:t,nativeUpiFetchStatus:s})}))),l.a.createElement("div",{className:"NativeUpiList_containerCantFindBank_Ezq2jCW3",onClick:t.onAddNewBankClick,"data-testid":"nul_cfb"},E)),l.a.createElement(dh,{itemsCount:r,paymentAmount:o,onPayClick:p,isLoading:c}))})),mh=Object(i.memo)((function(e){return l.a.createElement(uh,Object.assign({},e))})),ph=l.a.memo((function(e){const t=Object(i.useMemo)(()=>{var t;const a=(null===(t=e.actions)||void 0===t?void 0:t[0]).actionData;let n="";(null==a?void 0:a.orderAmount)&&(n=""+(null==a?void 0:a.orderAmount));const o=Number(null==a?void 0:a.orderItemsCount);return isNaN(o)||(n+=" | "+(1===o?"1 item":` ${o} Items`)),Object.assign(Object.assign({},e.primaryAction),{subText:n})},[e.actions,e.primaryAction]);return l.a.createElement(Yb,Object.assign({},e,{primaryAction:t,hideCloseIcon:!e.secondaryAction,hideOnOverlayClick:!1}))})),_h=".LinkAccountPhoneNumber_linkPhoneNumberHeader_DFUTg7Pg{display:flex}.LinkAccountPhoneNumber_container_j8M7Evba{background-color:#fff;height:100%}.LinkAccountPhoneNumber_linkPhoneNumber_YdsjQo9E{padding:0 16px}.LinkAccountPhoneNumber_linkPhoneNumberHeader_DFUTg7Pg{padding:17px 16px 0 20px;justify-content:space-between}.LinkAccountPhoneNumber_linkPhoneNumberHeaderIcon_IkUQrFUy{min-width:55px!important;min-height:52px!important}.LinkAccountPhoneNumber_linkPhoneNumberHeaderTitle_ksqtGUnJ{margin-right:40px;margin-top:7px}.LinkAccountPhoneNumber_linkPhoneNumberHeaderRegisteredNumber_F-SGNlJs{margin:12px 0}.LinkAccountPhoneNumber_linkPhoneNumberSubtitle_B4-R4T9y{margin-top:3px;margin-left:4px}.LinkAccountPhoneNumber_linkPhoneNumberButton_FTxu9O7Y{margin-top:20px;text-transform:none!important}.LinkAccountPhoneNumber_linkPhoneNumberButtonNonEditableFlow_AoDUVZN8{margin-top:55px}.LinkAccountPhoneNumber_linkPhoneNumberInput_3m9z0Oa9{margin:28px 0 0!important}",Eh={_getCss:function(){return _h},_getId:function(){return"b048344f41"},linkPhoneNumberHeader:"LinkAccountPhoneNumber_linkPhoneNumberHeader_DFUTg7Pg",container:"LinkAccountPhoneNumber_container_j8M7Evba",linkPhoneNumber:"LinkAccountPhoneNumber_linkPhoneNumber_YdsjQo9E",linkPhoneNumberHeaderIcon:"LinkAccountPhoneNumber_linkPhoneNumberHeaderIcon_IkUQrFUy",linkPhoneNumberHeaderTitle:"LinkAccountPhoneNumber_linkPhoneNumberHeaderTitle_ksqtGUnJ",linkPhoneNumberHeaderRegisteredNumber:"LinkAccountPhoneNumber_linkPhoneNumberHeaderRegisteredNumber_F-SGNlJs",linkPhoneNumberSubtitle:"LinkAccountPhoneNumber_linkPhoneNumberSubtitle_B4-R4T9y",linkPhoneNumberButton:"LinkAccountPhoneNumber_linkPhoneNumberButton_FTxu9O7Y",linkPhoneNumberButtonNonEditableFlow:"LinkAccountPhoneNumber_linkPhoneNumberButtonNonEditableFlow_AoDUVZN8",linkPhoneNumberInput:"LinkAccountPhoneNumber_linkPhoneNumberInput_3m9z0Oa9"};Ho(_h);var Ch=Object(i.memo)((function(e){const{displayName:t,editableState:a,iconUrl:n}=e,{isEditable:o,registeredMobileNumber:r}=a,c=Object(i.useMemo)(()=>Object(s.hb)(o?In.LINK_MOBILE_NUMBER_TITLE:"Link {0} wallet associated with this number",t),[t,o]),d=Object(i.useMemo)(()=>(e=>e.split("").join(" "))(r),[r]);return l.a.createElement("div",{className:Eh.linkPhoneNumberHeader},l.a.createElement("div",null,l.a.createElement(m.Text,{variant:"V2.subheading1.neutral.bold",color:"text_Highest_Emphasis",className:Eh.linkPhoneNumberHeaderTitle,"data-testid":"lav_title"},c),!o&&l.a.createElement(m.Text,{variant:"V2.body2.neutral.medium",color:"text_Highest_Emphasis","aria-label":d,className:Eh.linkPhoneNumberHeaderRegisteredNumber,"data-testid":"lav_registered_number_field"},r)),l.a.createElement(Jo,{parentClassName:Eh.linkPhoneNumberHeaderIcon,src:n,"data-testid":"lav_icon"}))})),bh=Object(i.memo)(Object(s.Hb)((function(e){const{onConfirmLinking:t,iconUrl:a,displayName:n,editableState:o,mobileNumber:r,setMobileNumber:c}=e,[u,p]=Object(i.useState)(!1),{isEditable:_,registeredMobileNumber:C}=o,b=Object(i.useMemo)(()=>({maxLength:10,type:"tel",name:"phoneNumberInput",id:"phoneNumberInput","data-testid":"lav_phone_number_input"}),[]),y=Object(i.useCallback)(e=>{c(e),p(!1)},[c]),g=Object(i.useCallback)(e=>{e.preventDefault(),_||t(C),(e=>!Object(s.ub)(e)&&/^\d{10}$/.test(e))(r)?t(r):p(!0)},[_,t,r,C]),O=d()(Eh.linkPhoneNumberButton,{[Eh.linkPhoneNumberButtonNonEditableFlow]:!_}),h=Object(i.useMemo)(()=>_&&r.length<10,[_,r.length]);return l.a.createElement("div",{"data-testid":"lav_container",className:Eh.container},l.a.createElement(Ch,{displayName:n,iconUrl:a,editableState:o}),l.a.createElement("div",{className:Eh.linkPhoneNumber},l.a.createElement(m.Text,{variant:"V2.body3.neutral.medium",color:"text_Low_Emphasis",className:Eh.linkPhoneNumberSubtitle,"data-testid":"lav_subtitle"},In.LINK_MOBILE_NUMBER_SUBTITLE),_&&l.a.createElement(s.y,{className:Eh.linkPhoneNumberInput,label:"Phone number",onChange:y,attrs:b,error:u,value:r,errorMessage:u?"Incorrect phone number":void 0,keepLabelActive:!!r.length}),l.a.createElement(E.SuperButton,{className:O,onClick:g,"data-testid":"lav_confirm_linking",buttonType:"primary",buttonSize:"large",isDisabled:h},_?B_:"Proceed")))}),Eh)),yh=Object(i.memo)((function(e){return l.a.createElement(bh,Object.assign({},e))}));Ho('@charset "UTF-8";.styles_headerContainer_Cpts09s2{display:flex;align-items:center;justify-content:space-between;padding-left:4px;padding-bottom:23px}.styles_headerTitle_BUM5r-92{font-size:18px;line-height:20px;font-weight:600;letter-spacing:-.3px;color:rgba(2,6,12,.9215686275)}.styles_headerBalance_EKiRTCTb{font-size:16px;line-height:19px;font-weight:200;letter-spacing:-.3px;color:rgba(2,6,12,.7490196078);margin-top:5px}.styles_headerBalance_EKiRTCTb:before{content:"₹";margin-right:.1rem}.styles_headerIconContainer_ur1TvL-N{width:55px!important;height:52px!important}.styles_headerIconContainer_ur1TvL-N:only-child{margin:0 auto}');var gh=Object(i.memo)((function({balance:e,iconUrl:t,containerClassName:a,showBalance:n}){const o=d()("styles_headerContainer_Cpts09s2",a),r=Object(i.useMemo)(()=>Object(s.nb)(t),[t]);return l.a.createElement("div",{className:o},n&&l.a.createElement("div",null,l.a.createElement("div",{className:"styles_headerTitle_BUM5r-92"},In.CURRENT_BALANCE),l.a.createElement("div",{className:"styles_headerBalance_EKiRTCTb","data-testid":"ad-mn-del_bal"},e)),l.a.createElement(Jo,{"data-testid":"ad-mn-del_wal_icn",parentClassName:"styles_headerIconContainer_ur1TvL-N",src:r}))}));Ho(".styles_addMoneyInput_W7VR5Uny{margin:6px 0 28px}.styles_addMoneyCta_gzJOR6WI{margin-bottom:31px}");const Oh={type:"tel",name:"addMoney",id:"addMoney","data-testid":"ad-mn-del_ad_mn_inp"};var hh=Object(i.memo)((function(e){const[t,a]=Object(i.useState)(""),{onAddMoney:n}=e,o=Object(i.useCallback)(e=>{const t=Iu(e);if(isNaN(t))return;if(t>1e10)return;const n=0===t?"":(e=>In.RUPEE+e)(t);a(n)},[]),r=!t.length,c=Object(i.useCallback)(()=>{r||n(Iu(t))},[t,r,n]),d=Object(i.useMemo)(()=>Gn(In.ADD_MONEY),[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(s.y,{className:"styles_addMoneyInput_W7VR5Uny",label:In.ENTER_AMOUNT,onChange:o,attrs:Oh,value:t}),l.a.createElement("div",{className:"styles_addMoneyCta_gzJOR6WI"},l.a.createElement(E.SuperButton,{buttonType:"primary",buttonSize:"large",variant:"fullwidth",isDisabled:r,onClick:c,"data-testid":"ad-mn-del_ad_mn_cta"},d)))}));Ho(".styles_delinkWallet_2O-c-Jfg{text-align:center;margin-top:16px}.styles_delinkWalletConfirmationTitle_UmwYLwof{margin:7px 0 6px 4px}.styles_delinkWalletConfirmationSecondaryCta_8YfytJVr{margin-top:18px!important;text-transform:capitalize}.styles_delinkWalletFailureTitle_xW-DYTQS{margin-bottom:13px;font-weight:800}.styles_delinkWalletFailureContainer_c0FalnA6{padding:48px 16px 36px 14px}.styles_delinkWalletFailurePrimaryCta_zZIrRlAx{font-size:16px;line-height:19px;font-weight:600;letter-spacing:-.3px;margin-left:2px;text-transform:none}.styles_delinkWalletFailureCloseButton_Q367Jk8c{box-shadow:none;top:16px;right:16px}.styles_successBottomSheetHeader_btbMLoxs{padding-top:27px}.styles_successBottomSheetContent_4ERo5WOz{padding-bottom:27px}");var Ah=Object(i.memo)((function({onDelinkWallet:e,isDelinkSuccess:t,onCloseSuccessBottomSheet:a,onCloseFailureBottomSheet:n,isDelinkFailure:o,walletDetails:r,analyticHandlers:c}){const{onClickCancelDelink:d,onClickConfirmDelink:u,onClickCrossDelinkFailure:m,onClickTryAgainDelink:p,onImpressionConfirmDelink:_,onClickDelinkCta:E,onImpressionFaliedDelink:b,onImpressionSuccessDelink:y}=c,[g,O]=Object(i.useState)(!1),h=Object(s.Gb)();Object(i.useEffect)(()=>{t&&y()},[t,y]),Object(i.useEffect)(()=>{o&&b()},[o,b]),Object(i.useEffect)(()=>{g&&_()},[_,g]);const A=Object(i.useCallback)(()=>{h.current&&O(!1)},[h]),f=Object(i.useCallback)(()=>{E(),h.current&&O(!0)},[h,E]),v=Object(i.useCallback)(()=>{u(),e()},[u,e]),T=Object(i.useCallback)(()=>{d()},[d]),I=Object(i.useCallback)(()=>{e(),p()},[p,e]),S=Object(i.useMemo)(()=>({text:Gn(In.TRY_AGAIN),onClick:I,className:"styles_delinkWalletFailurePrimaryCta_zZIrRlAx"}),[I]),N=Object(i.useMemo)(()=>({primaryAction:{text:In.CONFIRM,onClick:v},secondaryAction:{text:In.CANCEL,className:"styles_delinkWalletConfirmationSecondaryCta_8YfytJVr",onClick:T}}),[T,v]),R=Object(i.useMemo)(()=>(e=>e.walletCode===G.amazonpay?In.AMAZON_PAY_DELINK_FAILURE_TITLE:e.walletCode===G.simpl?In.SIMPL_DELINK_FAILURE_TITLE:Object(s.hb)(In.DELINK_FAILURE_TITLE,e.displayName,String(e.mobileNumber)))(r),[r]),P=Object(i.useMemo)(()=>(e=>{switch(e.walletCode){case G.amazonpay:return In.AMAZON_PAY_DELINK_SUCCESS_TITLE;case G.simpl:return In.SIMPL_DELINK_SUCCESS_TITLE;case G.paytmpostpaid:case G.paytm:return Object(s.hb)(In.DELINK_SUCCESS_ACCOUNT_TITLE,In.PAYTM,String(e.mobileNumber));default:return Object(s.hb)(In.DELINK_SUCCESS_TITLE,e.displayName,String(e.mobileNumber))}})(r),[r]),D=Object(i.useMemo)(()=>(e=>{switch(e.walletCode){case G.simpl:return"";default:return In.DELINK_SUCCESS_SUBTEXT}})(r),[r]),L=Object(i.useMemo)(()=>(e=>{switch(e.walletCode){case G.paytmpostpaid:case G.paytm:return Object(s.hb)(In.DELINK_METHOD_ACCOUNT,In.PAYTM);case G.simpl:return Object(s.hb)(In.DELINK_METHOD_ACCOUNT,In.SIMPL);default:return In.DELINK}})(r),[r]),k=Object(i.useMemo)(()=>g?{onClose:A,primaryAction:N.primaryAction,secondaryAction:N.secondaryAction,hideIcon:!0,hideCloseIcon:!0,title:Su(r),subTitle:Nu(r),titleClassName:"styles_delinkWalletConfirmationTitle_UmwYLwof",hideOnOverlayClick:!0,primaryCtaDataTestId:"ad-mn-del_del_con_pri_cta",secondaryCtaDataTestId:"ad-mn-del_del_con_sec_cta",titleDataTestId:"ad-mn-del_del_con_titl"}:o?{onClose:n,onClickCloseButton:m,primaryAction:S,title:R,titleClassName:"styles_delinkWalletFailureTitle_xW-DYTQS",containerClassName:"styles_delinkWalletFailureContainer_c0FalnA6",closeButtonClassName:"styles_delinkWalletFailureCloseButton_Q367Jk8c",hideOnOverlayClick:!0,primaryCtaDataTestId:"ad-mn-del_del_fai_pri_cta",titleDataTestId:"ad-mn-del_del_fai_titl",closeButtonDataTestId:"ad-mn-del_del_fai_cls_cta"}:void 0,[N.primaryAction,N.secondaryAction,S,R,o,m,n,A,g,r]);return l.a.createElement("div",{className:"styles_delinkWallet_2O-c-Jfg"},l.a.createElement(C.TextButton,{color:"primary",buttonSize:"medium",onClick:f,"data-testid":"ad-mn-del_del_cta"},L),(g||o)&&l.a.createElement(s.s,Object.assign({},k)),t&&l.a.createElement(xE,{onClose:a,title:P,durationInSec:3,subTitle:D,contentClassName:"styles_successBottomSheetContent_4ERo5WOz",headerClassName:"styles_successBottomSheetHeader_btbMLoxs"}))}));Ho(".AddMoneyAndDelinkWallet_addMoneyAndDelinkWalletContainer_yP4LetWQ{padding:15px 16px 0}.AddMoneyAndDelinkWallet_addMoneyAndDelinkWalletHeader_j5KcFagC{border-bottom:1px solid rgba(2,6,12,.0509803922)}");var fh=Object(i.memo)((function({onAddMoney:e,onDelinkWallet:t,walletDetails:a,isDelinkSuccess:n,showBalance:o=!0,onCloseDelinkSuccessBottomSheet:r,onCloseDelinkFailureBottomSheet:i,isDelinkFailure:s,isAddMoneyToWalletEnabled:c,analyticHandlers:u}){const m=d()({AddMoneyAndDelinkWallet_addMoneyAndDelinkWalletHeader_j5KcFagC:!c&&o});return l.a.createElement("div",{className:"AddMoneyAndDelinkWallet_addMoneyAndDelinkWalletContainer_yP4LetWQ"},l.a.createElement(gh,{balance:a.balance,showBalance:o,iconUrl:a.iconUrl,containerClassName:m}),c&&l.a.createElement(hh,{onAddMoney:e}),l.a.createElement(Ah,{onDelinkWallet:t,isDelinkSuccess:n,isDelinkFailure:s,onCloseSuccessBottomSheet:r,onCloseFailureBottomSheet:i,walletDetails:a,analyticHandlers:u}))}));Ho(".OneClickEnrollmentHeader_oneClickEnrollmentContainer_XQuGshwN{background-color:#6541e4;padding:50px 16px 57px;border-radius:0 0 24px 24px;position:relative}@supports (margin-top:var(--status-bar-height)){.OneClickEnrollmentHeader_oneClickEnrollmentContainer_XQuGshwN{margin-top:var(--status-bar-height,0)}}.OneClickEnrollmentHeader_oneClickEnrollmentHeader_QALw-2DN{font-size:28px;line-height:32px;font-weight:800;letter-spacing:-.6px;color:#fff;margin-top:22px}.OneClickEnrollmentHeader_oneClickEnrollmentSubtitleContainer_mhI380gV{font-size:16px;line-height:19px;font-weight:200;letter-spacing:-.3px;color:hsla(0,0%,100%,.6);margin-top:8px}.OneClickEnrollmentHeader_oneClickEnrollmentSubtitleMessage_1kNgecr6{margin-right:5px}.OneClickEnrollmentHeader_oneClickEnrollmentKnowMore_kyoruWvh{font-size:16px;line-height:19px;font-weight:600;letter-spacing:-.3px;color:hsla(0,0%,100%,.9176470588);background-color:transparent}.OneClickEnrollmentHeader_oneClickEnrollmentIcon_NWjvHc1D{width:94px;height:138px;position:absolute;right:17px;top:68px}");var vh=Object(i.memo)((function(e){const{knowMoreMessage:t,subtitle:a,title:n,onClickKnowMore:o}=e,[r,c]=Object(i.useState)(!1),d=Object(i.useCallback)(()=>{c(!0),o()},[o]),u=(()=>{const{canGoBack:e}=Object(i.useContext)(s.K);return Object(i.useCallback)((t=1)=>{e(t)?history.go(-1*t):(s.B.removeItem("auth_headers"),Yc().close(void 0).catch(()=>{}))},[e])})(),m=Object(i.useCallback)(e=>{e.preventDefault(),u()},[u]);return l.a.createElement("div",{className:"OneClickEnrollmentHeader_oneClickEnrollmentContainer_XQuGshwN","data-testid":"spb_container"},l.a.createElement("span",{onClick:m,"data-testid":"spb_bck_cta"},l.a.createElement(s.d,{color:"#ffffffeb"})),l.a.createElement("img",{src:Object(s.nb)("portal/m/oneclick_boltbanner"),className:"OneClickEnrollmentHeader_oneClickEnrollmentIcon_NWjvHc1D","data-testid":"spb_icon"}),l.a.createElement("div",{className:"OneClickEnrollmentHeader_oneClickEnrollmentHeader_QALw-2DN","data-testid":"spb_title"},n),l.a.createElement("div",{className:"OneClickEnrollmentHeader_oneClickEnrollmentSubtitleContainer_mhI380gV"},l.a.createElement("span",{"data-testid":"spb_sub_title",className:"OneClickEnrollmentHeader_oneClickEnrollmentSubtitleMessage_1kNgecr6"},a),r&&l.a.createElement("span",{"data-testid":"spb_kn_msg"},t),!r&&l.a.createElement("button",{className:"OneClickEnrollmentHeader_oneClickEnrollmentKnowMore_kyoruWvh",onClick:d,"data-testid":"spb_kn_mor_cta"},In.KNOW_MORE)))}));const Th=p.default.div(({theme:e})=>({display:"flex",justifyContent:"space-between",alignItems:"center",background:e.colors[e.colorMode].positive_Sub,padding:`${e.spacing.xxSmall} ${e.spacing.empty} ${e.spacing.xxSmall} ${e.spacing.medium}`,marginBottom:e.spacing.xxLarge,boxShadow:"0px 1px 16px rgba(0, 0, 0, 0.05)",borderRadius:`0 0 ${e.cornerRadius.medium} ${e.cornerRadius.medium}`})),Ih=p.default.div({display:"flex",alignItems:"center"}),Sh=p.default.svg(({theme:e})=>({stroke:e.colors[e.colorMode].positive,height:"11px",width:"8px",color:e.colors[e.colorMode].positive})),Nh=p.default.div(({theme:e})=>({display:"flex",alignItems:"center",marginLeft:"auto",marginRight:e.spacing.small})),Rh=p.default.div(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"36px",textAlign:"left",alignSelf:"flex-start",borderRadius:e.cornerRadius.rounded})),Ph=p.default.div(({theme:e})=>({display:"flex",justifyContent:"center",position:"relative",width:"100%",flexDirection:"column",height:"36px",overflow:"hidden",borderRadius:e.cornerRadius.rounded})),Dh=p.default.div({display:"flex",alignItems:"center",position:"absolute",width:"100%",opacity:1}),Lh=p.default.div({width:"36px",height:"36px",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"}),kh=p.default.img(({theme:e})=>({display:"block",maxHeight:"32px",width:"auto",maxWidth:"100%",margin:"auto",borderRadius:e.cornerRadius.rounded,listStyle:"none"}));function xh(e){return l.a.createElement(Rh,null,l.a.createElement(Ph,null,l.a.createElement(Dh,null,l.a.createElement(Lh,null,l.a.createElement(kh,{crossOrigin:"anonymous",src:Object(s.nb)("v1685605082/Ratnesh_Badges/Icon_for_offer.png"),"data-testId":"offer_strip_static_image"})))))}var wh=Object(i.memo)((function(e){const t=Object(s.ub)(e.maxDiscount)||"0"===e.maxDiscount?"Save more with payment offers":Object(s.hb)('Save <span style="font-weight: 600;">upto ₹{0}</span> more with payment offers',e.maxDiscount);Object(s.Db)(()=>{e.impressionEvent(t)});const a=Object(i.useMemo)(()=>l.a.createElement(xh,{offerIcons:e.icons}),[e.icons]);return l.a.createElement(Th,{"data-testId":"offer_strip_container",onClick:e.goToOffersPage},l.a.createElement(Ih,null,a,l.a.createElement(m.Text,{variant:"V2.body2.neutral.medium",color:"positive","data-testId":"offer_strip_text",dangerouslySetInnerHTML:{__html:t}})),l.a.createElement(s.c,{as:"div"},l.a.createElement(Nh,null,l.a.createElement(Sh,{as:pu,color:"green"}))))}));const Mh=p.default.div`
    position: absolute;
    top: ${18}px;
    right: ${18}px;
`,jh=p.default.div(({theme:e})=>({display:"flex",alignItems:"center",marginBottom:""+e.spacing.xLarge})),Bh=p.default.div(({theme:e})=>({marginLeft:""+e.spacing.xSmall})),Uh=p.default.div(({theme:e})=>({padding:""+e.spacing.medium})),Hh=p.default.div(({theme:e})=>({margin:`${e.spacing.small} 0 ${e.spacing.xxSmall}`})),Gh=p.default.div(({theme:e})=>({margin:e.spacing.large+" 0",height:"1px",backgroundColor:""+e.colors.light.border_Tertiary})),Yh=p.default.div(({theme:e})=>({paddingTop:""+e.spacing.small}));function Wh(){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"36",height:"36",viewBox:"0 0 36 36",fill:"none"},l.a.createElement("circle",{cx:"18",cy:"18",r:"18",fill:"#F0F0F5"}),l.a.createElement("path",{d:"M23.9695 10.2C23.9695 10.0895 23.88 10 23.7695 10H13.2C13.0895 10 13 10.0895 13 10.2V11.9109C13 12.0214 13.0895 12.1109 13.2 12.1109H16.5401C17.8957 12.1109 18.9434 12.7875 19.2785 13.962C19.313 14.0829 19.218 14.1979 19.0923 14.1979H13.2C13.0895 14.1979 13 14.2874 13 14.3979V15.4132C13 15.5237 13.0895 15.6132 13.2 15.6132H19.0638C19.1912 15.6132 19.2865 15.7311 19.2492 15.8529C18.8953 17.0084 17.871 17.7241 16.5401 17.7241H13.2C13.0895 17.7241 13 17.8137 13 17.9241V19.6351C13 19.7455 13.0895 19.8351 13.2 19.8351H15.4254C15.4956 19.8351 15.5607 19.8719 15.5969 19.9321L19.1834 25.903C19.2196 25.9632 19.2846 26 19.3549 26H21.5823C21.7394 26 21.8352 25.8272 21.7519 25.6939L18.1026 19.8593C18.0254 19.7358 18.1019 19.5731 18.2448 19.5448C19.9207 19.2132 21.4353 17.9679 21.757 15.7904C21.7718 15.6899 21.8569 15.6132 21.9585 15.6132H23.7695C23.88 15.6132 23.9695 15.5237 23.9695 15.4132V14.3979C23.9695 14.2874 23.88 14.1979 23.7695 14.1979H21.9267C21.8288 14.1979 21.7457 14.1269 21.7265 14.031C21.5568 13.1855 21.1719 12.4287 20.5719 11.8447C20.4316 11.708 20.5223 11.4393 20.7182 11.4393H23.7695C23.88 11.4393 23.9695 11.3497 23.9695 11.2393V10.2Z",fill:"#5134B6"}))}function Fh(){return l.a.createElement("svg",{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("circle",{cx:"18",cy:"18",r:"18",fill:"#F0F0F5"}),l.a.createElement("path",{d:"M20.95 9.93497C20.95 10.5441 20.4547 11.0379 19.8438 11.0379C19.2328 11.0379 18.7376 10.5441 18.7376 9.93497C18.7376 9.32583 19.2328 8.83203 19.8438 8.83203C20.4547 8.83203 20.95 9.32583 20.95 9.93497Z",fill:"#5134B6"}),l.a.createElement("path",{d:"M16.8939 13.9791C17.5049 13.9791 18.0001 13.4853 18.0001 12.8761C18.0001 12.267 17.5049 11.7732 16.8939 11.7732C16.283 11.7732 15.7877 12.267 15.7877 12.8761C15.7877 13.4853 16.283 13.9791 16.8939 13.9791Z",fill:"#5134B6"}),l.a.createElement("path",{d:"M25.7434 16.332H14.3046L13.207 12.4044C13.106 12.0283 12.6895 11.8129 12.2769 11.9231C11.8642 12.0333 11.6116 12.4276 11.7127 12.8036L12.9483 16.332H10.2567C10.1003 16.332 9.95019 16.394 9.83955 16.5043C9.72891 16.6146 9.66675 16.7643 9.66675 16.9203C9.66675 20.0036 10.5689 22.3677 12.0979 23.9648C13.6274 25.5624 15.7267 26.332 18.0001 26.332C20.2734 26.332 22.3728 25.5624 23.9022 23.9648C25.4312 22.3677 26.3334 20.0036 26.3334 16.9203C26.3334 16.7643 26.2713 16.6146 26.1606 16.5043C26.05 16.394 25.8999 16.332 25.7434 16.332Z",fill:"#5134B6"}),l.a.createElement("path",{d:"M21.3187 14.7144C21.9296 14.7144 22.4249 14.2206 22.4249 13.6114C22.4249 13.0023 21.9296 12.5085 21.3187 12.5085C20.7078 12.5085 20.2125 13.0023 20.2125 13.6114C20.2125 14.2206 20.7078 14.7144 21.3187 14.7144Z",fill:"#5134B6"}))}var Vh=Object(i.memo)(e=>{const{onCloseBs:t,downtimeMethodDisplayName:a,onCtaClick:n,onLoad:o}=e,r=l.a.createElement(Mh,null,l.a.createElement(y.GenericIcon,{Icon:O.a,onClick:t}));return Object(s.Db)(()=>{o()}),l.a.createElement(s.e,{closeIcon:r,"data-testid":"pmd_half_card_container",onClose:t},e=>l.a.createElement(Uh,null,l.a.createElement(Hh,null,l.a.createElement(m.Text,{variant:"V2.caption.neutral.black",color:"primary_Accent"},"SMART CHOICE!")),l.a.createElement(m.Text,{variant:"V2.heading1.neutral.bold",color:"text_Highest_Emphasis"},"Here’s how it works:"),l.a.createElement(Gh,null),l.a.createElement(jh,null,l.a.createElement("div",null,l.a.createElement(Fh,null)),l.a.createElement(Bh,null,l.a.createElement(m.Text,{variant:"V2.body1.neutral.medium",color:"text_Med_Emphasis"},tn("Order now & try paying while tracking your order.",a)))),l.a.createElement(jh,null,l.a.createElement("div",null,l.a.createElement(Wh,null)),l.a.createElement(Bh,null,l.a.createElement(m.Text,{variant:"V2.body1.neutral.medium",color:"text_Med_Emphasis"},tn("You can also pay via Cash or {0} at the time of delivery.",a)))),l.a.createElement(Yh,null,l.a.createElement(b.FullWidthButton,{variant:"specialPositive",onClick:n},"Great, pay after ordering"))))});const Kh=(p.default.div`
    position: absolute;
    top: ${18}px;
    right: ${18}px;
`,p.default.div(({theme:e})=>({padding:`${e.spacing.xxLarge} ${e.spacing.medium} ${e.spacing.medium}`}))),zh=p.default.div(({theme:e})=>({display:"flex",alignItems:"center",marginBottom:e.spacing.xxSmall})),$h=Object(p.default)(m.Text)(({theme:e})=>({marginRight:e.spacing.xxxSmall})),Xh=Object(p.default)(m.Text)(({theme:e})=>({marginBottom:e.spacing.small})),Jh=p.default.div(({theme:e})=>({paddingTop:e.spacing.small})),Zh=p.default.div(({theme:e})=>({paddingTop:e.spacing.small,display:"flex",justifyContent:"center",alignItems:"center",gap:e.spacing.xxSmall})),qh=p.default.div(({theme:e})=>({display:"flex",overflow:"hidden",borderRadius:e.cornerRadius.large,marginBottom:e.spacing.xxxSmall,"button > div":{display:"flex"},button:{width:"100%"},aspectRatio:"41 / 25",backgroundColor:e.colors.light.background_Secondary})),Qh={titleV2:"Introducing Swiggy",subTextV2:"Powered by",iconUrlV2:"Swiggy%20UPI/Swiggy%20UPI%20logo%20vertical.png",ctaV2:"Activate in 10 seconds",subtitle:"Unlock 3x faster in-app UPI payment on Swiggy",lottiePath:"Swiggy%20UPI/swiggy%20upi%20new.json",subTextLogosUrl:"Swiggy%20UPI/Powered%20by.png"};var eA=Object(i.memo)(e=>{const{onCtaClick:t,onLoad:a,isOpen:n,halfCardData:o=Qh}=e,{iconUrlV2:r=Qh.iconUrlV2,titleV2:i=Qh.titleV2,ctaV2:c=Qh.ctaV2,subTextV2:d=Qh.subTextV2,subtitle:u=Qh.subtitle,lottiePath:p=Qh.lottiePath,subTextLogosUrl:_=Qh.subTextLogosUrl}=o;Object(s.Db)(()=>{n&&a()});const E=Object(s.nb)(r,{width:126,height:38}),C=hn(_,{height:28,width:342}),y=hn(p,{},{teamLine:$a.PORTAL});return l.a.createElement(Kh,{"data-testid":"inapp_upi_awareness_halfcard_container"},l.a.createElement(zh,null,l.a.createElement($h,{variant:"V2.heading2.neutral.bold",color:"text_Highest_Emphasis","data-testid":"inapp_upi_awareness_halfcard_title"},i),l.a.createElement(s.x,{imageUrl:E,width:63,height:19,"data-testid":"inapp_upi_awareness_halfcard_image"})),l.a.createElement(Xh,{variant:"V2.body2.neutral.medium",color:"text_Low_Emphasis","data-testid":"inapp_upi_awareness_halfcard_subtitle"},u),l.a.createElement(qh,{"data-testid":"inapp_upi_awareness_halfcard_lottie"},l.a.createElement(s.C,{visible:!0,playLottie:!0,playIfVisible:!0,backwardSpeed:1,forwardSpeed:1,fileName:y})),l.a.createElement(Jh,{"data-testid":"inapp_upi_awareness_halfcard_cta"},l.a.createElement(b.FullWidthButton,{variant:"specialPositive",onClick:t},c)),l.a.createElement(Zh,{"data-testid":"inapp_upi_awareness_halfcard_subtext"},l.a.createElement(m.Text,{variant:"V2.body3.neutral.regular",color:"text_Low_Emphasis"},d),l.a.createElement(s.x,{imageUrl:C,height:14,width:171,"data-testid":"inapp_upi_awareness_halfcard_powered_by_image"})))});const tA=p.default.div(({theme:e})=>({backgroundColor:e.colors[e.colorMode].background_Button_Tertiary_Low,paddingBottom:e.spacing.medium})),aA=Object(p.default)(m.Text)(({theme:e})=>({padding:`calc(2*${e.spacing.medium}) 0 0 ${e.spacing.medium}`})),nA=Object(p.default)(D.CardContainer)(({theme:e})=>({margin:""+e.spacing.medium})),oA=p.default.div(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",padding:`${e.spacing.large} ${e.spacing.medium}`})),rA=p.default.div(()=>({width:"19px",height:"19px"})),iA=Object(p.default)(y.GenericIcon)(()=>({display:"flex",alignItems:"center",justifyContent:"center",height:"100%"})),lA=({splitPayList:e,selectedSplitpayMethods:t,handleChange:a,close:n,couponApplied:o,rewardApplied:r,analyticsEvents:c})=>{const[d,u]=Object(i.useState)(!1),p=((e,t,a)=>rO(e,t,a).filter(oO))(e,o,r),[_,E]=(e=>e.reduce((e,t)=>(e[t.enabled?0:1].push(t),e),[[],[]]))(p),C=Object(i.useMemo)(()=>E.length>0&&!d,[E,d]),b=Object(i.useCallback)(()=>{u(!0)},[]),y=Object(i.useCallback)((e,t)=>{a(e,t),n()},[n,a]);return Object(s.Db)(()=>{an(null==c?void 0:c.rewardsHalfCardImpressionEvent)||null==c||c.rewardsHalfCardImpressionEvent()}),l.a.createElement(tA,{"data-testid":"splitpay_reward_half_card__container"},l.a.createElement(aA,{color:"text_High_Emphasis",variant:"V2.heading2.neutral.black",dangerouslySetInnerHTML:{__html:In.YOUR_AVAILABLE_REWARDS}}),l.a.createElement(nA,{cornerRadius:"medium",elevation:!0},[..._,...E].map(e=>e.enabled||d?l.a.createElement(mO,{data:e,key:e.meta.rewardId,handleChange:y,isSplitPayChecked:(null==t?void 0:t.includes(e.paymentCode))||(null==t?void 0:t.includes(null==e?void 0:e.splitPayIdentifier))||!1,selectionType:dn.TICK,analyticsEvents:c}):null),C&&l.a.createElement(oA,null,l.a.createElement(m.Text,{variant:"V2.body2.neutral.bold",color:"text_Button_Disabled",onClick:b,dangerouslySetInnerHTML:{__html:In.VIEW_UNAVAILABLE_REWARDS}}),l.a.createElement(rA,null,l.a.createElement(iA,{Icon:N.a,fillColor:"text_Button_Disabled"})))))};var sA=l.a.memo(e=>{var{handleVisibility:t}=e,a=fn(e,["handleVisibility"]);const n=Object(i.useCallback)(()=>{var e,n;an(null===(e=a.analyticsEvents)||void 0===e?void 0:e.crossClickEvent)||null===(n=a.analyticsEvents)||void 0===n||n.crossClickEvent(),t(!1)},[t,a.analyticsEvents]);return l.a.createElement(s.e,{hideOnOverlayClick:!0,onClose:n},({close:e})=>l.a.createElement(lA,Object.assign({close:e},a,{handleVisibility:t})))});function cA(e){const{config:t,turboPayConfig:a,initialState:n,children:o,turboPayPlaceOrderData:r}=e,[c,d]=Object(L.useUserInfo)(),u=Object(L.useCheckoutWebDynamicConfig)(),[m,p]=Object(i.useReducer)(L.reducer,n),[_,E]=Object(i.useState)({shouldHandle:!1}),[C,b]=Object(i.useState)(),y=Object(i.useMemo)(()=>{return e=t.apiHost,a=t.paymentHost,{host:Be(e),paymentHost:Be(a)};var e,a},[t.apiHost,t.paymentHost]),g=Object(i.useMemo)(()=>((e,t,a)=>({host:Be(e.apiHost),analyticsHost:Be(e.analyticsHost),paymentReturnUrl:Be(e.paymentReturnUrl),addMoneyReturnUrl:Be(e.addMoneyReturnUrl),addSwiggyMoneyReturnUrl:Be(e.addSwiggyMoneyReturnUrl),cachePaymentData:Be(e.cachePaymentData),turboPayConfig:Be(t),turboPayPlaceOrderData:a,enableCardRateLimit:Be(e.enableCardRateLimit),enablePublicApi:Be(e.enablePublicApi),simplPostLinkingRedirectUrl:Be(e.simplPostLinkingRedirectUrl),enableConfirmOrderDifferentialOrderIdAlert:Be(e.enableConfirmOrderDifferentialOrderIdAlert||!1)}))(t,a,r),[t,a,r]),O=Object(i.useMemo)(()=>({checkoutState:m,setCheckoutState:p}),[m]),h=Object(i.useMemo)(()=>{const e=Object(L.getAnalyticsConfigParams)(c,t.analyticsHost);return e&&new k.c(e)||k.b},[t.analyticsHost,c]),A=Object(i.useMemo)(()=>({state:_,setState:E}),[_]),f=Object(i.useMemo)(()=>({user:c,setUser:d}),[c,d]),v=Object(i.useMemo)(()=>({confirmOrderContext:C,setConfirmOrderContext:b}),[C]),T=Object(L.useAudioPlayer)();return l.a.createElement(L.AnalyticsContext.Provider,{value:h},l.a.createElement(L.CheckoutWebDynamicConfigContext.Provider,{value:u},l.a.createElement(L.CheckoutContext.Provider,{value:O},l.a.createElement(L.UserContext.Provider,{value:f},l.a.createElement(L.ConfigContext.Provider,{value:g},l.a.createElement(L.PublicApiProvider,null,l.a.createElement(L.HardwareBackContext.Provider,{value:A},l.a.createElement(L.ApiContext.Provider,{value:y},l.a.createElement(L.ConfirmOrderContext.Provider,{value:v},l.a.createElement(L.AudioPlayerContext.Provider,{value:T},l.a.createElement(s.v,null,o)))))))))))}const dA={default:"Payment Options",swiggy_money:"Select Payment"},uA="Oops Something went wrong!!",mA="To pay: ₹{0}",pA="PaymentLogos/paymentIcons/paylater/paymenterror",_A={message:"Are you sure you want to cancel",title:"Cancel Payment",buttonLabels:[{id:"1",text:"Yes",type:"primary"},{id:"2",text:"No",type:"secondary"}]},EA="one-click-promo-half-card",CA="ppm-food-card-flow",bA="regular-food-card-flow";function yA(e,t,a=""){Object(L.recordNREvent)({url:e.url,eventType:L.NEWRELIC_TABLES.PAYMENT_WEB_EXTERNAL_API_ERROR,responseTime:Date.now()-e.startTime,error:t instanceof Error?t.name:JSON.stringify(t),errorMessage:t instanceof Error?t.message:JSON.stringify(t),httpStatusCode:t instanceof Response?t.status:"",downStreamTriggerSource:a})}function gA(e){return vn(this,void 0,void 0,(function*(){const{response:t,startTime:a,logUrl:n,options:o}=yield Object(L.fetchData)(e,"api-server");return function(e,t){var a,n;return vn(this,void 0,void 0,(function*(){return Object(L.recordNREvent)({url:e.url,eventType:L.NEWRELIC_TABLES.PAYMENT_WEB_EXTERNAL_API,statusCode:null!==(a=t.statusCode)&&void 0!==a?a:-1,statusMessage:null!==(n=t.statusMessage)&&void 0!==n?n:"",method:e.opts.method||"GET",responseTime:Date.now()-e.startTime}),function(e,t){var a,n;const o=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.sid)||"",r=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.tid)||"";if(!e)return;const{tid:i,sid:l}=e;Object(s.ub)(i)||(r!==i&&Object(L.recordNREvent)({apiUrl:t,eventType:L.NEWRELIC_TABLES.CHECKOUT_WEB_CART_SESSION_RECORD,statusCode:null!==(a=e.statusCode)&&void 0!==a?a:-1,tid:i,existingTid:r}),L.GlobalHeaderState.setHeader(L.SwgyHeaderKeysList.tid,i)),Object(s.ub)(l)||(o!==l&&Object(L.recordNREvent)({apiUrl:t,eventType:L.NEWRELIC_TABLES.CHECKOUT_WEB_CART_SESSION_RECORD,statusCode:null!==(n=e.statusCode)&&void 0!==n?n:-1,sid:l,existingSid:o}),L.GlobalHeaderState.setHeader(L.SwgyHeaderKeysList.sid,l))}(t,e.url),t}))}({startTime:a,url:n,opts:o},t)}))}function OA(e){return vn(this,void 0,void 0,(function*(){const{response:t,startTime:a,logUrl:n,options:o}=yield Object(L.fetchData)(e,"web-app");return function(e,t){var a,n;return vn(this,void 0,void 0,(function*(){const o=t;return Object(L.recordNREvent)({url:e.url,eventType:L.NEWRELIC_TABLES.PAYMENT_WEB_EXTERNAL_API,method:e.opts.method||"GET",responseTime:Date.now()-e.startTime,statusCode:null!==(a=null==o?void 0:o.statusCode)&&void 0!==a?a:"--",statusMessage:null!==(n=null==o?void 0:o.statusMessage)&&void 0!==n?n:"-",hasData:""+!Object(s.ub)(null==o?void 0:o.data)}),t}))}({startTime:a,url:n,opts:o},t)}))}function hA(e){return 0===(null==e?void 0:e.statusCode)?We(e.data):Fe((null==e?void 0:e.statusMessage)||uA)}function AA(e){return 0===(null==e?void 0:e.statusCode)?We(e.data):Fe({statusCode:(null==e?void 0:e.statusCode)||1,statusMessage:(null==e?void 0:e.statusMessage)||uA})}function fA(e,t){return vn(this,void 0,void 0,(function*(){return yield gA({apiHost:e,endpoint:"/api/v1/order/place",bodyParams:t,options:{method:"POST"}})}))}function vA(e,t){return vn(this,void 0,void 0,(function*(){return yield gA({apiHost:e,endpoint:"/api/v1/order/confirm",bodyParams:t,options:{method:"POST"}})}))}const TA=191,IA=120,SA=13,NA=14,RA=33,PA=70,DA={AUTOPAY_PHASE_2:{CONSENT:"CONSENT",SUBTLE_AUTOPLACE:"SUBTLE_AUTOPLACE"},PAYMENT_ABANDONMENT_FEEDBACK:"payment_abandonment_feedback",ENABLE_UPI_INTENT_CANCEL:"upiIntentShowCancel"},LA="swiggy_pay_amount";var kA;!function(e){e.SUCCESS="success",e.FAILED="failed"}(kA||(kA={}));const xA=[oe.JUSPAY,oe.NETBANKING,oe.UPICOLLECT,oe.UPIINTENT,oe.AMAZONPAYWEB,oe.AMAZONPAY,oe.PHONEPE,oe.CRED,oe.PHONEPEUPI,oe.INAPPUPI],wA=[ne,re.UPI_COLLECT];var MA,jA;!function(e){e.EDIT="edit",e.POST_ORDER_TIPPING="post_order_tipping",e.SWIGGY_SUPER="swiggy_super",e.PAY_ON_DELIVERY="pay_on_delivery",e.SWIGGY_ONE="subscription"}(MA||(MA={})),function(e){e.SUBSCRIPTION="subscription"}(jA||(jA={}));const BA=["CONFIRMED","DELIVERY_ASSIGNED","DELIVERY_CONFIRMED","DELIVERY_UNASSIGNED","DELIVERY_ARRIVED","DELIVERY_PICKEDUP","DELIVERY_REACHED","DELIVERY_DELIVERED"],UA="/api/v3/order/place",HA="/api/v3/order/confirm",GA="/api/v3/checkout/confirm/order",YA={statusCode:5,statusMessage:"Error while debiting amount/Payment Failed",data:{orderData:null,retryCount:1}},WA="swgy_checkout_order_id";var FA;!function(e){e.INAPP_UPI_HALF_CARD_COUNT="iau_half_card_count"}(FA||(FA={}));const VA=(e,t=!1)=>new Promise((a,n)=>{window.setTimeout(()=>{t?n():a()},e)}),KA=e=>{const t=Object(s.Gb)(),a=Object(i.useRef)(),n=Object(i.useCallback)(n=>{a.current&&a.current();const{pollingDurationInMs:o,pollingIntervalInMs:r,apiFn:i}=n,[l,s]=((e,t,a)=>{let n,o=!1;const r=e=>vn(void 0,void 0,void 0,(function*(){if(!o){try{if(yield a(),o)return;return e()}catch(e){}n=window.setTimeout(()=>r(e),t)}}));return[((e,t)=>Promise.race([e,VA(t,!0)]))(new Promise(e=>{r(e)}),e).catch(e=>{}),()=>{o=!0,window.clearTimeout(n)}]})(o,r,i);l.then(()=>{t.current&&"function"==typeof e&&window.requestAnimationFrame(e)}).catch(()=>{}),a.current=s},[a,e,t]);return Object(s.Db)(()=>{if(t.current)return()=>{null!=a.current&&a.current()}}),n},zA=[1103,1106],$A="Something went wrong! Please try again",XA="Go to Cart",JA="swiggy://stores/instamart/cart?source=duplicate_order_popup",ZA=({message:e=uA,title:t=" ",buttonName:a="Ok"}={})=>vn(void 0,void 0,void 0,(function*(){Object(L.getBridgeSdk)().alert({message:e,title:t,buttonName:a}).catch(()=>{})})),qA=({title:e="",backURL:t,backAlert:a})=>vn(void 0,void 0,void 0,(function*(){Object(L.getBridgeSdk)().showHeader({show:!0,title:e,backURL:t,backAlert:a}).catch(()=>{})})),QA=()=>{Object(L.getBridgeSdk)().showHeader({show:!1,title:""}).catch(()=>{})};function ef(e){return qa(e)&&"statusCode"in e}const tf=/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-/]))?/,af=e=>!(!e||e.length<0)&&tf.test(e),nf=e=>Object.keys(e).map(t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t])).join("&");var of;!function(e){e.MAIN="main",e.SUB="sub",e.INTERMEDIATE="intermediate"}(of||(of={}));const rf={[iy.LOADING]:{[of.MAIN]:"Hold On!",[of.SUB]:"We are verifying your payment status."},[iy.SUCCESS]:{[of.MAIN]:"Yay! Order Received",[of.SUB]:"Your order will be delivered shortly. Keep Swiggying!"}},lf={[iy.LOADING]:rf[iy.LOADING],[iy.SUCCESS]:{[of.MAIN]:"Payment Successful!",[of.SUB]:""}},sf={[iy.LOADING]:rf[iy.LOADING],[iy.SUCCESS]:{[of.MAIN]:"Yay! Plan Purchased",[of.SUB]:""}},cf={[iy.LOADING]:rf[iy.LOADING],[iy.SUCCESS]:{[of.MAIN]:"",[of.SUB]:""}},df={[iy.LOADING]:{[of.MAIN]:"Hold On!",[of.SUB]:"checking the add money status..."},[iy.SUCCESS]:{[of.MAIN]:"Money added successfully",[of.SUB]:"redirecting to complete the order..."}},uf={[iy.LOADING]:rf[iy.LOADING],[iy.SUCCESS]:{[of.MAIN]:"Sit tight!",[of.SUB]:"",[of.INTERMEDIATE]:"Your order will be delivered on priority"}},mf={[iy.LOADING]:{[of.MAIN]:"Hold On!",[of.SUB]:"We are verifying your payment status."},[iy.SUCCESS]:{[of.MAIN]:"Yay! Payment Received",[of.SUB]:"Keep Swiggying"}},pf={[iy.LOADING]:{[of.MAIN]:"Hold On!",[of.SUB]:"checking the add money status..."},[iy.SUCCESS]:{[of.MAIN]:"Money added successfully",[of.SUB]:""}},_f={[iy.LOADING]:{[of.MAIN]:"Hold On!",[of.SUB]:"We are verifying your payment status."},[iy.SUCCESS]:{[of.MAIN]:"Yay! Gift card created!",[of.SUB]:""}},Ef=()=>"undefined"!=typeof navigator&&!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g),Cf=()=>L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.marketplaceBusinessLine)||Oe.REGULAR,bf=()=>Cf()===Oe.SWIGGY_SUPER,yf=()=>Cf()===Oe.SWIGGY_ONE,gf=()=>Cf()===Oe.DASH;function Of(){return Cf()==Oe.SWIGGY_MONEY}const hf=()=>Cf().toLowerCase()===Oe.DINEOUT,Af=()=>Cf().toLowerCase()===Oe.REGULAR,ff=()=>Cf()===Oe.PAY_ON_DELIVERY;function vf(){return Object(L.getOriginalBusinessLine)()===Oe.SWIGGY_MONEY}function Tf(){return L.GlobalHeaderState.getHeaders().marketplacecategory===ge.INSTAMART}const If=(e,t)=>{const a=((e,t)=>{switch(e){case dw.ADD_NEW_CARD:case dw.MANAGE_CARD:case dw.LINK_WALLET_WITH_NUMBER:case dw.PAYLATER_LINKING_CONFIRMATION:return{state:e};case dw.ADD_MONEY_AND_DELINK_WALLET:return{state:e,walletCode:null==t?void 0:t.walletCode};case dw.SECURE_CARD:case dw.CONFIRM_TRANSACTION:default:return{state:dw.SECURE_CARD}}})(e,t),n=new URLSearchParams(a).toString();return{onClick:function(){window.location.href=window.location.origin+"?"+n},text:"RETRY"}},Sf=()=>{const e=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.versionCode);return Number(e)},Nf=(e,t)=>vn(void 0,void 0,void 0,(function*(){var a,n;const o=Sf();try{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"saveUsersLastStateDuringProcessOrder",paymentCode:t,orderIdSentToApp:(null===(a=e.order)||void 0===a?void 0:a.orderId)||"",paymentTxnId:(null===(n=e.order)||void 0===n?void 0:n.paymentTxnId)||""})}catch(e){}if(!Of()&&!zA.includes(o)){const a={state:L.CheckoutActionTypes.PROCESS_ORDER,infoObject:Object.assign(Object.assign({},e),{webviewRefreshExtraParams:{webviewRefreshed:!0,redirectToPaymentPageWhenWebviewRefreshed:!0}}),paymentCode:t};try{Object(L.setPersistOrderDataInLocalStorage)(a,L.SetDataSource.PROCESS_ORDER)}catch(e){}yield Object(L.getBridgeSdk)().saveUsersLastState(a).catch(()=>{})}})),Rf=()=>{var e,t;const a=Object(L.getUsersLastState)();return a?(null===(t=null===(e=a.infoObject)||void 0===e?void 0:e.order)||void 0===t?void 0:t.orderId)||"":"--"},Pf=()=>{try{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"clearWebviewRefreshSavedStatePre",preStateOrderId:Rf()})}catch(e){}const e=Sf();zA.includes(e)||(Df(),Object(L.getBridgeSdk)().saveUsersLastState({}).catch(()=>{}));try{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"clearWebviewRefreshSavedStatePost",postStateOrderId:Rf()})}catch(e){}},Df=()=>{var e;if("undefined"!=typeof window&&"function"==typeof(null===(e=null===window||void 0===window?void 0:window.__webview_state__)||void 0===e?void 0:e.getWebViewLastState)){try{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_JS_BRIDGE_OVERRIDE})}catch(e){}window.__webview_state__.getWebViewLastState=()=>"{}"}};function Lf(e){return e.groupName.toUpperCase()===z.SWIGGY_INSTRUMENTS}const kf=e=>e.groupName.toUpperCase()===z.SWIGGY_INSTRUMENTS;function xf(e,t){let a=Be(e.find(Lf)).andThen(e=>DI(e,t));return a.isNone()&&(a=Be(e.find(II)).andThen(e=>DI(e,t))),a.match({none:je,some:e=>kf(e)?Be(e):je})}function wf(){const e=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.marketplaceBusinessLine);s.B.setItem("original_business_line",e)}const Mf=e=>e||`${location.protocol}//${location.host}/swiggy-money/add-money-received`,jf=(e,t)=>{let a=0;return e&&null!=t&&(a=e-t),a},Bf=e=>null==e?void 0:e.find(e=>e.paymentCode===oe.SWIGGYPAY);function Uf(e){return Be(e.find(II))}var Hf;!function(e){e.AVAILABLE="is_sdk_available",e.INIT="sdk_init"}(Hf||(Hf={}));var Gf;!function(e){e.FETCH_STATUS="FETCH_STATUS",e.ONBOARDING="ONBOARDING",e.ADD_ACCOUNT="ADD_ACCOUNT"}(Gf||(Gf={}));const Yf={[Gf.FETCH_STATUS]:"There was a problem in fetching your UPI status!",[Gf.ONBOARDING]:"There was a problem setting up your UPI ID!",[Gf.ADD_ACCOUNT]:"There was a problem in registering new bank account!"};var Wf;!function(e){e.RETRY="retry",e.TRY_OTHERS="try_others"}(Wf||(Wf={}));const Ff={[Wf.TRY_OTHERS]:"Try Another Payment",[Wf.RETRY]:"Retry"};var Vf;!function(e){e.PAYMENT="payment",e.ONBOARDING="onboarding",e.LOADING="loading",e.ERROR="error"}(Vf||(Vf={}));const Kf={error:!0,errorCode:"JP_018",errorMessage:"",payload:{status:"NOPERMISSION",sessionTokenResponse:{status:"NOPERMISSION",isDeviceBound:"false",vpaAccounts:[]}}},zf={[G.paytm]:"Paytm",[G.paytmpostpaid]:"Paytm",[G.phonepe]:"Phonepe",[G.mobikwik]:"Mobikwik",[G.freecharge]:"Freecharge",[G.amazonpay]:"Amazon Pay",[G.simpl]:"Simpl"},$f={[G.paytm]:"PayTM-SSO",[G.paytmpostpaid]:"PayTM_PostPaid-SSO",[G.phonepe]:"PhonePe",[G.mobikwik]:"Mobikwik-SSO",[G.freecharge]:"Freecharge-SSO",[G.amazonpay]:"AmazonPay",[G.simpl]:"Simpl"},Xf=[{bankName:"Axis Bank",bankCode:"NB_AXIS",enabled:!0},{bankName:"Bank of India",bankCode:"NB_BOI",enabled:!0},{bankName:"Bank of Maharashtra",bankCode:"NB_BOM",enabled:!0},{bankName:"Central Bank Of India",bankCode:"NB_CBI",enabled:!0},{bankName:"Corporation Bank",bankCode:"NB_CORP",enabled:!0},{bankName:"Development Credit Bank",bankCode:"NB_DCB",enabled:!0},{bankName:"Federal Bank",bankCode:"NB_FED",enabled:!0},{bankName:"ICICI Netbanking",bankCode:"NB_ICICI",enabled:!0},{bankName:"Industrial Development Bank of India",bankCode:"NB_IDBI",enabled:!0},{bankName:"Indian Bank",bankCode:"NB_INDB",enabled:!0},{bankName:"IndusInd Bank",bankCode:"NB_INDUS",enabled:!0},{bankName:"Indian Overseas Bank",bankCode:"NB_IOB",enabled:!0},{bankName:"Jammu and Kashmir Bank",bankCode:"NB_JNK",enabled:!0},{bankName:"Karnataka Bank",bankCode:"NB_KARN",enabled:!0},{bankName:"Karur Vysya",bankCode:"NB_KVB",enabled:!0},{bankName:"State Bank of Bikaner and Jaipur",bankCode:"NB_SBBJ",enabled:!0},{bankName:"State Bank of India",bankCode:"NB_SBI",enabled:!0},{bankName:"State Bank of Mysore",bankCode:"NB_SBM",enabled:!0},{bankName:"South Indian Bank",bankCode:"NB_SOIB",enabled:!0},{bankName:"Union Bank of India",bankCode:"NB_UBI",enabled:!0},{bankName:"United Bank Of India",bankCode:"NB_UNIB",enabled:!0},{bankName:"Vijaya Bank",bankCode:"NB_VJYB",enabled:!0},{bankName:"Yes Bank",bankCode:"NB_YESB",enabled:!0},{bankName:"CityUnion",bankCode:"NB_CUB",enabled:!0},{bankName:"Canara Bank",bankCode:"NB_CANR",enabled:!0},{bankName:"State Bank of Patiala",bankCode:"NB_SBP",enabled:!0},{bankName:"Deutsche Bank",bankCode:"NB_DEUT",enabled:!0},{bankName:"Kotak Bank",bankCode:"NB_KOTAK",enabled:!0},{bankName:"Dhanalaxmi Bank",bankCode:"NB_DLS",enabled:!0},{bankName:"ING Vysya Bank",bankCode:"NB_ING",enabled:!0},{bankName:"Syndicate Bank",bankCode:"NB_SYNB",enabled:!0},{bankName:"UCO Bank",bankCode:"NB_UCOB",enabled:!0},{bankName:"Allahabad Bank",bankCode:"NB_ALLB",enabled:!0},{bankName:"Janata Sahakari Bank",bankCode:"NB_JSB",enabled:!0},{bankName:"Lakshmi Vilas Bank Retail",bankCode:"NB_LVB",enabled:!0},{bankName:"North Kanara GSB",bankCode:"NB_NKGSB",enabled:!0},{bankName:"Punjab and Sind Bank",bankCode:"NB_PNJSB",enabled:!0},{bankName:"Ratnakar Bank",bankCode:"NB_RATN",enabled:!0},{bankName:"Royal Bank of Scotland",bankCode:"NB_RBS",enabled:!0},{bankName:"DENA Bank",bankCode:"NB_DENA",enabled:!0}],Jf={name:"PayLater_Lazypay",displayName:"LazyPay",iconUrl:"LP-Logo_yeciem",paymentCode:"PayLater_Lazypay",tncUrl:"https://www.lazypay.in/tnc.html",text:"LazyPay lets you Order Now and Pay Later for your purchase.",points:[{iconUrl:"lazypay_asset1_yv1qy2",text:"Faster checkout"},{iconUrl:"lazypay_asset2_muy8fi",text:"We'll pay for you at no extra cost"},{iconUrl:"lazypay_asset3_yauszg",text:"Flexibility to Pay Later at your convenience"}],dueDateInfoMessage:""},Zf={weAcceptAllLogos:{visa:{enabled:1,id:"PaymentLogos/Cards/2021_10/visa"},master_card:{enabled:1,id:"PaymentLogos/Cards/2021_10/mastercard"},rupay:{enabled:1,id:"PaymentLogos/Cards/2021_10/rupay"},amex:{enabled:1,id:"PaymentLogos/Cards/2021_10/amex"},diners:{enabled:1,id:"PaymentLogos/Cards/2021_10/Diners"},sodexo:{enabled:1,id:"PaymentLogos/FoodCards/2021_10/Sodexo"}},weAcceptFoodCardLogos:{sodexo:{enabled:1,id:"Sodexo_tfxihv"},zeta:{enabled:1,id:"Zeta_zybqrc"},tktRestaurant:{enabled:1,id:"3xTICKET_RESTAURANT_th5woq"}},weAcceptNonFoodCardLogos:{visa:{enabled:1,id:"PaymentLogos/Cards/2021_10/visa"},master_card:{enabled:1,id:"PaymentLogos/Cards/2021_10/mastercard"},rupay:{enabled:1,id:"PaymentLogos/Cards/2021_10/rupay"},amex:{enabled:1,id:"PaymentLogos/Cards/2021_10/amex"},diners:{enabled:1,id:"PaymentLogos/Cards/2021_10/Diners"}},lazyPayMeta:Jf};let qf=null;const Qf=e=>e.groupName.toUpperCase()===z.UPI&&e.paymentCode.toUpperCase()===re.UPI_INTENT,ev=e=>e.groupName.toUpperCase()===z.UPI&&e.paymentCode.toUpperCase()===re.PHONEPE_UPI,tv=e=>Qf(e)||ev(e);function av(e){const t=zI(e.paymentGroup,z.UPI).filter(e=>e.paymentCode.toUpperCase()===re.UPI_INTENT||e.paymentCode.toUpperCase()===re.PHONEPE_UPI).map(e=>e.name);return Object.keys(t.reduce((e,t)=>(t in e||(e[t]=!0),e),{}))}const nv=e=>vn(void 0,void 0,void 0,(function*(){try{const t=yield(qf||(!!qf||(qf=new w.i(null)),qf)).allUpiIntentAvailableMethods({methods:e});return!t||an(null==t?void 0:t.upiAppsDetails)?{upiAppsDetails:[]}:t}catch(e){return{upiAppsDetails:[]}}})),ov=e=>{if(an(e))return!1;const t=av(e);return null==t?void 0:t.includes("third.party")},rv=(e,t)=>{const a=(e=>{var t;return null===(t=null==e?void 0:e.upiAppsDetails)||void 0===t?void 0:t.map(e=>null==e?void 0:e.packageName)})(t),n={upiAppsDetails:[]};if(an(a)||an(e))return{sortedUpiApps:[],thirdPartyUpiIntentAppsDetails:n};const o=av(e),r=((e,t,a)=>e.filter(e=>!t.includes(e)).filter(e=>a.includes(e)))(function(e){var t;const a=zI(e.paymentGroup,z.UPI).find(e=>"third.party"===e.name);return null!==(t=null==a?void 0:a.meta.whitelistedApps)&&void 0!==t?t:[]}(e),o,a),i=((e,t)=>null==e?void 0:e.filter(e=>t.includes(e)))(o,a);return n.upiAppsDetails=((e,t)=>e.reduce((e,a)=>{const n=t.upiAppsDetails.find(e=>e.packageName===a);return an(n)||e.push(n),e},[]))(r,t),{sortedUpiApps:i.concat(r),thirdPartyUpiIntentAppsDetails:n}},iv={fetchState:2,linked:!1};var lv;function sv(e,t){var a,n,o;switch(t.type){case lv.REQUEST:return Object.assign(Object.assign({},e),{[t.name]:Object.assign(Object.assign({},null!==(a=e[t.name])&&void 0!==a?a:{}),{fetchState:0})});case lv.SUCCESS:return Object.assign(Object.assign({},e),{[t.name]:Object.assign(Object.assign(Object.assign({},null!==(n=e[t.name])&&void 0!==n?n:{}),t.payload),{fetchState:2})});case lv.ERROR:return Object.assign(Object.assign({},e),{[t.name]:Object.assign(Object.assign({},null!==(o=e[t.name])&&void 0!==o?o:{}),{fetchState:1})})}}!function(e){e[e.REQUEST=0]="REQUEST",e[e.SUCCESS=1]="SUCCESS",e[e.ERROR=2]="ERROR"}(lv||(lv={}));const cv={failureTitle:"Transaction Failed",failureMessage:"Any amount deducted will be refunded within 2-4 days. How would you like to proceed?",failureIcon:"payment_failure_icon_gzp8qe",paymentMethods:[{name:"others",displayName:"Try other Payment Methods"}]},dv="RETRY",uv="TRY_OTHERS",mv="DISMISS",pv="Freecharge",_v="PhonePe",Ev="Mobikwik",Cv="PayLater_Lazypay",bv="SwiggyPay";function yv(e,t,a){return vn(this,void 0,void 0,(function*(){return hA(yield gA({apiHost:e,endpoint:"/api/v1/link-paylater",searchParams:{payLaterCode:t},bodyParams:{mobileNumber:a},options:{method:"POST"}})).toPromise()}))}function gv(e,t){return vn(this,void 0,void 0,(function*(){return gA({apiHost:e,endpoint:"/api/v1/validate-paylater-otp",searchParams:{payLaterCode:t.payLaterCode},bodyParams:Object.assign({otp:t.otp},t.state),options:{method:"POST"}})}))}function Ov(e,t,a){return vn(this,void 0,void 0,(function*(){return hA(yield gA({apiHost:e,endpoint:"/api/v1/check-paylater-link-status",searchParams:{payLaterCode:t,amount:a||""},options:{}})).unwrapOrElse(()=>({linked:!1}))}))}var hv;!function(e){e.LAZYPAY="PayLater_Lazypay",e.PAYTMPOSTPAID="PayTM_PostPaid",e.SIMPL="PayLater_Simpl"}(hv||(hv={}));const Av={[hv.LAZYPAY]:{isLinked:"/api/v3/paylater/lazypay/isLinked?user_id=123",link:"/api/v3/paylater/lazypay/link",delink:"/api/v3/paylater/lazypay/delink",validateOtp:"/api/v3/paylater/lazypay/validate",resendOtp:"/api/v3/paylater/lazypay/resendOtp"},[hv.SIMPL]:{isLinked:"",link:"",delink:"/api/v3/paylater/simpl/delink",validateOtp:"",resendOtp:""}},fv=(e,t)=>({statusMessage:t,data:e,statusCode:0});function vv(e,t,a="GET"){const n=Av[e];if(Ja(n))return Fe(tn("{0} is not a linkable pay later method",e));const o=n[t];return Ja(o)?Fe(tn("{0} does not support {1} action.",e,t)):Qa(o)?We({endpoint:o,method:a}):We(o)}function Tv(e,t,a){return vn(this,void 0,void 0,(function*(){const n=vv(t,"isLinked","GET"),{endpoint:o,method:r}=n.unwrap(),i=function(e){var t,a,n,o;return!Za(e)||Ja(e.statusCode)||0!==e.statusCode?fv({linked:!1}):fv({linked:null===(a=null===(t=e.data)||void 0===t?void 0:t.linked)||void 0===a||a,enabled:null===(n=e.data)||void 0===n?void 0:n.enabled,disableMessage:null===(o=e.data)||void 0===o?void 0:o.disableMessage})}(yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:o,searchParams:{amount:a||""},options:{method:r}}));return null==i?void 0:i.data}))}function Iv(e,t,a){return vn(this,void 0,void 0,(function*(){const n=vv(t,"link","POST"),{endpoint:o,method:r}=n.unwrap(),i=yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:o,bodyParams:{mobileNumber:a},options:{method:r}});return null==i?void 0:i.data}))}function Sv(e,t){return vn(this,void 0,void 0,(function*(){const{payLaterCode:a,otp:n,state:o={}}=t,r=vv(a,"validateOtp","POST"),{endpoint:i,method:l}=r.unwrap();return yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:i,bodyParams:Object.assign({otp:n},o),options:{method:l}})}))}const Nv={linked:!1};function Rv(e){return e.groupName.toUpperCase()===z.PAY_LATER}function Pv(e,t){return Be(e.find(Rv)).andThen(e=>DI(e,t)).orElse(()=>Be(e.find(II)).andThen(e=>DI(e,t)))}function Dv(e){return e.groupName.toUpperCase()===z.PAY_LATER}function Lv(e){return Be(e.find(Rv)).orElse(()=>{const t=Be(e.find(II));return t.isNone()?je:t.unwrap().paymentMethods.some(e=>e.paymentCode===Cv)?t:je})}function kv(e,t){const a=null!=e?e:Nv;return a.linked||"PayLater_Lazypay"!==t||(a.meta=Zf.lazyPayMeta),a}function xv(e,t,a,n){return vn(this,void 0,void 0,(function*(){const{name:o,paymentCode:r,payableAmount:i,meta:l}=t,s=n?Tv:Ov;try{if("PayLater_Simpl"===r){const e=Ke(null==l?void 0:l.simplRedirectionUrl)||a===L.CheckoutActionTypes.PAYLATER_SIMPL_LINKING_SUCCESS_PROCEED_WITH_ORDER;return{name:o,response:We({linked:e})}}{const t=yield s(e,o,i);return{name:o,response:We(kv(t,r))}}}catch(e){return{name:o,response:Fe(e)}}}))}function wv({name:e,response:t},a){t.match({ok:t=>{a({name:e,type:lv.SUCCESS,payload:t})},err:()=>a({name:e,type:lv.ERROR})})}function Mv(e){return e.reduce((e,t)=>(e[t.name]=Object.assign(Object.assign({},iv),{fetchState:0}),e),{})}const jv=e=>{const t=be[e];return tn("Link {0} Account",t)},Bv=e=>{Object(L.getBridgeSdk)().sendLinkAccountStatusToNative({paymentCode:e,status:"SUCCESS",source:w.f.PAYMENTS}).catch(e=>{})};function Uv(e){return-1!==[z.CRED].indexOf(e.groupName.toUpperCase())}const Hv="Don't worry, we won't let you go hungry!",Gv={CURRENT_STATE_TEXT:"Place your order now",NEXT_STATE_TEXT:"Pay online while food arrives",NEXT_STATE_ALTERNATE_TEXT:"or with UPI/Cash on delivery"},Yv="Place Order Now",Wv="Your payment failed",Fv="Order placed!",Vv="You can pay while your food arrives",Kv=0,zv=850,$v=3e3,Xv=12e3,Jv=1800,Zv={groupName:"cod",preferred:!1,fullView:!1,name:"cod",displayName:"Cash",paymentCode:"Cash",couponApplicable:!1,rewardApplicable:!1,enabled:!0,meta:{iconUrl:"PaymentLogos/instruments/4x/Cod",promoMsg:"Pay cash at the time of delivery. We recommend you use online payments for contactless delivery",popupMessage:"Please confirm your payment via cash on delivery",disableMessage:"Cash on delivery is not available."},preferredPriority:0,eligibilityCheckRequired:!1,splitPayEnabled:!1,showAddMoneyCta:!1,showLearnMoreHalfCard:!1};function qv(e){return e.groupName.toUpperCase()===z.COD}const Qv=e=>X===e.name.toUpperCase();function eT(e){const t=e.find(e=>qv(e));return null==t?je:Be(t.paymentMethods[0])}function tT(e){return eT(e||[]).unwrapOr(Zv)}var aT;function nT(e){return e.groupName.toUpperCase()===z.INAPP_UPI}function oT(e){return e.groupName.toUpperCase()===z.INAPP_UPI}function rT(e){return(null==e?void 0:e.orderPaymentMethod)===oe.INAPPUPI}function iT(e,t){const a=e.find(e=>t===aT.ONBOARDING?SI(e):nT(e));return null==a?je:DI(a,t===aT.ONBOARDING?te:ee)}!function(e){e.ONBOARDING="ONBOARDING",e.ADD_ACCOUNT="ADD_ACCOUNT"}(aT||(aT={}));const lT="payment",sT="add-new-card-pm",cT="manage-card-pm",dT="payment-failure-dialog",uT="order-terminal-state-alert",mT="autoplace",pT="payment-confirmation-screen",_T="link-wallet-otp",ET="upi-timer",CT="upi-intent-poller",bT="swiggy-money-topup-page",yT="payment-half-card",gT="payment-modes",OT="swiggy-upi",hT="autopay-pending-half-card",AT="autopay-failure-half-card",fT="add-money",vT="wallet-view",TT="autoplace-halfcard",IT="swiggy-money-page",ST="checkout",NT="click-resend-otp",RT="click-payment-half-card",PT="click-know-more-one-click",DT="click-proceed",LT="click-cancel",kT="click-payment-groups",xT="impression-payment-half-card",wT="impression-payment-groups",MT="impression-payment-confirmation";var jT;!function(e){e.PROCEED_AND_PAY="proceed-and-pay",e.REVIEW_ORDER="review-order",e.REVIEW_CART="review-cart",e.DISMISS="dismiss",e.BANNER="banner",e.PROCEED="Proceed",e.ONE_TAP_UPI="1-tap-upi"}(jT||(jT={}));const BT="click-dismiss",UT="click-ok",HT="account",GT="payment",YT="one-click",WT=e=>{e({category:dT,context:Object(s.eb)({marketplaceBusinessLine:L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.marketplaceBusinessLine)||"",marketplaceCategory:L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.marketplaceCategory)||""})})},FT=e=>{e({category:dT,action:"click-try-others"})},VT=e=>{e({category:dT,action:"click-dismiss"})},KT=(e,t)=>{e({category:mT,action:"click-pay-next-screen",context:String(t)})},zT=e=>null==e?uv:e.indexOf("Cash")>-1?"COD":e.replace("-SSO",""),$T=e=>e.isSome()&&LI(e.unwrap()),XT=(e,t)=>null!=t&&Number(t)>=e,JT=({fallbackMethods:e,paymentGroups:t,amountToPay:a,payAction:n,setCheckoutState:o,placeOrderData:r,failedOrder:i,clickEvent:l})=>e.reduce((e,c)=>{const d=zT(c.paymentCode);switch(d){case"PayTM":case pv:case Ev:case _v:case bv:case Cv:case"COD":{const r=((e,t,a)=>{const n=zT(e.paymentCode);switch(n){case"PayTM":case pv:case Ev:case _v:{const o=eI(t,n);return $T(o)&&XT(a,e.balance)?o:je}case Cv:{const e=Pv(t,n);return $T(e)?e:je}case bv:{const e=xf(t,n);return $T(e)?e:je}case"COD":{const e=eT(t);return $T(e)?e:je}}return je})(c,t,Number(a));r.isSome()&&e.push({text:Object(s.hb)("Pay Using {0}",c.displayName),subText:null!=c.balance?Object(s.hb)("Balance: ₹{0}",c.balance):void 0,onClick:()=>{n(r.unwrap());const e=eS();o({type:e})}});break}case dv:e.push({text:c.displayName,onClick:()=>{(e=>{e({category:dT,action:"click-payment-retry"})})(l),n(r.paymentMethodData,r.extraParams)}});break;case uv:case mv:e.push({text:c.displayName,onClick:()=>{(d===uv?FT:VT)(l);const e=eS();o({type:e,payload:{reload:rT(i)}})}})}return e},[]),ZT=e=>{var t;return(null===(t=null==e?void 0:e.groupName)||void 0===t?void 0:t.toUpperCase())===z.SINGLE_CLICK},qT=e=>{var t,a;return String(null!==(a=null===(t=null==e?void 0:e.extraArbitaryData)||void 0===t?void 0:t.isTurboPaymentMethod)&&void 0!==a?a:"--")};function QT(e){return e.groupName.toUpperCase()===z.WALLET||e.groupName.toUpperCase()===z.WALLET_WEB}function eI(e,t){return Be(e.find(QT)).andThen(e=>DI(e,t)).orElse(()=>Be(e.find(e=>II(e)||ZT(e))).andThen(e=>DI(e,t)))}const tI=e=>-1!==[z.WALLET,z.WALLET_WEB].indexOf(e.groupName.toUpperCase()),aI=e=>"AMAZONPAY"===e.name.toUpperCase(),nI=(e,t)=>!(e.isNone()&&!aI(t)),oI=e=>Object(s.hb)("Link {0} Account",zf[e]),rI=e=>{switch(e){case G.paytm:case G.paytmpostpaid:return[G.paytm,G.paytmpostpaid];default:return[e]}},iI=()=>Of()?"swiggy-money-payments":lT,lI=e=>JSON.stringify(e,(e,t)=>void 0===t?null:t),sI=(e,t)=>{t({category:e,action:"click-add-card-pay"})},cI=(e,t)=>{e({category:lT,action:PT,context:t,label:"banner"})},dI=(e,t,a)=>{e({category:null!=t?ST:lT,action:"click-pay-after-order",context:null!=t?JSON.stringify({slider:t,Width:a}):void 0})},uI=(e,t)=>{e({category:null!=t?ST:lT,context:null!=t?JSON.stringify({slider:t}):void 0,action:"impression-pay-after-order"})},mI=(e,t)=>{t({context:e,category:lT,action:"click_payment_swiggy_upi"})},pI=(e,t,a,n=lT)=>{a({category:n,action:"impression-add-money",label:e,context:t})},_I=(e,t)=>{t({category:lT,action:"click-payment-banner",label:e})},EI=e=>{e({category:lT,action:"order_placed"})},CI=e=>{e({category:"swiggy-money-success-screen",action:"swiggy-money-added-success"})},bI=(e,t,a,n=!1)=>{e({category:n?lT:ST,action:"impression-upi-app",label:JSON.stringify(t),context:JSON.stringify({turboCheckoutWidget:String(a)})})};function yI(e){return e.groupName.toUpperCase()===z.NATIVE_UPI}function gI(e){return e.groupName.toUpperCase()===z.NATIVE_UPI}function OI(e){return Be(e.find(yI))}const hI=e=>ZI(e,z.NATIVE_UPI);const AI=(e,t)=>{const a=Object.assign({},e);return a.paymentMethods=t.vpaAccounts.map(t=>{const{account:a}=t,n=e.paymentMethods.find(e=>e.meta.referenceId===a.referenceId);return(e=>{var t,a,n,o,r,i,l;const{methodData:s,sdkAccount:c,groupMeta:d}=e,{bankCode:u,bankName:m,isPrimary:p}=c,_=(null===(t=null==d?void 0:d.iconUrls)||void 0===t?void 0:t[u])||(null===(a=null==d?void 0:d.iconUrls)||void 0===a?void 0:a.defaultUrl),E=(null==s?void 0:s.meta.iconUrl)||_;return{name:u,displayName:m,paymentCode:null!==(n=null==d?void 0:d.paymentCode)&&void 0!==n?n:oe.NATIVE_UPI,enabled:null===(o=null==s?void 0:s.enabled)||void 0===o||o,groupName:z.NATIVE_UPI,couponApplicable:null!==(r=null==s?void 0:s.couponApplicable)&&void 0!==r&&r,rewardApplicable:null!==(i=null==s?void 0:s.rewardApplicable)&&void 0!==i&&i,meta:Object.assign(Object.assign(Object.assign({},null==s?void 0:s.meta),c),{status:!0,iconUrl:E,isPrimary:"true"===p}),splitPayEnabled:null===(l=null==s?void 0:s.splitPayEnabled)||void 0===l||l}})({sdkAccount:a,methodData:n,groupMeta:e.meta})}),a},fI=e=>e.paymentMethods.find(e=>e.meta.isPrimary);var vI;!function(e){e.CONTROL="control",e.TWO_CLICK="two_click",e.THREE_CLICK="three_click"}(vI||(vI={}));const TI="undefined"!=typeof window&&"undefined"!=typeof sessionStorage;function II(e){return e.groupName.toUpperCase()===z.PREFERRED}function SI(e){return e.groupName.toUpperCase()===z.UPI}function NI(e){return e.groupName.toUpperCase()===z.CARD||e.groupName.toUpperCase()===z.FOOD_CARD}function RI(e,t){return e.paymentGroup.find(e=>e.groupName.toUpperCase()===t)}const PI=e=>e.name.toUpperCase()===Z||e.name.toUpperCase()===q;function DI(e,t){return Be(e.paymentMethods.find(e=>e.name.toLowerCase()===t.toLowerCase()))}function LI(e){return e.enabled}const kI=e=>vn(void 0,void 0,void 0,(function*(){if(Ke(e))return[];const t=yield Object(L.getBridgeSdk)().upiIntentAvailableMethods({methods:e});return t&&t.methods?t.methods:[]})),xI=e=>e.filter(e=>e.couponApplicable),wI=e=>e.filter(e=>e.rewardApplicable),MI=(e,t)=>{let a={allGroups:[],filteredGroups:[]};return a=e.reduce((e,a)=>{const n=t(a.paymentMethods);return n.length>0?(e.filteredGroups.push(Object.assign(Object.assign({},a),{paymentMethods:n})),e.allGroups.push(Object.assign(Object.assign({},a),{paymentMethods:a.paymentMethods.filter(e=>-1===n.indexOf(e))}))):e.allGroups.push(a),e},a),[a.allGroups,a.filteredGroups]},jI=e=>{var t;return null!==(t=null==e?void 0:e.frictionLayoutId)&&void 0!==t?t:vI.CONTROL},BI=e=>e.some(e=>e.paymentMethods.length>0),UI=e=>{var t;return null!==(t=e.meta.cardToken)&&void 0!==t?t:""},HI=e=>{var t;return null!==(t=e.meta.cardReference)&&void 0!==t?t:""},GI=(e,t,a)=>e?Be(a?t?e.paymentAmountWithSplitpay:e.paymentAmountWithSplitpayWithoutDiscount:Object.hasOwnProperty.call(e,"paymentCouponCode")&&!Ke(e.paymentCouponCode)?t?e.paymentAmountWithPayDiscount:e.paymentAmount:t?e.paymentAmount:e.paymentAmountWithoutDiscount):je,YI=e=>{var t,a;return null!==(a=null===(t=null==e?void 0:e.meta)||void 0===t?void 0:t.code)&&void 0!==a?a:""},WI=e=>{var t;return null!==(t=e.meta.isFoodCard)&&void 0!==t&&t};function FI(e){return e.groupName.toUpperCase()===z.FOOD_CARD}const VI=({selectedAddressAnnotation:e,cartAmount:t,itemCount:a})=>a&&e&&!isNaN(a)?Object(s.hb)(a>1?"{0} Items | Bill Amount: ₹{2} | Delivering to: {1}":"{0} Item | Bill Amount: ₹{2} | Delivering to: {1}",String(a),e,t):Object(s.hb)(mA,t),KI=({selectedAddressAnnotation:e,cartAmount:t,itemCount:a,presentationDetails:n})=>gf()?(null==n?void 0:n.headerSubtitle)?`${n.headerSubtitle} ₹${t}`:Object(s.hb)(mA,t):a&&e&&!isNaN(a)?Object(s.hb)(a>1?"{0} items • Total: ₹{1}":"{0} item • Total: ₹{1}",String(a),t):Object(s.hb)(mA,t);function zI(e,t){return e.reduce((e,a)=>{const n=a.paymentMethods.filter(e=>e.groupName.toLowerCase()===t.toLowerCase());return e.push(...n),e},[])}const $I=e=>[z.CARD,z.FOOD_CARD].includes(e.groupName.toUpperCase()),XI=e=>e.name.toUpperCase()===Z,JI=e=>e.groupName.toUpperCase()===z.NETBANKING,ZI=(e,t)=>{if(e.some(e=>e.groupName.toUpperCase()===t))return!0;const a=e.find(II);return null!=a&&a.paymentMethods.some(e=>e.groupName.toUpperCase()===t)};function qI(e){const{isPostOrderTip:t=!1,businessLine:a,tickState:n,isPriorityDelivery:o=!1}=e;if(t)return cf[n];if(o)return uf[n];switch(a){case Oe.SWIGGY_ONE:case Oe.SWIGGY_SUPER:return sf[n];case Oe.POST_ORDER_TIP:return cf[n];case Oe.SWIGGY_MONEY:return vf()&&TI&&sessionStorage.getItem("gift-details")?_f[n]:vf()?pf[n]:df[n];case Oe.DINEOUT:return lf[n];case Oe.PAY_ON_DELIVERY:return mf[n];default:return rf[n]}}const QI=()=>Of()?L.CheckoutRoute.SWIGGY_MONEY_PAYMENTS:L.CheckoutRoute.PAYMENTS,eS=()=>Of()?L.CheckoutActionTypes.SHOW_SWIGGYMONEY_PAYMENTS:L.CheckoutActionTypes.SHOW_PAYMENTS,tS=e=>e?Object(s.hb)("For {0}",`${e} ${1===e?"Item":"Items"}`):"",aS=e=>{const t=e.meta.iconUrl;return t?Object(s.nb)(t,{grayscale:!LI(e)}):""},nS=e=>{var t;return null===(t=null==e?void 0:e.split("upload/"))||void 0===t?void 0:t[1]},oS=e=>{const t=(L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.platform)||"").toLowerCase(),a=Object(s.yb)(t)||Object(s.qb)(t);return!0===(null==e?void 0:e.orderTransitionScreenNewMsgEnabled)&&a},rS={cardBrand:null,cardIcon:null,url:null,tokenizeSupport:null,cardBin:null,disableForTenant:null,disableForTenantReason:null,country:null,enabled:!0,disableReason:null},iS={VIES:"vies"};var lS;!function(e){e.INDIA="india"}(lS||(lS={}));const sS=e=>!(!e.enabled||!e.meta.oneClickEligible||e.meta.oneClickEnrolled);function cS(e){return e.replace(/[\s]/g,"").substring(0,9)}function dS(e){return Qa(e.cardBin)?e.cardBin:Qa(e.cardNumber)?cS(e.cardNumber):void 0}const uS="add_card_details",mS="manage_card_details",pS=e=>{var t,a,n;return null!==(n=null!==(a=dS(null!==(t=null==e?void 0:e.extraParams)&&void 0!==t?t:{}))&&void 0!==a?a:e.cardDetails.cardIsin)&&void 0!==n?n:""},_S=e=>null!=e.paymentPartnerOrderId?String(e.paymentPartnerOrderId):String(e.paymentTxnId);const ES=e=>!e.cardFingerprint,CS=e=>{(e=>{const t=document.createElement("form");if(t.style.display="none",t.setAttribute("method",e.method),t.setAttribute("action",e.url),"POST"===e.method){const a=e.params||{};Object.keys(a).forEach(e=>{const n=a[e],o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name",e),o.setAttribute("value",n),t.appendChild(o)})}return document.body.appendChild(t),t})(Object.assign(Object.assign({},e),{method:"POST"})).submit()};function bS(e,t){return vn(this,void 0,void 0,(function*(){const a=Date.now(),n={"Content-Type":"application/x-www-form-urlencoded","x-merchantid":t};try{const t=yield fetch("https://api.juspay.in/txns",{method:"POST",mode:"cors",body:e,headers:n});return yield t.json()}catch(e){throw yA({startTime:a,url:"https://api.juspay.in/txns"},e),e}}))}function yS(e,t){return vn(this,void 0,void 0,(function*(){const a=Date.now(),n={"Content-Type":"application/x-www-form-urlencoded","x-merchantid":t};try{const t=yield fetch("https://api.juspay.in/card/tokenize",{method:"POST",mode:"cors",body:e,headers:n});return yield t.json()}catch(e){throw yA({startTime:a,url:"https://api.juspay.in/card/tokenize"},e),e}}))}const gS=e=>{const{method:t,url:a,params:n=null}=e||{};if(!t||!a||"POST"==t&&!n)throw new Error("Invalid arguments passed to redirect to Juspay: "+e);return()=>{try{CS(e)}catch(e){throw new Error("Error in form submitting to juspay"+e)}}},OS=(e,t,a)=>a||!0!==e.tokenizeSupport?null:null!=t&&!!t.saveCard,hS=(e,t,a,n)=>vn(void 0,void 0,void 0,(function*(){const o=(null==n?void 0:n.merchantId)||"com.swiggy",r={card_number:String(a.cardNumber).replace(/\s+/g,""),card_exp_year:a.year,card_exp_month:a.month,card_security_code:a.cvv,merchant_id:o,name_on_card:a.name,card_nickname:String(a.nickName||"")},i=nf(r);try{const n=yield yS(i,o);return{order_id:t,merchant_id:o,payment_method_type:"CARD",card_token:n.token,redirect_after_payment:!0,format:"json",card_security_code:String(r.card_security_code),save_to_locker:!!a.saveCard,tokenize:OS(e.meta,a),card_nickname:String(a.nickName||"")}}catch(e){throw new Error("Error in juspay(redirect) tokenization of new card flow:"+e)}})),AS=(e,t,a,n)=>{const o=(null==n?void 0:n.merchantId)||"com.swiggy";return Promise.resolve({order_id:t,merchant_id:o,payment_method_type:"NB",payment_method:YI(e),redirect_after_payment:!0,format:"json"})},fS=(e,t,a,n)=>{var o;const r={order_id:t,merchant_id:(null==n?void 0:n.merchantId)||"com.swiggy",payment_method_type:"CARD",card_token:UI(e),redirect_after_payment:!0,format:"json",card_security_code:String(a.cvv),save_to_locker:!1,tokenize:OS(e.meta,a),card_nickname:String(a.nickName||"")};return(null===(o=null==e?void 0:e.meta)||void 0===o?void 0:o.cvvMandatory)||delete r.card_security_code,Promise.resolve(r)},vS=(e,t,a,n,o)=>{const r=(null==n?void 0:n.merchantId)||"com.swiggy";return Promise.resolve({order_id:t,merchant_id:r,payment_method_type:"CARD",card_token:e.cardToken,redirect_after_payment:!0,format:"json",card_security_code:String(a.cvv),save_to_locker:!1,tokenize:!0,card_nickname:String(a.nickName||"")})},TS=(e,t,a,n,o)=>vn(void 0,void 0,void 0,(function*(){const r=(null==n?void 0:n.merchantId)||"com.swiggy",i={card_number:String(a.cardNumber).replace(/\s+/g,""),card_exp_year:a.year,card_exp_month:a.month,card_security_code:a.cvv,merchant_id:r,name_on_card:a.name,card_nickname:String(a.nickName||"")},l=nf(i);try{const n=yield yS(l,r);return{order_id:t,merchant_id:r,payment_method_type:"CARD",card_token:n.token,redirect_after_payment:!0,format:"json",card_security_code:String(i.card_security_code),save_to_locker:!0,tokenize:OS(e,a,o),card_nickname:String(a.nickName||"")}}catch(e){throw new Error("Error in juspay(redirect) tokenization of new card flow:"+e)}})),IS=(e,t)=>vn(void 0,void 0,void 0,(function*(){const{order:a,placeOrderData:{paymentMethodData:n,extraParams:o},juspayMeta:r}=e,i=YS(a),l={[J]:AS,[$]:fS,[Z]:hS}[t];if("function"!=typeof l)throw new Error("Error in juspay redirect flow, paymentMethodHandler is not a function: "+l);try{const e=yield l(n,i,null!=o?o:{},r),t=nf(e),a=(null==r?void 0:r.merchantId)||"com.swiggy";return{internalRedirect:!0,orderId:i,redirectFn:yield bS(t,a).then(e=>{var t;const a=null===(t=null==e?void 0:e.payment)||void 0===t?void 0:t.authentication;return gS(a)})}}catch(e){throw new Error("Error while making payment using juspay redirect: "+e)}})),SS=(e,t,a)=>vn(void 0,void 0,void 0,(function*(){const{transaction:n,merchantInfo:o,transactionReqData:{cardDetails:r,extraParams:i}}=e,l=_S(n),s={[$]:vS,[Z]:TS}[t];if("function"!=typeof s)throw new Error("Error in juspay redirect flow, paymentMethodHandler is not a function: "+s);try{const e=yield s(r,l,null!=i?i:{},o,null!=a&&a),t=nf(e),n=(null==o?void 0:o.merchantId)||"com.swiggy";return{internalRedirect:!0,orderId:l,redirectFn:yield bS(t,n).then(e=>{var t;const a=null===(t=null==e?void 0:e.payment)||void 0===t?void 0:t.authentication;return gS(a)})}}catch(e){throw new Error("Error while making payment using juspay redirect: "+e)}})),NS=e=>{var t,a;return null!==(a=null===(t=null==e?void 0:e.juspayMeta)||void 0===t?void 0:t.merchantId)&&void 0!==a?a:"com.swiggy"};function RS(e,t,a){if(!t||Object(s.ub)(a))return t;switch(e.toUpperCase()){case z.CARD:case z.FOOD_CARD:return t&&a.cardEnabled;case z.CRED:return t&&a.credEnabled;case z.NATIVE_UPI:return t&&a.nativeUpiEnabled;case z.INAPP_UPI:return t&&a.inAppUpiEnabled;case z.NETBANKING:return t&&a.netBankingEnabled;default:return t}}function PS(){const t=e.env.DEFAULT_MAX_IOS_VERSION_FOR_JUSPAY_REDIRECT_FLOW||419,a=e.env.DEFAULT_MAX_IOS_VERSION_FOR_JUSPAY_REDIRECT_FLOW_DASH||422,n=e.env.DEFAULT_MAX_IOS_VERSION_FOR_JUSPAY_REDIRECT_FLOW_OTHER_BLS||430,o=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.versionCode),r=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.marketplaceBusinessLine);return!Object(s.ab)(o)||Object(s.ub)(o)||Object(s.ub)(r)?Ef():r.toLowerCase()===Oe.REGULAR?Ef()&&Number(o)<=t:r.toLowerCase()===Oe.DASH?Ef()&&Number(o)<=a:Ef()&&Number(o)<n}function DS(e){return e.groupName.toUpperCase()===z.EMI}function LS(e){return vn(this,void 0,void 0,(function*(){const{apiHost:t,tenant:a}=e;return AA(yield gA({apiHost:t,endpoint:"/api/v1/juspay/get-client-auth-token",options:{headers:{tenant:a}}})).toPromise()}))}var kS,xS;function wS(e,t){return((null==t?void 0:t.upiIntentConfirmTimeInMs)||(null==e?void 0:e.upiIntentConfirmTimeInMs)||6e4)/6e4}!function(e){e.PROCESSING="processing",e.PENDING="pending"}(kS||(kS={})),function(e){e.FAILURE="FAILURE",e.MWEB_UPI_APP_REDIRECT_FAILURE="MWEB_UPI_APP_REDIRECT_FAILURE"}(xS||(xS={}));function MS(e){return vn(this,void 0,void 0,(function*(){const{apiHost:t,tenant:a}=e;return Object(M.c)(yield Object(L.makeDownstreamApiCall)({apiHost:t,endpoint:"/api/v3/juspay/get-client-auth-token",options:{headers:{tenant:a}}})).toPromise()}))}const jS=e=>[z.CARD,z.FOOD_CARD].includes(e.groupName.toUpperCase()),BS=e=>e.groupName.toUpperCase()===z.NETBANKING,US=e=>"AMAZONPAYWEB"===e.paymentCode.toUpperCase()||"AMAZONPAY"===e.paymentCode.toUpperCase(),HS=(e,t)=>US(e)?t?e.paymentCode:"AmazonPayWeb":e.paymentCode,GS=e=>{const t=s.T.getItem(s.M.RX_SPECIAL_INSTRUCTIONS,"");return Ke(t)?(null==e?void 0:e.orderComments)||"":t},YS=e=>null!=e.paymentPartnerOrderId?String(e.paymentPartnerOrderId):String(e.paymentTxnId),WS=e=>{var t;let a={transactionId:e.paymentTxnId,orderId:e.orderId};if(vf()){let t;try{t=JSON.parse(sessionStorage.getItem("gift-details"))}catch(e){}a=Object.assign(Object.assign({},a),{giftDetails:t})}return hf()&&(a=Object.assign(Object.assign({},a),{confirmOrderXp:null!==(t=null==e?void 0:e.newDineoutConfirmOrderEnabledXp)&&void 0!==t&&t})),a};function FS(e,t,a){var n,o,r,i,l,c;const{statusCode:d,data:u,rawResponse:m,pendingPaymentParams:p}=e;if(0!==d||null==u||null==u.orderData)throw e;const{orderPaymentMethod:_,orderId:E,confirmationTimeMinutes:C="",credConfirmationTimeMinutes:b="",targetedMarketplacePaymentReferenceId:y,appRedirectionInfo:g}=u.orderData,O=y?function(e,t,a){var n,o,r,i,l,c,d,u,m,p,_;if(an(t)||an(e))return;const E=Object(s.Cb)(t,void 0);if(an(E))return;let C=function(e){if(an(e))return null;switch(e.type){case Ie.TYPE_CARD:return oe.JUSPAY;case Ie.TYPE_UPI:switch(null==e?void 0:e.upiSubType){case Ne.UPI_TYPE_COLLECT:return oe.UPICOLLECT;case Ne.UPI_TYPE_INTENT:return oe.UPIINTENT}break;case Ie.TYPE_INAPP_UPI:return oe.INAPPUPI;case Ie.TYPE_BNPL:return oe.BNPL;case Ie.TYPE_NB:return oe.NETBANKING;case Ie.TYPE_CASH:return oe.CASH;case Ie.TYPE_SWIGGY_MONEY:return oe.SWIGGYPAY;case Ie.TYPE_WALLET:switch(null==e?void 0:e.walletSubType){case Re.WALLET_TYPE_AMAZONPAY:return oe.AMAZONPAY;case Re.WALLET_TYPE_CRED:return oe.CRED;case Re.WALLET_TYPE_FREECHARGE:return oe.FREECHARGE;case Re.WALLET_TYPE_MOBIKWIK:return oe.MOBIKWIK;case Re.WALLET_TYPE_PAYTM:return oe.PAYTM;case Re.WALLET_TYPE_PHONE_PE:return oe.PHONEPE}break;case Ie.TYPE_EMI:return oe.THIRD_PARTY_EMI}return null}(null==E?void 0:E.paymentMethodType);if(an(C))return;const b=null===(n=null==E?void 0:E.walletRedirect)||void 0===n?void 0:n.phonepeRedirect,y=null==E?void 0:E.upiRedirect,g=null==y?void 0:y.upiIntentRedirect,O=null==y?void 0:y.upiCollectRedirect,h=null===(o=null==E?void 0:E.walletRedirect)||void 0===o?void 0:o.amazonpayRedirect,A=null===(r=null==E?void 0:E.emiRedirect)||void 0===r?void 0:r.juspayEmiRedirect,f=(null==A?void 0:A.redirectionUrl)||"",v=String(function(e,t){var a,n,o,r,i,l,s,c,d,u,m,p,_,E;if(an(e))return null;switch(e.type){case Ie.TYPE_CARD:return null===(a=null==t?void 0:t.cardRedirect)||void 0===a?void 0:a.transactionId;case Ie.TYPE_UPI:switch(null==e?void 0:e.upiSubType){case Ne.UPI_TYPE_COLLECT:return null===(o=null===(n=null==t?void 0:t.upiRedirect)||void 0===n?void 0:n.upiCollectRedirect)||void 0===o?void 0:o.transactionId;case Ne.UPI_TYPE_INTENT:return null===(i=null===(r=null==t?void 0:t.upiRedirect)||void 0===r?void 0:r.upiIntentRedirect)||void 0===i?void 0:i.transactionId}break;case Ie.TYPE_INAPP_UPI:return null===(l=null==t?void 0:t.inappUpiRedirect)||void 0===l?void 0:l.transactionId;case Ie.TYPE_NB:return null===(s=null==t?void 0:t.nbRedirect)||void 0===s?void 0:s.transactionId;case Ie.TYPE_WALLET:switch(null==e?void 0:e.walletSubType){case Re.WALLET_TYPE_AMAZONPAY:return null===(d=null===(c=null==t?void 0:t.walletRedirect)||void 0===c?void 0:c.amazonpayRedirect)||void 0===d?void 0:d.transactionId;case Re.WALLET_TYPE_CRED:return null===(m=null===(u=null==t?void 0:t.walletRedirect)||void 0===u?void 0:u.credRedirect)||void 0===m?void 0:m.transactionId;case Re.WALLET_TYPE_PHONE_PE:return null===(E=null===(_=null===(p=null==t?void 0:t.walletRedirect)||void 0===p?void 0:p.phonepeRedirect)||void 0===_?void 0:_.sdkRedirect)||void 0===E?void 0:E.transactionId}}return null}(null==E?void 0:E.paymentMethodType,E)||""),T=String(function(e,t){var a,n,o,r;if(an(e))return null;switch(e.type){case Ie.TYPE_CARD:return null===(a=null==t?void 0:t.cardRedirect)||void 0===a?void 0:a.authToken;case Ie.TYPE_NB:return null===(n=null==t?void 0:t.nbRedirect)||void 0===n?void 0:n.authToken;case Ie.TYPE_WALLET:switch(null==e?void 0:e.walletSubType){case Re.WALLET_TYPE_CRED:return null===(r=null===(o=null==t?void 0:t.walletRedirect)||void 0===o?void 0:o.credRedirect)||void 0===r?void 0:r.authToken}}return null}(null==E?void 0:E.paymentMethodType,E)||""),I=function(e,t){var a,n;switch(e){case oe.INAPPUPI:return null===(a=null==t?void 0:t.inappUpiRedirect)||void 0===a?void 0:a.amount;case oe.JUSPAY:return null===(n=null==t?void 0:t.cardRedirect)||void 0===n?void 0:n.amount}}(C,E),S=Object(s.Cb)((null==h?void 0:h.encryptedPayload)||"{}",void 0);return C===oe.AMAZONPAY&&(null==S?void 0:S.paymentRedirectUrl)&&(C=oe.AMAZONPAYWEB),{orderPaymentMethod:a||C||"",passId:v,paymentPartnerOrderId:v,paymentTxnId:e,primaryPaymentTransactionAmount:I,paymentMethodMeta:{paymentRedirectUrl:null==S?void 0:S.paymentRedirectUrl,payload:null==S?void 0:S.payload,iv:null==S?void 0:S.iv,key:null==S?void 0:S.key},phonepeDebitRequisites:{webRedirectionUrl:null===(i=null==b?void 0:b.webRedirect)||void 0===i?void 0:i.paymentUri,base64Body:null===(l=null==b?void 0:b.sdkRedirect)||void 0===l?void 0:l.base64Body,checksum:null===(c=null==b?void 0:b.sdkRedirect)||void 0===c?void 0:c.checksum,apiEndPoint:null===(d=null==b?void 0:b.sdkRedirect)||void 0===d?void 0:d.apiEndPoint,transactionId:null===(u=null==b?void 0:b.sdkRedirect)||void 0===u?void 0:u.transactionId,s2SCallBackUrl:null===(m=null==b?void 0:b.sdkRedirect)||void 0===m?void 0:m.s2sCallBackUrl},juspayMeta:{authTypeForCard:"",juspayClientAuthToken:T},upiIntentUrl:null==g?void 0:g.upiIntentUrl,upiIntentConfirmTimeInMs:6e4,confirmationTimeMinutes:String(wS(O,g)),credConfirmationTimeMinutes:String(((null===(_=null===(p=null==E?void 0:E.walletRedirect)||void 0===p?void 0:p.credRedirect)||void 0===_?void 0:_.credConfirmTimeInMs)||6e4)/6e4),emiRedirectUrl:f}}(y,g,_):{orderPaymentMethod:_},h=null!==(n=null==O?void 0:O.orderPaymentMethod)&&void 0!==n?n:_;let A={};const f=null===(r=null===(o=null==a?void 0:a.extraParams)||void 0===o?void 0:o.pay_on_delivery)||void 0===r?void 0:r.variant;Ke(f)||(A={autoPayVariant:f||"--",autoPayFailedOrderId:(null===(l=null===(i=null==a?void 0:a.extraParams)||void 0===i?void 0:i.pay_on_delivery)||void 0===l?void 0:l.failed_order_id)||"--"});const v=qT(a);return Object(L.recordNREvent)(Object.assign(Object.assign({orderId:E,eventType:t||L.NEWRELIC_TABLES.PAYMENTS_WEB_PLACE_ORDER,method:h},A),{isTurboPaymentMethod:v,confirmationTimeMinutes:C,credConfirmationTimeMinutes:b}),!1),s.T.setItem("place_order_data",{orderId:E,orderPaymentMethod:h,isTurboPaymentMethod:v}),{orderData:Object.assign(Object.assign(Object.assign({},u.orderData),O),{xpData:null==u?void 0:u.xpData,rawResponse:null!==(c=null==m?void 0:m.data)&&void 0!==c?c:{},pendingPaymentParams:p||null})}}const VS=(e,t={})=>{var a,n,o;return null!==(o=null!==(n=null!==(a=dS(t))&&void 0!==a?a:e.bin)&&void 0!==n?n:e.meta.cardIsin)&&void 0!==o?o:""};function KS(e){var t;const{orderTags:a,successMessageType:n}=e;return!(!n||"SUPER"!==n.toUpperCase())||null!==(t=a&&a.includes("SUPER"))&&void 0!==t&&t}const zS=L.NEWRELIC_TABLES.PAYMENT_PROCESS_ORDER_STATE_ERROR,$S=L.NEWRELIC_TABLES.WEB_PAYMENTS_STORAGE_NOT_AVAILABLE,XS=()=>"undefined"!=typeof window&&"undefined"!=typeof sessionStorage&&null!=sessionStorage||(Object(L.recordNREvent)({eventType:$S,type:"session"},!1),!1),JS=()=>"undefined"!=typeof window&&"undefined"!=typeof localStorage&&null!=localStorage||(Object(L.recordNREvent)({eventType:$S,type:"local"},!1),!1);class ZS{static getItem(e){if(XS()){const t=sessionStorage.getItem(e);if(t)return t}if(JS()){const t=localStorage.getItem(e),a=localStorage.getItem("process_order_storage_timestamp");if(a&&t){if(Date.now()<Number(a)+6e5)return t;e===WA&&Object(L.recordNREvent)({eventType:zS,method:"getItem",error:"Data expired in local storage",savedDataTimestamp:Number(a)/1e3,orderId:t,diffInSecs:(Date.now()-Number(a))/1e3},!1)}}return null}static setItem(e,t){try{XS()&&sessionStorage.setItem(e,t),JS()&&(localStorage.setItem(e,t),localStorage.setItem("process_order_storage_timestamp",String(Date.now())))}catch(e){Object(L.recordNREvent)({eventType:zS,method:"setItem",error:e},!1),Object(s.Z)(e)}}static removeItem(e){sessionStorage.removeItem(e),localStorage.removeItem(e)}}function qS(){ZS.removeItem(WA),ZS.removeItem("swgy_checkout_state_key"),ZS.removeItem("swgy_checkout_state_payload"),ZS.removeItem("is_swiggy_money_flow"),ZS.removeItem("swiggy_money_payment_amount")}function QS(){const e=ZS.getItem(WA),t=ZS.getItem("swgy_checkout_state_key"),a=ZS.getItem("swgy_checkout_state_payload"),n=ZS.getItem("is_swiggy_money_flow"),o=ZS.getItem("swiggy_money_payment_amount");if(null==e||null==a||null==t||null==n)return null;try{return{orderId:e,state:JSON.parse(a),type:JSON.parse(t),isSwiggyMoney:"true"===n,swiggyMoneyPaymentAmount:o}}catch(e){return null}}function eN(){ZS.removeItem("swgy_penny_txn_order_id"),ZS.removeItem("swgy_penny_txn_state_key"),ZS.removeItem("swgy_penny_txn_state_payload")}var tN,aN;!function(e){e.DEFAULT="default",e.NONE="none"}(tN||(tN={})),function(e){e.DEFAULT="turboV1",e.TURBO_V2="turboV2"}(aN||(aN={}));function nN(e,t){return vn(this,void 0,void 0,(function*(){const a={isUserCredEligible:String(t.isUserCredEligible),isUserEligibleForSingleClick:String(t.isUserEligibleForSingleClick),splitPayMethods:t.splitPayMethods?String(t.splitPayMethods):tN.NONE,isGiftingFlow:String(t.isGiftingFlow),isInAppUpiEligible:String(t.isInAppUpiEligible)};return an(t.turboVariant)||(a.turboVariant=t.turboVariant),AA(yield gA({apiHost:e,endpoint:"/api/v1/get-payment-methods",searchParams:a,options:{method:"GET"}})).toPromise()}))}function oN(e,t){return vn(this,void 0,void 0,(function*(){return AA(yield gA({apiHost:e,endpoint:"/api/v1/get-payment-fallback-methods",searchParams:{order_id:t}})).toPromise()}))}function rN(e,t){return vn(this,void 0,void 0,(function*(){return hA(yield gA({apiHost:e,endpoint:"/api/v1/vpa-txn-status",searchParams:{transactionId:t},options:{}})).toPromise()}))}function iN(e,t){return vn(this,void 0,void 0,(function*(){return AA(yield gA({apiHost:e,endpoint:"/api/v1/create-penny-transaction",bodyParams:t,options:{method:"POST"}})).toPromise()}))}function lN(e,t){return vn(this,void 0,void 0,(function*(){return yield gA({apiHost:e,endpoint:"/api/v1/confirm-penny-transaction",bodyParams:t,options:{method:"POST"}})}))}function sN(e,t){return vn(this,void 0,void 0,(function*(){const a=yield gA({apiHost:e,endpoint:"/api/v1/order/register_pay_on_delivery",bodyParams:t,options:{method:"POST"}});if(0!==a.statusCode)throw a;return a}))}function cN(e,t){return vn(this,void 0,void 0,(function*(){yield gA({apiHost:e,endpoint:"/api/v1/update-frequency-counter",bodyParams:t,options:{method:"POST"}})}))}var dN;!function(e){e.SELFLOAD="selfload",e.VOUCHER="voucher"}(dN||(dN={}));const uN=e=>({paymentLinkId:e.cartkey||""}),mN=e=>({context:MA.PAY_ON_DELIVERY,paymentLinkId:e.cartkey||""}),pN=e=>({context:MA.SWIGGY_SUPER,planId:Number(e.planid)||0,quantity:Number(e.quantity)||0});var _N,EN,CN,bN,yN;!function(e){e.EDIT="edit",e.POST_ORDER_TIPPING="post_order_tipping",e.SWIGGY_SUPER="swiggy_super",e.PAY_ON_DELIVERY="pay_on_delivery",e.SWIGGY_ONE="subscription"}(_N||(_N={}));const gN={RETURN_URL:null!==(EN=Object(L.getDownstreamHostsValue)("RETURN_URL"))&&void 0!==EN?EN:"https://payments.swiggy.com/wallet/money-received",TXN_RETURN_URL:null!==(CN=Object(L.getDownstreamHostsValue)("TXN_RETURN_URL"))&&void 0!==CN?CN:"https://payments.swiggy.com/payment/transaction-received",PAYMENT_MODE_ADD_MONEY_RETURN_URL:null!==(bN=Object(L.getDownstreamHostsValue)("PAYMENT_MODE_ADD_MONEY_RETURN_URL"))&&void 0!==bN?bN:"https://payments.swiggy.com/payment-modes/wallet-detail/money-received",PAYTM_CALLBACK_URL:null!==(yN=Object(L.getDownstreamHostsValue)("PAYTM_CALLBACK_URL"))&&void 0!==yN?yN:"https://payments.swiggy.com/wallet/money-received"};var ON,hN;Object(L.getDownstreamHostsValue)("MOBIKWIK_GATEWAY_URL"),Object(L.getDownstreamHostsValue)("MOBIKWIK_MERCHANT_NAME"),Object(L.getDownstreamHostsValue)("MOBIKWIK_MID"),Object(L.getDownstreamHostsValue)("PAYTM_CHANNEL_ID"),Object(L.getDownstreamHostsValue)("PAYTM_INDUSTRY_TYPE_ID"),Object(L.getDownstreamHostsValue)("PAYTM_URL"),Object(L.getDownstreamHostsValue)("PAYTM_WEBSITE");const AN=(e,t)=>{const a=Object(L.getDownstreamHostsValue)(e);return a&&"undefined"!==a&&"null"!==a?a:t},fN={PAYMENT_PRESENTATION_SERVICE_HOST:null!==(ON=Object(L.getDownstreamHostsValue)("PAYMENT_PRESENTATION_SERVICE_HOST"))&&void 0!==ON?ON:"https://chkout.swiggy.com",DO_HOST:null!==(hN=Object(L.getDownstreamHostsValue)("DO_HOST"))&&void 0!==hN?hN:"https://dinersone-proxy.swiggy.com",USER_SERVICE_HOST:AN("USER_SERVICE_HOST","https://profile.swiggy.com"),PAYMENT_RETURN_URL:AN("PAYMENT_RETURN_URL","https://payments.swiggy.com/checkout/order-received"),API_HOST:AN("API_HOST","https://payments.swiggy.com"),CHECKOUT_READ_HOST:AN("CHECKOUT_READ_HOST","https://chkout.swiggy.com")},vN={MIN_ANDROID_VERSION_FOR_PAYMENT_PENDING_FLOW:AN("MIN_ANDROID_VERSION_FOR_PAYMENT_PENDING_FLOW","1034"),MIN_IOS_VERSION_FOR_PAYMENT_PENDING_FLOW:AN("MIN_IOS_VERSION_FOR_PAYMENT_PENDING_FLOW","420"),CONFIRM_ORDER_STATUS_LIST:AN("CONFIRM_ORDER_STATUS_LIST",'["CONFIRMED","DELIVERY_ASSIGNED","DELIVERY_CONFIRMED","DELIVERY_UNASSIGNED","DELIVERY_ARRIVED","DELIVERY_PICKEDUP","DELIVERY_REACHED","DELIVERY_DELIVERED"]'),DINEOUT_CONFIRM_ORDER_STATUS_LIST:AN("DINEOUT_CONFIRM_ORDER_STATUS_LIST",'["CONFIRMED","COMPLETED","CANCELLED"]'),USE_NEW_PAYMENT_ENDPOINT:AN("USE_NEW_PAYMENT_ENDPOINT","false")};function TN(e,t){var a;return vn(this,void 0,void 0,(function*(){const n=L.GlobalHeaderState.getHeaders(),o=null!==(a=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.marketplaceBusinessLine))&&void 0!==a?a:Oe.REGULAR,r={address_id:"",card_details:!0,is_user_cred_eligible:t.isUserCredEligible||!1,is_user_eligible_for_single_click:t.isUserEligibleForSingleClick||!1,without_split_pay:!1,split_pay_methods:t.splitPayMethods||tN.NONE,is_gifting_flow:t.isGiftingFlow||!1,is_inapp_upi_eligible:t.isInAppUpiEligible||!1};an(null==t?void 0:t.turboVariant)||(r.turbo_variant=t.turboVariant);const[i,l]=((e,t,a)=>{var n;switch(e){case Oe.EDIT_ORDER:return[Object.assign(Object.assign({},t),(e=>({context:MA.EDIT,cart_key:e.cartkey||""}))(a)),a];case Oe.POST_ORDER_TIP:return[Object.assign(Object.assign({},t),uN(a)),a];case Oe.PAY_ON_DELIVERY:return[Object.assign(Object.assign({},t),mN(a)),a];case Oe.SWIGGY_SUPER:return[Object.assign(Object.assign({},t),pN(a)),a];case Oe.DASH:case Oe.DINEOUT:case Oe.HANDPICKED:case Oe.ASSURE:return[Object.assign(Object.assign({},t),uN(a)),a];case Oe.SWIGGY_MONEY:return a.m_id=null!==(n=a.m_id)&&void 0!==n?n:he.SWIGGY_MONEY,t.context="true"===t.is_gifting_flow?dN.VOUCHER:dN.SELFLOAD,[t,a];case Oe.SWIGGY_ONE:return[Object.assign(Object.assign({},t),{context:MA.SWIGGY_ONE}),a];case Oe.REGULAR:return[t,a=(e=>{var t;return e.m_id=null!==(t=e.m_id)&&void 0!==t?t:he.CHECKOUT,e})(a)];default:return[t,a]}})(o,r,n);return o===Oe.SWIGGY_SUPER?((e,t,a)=>vn(void 0,void 0,void 0,(function*(){const n={subscriptionItems:[{plan_id:t.planId,quantity:t.quantity}],address_id:null==a?void 0:a.addressid};return Object(M.c)(yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:"/api/v3/swiggy-super/get-payment-options",bodyParams:n,options:{method:"POST"}})).toPromise().then(e=>e.payments)})))(e,i,l):(o===Oe.DASH||o===Oe.POST_ORDER_TIP||o===Oe.DINEOUT||o===Oe.PAY_ON_DELIVERY||o===Oe.HANDPICKED||o===Oe.ASSURE||o===Oe.SWIGGY_MONEY||Oe.SWIGGY_ONE,((e,t,a)=>vn(void 0,void 0,void 0,(function*(){return Object(M.c)(yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:"/api/v3/payment/get-payment-options",searchParams:t,options:{method:"GET"}})).toPromise()})))(e,i))}))}function IN(e,t){return vn(this,void 0,void 0,(function*(){const a=L.GlobalHeaderState.getHeaders().cartkey||"";return hA(yield function(e,t){return vn(this,void 0,void 0,(function*(){const a={};return t.cartKey&&(a.cartkey=t.cartKey),yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:"/api/v3/get-payment-fallback-methods",searchParams:{order_id:t.orderId},options:{headers:a,method:"GET"}})}))}(e,{orderId:t,cartKey:a})).toPromise()}))}function SN(e,t){return vn(this,void 0,void 0,(function*(){return hA(yield function(e,t){return vn(this,void 0,void 0,(function*(){return yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:"/api/v3/vpa-verify",bodyParams:{payer_vpa:t.payerVpa},options:{method:"POST"}})}))}(e,{payerVpa:t})).unwrapOrElse(()=>({invalidReason:"Some Error occurred.",vpaValid:!1}))}))}function NN(e,t){return vn(this,void 0,void 0,(function*(){const a=yield function(e,t){return vn(this,void 0,void 0,(function*(){return yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:"/api/v3/vpa-txn-status",searchParams:{paas_id:t},options:{method:"GET"}})}))}(e,t);return yield hA(a).toPromise()}))}function RN(e,t){return vn(this,void 0,void 0,(function*(){const a=(e=>{const t={amount:e.amount,transaction_type:e.transactionType,card_bin_number:e.cardBinNumber,payment_method:e.paymentMethod,payment_method_meta:{},one_click_details:{card_brand:e.oneClickDetails.cardBrand,alias:e.oneClickDetails.alias,one_click_enrolled:e.oneClickDetails.oneClickEnrolled,pretick:e.oneClickDetails.pretick,one_click_consent:e.oneClickDetails.oneClickConsent}};return t.payment_method_meta={juspay_redirect_url:e.paymentReturnUrl||gN.TXN_RETURN_URL},t})(t);return function(e,t){return vn(this,void 0,void 0,(function*(){return(yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:"/api/v3/create-penny-transaction",bodyParams:t,options:{method:"POST"}})).data}))}(e,a)}))}function PN(e,t){return vn(this,void 0,void 0,(function*(){return yield function(e,t){return vn(this,void 0,void 0,(function*(){return yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:"/api/v3/confirm-penny-transaction",bodyParams:t,searchParams:t,options:{method:"POST"}})}))}(e,t)}))}function DN(e,t){return vn(this,void 0,void 0,(function*(){hA(yield function(e,t){return vn(this,void 0,void 0,(function*(){return yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:"/api/v1/json/update_frequency_counter",bodyParams:t,options:{method:"POST"}})}))}(fN.USER_SERVICE_HOST,t)).toPromise()}))}var LN,kN,xN,wN,MN,jN;function BN(e){const t=e.toLowerCase();return"swiggy-android"===t||"an"===t}(LN||(LN={})).ORDER_JOB="ORDER_JOB",function(e){e.PRE_PAYMENT="PRE_PAYMENT",e.POST_PAYMENT="POST_PAYMENT"}(kN||(kN={})),function(e){e.EDIT="edit",e.POST_ORDER_TIPPING="post_order_tipping",e.SWIGGY_SUPER="swiggy_super",e.PAY_ON_DELIVERY="pay_on_delivery",e.SWIGGY_ONE="subscription"}(xN||(xN={})),(wN||(wN={})).SUBSCRIPTION="subscription",function(e){e.PAYTM="paytm",e.PAYTMPOSTPAID="paytm_postpaid",e.PHONEPE="phonepe",e.MOBIKWIK="mobikwik",e.SIMPL="paylater_simpl"}(MN||(MN={})),function(e){e.LAZYPAY="PayLater_Lazypay",e.PAYTMPOSTPAID="PayTM_PostPaid",e.SIMPL="PayLater_Simpl"}(jN||(jN={}));const UN=e=>{const t=e.marketplacebusinessline;return t?t.toLowerCase():Oe.REGULAR},HN={[MN.PAYTM]:{checkBalance:"/api/v3/user/paytmwallet/check_balance",link:"/api/v3/user/paytmwallet/link",delink:"/api/v3/user/paytmwallet/delink",validateOtp:"/api/v3/user/paytmwallet/validate",ssoToken:"/api/v3/user/paytmwallet/sso_token"},[MN.PAYTMPOSTPAID]:{delink:{endpoint:"/api/paylater/paytm/v3/delink",method:"DELETE"}},[MN.SIMPL]:{delink:{endpoint:"/api/v3/paylater/simpl/delink",method:"DELETE"}},[MN.PHONEPE]:{checkBalance:"/api/v3/payment/phonepe/getUserProfile",link:"/api/v3/payment/phonepe/getOtp",delink:{endpoint:"/api/v3/payment/phonepe/delink",method:"DELETE"},validateOtp:"/api/v3/payment/phonepe/validateOtp"},[MN.MOBIKWIK]:{checkBalance:"/api/v3/mobikwik/wallet/check_balance",link:"/api/v3/mobikwik/wallet/link",delink:"/api/v3/mobikwik/wallet/delink",validateOtp:"/api/v3/mobikwik/wallet/validate",ssoToken:"/api/v3/mobikwik/wallet/sso_token",calculateChecksum:"/api/v3/mobikwik/wallet/calculate_checksum"}},GN={[MN.PAYTM]:{0:0,1:2,100:3},[MN.PAYTMPOSTPAID]:{0:0,1:2,100:3},[MN.SIMPL]:{0:0,1:2,100:3},[MN.MOBIKWIK]:{0:0,1:3,2:1,3:2,100:3},[MN.PHONEPE]:{0:0,1:3,2:4,3:5,5:6,8:2,9:1}},YN=e=>"JUSPAY"===e.toUpperCase();function WN(e){var t;const a=null!==(t=e.targetedMarketplacePaymentReferenceId)&&void 0!==t?t:e.paymentTxnId;return{orderId:null!=e.orderId?String(e.orderId):void 0,transactionId:a}}function FN(e,t){if(an(e)||an(t)||isNaN(Number(t)))return!1;if(BN(e)){const e=vN.MIN_ANDROID_VERSION_FOR_PAYMENT_PENDING_FLOW||1034;return Number(t)>=Number(e)}if(function(e){const t=e.toLowerCase();return"swiggy-ios"===t||"ios"===t}(e)){const e=vN.MIN_IOS_VERSION_FOR_PAYMENT_PENDING_FLOW||420;return Number(t)>=Number(e)}return!1}function VN(e,t){const a=function(e){const{CONFIRM_ORDER_STATUS_LIST:t,DINEOUT_CONFIRM_ORDER_STATUS_LIST:a}=vN;let n=BA;try{switch(e){case Oe.DINEOUT:return n=ke,a?JSON.parse(a):ke;default:return t?JSON.parse(t):BA}}catch(e){return console.error(e),n}}(e);return null!=t&&-1!==a.indexOf(t)}const KN=(e,t,a)=>{var n,o;const r=a||String(e.marketplacecategory),i=kN.PRE_PAYMENT,l=null!==(n=t.payment_method_meta)&&void 0!==n?n:{},s=null!==(o=t.in_app_upi_params)&&void 0!==o?o:{};return Object.assign(Object.assign({},t),{payment_type:i,payment_info:{payment_method:t.payment_cod_method,order_context:LN.ORDER_JOB,payment_type:i,metadata:JSON.stringify(Object.assign(Object.assign(Object.assign({},t),{order_meta:{ordered_from:r,transaction_type:i},payment_method_meta:Object.assign(Object.assign({},l),{swiggy_pay_amount:t.swiggy_pay_amount,token:t.token,provider_category:t.provider_category,provider:t.provider,one_click_details:t.one_click_details}),force_validate_coupon:t.force_validate_coupon}),s)),transaction_amount:t.transaction_amount},cartType:r.toUpperCase()})},zN=(e,t)=>KN(e,t);function $N(e,t){var a,n,o,r,i,l,s,c,d,u;if(!e.data||e.statusCode!=M.a)return e;const m=e.data;if(!m.orders||0===m.orders.length)return e;const p=m.orders[0],_=(null===(a=e.data.xpData)||void 0===a?void 0:a.confirmOrderEnabled)||!1,E=p.orderJobs[0],C=(()=>{try{return JSON.parse(E.metadata)}catch(e){return{}}})(),{appRedirectionInfo:b,targetedMarketplacePaymentForwardReferenceId:y}=null!==(n=null==m?void 0:m.paymentDetails)&&void 0!==n?n:{},g=Array.isArray(null==m?void 0:m.transactionPaymentDetails)?null===(o=null==m?void 0:m.transactionPaymentDetails)||void 0===o?void 0:o[0]:{paymentTxnStatus:"pending"},O=g.paymentTxnStatus.toLowerCase(),h=VN(t,Object(L.isBusinessLineDineout)()?E.extendedStatus:E.status),A=Object.assign(Object.assign({orderId:E.orderJobId,orderType:C.type,orderTotal:(null==E?void 0:E.paymentInfo)?null===(r=null==E?void 0:E.paymentInfo)||void 0===r?void 0:r[0].transactionAmount:"",orderItems:(null===(i=C.items)||void 0===i?void 0:i.map(e=>({quantity:e.quantity})))||[],orderPaymentMethod:(null==E?void 0:E.paymentInfo)?null===(s=null===(l=null==E?void 0:E.paymentInfo)||void 0===l?void 0:l[0])||void 0===s?void 0:s.paymentMethod:"",postStatus:h?"processing":O,orderStatus:h?"processing":O,successMessageInfo:C.postOrderScreenMessageText,paymentPartnerOrderId:null!==(c=null==g?void 0:g.paymentPartnerOrderId)&&void 0!==c?c:null==g?void 0:g.paymentTxnId,newDashConfirmOrderEnabledXp:_,newDineoutConfirmOrderEnabledXp:_,confirmationTimeMinutes:g.confirmationTimeInMinutes},g),{appRedirectionInfo:b,targetedMarketplacePaymentReferenceId:y});(null==g?void 0:g.amazonPayResponse)&&(null===(d=null==g?void 0:g.amazonPayResponse)||void 0===d?void 0:d.amazonPayLoad)&&(A.paymentMethodMeta=null===(u=null==g?void 0:g.amazonPayResponse)||void 0===u?void 0:u.amazonPayLoad);const f=Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{orderData:A})});return f.rawResponse&&f.rawResponse.data&&(f.rawResponse.data.order_data=Object.assign(Object.assign({},f.rawResponse.data),{order_id:E.orderJobId})),f}function XN(e,t){return $N(e,t)}function JN({method:e,headers:t,body:a}){const n=fN.API_HOST,o=fN.CHECKOUT_READ_HOST,r=FN(t.platform,t["version-code"]),i=UN(t);return{method:e,endpoint:r?"api/v1/order/confirm-on-app-launch":function(e){switch(e){case Oe.EDIT_ORDER:case Oe.POST_ORDER_TIP:case Oe.PAY_ON_DELIVERY:return"api/v3/order/edit/confirm"}return"api/v2/order/confirm"}(i),host:r?n:o,headers:Object(L.getSwiggyHeaders)(t),body:r?a:void 0}}function ZN(e,t,a){return vn(this,void 0,void 0,(function*(){const n=L.GlobalHeaderState.getHeaders(),o=yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:"/api/v3/payment/confirm",bodyParams:{transaction_id:t.transactionId},options:{method:"POST"}});return 0!==o.statusCode?(Object(L.recordNREvent)(Object.assign({eventType:a,statusCode:o.statusCode,transactionId:t.transactionId,orderId:t.orderId},n)),{paymentFailureResponse:o}):{}}))}function qN(e){const{orderId:t,status:a,orderDetailsResponse:n,nrLogTableName:o,marketplaceBusinessLine:r,headers:i}=e;return VN(r,a)?$N(n,r):(Object(L.recordNREvent)(Object.assign({eventType:o,status:a||"",orderId:t},i)),Object.assign(Object.assign({},n),YA))}function QN(e,t,a){return vn(this,void 0,void 0,(function*(){const n=L.GlobalHeaderState.getHeaders(),o=yield function(e,t){return vn(this,void 0,void 0,(function*(){const a=t.marketplaceBusinessLine||Oe.DASH,n=t.marketplaceCategory;let o,r="/api/v3/dash/order/{0}/context/ORDER_JOB";return a===Oe.DASH&&n===ge.INSTAMART?r="/api/v3/instamart/order/{0}/context/ORDER_JOB":a===Oe.HANDPICKED?r="/api/v3/handpicked/order/{0}":a===Oe.DASH&&n===ge.INSANELYGOOD?r="/api/v3/insanelygood/order/{0}/context/ORDER_JOB":a===Oe.DINEOUT?(r="/api/v3/dineout/order/{0}/context/ORDER_JOB",o={extended:"true"}):a===Oe.ASSURE&&(r="/api/v3/assure/order/{0}/context/ORDER_JOB"),yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:r.replace("{0}",t.orderId),options:{method:"GET"},searchParams:o})}))}(e,{orderId:t.orderId,marketplaceBusinessLine:t.marketplaceBusinessLine,marketplaceCategory:t.marketplaceCategory});return 0!==o.statusCode?(Object(L.recordNREvent)(Object.assign({eventType:a,statusCode:o.statusCode,orderId:t.orderId},n)),{retryResponse:Object.assign(Object.assign({},o),YA),orderDetailsResponse:o}):{orderDetailsResponse:o}}))}function eR(e,t,a){var n,o;return vn(this,void 0,void 0,(function*(){const r=yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:UA,bodyParams:t,options:{method:"POST"}}),i=null===(o=null===(n=null==r?void 0:r.data)||void 0===n?void 0:n.orderData)||void 0===o?void 0:o.orderId;if(!i)return r;const l=JN({headers:a,method:"POST",body:{orderId:String(i)}});return Object.assign(Object.assign({},r),{pendingPaymentParams:l})}))}function tR(e,t,a){var n;return vn(this,void 0,void 0,(function*(){const o=UN(a),r=t.cartType;let i="/api/v3/checkout/order";(null==r?void 0:r.toLowerCase())===ge.INSTAMART?i="/api/v3/instamart/checkout/order":r===ge.PUDO.toUpperCase()?i="/api/v3/pudo/checkout/order":r===ge.CUSTOM.toUpperCase()?i="/api/v3/custom/checkout/order":(null==r?void 0:r.toLowerCase())===ge.INSANELYGOOD?i="/api/v3/insanelygood/checkout/order":o===Oe.DINEOUT?i="/api/v3/dineout/checkout/order":o===Oe.HANDPICKED?i="/api/v3/handpicked/order":o===Oe.ASSURE&&(i="/api/v3/assure/checkout/order");const l=yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:i,bodyParams:t,options:{method:"POST"},searchParams:{cartType:String(t.cartType)}},!0);let s;s=o===Oe.HANDPICKED?function(e){return $N(e,Oe.HANDPICKED)}(l):XN(l,o);const c=FN(a.platform,a["version-code"]);if(function(e){return null!=e.data&&"orderData"in e.data}(s)&&c){const e=null===(n=s.data)||void 0===n?void 0:n.orderData,t=null!=e?WN(e):{},o=JN({headers:a,method:"POST",body:t});return Object.assign(Object.assign({},s),{pendingPaymentParams:o})}return s}))}function aR(e,t){var a,n,o,r,i;return vn(this,void 0,void 0,(function*(){const l=L.GlobalHeaderState.getHeaders(),s=t.marketplaceBusinessLine||Oe.DASH,c=t.marketplaceCategory,{paymentFailureResponse:d}=yield ZN(e,{transactionId:t.transactionId,orderId:String(t.orderId)},"payment_web_api_dash_transaction_error");if(d)return d;const{retryResponse:u,orderDetailsResponse:m}=yield QN(e,{transactionId:t.transactionId,orderId:String(t.orderId),marketplaceBusinessLine:s,marketplaceCategory:c},"payment_web_api_dash_order_details_error");if(u)return u;const p=null===(i=null===(r=null===(o=null===(n=null===(a=m.data)||void 0===a?void 0:a.orders)||void 0===n?void 0:n[0])||void 0===o?void 0:o.orderJobs)||void 0===r?void 0:r[0])||void 0===i?void 0:i.status;return qN({orderId:String(t.orderId),headers:l,status:p,orderDetailsResponse:m,nrLogTableName:"payment_web_api_dash_order_status",marketplaceBusinessLine:s})}))}function nR(e,t){return vn(this,void 0,void 0,(function*(){const{addressId:a,paymentMethod:n,orderComments:o,orderType:r,useJuspayNative:i,paymentReturnUrl:l,cardNumber:s,cvv:c,expiry:d}=t,u=fn(t,["addressId","paymentMethod","orderComments","orderType","useJuspayNative","paymentReturnUrl","cardNumber","cvv","expiry"]),m=L.GlobalHeaderState.getHeaders(),p=(e=>{var t;const{paymentMethod:a,useJuspayNative:n,paymentReturnUrl:o}=e,r={};return a?((e=>"PHONEPE"===e.replace("-SSO","").toUpperCase())(a)&&(r.payment_method_meta={phonepe_web_callback_url:o||fN.PAYMENT_RETURN_URL}),(e=>"AMAZONPAY"===e.replace("-SSO","").toUpperCase()||"AMAZONPAYWEB"===e.replace("-SSO","").toUpperCase())(a)&&(r.payment_method_meta={amazon_pay_redirect_url:o||fN.PAYMENT_RETURN_URL}),(e=>YN(e)||"JUSPAY-NB"===e.toUpperCase())(a)&&(r.payment_method_meta={is_juspay_native:String(!!n)},YN(a)&&(r.payment_method_meta.cvv_mandatory=null===(t=null==e?void 0:e.cvv_mandatory)||void 0===t||t),n||(r.payment_method_meta.juspay_redirect_url=o||fN.PAYMENT_RETURN_URL)),(e=>"third-party-emi"===e.toLowerCase())(a)&&(r.payment_method_meta={juspay_redirect_url:o||fN.PAYMENT_RETURN_URL}),r):r})(t),_=function(e){switch(e.toLowerCase()){case MN.PAYTM:case MN.MOBIKWIK:return e+"-SSO";default:return e}}(n),E=Object.assign(Object.assign({address_id:a,payment_cod_method:_,order_comments:o},u),p),C=UN(m);switch(C){case Oe.EDIT_ORDER:case Oe.POST_ORDER_TIP:case Oe.PAY_ON_DELIVERY:{const t={[Oe.EDIT_ORDER]:xN.EDIT,[Oe.POST_ORDER_TIP]:xN.POST_ORDER_TIPPING,[Oe.PAY_ON_DELIVERY]:xN.PAY_ON_DELIVERY},a=Object.assign(Object.assign({},E),{context:t[C],cart_key:m.cartkey||"",order_id:m.orderid});return yield function(e,t){var a;return vn(this,void 0,void 0,(function*(){const n=L.GlobalHeaderState.getHeaders(),o=yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:"/api/v3/order/edit/place",bodyParams:t,options:{method:"POST"}},!0),r=null===(a=o.data)||void 0===a?void 0:a.orderData,i=JN({headers:n,method:"POST",body:null!=r?WN(r):{}});return Object.assign(Object.assign({},o),{pendingPaymentParams:i})}))}(e,a)}case Oe.DASH:{const a=zN(m,E);return yield tR(e,Object.assign(Object.assign({},t),a),m)}case Oe.HANDPICKED:{const a=((e,t)=>KN(e,t,ge.HANDPICKED))(m,E);return yield tR(e,Object.assign(Object.assign({},t),a),m)}case Oe.SWIGGY_MONEY:{const t=((e,t)=>{const a=Number(e.paymentAmount)||0;let n;return n={amount:a,creditMethod:"SwiggyMoney",creditType:dN.SELFLOAD,paymentInformation:[{amount:a,paymentMethod:e.payment_cod_method,paymentMethodMeta:{payment_netbanking_type:e.payment_netbanking_type,card_bin_number:e.card_bin_number,upi_transaction_info:e.upi_transaction_info,juspay_redirect_url:t}}]},e.giftDetails&&(n=Object.assign(Object.assign({},n),{amount:Number(e.giftDetails.originalAmount),receiverMeta:e.giftDetails.receiverMeta,creditType:dN.VOUCHER})),n})(E,l||"");return yield function(e,t){return vn(this,void 0,void 0,(function*(){return yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:"/api/v3/payment/add-money/order",bodyParams:t,options:{method:"POST"}})}))}(e,Object.assign(Object.assign({},t),{addressId:a,paymentMethod:n}))}case Oe.DINEOUT:{const a=((e,t)=>{var a,n;const o=UN(e),r=kN.PRE_PAYMENT,i=null!==(a=t.payment_method_meta)&&void 0!==a?a:{},l=null!==(n=t.in_app_upi_params)&&void 0!==n?n:{};return Object.assign(Object.assign({},t),{payment_type:r,payment_info:{payment_method:t.payment_cod_method,order_context:LN.ORDER_JOB,payment_type:r,metadata:JSON.stringify(Object.assign(Object.assign(Object.assign({},t),{order_meta:{ordered_from:o,transaction_type:r},payment_method_meta:Object.assign(Object.assign({},i),{swiggy_pay_amount:t.swiggy_pay_amount,token:t.token,provider_category:t.provider_category,provider:t.provider,one_click_details:t.one_click_details}),force_validate_coupon:t.force_validate_coupon}),l)),transaction_amount:t.transaction_amount},cartType:o.toUpperCase(),merchant_id:"Swiggy"})})(m,E);return yield tR(e,Object.assign(Object.assign({},t),a),m)}case Oe.SWIGGY_SUPER:return yield function(e,t,a){var n,o;return vn(this,void 0,void 0,(function*(){const r=yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:UA,bodyParams:t,options:{method:"POST"}}),i=null===(o=null===(n=null==r?void 0:r.data)||void 0===n?void 0:n.orderData)||void 0===o?void 0:o.orderId;if(!i)return r;const l=JN({headers:a,method:"POST",body:{orderId:String(i)}});return Object.assign(Object.assign({},r),{pendingPaymentParams:l})}))}(e,Object.assign(Object.assign(Object.assign({},t),{orderType:wN.SUBSCRIPTION}),E),m);case Oe.SWIGGY_ONE:return yield eR(e,Object.assign(Object.assign(Object.assign({},t),{orderType:wN.SUBSCRIPTION}),E),m);case Oe.ASSURE:{const a=zN(m,E);return yield tR(e,Object.assign(Object.assign({},t),a),m)}default:return yield eR(e,Object.assign(Object.assign({},t),E),m)}}))}function oR(e,t){return vn(this,void 0,void 0,(function*(){const a=L.GlobalHeaderState.getHeaders(),n=UN(a),o=(e=>{const t=e.marketplacecategory;return t?t.toLowerCase():""})(a);switch(n){case Oe.EDIT_ORDER:case Oe.POST_ORDER_TIP:case Oe.PAY_ON_DELIVERY:{const o={order_id:a.orderid,transaction_id:t.transactionId};if(n!==Oe.EDIT_ORDER){const e={[Oe.POST_ORDER_TIP]:xN.POST_ORDER_TIPPING,[Oe.PAY_ON_DELIVERY]:xN.PAY_ON_DELIVERY};o.context=e[n],o.cart_key=a.cartkey||""}return yield function(e,t){return vn(this,void 0,void 0,(function*(){return yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:"/api/v3/order/edit/confirm",bodyParams:t,options:{method:"POST"}},!0)}))}(e,o)}case Oe.SWIGGY_ONE:return yield function(e,t){return vn(this,void 0,void 0,(function*(){return yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:HA,options:{method:"POST"},searchParams:{order_id:t}},!0)}))}(e,String(t.orderId));case Oe.SWIGGY_SUPER:return yield function(e,t){return vn(this,void 0,void 0,(function*(){return yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:"/api/v3/marketplace/order/confirm",options:{method:"POST"},searchParams:{order_id:t}},!0)}))}(e,String(t.orderId));case Oe.DASH:{const a={transactionId:String(t.transactionId),orderId:String(t.orderId)};return o===ge.INSTAMART?yield function(e,t){return vn(this,void 0,void 0,(function*(){const a=L.GlobalHeaderState.getHeaders(),n=UN(a),o=Object.assign(Object.assign({},t),{payment_transaction_id:t.transactionId,order_id:t.orderId});return XN(yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:GA,bodyParams:o,options:{method:"POST"}},!0),n)}))}(e,a):yield aR(e,a)}case Oe.DINEOUT:{const a={transactionId:String(t.transactionId),orderId:String(t.orderId),confirmOrderXp:t.confirmOrderXp};return yield function(e,t){return vn(this,void 0,void 0,(function*(){return t.confirmOrderXp?function(e,t){return vn(this,void 0,void 0,(function*(){const a=L.GlobalHeaderState.getHeaders(),n=UN(a),o=Object.assign(Object.assign({},t),{payment_transaction_id:t.transactionId,order_id:String(t.orderId)}),r=yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:"/api/v3/dineout/checkout/confirm/order",bodyParams:o,options:{method:"POST"}},!0);return Object(L.recordNREvent)(Object.assign({eventType:"payment_web_api_dineout_new_confirm_order_status",statusCode:r.statusCode,transactionId:t.transactionId,orderId:t.orderId},a)),XN(r,n)}))}(e,t):function(e,t){var a,n,o,r,i;return vn(this,void 0,void 0,(function*(){const l=L.GlobalHeaderState.getHeaders(),{paymentFailureResponse:s}=yield ZN(e,{transactionId:t.transactionId,orderId:String(t.orderId)},"payment_web_api_dineout_transaction_error");if(!an(s))return s;const{retryResponse:c,orderDetailsResponse:d}=yield QN(e,{transactionId:t.transactionId,orderId:String(t.orderId),marketplaceBusinessLine:Oe.DINEOUT},"payment_web_api_dineout_order_details_error");if(!an(c))return c;const u=null===(i=null===(r=null===(o=null===(n=null===(a=d.data)||void 0===a?void 0:a.orders)||void 0===n?void 0:n[0])||void 0===o?void 0:o.orderJobs)||void 0===r?void 0:r[0])||void 0===i?void 0:i.extendedStatus;return qN({orderId:String(t.orderId),headers:l,status:u,orderDetailsResponse:d,nrLogTableName:"payment_web_api_dineout_order_status",marketplaceBusinessLine:Oe.DINEOUT})}))}(e,t)}))}(e,a)}case Oe.HANDPICKED:{const a={transactionId:String(t.transactionId),orderId:String(t.orderId)};return yield aR(e,a)}case Oe.SWIGGY_MONEY:{const a={transactionId:String(t.transactionId),orderId:String(t.orderId),creditType:t.giftDetails?dN.VOUCHER:dN.SELFLOAD};return yield function(e,t){return vn(this,void 0,void 0,(function*(){const a={transactionId:String(t.transactionId),orderId:String(t.orderId),creditType:t.giftDetails?"VOUCHER":"SELFLOAD"};return yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:"/api/v3/payment/add-money/confirm",bodyParams:a,options:{method:"PATCH"}})}))}(e,a)}case Oe.ASSURE:{const a={transactionId:String(t.transactionId),orderId:String(t.orderId)};return yield function(e,t){return vn(this,void 0,void 0,(function*(){const a=L.GlobalHeaderState.getHeaders(),n=UN(a),o=Object.assign(Object.assign({},t),{payment_transaction_id:t.transactionId,order_id:t.orderId});return XN(yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:GA,bodyParams:o,options:{method:"POST"}},!0),n)}))}(e,a)}default:return yield function(e,t){return vn(this,void 0,void 0,(function*(){return yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:HA,searchParams:{order_id:String(t.orderId)},options:{method:"POST"}},!0)}))}(e,{orderId:t.orderId,transactionId:t.transactionId})}}))}function rR(e,t){return vn(this,void 0,void 0,(function*(){const a=yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:"/api/v3/order/register_pay_on_delivery",bodyParams:{order_id:t.orderId},options:{method:"POST"}},!1,!1);if(a.statusCode!==M.a)throw a;return a}))}class iR{constructor(e,t,a={}){this._running=!1,this._confirmOrderPromise=null,this._apiHost=e,this._orderData=t,this._publicApiConfig=a}stop(){this._running=!1,iR._instance=null}isRunning(){return this._running}static getInstance(){return iR._instance}confirmOrder(){return vn(this,void 0,void 0,(function*(){if(!this._running||null!=this._confirmOrderPromise)return;const e=Object(M.b)(this._publicApiConfig,L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.ORDER_APIS,L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.CONFIRM_ORDER)?oR:vA,t=WS(this._orderData);this._confirmOrderPromise=e(this._apiHost,t)}))}getConfirmOrderPromise(){return this._confirmOrderPromise}checkTxnStatus(e){var t;return vn(this,void 0,void 0,(function*(){return null===(t=iR._instance)||void 0===t||t.stop(),iR._instance=this,this._running=!0,this._pollTxnStatus(e)}))}getOrderId(){return String(this._orderData.orderId)}getPaymentTxnId(){return String(this._orderData.paymentTxnId)}_checkTxnStatus(){return vn(this,void 0,void 0,(function*(){if(null==this._orderData.paymentPartnerOrderId)return!1;try{const e=Object(M.b)(this._publicApiConfig,L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.PAYMENT_APIS,"check_transaction_status")?NN:rN,t=yield e(this._apiHost,this._orderData.paymentPartnerOrderId),a=(null==t?void 0:t.toUpperCase())||"";if(a.indexOf("SUCCESS")>-1||a.indexOf("FAILED")>-1)return!0}catch(e){}return!1}))}_pollTxnStatus(e){return vn(this,void 0,void 0,(function*(){if(!this._running)return!1;const t=(e.startTime||Date.now())+e.duration;for(;Date.now()<t&&this._running;){if(yield this._checkTxnStatus())return!0;yield this._wait(e.delay)}return!1}))}_wait(e){return new Promise((t,a)=>setTimeout(t,e))}}var lR;iR._instance=null,function(e){e.PLACE="place",e.PROCESS="process",e.CONFIRM="confirm"}(lR||(lR={}));const sR=e=>{var t;const{placeOrderData:a,error:n,failInstance:o,orderId:r,totalBill:i}=e;let l="1",c=Object(s.hb)("Received error while {0} order",o);ef(n)?(l=String(null!==(t=n.statusCode)&&void 0!==t?t:"1"),c=`${c} - ${n.statusMessage}`):n instanceof Error&&null!=n.message&&(c=`${c} - ${n.message}`);const d=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.platform);try{Object(L.cleanupPersistOrderDataInLocalStorage)(L.CleanupSource.CONFIRM_ORDER_FAIL)}catch(e){}BN(d)&&Pf();try{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_JS_BRIDGE_OVERRIDE,name:"sendOrderFailedEvent",orderId:r||""})}catch(e){}Object(L.getBridgeSdk)().logClevertapEvent({eventName:"order_failed",params:{orderId:r||"",totalBill:i||"",errorCode:l||"",errorText:c||"",paymentMethod:a.paymentMethodData.paymentCode||"",businessLine:L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.marketplaceBusinessLine)||"",marketplaceCategory:L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.marketplaceCategory)||"",xChannel:L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.xChannel)||"",timeStamp:(new Date).toISOString()}}).catch(()=>{}),Object(L.getBridgeSdk)().orderFailedEvent({orderId:r,totalBill:i,errorCode:l,errorText:c,marketplaceBusinessLine:L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.marketplaceBusinessLine)||"",marketplaceCategory:L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.marketplaceCategory)||"",paymentMethodData:a.paymentMethodData}).catch(()=>{})},cR=e=>9===e||360===e||362===e,dR=e=>{var t,a,n;return(null==e?void 0:e.statusCode)===TA?{title:(null==e?void 0:e.statusTitle)||"",subtitle:(null==e?void 0:e.statusMessage)||"",actions:[{actionType:_e.NAVIGATE,displayName:(null==e?void 0:e.ctaText)||"",actionData:{type:w.m.DEEPLINK,link:(null===(a=null===(t=null==e?void 0:e.ctaAction)||void 0===t?void 0:t.meta)||void 0===a?void 0:a.deeplink)||"",shouldCloseWebview:!0}}]}:null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.orderInterruptionData},uR=e=>{var t;const a=(null!==(t=e.tipDetailList)&&void 0!==t?t:[]).find(e=>"POST_ORDER_TIPPING"===e.type);return(null==a?void 0:a.amount)>0},mR="IRCTC Payment Visit",pR="IRCTC Order Confirm",_R=(e,t,a)=>{const n=e===iy.SUCCESS?a():void 0;return l.a.createElement(ME,{superMessage:n,subtext:t})},ER=({state:e,subText:t,deliveryAddress:a,getSuperMessageCb:n})=>{const o=[_R(e,t,n)],r=((e,t)=>e!==iy.SUCCESS||an(t)?null:l.a.createElement(UE,{deliveryAddress:t}))(e,a);return an(r)||o.push(r),o};function CR(e,t){t&&Object(L.clearAuthHeadersFromStorage)();const a=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.platform);try{Object(L.cleanupPersistOrderDataInLocalStorage)(L.CleanupSource.CONFIRM_ORDER_SUCCESS)}catch(e){}BN(a)&&Pf(),Object(L.getBridgeSdk)().postOrderEvent(e).catch(()=>{})}var bR;!function(e){e.BILL_PAYMENT_CART="BILL_PAYMENT_CART"}(bR||(bR={}));const yR=Object(i.createContext)({withCoupon:!0,withSplitPay:!0,paymentPageOfferEnabled:!1,setWithCoupon:()=>{},selectedSplitPayMethods:tN.DEFAULT,setSplitPayMethods:()=>{},billTotal:0,amountToPay:0,showSplitPay:!0,amountToPayWithoutCouponWithoutSplitpay:0,rewardsEnabled:!1});function gR(e){const{checkoutState:t,setCheckoutState:a}=Object(i.useContext)(L.CheckoutContext);return Object(s.Db)(()=>{Object(L.getBridgeSdk)().setScreenCaptureState({screenCapturingDisabled:!1}).catch(()=>{})}),Object(i.useEffect)(()=>{var e;if(t.type===L.CheckoutActionTypes.CONFIRM_ORDER&&!Object(s.ub)(t.payload))return;const n=QS();try{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"ConfirmOrderGetState",orderId:(null==n?void 0:n.orderId)||"",isEmptyProcessOrderState:String(Object(s.ub)(n))})}catch(e){}if((null==n?void 0:n.isSwiggyMoney)&&L.GlobalHeaderState.updateHeaders({marketplacebusinessline:Oe.SWIGGY_MONEY,paymentamount:null==n?void 0:n.swiggyMoneyPaymentAmount}),n){a({type:L.CheckoutActionTypes.CONFIRM_ORDER,payload:{orderId:n.orderId,order:n.state.order,placeOrderData:n.state.placeOrderData}}),qS();try{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"ConfirmOrderCleanState",orderId:(null===(e=QS())||void 0===e?void 0:e.orderId)||"",isEmptyProcessOrderState:String(Object(s.ub)(n))})}catch(e){}}else{const e=eS();a({type:e})}},[]),t.type!==L.CheckoutActionTypes.CONFIRM_ORDER||Object(s.ub)(t.payload)?null:l.a.createElement(OR,{orderId:t.payload.orderId,orderData:t.payload.order})}const OR=Object(i.memo)((function(e){var t,a,n,o,r,c,d,u,m;const{impressionEvent:p,screenViewEvent:_,clickEvent:E}=Object(i.useContext)(L.AnalyticsContext),{checkoutState:C,setCheckoutState:b}=Object(i.useContext)(L.CheckoutContext),{cartType:y}=Object(i.useContext)(L.DineoutCartContext),{billTotal:g}=Object(i.useContext)(yR),{placeOrderData:O}=C.payload,[h,A,f,v]=(e=>{const t=Object(s.Gb)(),a=Object(i.useRef)(!1),n=Object(i.useRef)(0),o=Object(i.useContext)(L.ApiContext),{checkoutState:r,setCheckoutState:l}=Object(i.useContext)(L.CheckoutContext),{setConfirmOrderContext:c}=Object(i.useContext)(L.ConfirmOrderContext),[d,u]=Object(i.useState)(!1),[m,p]=Object(i.useState)(null),[_,E]=Object(i.useState)(!1),{launchHalfCardForWebviewRefreshOrderIsMismatch:C}=(()=>{const{setCheckoutState:e}=Object(i.useContext)(L.CheckoutContext),{enableConfirmOrderDifferentialOrderIdAlert:t}=Object(i.useContext)(L.ConfigContext),a=Object(i.useMemo)(()=>({alertData:{title:$A,cta:{text:XA,onClick:()=>{try{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_INFO,name:"orderIdCollisionHalfCardCTAClicked",deeplink:JA})}catch(e){}Object(L.getBridgeSdk)().navigateToScreen({type:w.m.DEEPLINK,link:JA,params:{shouldCloseWebview:!0}}).catch(()=>{})}}}}),[]);return{launchHalfCardForWebviewRefreshOrderIsMismatch:Object(i.useCallback)(()=>{const n=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.platform),o=Object(s.rb)(n),r=null==t?void 0:t.unwrapOr(!1);if(o&&r){try{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_INFO,name:"launchOrderIdCollisionHalfCardCalled",platform:n,isApp:String(o),enabled:String(r)})}catch(e){}e({type:L.CheckoutActionTypes.WEBVIEW_REFRESH_ORDER_ID_MISMATCH_ALERT,payload:a})}},[t,a,e])}})(),{enableConfirmOrderDifferentialOrderIdAlert:b}=Object(i.useContext)(L.ConfigContext),y=Object(i.useContext)(L.PublicApiContext),g=Object(M.b)(y||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.ORDER_APIS,L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.CONFIRM_ORDER),O=Object(i.useMemo)(()=>{if("undefined"==typeof window)return!1;const e=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.platform),t=Object(s.rb)(e);return(null==b?void 0:b.unwrapOr(!1))&&t},[b]),h=Object(L.useNavigate)(),A=Object(i.useRef)(),f=Object(i.useCallback)(e=>n.current<3&&null!=e&&e.retryCount>0,[n]),v=Object(i.useCallback)(e=>{var a;if(r.type!==L.CheckoutActionTypes.CONFIRM_ORDER||!t.current||Object(s.ub)(r.payload))return;const n=function(e){const{statusCode:t,data:a}=e;if(0!==t||null==a||null==a.orderData)throw e;return Object.assign(Object.assign({},a.orderData),{xpData:null==a?void 0:a.xpData})}(e),o=function(e){const{data:t,statusCode:a}=e;if(0!==a||null===t||null===t.orderData)return null;const{successMessageType:n,successMessage:o,successMessageInfo:r,successMessageInfoV2:i,successMessageV2:l}=t.orderData;return{successMessageType:n,successMessage:o,successMessageInfo:r,successMessageV2:l,successMessageInfoV2:i}}(e);e&&c(e),l({type:L.CheckoutActionTypes.CONFIRM_ORDER,payload:{orderId:r.payload.orderId,order:Object.assign(Object.assign({},n),{rawResponse:null===(a=e.rawResponse)||void 0===a?void 0:a.data}),placeOrderData:r.payload.placeOrderData}}),u(!0),p(o),E(uR(n))},[r.type,r.payload,c,t,l]),T=Object(i.useCallback)(()=>vn(void 0,void 0,void 0,(function*(){var e,a,i,l,c,d,u,m,p,_;if(!t.current||r.type!==L.CheckoutActionTypes.CONFIRM_ORDER||Object(s.ub)(r.payload))return Promise.resolve();try{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"useConfirmOrder",orderId:r.payload.order.orderId||"",paymentTxnId:r.payload.order.paymentTxnId||"",method:(null===(a=null===(e=null==r?void 0:r.payload)||void 0===e?void 0:e.order)||void 0===a?void 0:a.orderPaymentMethod)||"",type:"regular"});const t=WS(r.payload.order);let n="",s="";try{const e=yield Object(L.getBridgeSdk)().storage({type:w.n.GET,data:{currentOrderId:""}});if(n=String((null==e?void 0:e.data.currentOrderId)||""),s=String((null===(l=null===(i=null==r?void 0:r.payload)||void 0===i?void 0:i.order)||void 0===l?void 0:l.orderId)||""),O&&n!==s)return void C()}catch(e){try{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"useConfirmOrderAPIOrderIdStoreGetFailed",error:JSON.stringify(e)})}catch(e){}}const E=g?oR:vA,b=yield E(o.host.unwrap(),t);return Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"useConfirmOrderComparingOrderId",currentOrderId:n||"",appOrderId:s,method:(null===(d=null===(c=null==r?void 0:r.payload)||void 0===c?void 0:c.order)||void 0===d?void 0:d.orderPaymentMethod)||"",type:"regular"}),Object(L.recordNREvent)(n!==s?{eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"useConfirmOrderDifferentOrderId",currentOrderId:n||"",appOrderId:s,method:(null===(m=null===(u=null==r?void 0:r.payload)||void 0===u?void 0:u.order)||void 0===m?void 0:m.orderPaymentMethod)||"",type:"regular"}:{eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"useConfirmOrderSameOrderId",currentOrderId:n||"",appOrderId:s,method:(null===(_=null===(p=null==r?void 0:r.payload)||void 0===p?void 0:p.order)||void 0===_?void 0:_.orderPaymentMethod)||"",type:"regular"}),v(b),Promise.resolve()}catch(e){return null!=e&&f(e.data)?(n.current+=1,Promise.reject()):(A.current=e,Promise.resolve())}})),[t,r.type,r.payload,o.host,v,O,C,f,g]),I=Object(i.useCallback)(()=>{var e,a,o,i,c,d,u,m,p,_,E,C,b,y,g;if(!t.current||!A.current||r.type!==L.CheckoutActionTypes.CONFIRM_ORDER||Object(s.ub)(r.payload))return;const{placeOrderData:O,orderId:f,order:v}=r.payload;try{Object(L.trackPSRMetricsForWebviewRefresh)(L.PSRMetricSource.CONFIRM_ORDER_FAILURE,{orderId:String(f||""),method:String((null==v?void 0:v.orderPaymentMethod)||"")})}catch(e){}sR({orderId:f,placeOrderData:O,totalBill:String(v.orderTotal),failInstance:lR.CONFIRM,error:A.current});const T=qT(O);Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.PAYMENT_WEB_CONFIRM_ORDER_FAILED,method:v.orderPaymentMethod||"",orderId:f,retryCount:n.current,autopayVariant:(null===(o=null===(a=null===(e=A.current)||void 0===e?void 0:e.data)||void 0===a?void 0:a.xpData)||void 0===o?void 0:o.autoPayVariant)||"--",isTurboPaymentMethod:T}),s.T.removeItem("place_order_data"),s.T.removeItem("sdk_turbo_place_order_time"),x.a.recordEnd(L.BLAZE_EVENTS.RECORD_ORDER_LOAD_TIME,{orderPaymentMethod:v.orderPaymentMethod||"",orderId:f,orderStatus:kA.FAILED,paymentGateway:(null===(c=null===(i=null==v?void 0:v.paymentTransactions)||void 0===i?void 0:i[0])||void 0===c?void 0:c.paymentGateway)||""});const I=QI();if((S=null==A?void 0:A.current)&&S.statusCode===IA||11===(null==S?void 0:S.statusCode)?Af():S&&[NA,TA].includes(S.statusCode)){const e=dR(null==A?void 0:A.current),t=null===(d=null==A?void 0:A.current)||void 0===d?void 0:d.errorCodes;return l({type:L.CheckoutActionTypes.ORDER_INTERRUPTION,payload:{orderInterruptionAlertData:e,placeOrderData:O,errorStatusCode:null==A?void 0:A.current.statusCode,errorCodes:t}}),void h(I,{},!0)}if(5===A.current.statusCode){const e=null===(u=A.current.data)||void 0===u?void 0:u.paymentFailureResponse,t="true"===(null===(p=null===(m=A.current.data)||void 0===m?void 0:m.xpData)||void 0===p?void 0:p.showPaymentFailureReasonHalfCard);return void([DA.AUTOPAY_PHASE_2.CONSENT,DA.AUTOPAY_PHASE_2.SUBTLE_AUTOPLACE].includes(null===(C=null===(E=null===(_=A.current)||void 0===_?void 0:_.data)||void 0===E?void 0:E.xpData)||void 0===C?void 0:C.autoPayVariant)?l({type:L.CheckoutActionTypes.AUTOPAY_ELIGIBLE_PAYMENT_FAILED,payload:{paymentFailureResponse:e,placeOrderData:O,isFallbackApiEnabled:t,autoPayPaymentFailureVariant:null===(g=null===(y=null===(b=A.current)||void 0===b?void 0:b.data)||void 0===y?void 0:y.xpData)||void 0===g?void 0:g.autoPayVariant,failedOrder:v}}):(l({type:L.CheckoutActionTypes.PAYMENT_FAILED,payload:{paymentFailureResponse:e,placeOrderData:O,isFallbackApiEnabled:t,failedOrder:v}}),h(I,{},!0)))}var S;qS();try{const e=QS();Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"useConfirmOrderCleanState",isEmptyProcessOrderState:String(Object(s.ub)(e)),orderId:(null==e?void 0:e.orderId)||"--"})}catch(e){}const N=eS();l({type:N});const R=A.current.statusMessage||uA;ZA({message:`${R} (Err Code: ${A.current.statusCode})`}),h(I,{},!0)},[r.payload,r.type,t,h,l]),S=KA(I),N=Object(i.useCallback)(e=>{S(e)},[S]);return Object(i.useEffect)(()=>{var n,o,i,l,c,m;if(a.current||!t.current||r.type!==L.CheckoutActionTypes.CONFIRM_ORDER||Object(s.ub)(r.payload))return;if(Ef()&&Object(L.getBridgeSdk)().setAppStateInIdleMode({active:!1}).catch(()=>{}),r.payload.isOrderProcessed)return u(!0),void E(uR(r.payload.order));a.current=!0;let p=Promise.resolve(!1);const _=iR.getInstance(),b=r.payload.orderId;if(_&&(_.getOrderId()==b||_.getPaymentTxnId()==b)){const e=_.getConfirmOrderPromise();null==e?_.stop():(Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"useConfirmOrder",orderId:(null===(o=null===(n=null==r?void 0:r.payload)||void 0===n?void 0:n.order)||void 0===o?void 0:o.orderId)||"",paymentFlowOrderId:_.getOrderId(),paymentFlowTxnId:_.getPaymentTxnId(),paymentTxnId:(null===(l=null===(i=null==r?void 0:r.payload)||void 0===i?void 0:i.order)||void 0===l?void 0:l.paymentTxnId)||"",method:(null===(m=null===(c=null==r?void 0:r.payload)||void 0===c?void 0:c.order)||void 0===m?void 0:m.orderPaymentMethod)||"",type:"polling"}),Object(L.getBridgeSdk)().storage({type:w.n.GET,data:{currentOrderId:""}}).then(t=>{var a,n,o;const i=(null===(a=null==t?void 0:t.data)||void 0===a?void 0:a.currentOrderId)||"--",l=(null===(o=null===(n=null==r?void 0:r.payload)||void 0===n?void 0:n.order)||void 0===o?void 0:o.orderId)||"";if(O&&i!==l)return C(),!0;p=e.then(e=>{try{return v(e),Object(L.getBridgeSdk)().storage({type:w.n.GET,data:{currentOrderId:""}}).then(e=>{var t,a,n,o,i,l,s,c,d;const u=(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.currentOrderId)||"--",m=(null===(n=null===(a=null==r?void 0:r.payload)||void 0===a?void 0:a.order)||void 0===n?void 0:n.orderId)||"";Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"useConfirmOrderComparingOrderId",currentOrderId:u||"",appOrderId:m,type:"polling",method:(null===(i=null===(o=null==r?void 0:r.payload)||void 0===o?void 0:o.order)||void 0===i?void 0:i.orderPaymentMethod)||""}),Object(L.recordNREvent)(u!==m?{eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"useConfirmOrderDifferentOrderId",currentOrderId:u||"",appOrderId:m,type:"polling",method:(null===(s=null===(l=null==r?void 0:r.payload)||void 0===l?void 0:l.order)||void 0===s?void 0:s.orderPaymentMethod)||""}:{eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"useConfirmOrderSameOrderId",currentOrderId:u||"",appOrderId:m,type:"polling",method:(null===(d=null===(c=null==r?void 0:r.payload)||void 0===c?void 0:c.order)||void 0===d?void 0:d.orderPaymentMethod)||""})}).catch(()=>{}),!0}catch(e){return!1}}).catch(e=>!1).then(e=>(null==_||_.stop(),e))}).catch(e=>{try{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"useConfirmOrderPollOrderIdStoreGetFailed",error:JSON.stringify(e)})}catch(e){}return!1}))}p.then(a=>{a||d||!t.current||N({pollingDurationInMs:e.pollingDurationInMs,pollingIntervalInMs:e.pollingIntervalInMs,apiFn:T})})},[a,r,t,u,d,e.pollingDurationInMs,e.pollingIntervalInMs,T,N,v,C,O]),[d,m,_,n.current]})({pollingDurationInMs:1e4,pollingIntervalInMs:1e3}),T=h?iy.SUCCESS:iy.LOADING,[I,S]=Object(i.useState)(T),N=Object(i.useMemo)(()=>{var t,a;return(null===(t=e.orderData)||void 0===t?void 0:t.isSwiggyBlackOtpApplicable)&&(null===(a=e.orderData)||void 0===a?void 0:a.isSwiggyBlackOtpAnimationEnabled)},[null===(t=e.orderData)||void 0===t?void 0:t.isSwiggyBlackOtpApplicable,null===(a=e.orderData)||void 0===a?void 0:a.isSwiggyBlackOtpAnimationEnabled]),R=Object(i.useMemo)(()=>{var t,a;return null!==(a=null===(t=e.orderData)||void 0===t?void 0:t.isBoltExperienceEnabledOnOrderConfirmationScreen)&&void 0!==a&&a},[null===(n=e.orderData)||void 0===n?void 0:n.isBoltExperienceEnabledOnOrderConfirmationScreen]),P=Object(i.useMemo)(()=>{var t,a;return null!==(a=null===(t=e.orderData)||void 0===t?void 0:t.isAffordableM2ExperienceEnabledOnOrderConfirmationScreen)&&void 0!==a&&a},[null===(o=e.orderData)||void 0===o?void 0:o.isAffordableM2ExperienceEnabledOnOrderConfirmationScreen]),D=Object(i.useCallback)(()=>{var t,a,n,o,r;const i=e.orderData,{orderPaymentMethod:l,orderId:c,rawResponse:d}=i,u=qT(O),m=oS(i);Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.PAYMENT_WEB_CONFIRM_ORDER,method:l,orderId:c,retryCount:v,isTurboPaymentMethod:u,isTransitionScreen:String(m)},!1);try{Object(L.trackPSRMetricsForWebviewRefresh)(L.PSRMetricSource.CONFIRM_ORDER_SUCCESS,{method:l,orderId:String(c),retryCount:String(v)})}catch(t){}if(s.T.removeItem("place_order_data"),s.T.removeItem("sdk_turbo_place_order_time"),Of()&&vf()){CI(_),s.B.removeItem("original_business_line");const e="undefined"!=typeof window&&"undefined"!=typeof sessionStorage;try{if(e&&sessionStorage.getItem("gift-details")){const e=Object(s.Cb)(sessionStorage.getItem("gift-details"),{});if(e){const t=Object.assign(Object.assign({},e),{shareLink:(null==i?void 0:i.deeplink)||"",paymentMode:(null==i?void 0:i.orderPaymentMethod)||"",orderId:i.orderId,dateOfPurchase:(null==i?void 0:i.confirmationTime)||""});sessionStorage.setItem("gift-details",JSON.stringify(t))}}}catch(t){}return void CR(d.order_data,!0)}if(Of()){const e=Object(L.getOriginalBusinessLine)();return L.GlobalHeaderState.updateHeaders({paymentamount:"",marketplacebusinessline:e}),s.T.removeItem("show_payments"),b({type:L.CheckoutActionTypes.POST_SWIGGY_ADD_MONEY}),void CI(_)}const C=L.GlobalHeaderState.getHeader("showsuccessscreen")||"";if(hf()){if(null==d?void 0:d.order_data){const e=d.order_data,r=Object(s.Cb)((null===(o=null===(n=null===(a=null===(t=null==e?void 0:e.orders)||void 0===t?void 0:t[0])||void 0===a?void 0:a.order_jobs)||void 0===n?void 0:n[0])||void 0===o?void 0:o.metadata)||"");""!==(null==r?void 0:r.dealCategory)&&"GIRF_PAYMENT"!==(null==r?void 0:r.type)||"EVENTS"===(null==r?void 0:r.dealCategory)||"Prebook-Prepaid"===(null==r?void 0:r.dealCategory)||function(e,t){const a=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.versionCode);let n;const o=Object(L.getDownstreamHostsValue)("DINEOUT_ORDER_URL")||"https://payments.swiggy.com/dineout/success";(!Ef()||Number(a)>=534)&&(n=`${o}?orderId=${Number(e.order_id)}`),Object(L.getBridgeSdk)().storeOrderInfoEvent(e,Oe.DINEOUT,n).catch(()=>{})}(e)}if("true"===C){const e=Object(L.getDineoutFlowType)(y);return Object(L.clearDineoutLocalCart)(e),x.a.recordStart(L.BLAZE_EVENTS.RECORD_DO_PAYMENT_SUCCESS_SCREEN_LOAD_TIME),void b({type:L.CheckoutActionTypes.DINEOUT_PAYMENT_SUCCESS,payload:{isCheckoutFlow:!0}})}}ff()?(e=>{e({category:"autopay-success"})})(_):EI(p),h&&function(e){return!Ke(e.orderSubscriptions)}(i)&&(e=>{if(!Object(s.ub)(e.orderSubscriptions)){const t={planId:e.orderSubscriptions[0].planId,city:L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.cityid)||"NULL",source:Object(s.ub)(e.orderItems)?"Plan Purchase Page":"Cart Page"};Object(L.getBridgeSdk)().logClevertapEvent({eventName:"One Plan Purchased",params:t})}})(i),Object(s.ub)(null===(r=null==O?void 0:O.extraParams)||void 0===r?void 0:r.pay_on_delivery)||KT(E,g),CR(d.order_data,!0)},[e.orderData,O,v,h,_,b,y,p,E,g]),k=Object(i.useCallback)(()=>{var t,a,n;R?((e,t)=>{e({category:pT,action:MT,context:t})})(p,JSON.stringify({isBolt:R,isBlack:null===(t=e.orderData)||void 0===t?void 0:t.isSwiggyBlackApplicable,isBlackWithOtg:N})):(null===(a=e.orderData)||void 0===a?void 0:a.isSwiggyBlackApplicable)&&N?(e=>{e({category:pT,action:"OTG-order-placed-animation-impression"})})(p):P?((e,t)=>{e({category:pT,action:MT,context:t})})(p,JSON.stringify({is99Store:P,orderId:null===(n=e.orderData)||void 0===n?void 0:n.orderId})):(e=>{e({category:"impression-transition-confirmation-screen"})})(p)},[null===(r=e.orderData)||void 0===r?void 0:r.isSwiggyBlackApplicable,N,R,p,P]),j=Object(i.useCallback)(()=>KS(e.orderData),[e.orderData]),B=Object(i.useMemo)(()=>function(e){const{selectedSlaOption:t,priorityDeliveryFee:a=0}=e;return!!(t&&"PRIORITY"===t.toUpperCase()&&a>0)}(e.orderData),[e.orderData]),U=Object(i.useCallback)(()=>{var t,a,n,o;if(f)return;let r=null!==(t=e.orderData.successMessage)&&void 0!==t?t:"",i=null!==(a=e.orderData.successMessageInfo)&&void 0!==a?a:"";return A&&(r=null!==(n=A.successMessage)&&void 0!==n?n:"",i=null!==(o=A.successMessageInfo)&&void 0!==o?o:""),{successMessage:r,successMessageInfo:i}},[f,e.orderData.successMessage,e.orderData.successMessageInfo,A]),H=Object(i.useCallback)(()=>{var t,a,n,o;if(f)return;let r=null!==(t=e.orderData.successMessageV2)&&void 0!==t?t:"",i=null!==(a=e.orderData.successMessageInfoV2)&&void 0!==a?a:"";return A&&(r=null!==(n=A.successMessageV2)&&void 0!==n?n:"",i=null!==(o=A.successMessageInfoV2)&&void 0!==o?o:""),{successMessage:r,successMessageInfo:i}},[f,e.orderData,A]),G=Cf(),Y=Object(i.useMemo)(()=>qI({businessLine:G,tickState:I,isPostOrderTip:f,isPriorityDelivery:B}),[G,I,f,B]),W=Y[of.MAIN],F=Y[of.SUB],V=Y[of.INTERMEDIATE],K=Object(i.useMemo)(()=>ER({state:I,subText:F,deliveryAddress:e.orderData.deliveryAddress,getSuperMessageCb:U}),[U,e.orderData.deliveryAddress,I,F]);Object(i.useEffect)(()=>{var t,a,n,o,r,i;if(I!=iy.SUCCESS&&h){x.a.recordEnd(L.BLAZE_EVENTS.RECORD_ORDER_LOAD_TIME,{orderPaymentMethod:e.orderData.orderPaymentMethod,orderId:e.orderData.orderId,orderStatus:kA.SUCCESS,paymentGateway:(null===(n=null===(a=null===(t=null==e?void 0:e.orderData)||void 0===t?void 0:t.paymentTransactions)||void 0===a?void 0:a[0])||void 0===n?void 0:n.paymentGateway)||""}),S(iy.SUCCESS),(e=>{e({category:pT})})(_),Object(L.getBridgeSdk)().orderConfirmedEvent(null!==(i=null===(r=null===(o=e.orderData)||void 0===o?void 0:o.rawResponse)||void 0===r?void 0:r.order_data)&&void 0!==i?i:{}).catch(()=>{});const l=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.marketplaceCategory),c=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.marketplaceBusinessLine);Object(L.getBridgeSdk)().getCheckoutMetaInfo({businessCategory:l,businessLine:c}).then(e=>{e&&!Object(s.ub)(null==e?void 0:e.irctc_data)&&(Object(L.getBridgeSdk)().logClevertapEvent({eventName:pR,params:{}}),Object(L.getBridgeSdk)().logEvent({eventName:pR,eventParams:{}}))}).catch(()=>{})}},[h,I,e.orderData,_]);const z="true"===L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.customSuccessScreen)||!1,$=Object(i.useMemo)(()=>!(!TI||!sessionStorage.getItem("habit_forming_milestone_unlock")),[]),X=Object(i.useCallback)(()=>Of()||ff()?ly.GREEN:B?ly.BRICK:void 0,[B]),J=Object(i.useCallback)((e,t,a)=>{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.TRANSITION_SCREEN_ERROR,errorType:String(e),error:String(t),url:String(a)})},[]),Z=Object(i.useCallback)((e,t,a)=>{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.TRANSITION_SCREEN_LOAD_TIME,responseTime:e,domLoadedTime:t||0,imageLoadedTime:a||0})},[]),q=Object(i.useMemo)(()=>e.orderData.isOfferBundleApplied?l.a.createElement(HE,{title:"Free delivery with offer pack",iconEl:l.a.createElement(s.r,null),bgColor:BE.OFFER_BUNDLE}):$?l.a.createElement(HE,{title:"Reward Unlocked",bgColor:BE.HABIT_FORMING_MILESTONE_UNLOCKED}):null,[e.orderData.isOfferBundleApplied,$]),Q=oS(e.orderData),ee=Object(i.useMemo)(()=>{var t;return null===(t=e.orderData)||void 0===t?void 0:t.isSwiggyBlackApplicable},[null===(c=e.orderData)||void 0===c?void 0:c.isSwiggyBlackApplicable]),te=Object(i.useMemo)(()=>Object(L.isPopFlow)(),[]);return l.a.createElement(Tg,{tickState:I,mainText:W,subTextNodeList:K,intermediateText:V,isSuper:j()&&!ff(),isAutoPay:ff(),isSwiggyMoney:Of(),accent:X(),postSuccessCb:D,customSuccessScreen:z,showBottomAnimation:B,tagElement:q,isRegular:Af(),deliveryAddress:null===(d=e.orderData)||void 0===d?void 0:d.deliveryAddress,getSuperMessage:H,isOfferBundleApplied:null===(u=e.orderData)||void 0===u?void 0:u.isOfferBundleApplied,isMilestoneUnlockEligible:$,onTransitionScreenError:J,transitionScreenEnabled:Q,onTransitionScreenView:k,recordTransitionScreenLoadTime:Z,isSwiggyBlackApplicable:ee,isSwiggyBlackOtpAnimationApplicable:N,successFooterMessage:null===(m=e.orderData)||void 0===m?void 0:m.successFooterMessage,isPopCart:te,isBoltCartM3:R,isAffordableCartM2:P})})),hR=Object(i.memo)((function(e){const{checkoutState:t}=Object(i.useContext)(L.CheckoutContext),{cartTotal:a=0,fromCart:n=!1,orderComment:o=""}=(null==t?void 0:t.payload)||{},[r,c]=(e=>{const{cartTotal:t,fromCart:a,orderComment:n}=e,o=Object(s.Gb)(),r=Object(i.useContext)(L.ApiContext),l=Object(i.useRef)(!1),{setCheckoutState:c}=Object(i.useContext)(L.CheckoutContext),[d,u]=Object(i.useState)({isDirectPlaceOrderSuccess:!1}),[m,p]=Object(i.useState)(!1),_=r.host.unwrap(),E=Object(L.useNavigate)(),C=Object(i.useContext)(L.PublicApiContext),b=Object(i.useCallback)(()=>{o.current&&!m&&p(!0)},[o,m]),y=Object(i.useCallback)(({orderData:e})=>{o.current&&(p(!1),u({orderData:e,isDirectPlaceOrderSuccess:!0}))},[o]),g=Object(i.useCallback)(e=>{var n,r;o.current&&(Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.PAYMENTS_WEB_DIRECT_PLACE_ORDER_FAILURE,failureReason:null!==(n=e.statusMessage)&&void 0!==n?n:"Received error while direct place order",statusCode:null!==(r=e.statusCode)&&void 0!==r?r:1,fromCart:String(a)},!1),Object(L.getBridgeSdk)().directPlaceOrderFailure().catch(()=>{}),a&&e&&0!==e.statusCode&&(c({type:L.CheckoutActionTypes.GENERIC_PAYMENT_ALERT,payload:{info:Object(s.hb)("Payment of ₹{0}",String(t)),primaryAction:{text:"Dismiss",onClick:()=>{}},title:"Transaction failed",message:e.statusMessage||uA}}),Object(s.Z)(e),E(L.CheckoutRoute.CART)))},[t,a,o,E,c]),O=Object(M.b)(C||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.ORDER_APIS,L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.PLACE_ORDER);return Object(i.useEffect)(()=>{if(!o.current||l.current||!m)return;p(!0),l.current=!0;const e=((e,t,a)=>{var n;const o={addressId:null!==(n=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.cartAddressId))&&void 0!==n?n:"",paymentMethod:""};if(yf())return Object.assign(Object.assign({},o),{paymentMethod:"Cash",lat:L.GlobalHeaderState.getHeader("lat")||"",lng:L.GlobalHeaderState.getHeader("lng")||""});if(e){const e={force_validate_coupon:!0,transaction_amount:t};return Object.assign(Object.assign(Object.assign({},o),e),{paymentMethod:"Cash",lat:L.GlobalHeaderState.getHeader("lat")||"",lng:L.GlobalHeaderState.getHeader("lng")||"",useJuspayNative:!1,paymentReturnUrl:"",orderComments:a,paymentAmount:String(t)})}return o})(a,t,n);(O?nR:fA)(_,e).then(e=>FS(e,L.NEWRELIC_TABLES.PAYMENTS_WEB_DIRECT_PLACE_ORDER)).then(y).catch(g).then(()=>{o.current&&(l.current=!1,p(!1))})},[_,t,a,y,g,o,m,n,O]),[d,b]})({cartTotal:a,fromCart:n,orderComment:o}),{isDirectPlaceOrderSuccess:d,orderData:u}=r,m=d?iy.SUCCESS:iy.LOADING,[p,_]=Object(i.useState)(m),E=null==u?void 0:u.deliveryAddress,C=Object(i.useCallback)(()=>{null!=u?(Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.PAYMENT_WEB_DIRECT_PLACE_ORDER,fromCart:String(n)},!1),CR(u.rawResponse.order_data,!0)):Object(L.getBridgeSdk)().directPlaceOrderFailure().catch(()=>{})},[n,u]),b=Object(i.useCallback)(()=>null!=u&&KS(u),[u]),y=Object(i.useCallback)(()=>{var e;if(!b()||null==u)return;let t="",a="";return u.successMessage&&(t=u.successMessage,a=null!==(e=u.successMessageInfo)&&void 0!==e?e:""),{successMessage:t,successMessageInfo:a}},[u,b]);Object(i.useEffect)(()=>{p!=iy.SUCCESS&&d&&_(iy.SUCCESS)},[d,p]),Object(s.Db)(()=>{c()});const g=Cf(),O=Object(i.useMemo)(()=>qI({businessLine:g,tickState:p}),[p,g]),h=O[of.MAIN],A=O[of.SUB],f=Object(i.useMemo)(()=>ER({state:p,subText:A,deliveryAddress:E,getSuperMessageCb:y}),[E,y,p,A]);return l.a.createElement(Tg,{tickState:p,mainText:h,subTextNodeList:f,isSuper:b(),postSuccessCb:C})})),AR=l.a.createContext({loadingPayments:!1,reloadPayments:()=>{},refetchPayments:()=>{},setIsPaymentMethodSelectedForOnce:()=>{}});function fR(e,t){void 0===t&&(t={});var a=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===a&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var vR=".styles_header_-VhAs5cj{display:flex;flex-direction:column;width:100%;height:100%;justify-content:center;overflow:hidden}.styles_headerTitle_8jp1k6-1{text-transform:uppercase;color:#3d4152}.styles_headerTitle_8jp1k6-1,.styles_headerTitleUx4_pavebuy6{font-weight:600;margin-bottom:2px}.styles_headerTitleUx4_pavebuy6{font-size:16px;line-height:19px;letter-spacing:-.3px;color:rgba(2,6,12,.9215686275)}.styles_headerSubtitle_eCKcUAnj{font-size:12px;color:#60b246}.styles_headerSubtitleUx4_OT1b0opw{font-size:13px;line-height:16px;font-weight:200;letter-spacing:-.3px;color:rgba(2,6,12,.6)}.styles_headerSubtitleGray_RypUH7nt{color:#7e808c}.styles_headerSubtitleOffer_E5xFVdJO{font-size:13px;line-height:16px;font-weight:400;letter-spacing:-.3px;color:#1ba672}",TR={_getCss:function(){return vR},_getId:function(){return"ad9dba616a"},header:"styles_header_-VhAs5cj",headerTitle:"styles_headerTitle_8jp1k6-1",headerTitleUx4:"styles_headerTitleUx4_pavebuy6",headerSubtitle:"styles_headerSubtitle_eCKcUAnj",headerSubtitleUx4:"styles_headerSubtitleUx4_OT1b0opw",headerSubtitleGray:"styles_headerSubtitleGray_RypUH7nt",headerSubtitleOffer:"styles_headerSubtitleOffer_E5xFVdJO"};fR(vR);var IR=Object(i.memo)(Object(s.Hb)((function(e){const{title:t,subtitle:a,grayscale:n=!1,quantity:o,discountMessage:r}=e,{checkoutMetaInfo:c,paymentResponse:u}=Object(i.useContext)(AR),{billTotal:m}=Object(i.useContext)(yR),p=ff()&&!Object(s.ub)(o)?o:null==c?void 0:c.cartItemsCount,_=Object(s.ub)(a)?(({itemCount:e,amount:t,paymentResponse:a})=>{var n;return gf()?Ke(a)?"":(null===(n=null==a?void 0:a.presentationDetails)||void 0===n?void 0:n.headerSubtitle)?`${a.presentationDetails.headerSubtitle} ₹${t}`:Object(s.hb)(mA,t):bf()?"0"===t?"":Object(s.hb)("Total: ₹{0}",t):!e||isNaN(e)?"0"===t?"":Of()&&null!=t&&TI&&sessionStorage.getItem("gift-details")?Object(s.hb)("Total: ₹{0}",String(t)):Of()&&null!=t?Object(s.hb)("Add ₹{0} to Swiggy Money",String(t)):Object(s.hb)(mA,t):Object(s.hb)(e>1?"{0} items • Total: ₹{1}":"{0} item • Total: ₹{1}",String(e),t)})({itemCount:p,amount:String(m),paymentResponse:u}):a,E=Object(i.useMemo)(()=>!bf()&&!Object(s.ub)(r),[r]),C=d()({[TR.headerTitleUx4]:!0}),b=d()({[TR.headerSubtitleUx4]:!0,[TR.headerSubtitleGray]:n});return l.a.createElement("div",{className:TR.header},l.a.createElement("h4",{className:C,"data-testid":"header_title"},t),(_||E)&&l.a.createElement("div",{className:b,"data-testid":"header_subtitle"},_,E?l.a.createElement("span",{className:TR.headerSubtitleOffer},r):""))}),TR)),SR=".Header_container_tNlYMbMC,.Header_containerContent_ZPAMVvn2{display:flex}.Header_containerContent_ZPAMVvn2{align-items:center}.Header_container_tNlYMbMC{width:100%;height:100%;background:#fff}.Header_containerUx4_3Si9vqkT{border-bottom:1px solid #ededed}.Header_containerButton_lJqeNWPt{background:transparent;border:none;outline:none;padding:0;text-align:left;-webkit-appearance:none;margin:16px;height:18px;background:#fff}.Header_containerButtonUx4_-T6psyPZ{margin:0;padding:16px;height:auto}.Header_containerContent_ZPAMVvn2{flex:1;overflow:hidden}.Header_containerNotVisible_O-94KUZs{opacity:0}",NR={_getCss:function(){return SR},_getId:function(){return"ade87d3495"},container:"Header_container_tNlYMbMC",containerContent:"Header_containerContent_ZPAMVvn2",containerUx4:"Header_containerUx4_3Si9vqkT",containerButton:"Header_containerButton_lJqeNWPt",containerButtonUx4:"Header_containerButtonUx4_-T6psyPZ",containerNotVisible:"Header_containerNotVisible_O-94KUZs"};fR(SR);const RR="Add New Card",PR="Manage Card",DR=l.a.memo((function(e){return l.a.createElement("button",{"data-testid":"header_back",className:e.className,onClick:e.onClick,"aria-label":"Go Back"},l.a.createElement(s.d,null))}));var LR=Object(i.memo)(Object(s.Hb)((function(e){const{containerClass:t,backButtonClass:a,isVisible:n,children:o}=e,r=Object(L.useOnBack)(),s=d()(NR.container,t,{[NR.containerNotVisible]:!n,[NR.containerUx4]:!0}),c=d()(NR.containerButton,a,{[NR.containerButtonUx4]:!0}),u=Object(i.useCallback)(t=>{t.preventDefault(),"function"!=typeof e.onBack?r():e.onBack()},[r,e]);return l.a.createElement("div",{className:s},l.a.createElement(DR,{onClick:u,className:c}),l.a.createElement("div",{className:NR.containerContent},o))}),NR)),kR=Object(i.memo)(l.a.forwardRef((e,t)=>{const{content:a,header:n,backButtonClass:o,containerCSSClass:r,headerCSSClass:i,headerExtraContent:c,onBack:d}=e;return l.a.createElement(s.i,null,l.a.createElement(l.a.Fragment,null,null!=n&&l.a.createElement(s.i.Header,null,l.a.createElement(LR,{onBack:d,containerClass:i,isVisible:!0,backButtonClass:o},n,c)),l.a.createElement(s.i.Content,{className:r,ref:t},a)))}));const xR=e=>{const t=Object(s.Gb)(),a=Object(L.useNavigate)(),n=Object(i.useContext)(L.ApiContext),o=Object(i.useContext)(L.PublicApiContext),{checkoutState:r,setCheckoutState:l}=Object(i.useContext)(L.CheckoutContext),c=Object(i.useRef)(!1),d=Object(i.useRef)(null);return Object(s.Db)(()=>{if(r.type!==L.CheckoutActionTypes.VPA_TIMER&&r.type!==L.CheckoutActionTypes.PAYMENT_TXN_STATUS_POLLER||n.host.isNone())return;const i=r.payload.order,s=n.host.unwrap(),u=new iR(s,i,o||{});d.current=u;const m=()=>{r.type===L.CheckoutActionTypes.VPA_TIMER&&(Pf(),l({type:L.CheckoutActionTypes.PROCESS_ORDER,payload:{placeOrderData:r.payload.placeOrderData,order:r.payload.order}})),r.type===L.CheckoutActionTypes.PAYMENT_TXN_STATUS_POLLER&&l({type:L.CheckoutActionTypes.CONFIRM_ORDER,payload:{orderId:String(r.payload.order.orderId),order:r.payload.order,placeOrderData:r.payload.placeOrderData}});const e=QI();a(e)};return u.checkTxnStatus({duration:e.pollingDurationInMs,delay:e.pollingIntervalInMs,startTime:e.startTime}).then(e=>{t.current&&u.isRunning()&&(c.current=!0,"hidden"==document.visibilityState||document.hidden?(u.confirmOrder(),window.requestAnimationFrame(m)):(u.stop(),m()))}),()=>{c.current||(r.type===L.CheckoutActionTypes.VPA_TIMER&&Pf(),u.stop())}}),()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.stop()}},wR=e=>{var t;return{cartItemsCount:null==e?void 0:e.cartItemsCount,addressAnnotation:null===(t=null==e?void 0:e.deliveryAddress)||void 0===t?void 0:t.annotation}};fR(".styles-v4_vpaContainer_5PbA7OFk{display:flex;background:#fff}");const MR=function(e){const{checkoutMetaInfo:t,paymentResponse:a}=Object(i.useContext)(AR),{cartItemsCount:n,addressAnnotation:o}=Object(i.useMemo)(()=>wR(t),[t]),{amountToPay:r}=Object(i.useContext)(yR),s=e.onBack,c=Object(i.useMemo)(()=>KI({selectedAddressAnnotation:o,cartAmount:String(r),itemCount:n,presentationDetails:null==a?void 0:a.presentationDetails}),[o,r,n,a]),d=l.a.createElement(IR,{title:"PAYMENT DETAILS",subtitle:c,grayscale:!0});return l.a.createElement(kR,{onBack:s,header:d,content:e.children,containerCSSClass:"styles-v4_vpaContainer_5PbA7OFk"})};function jR(e){var t,a;const[n,o]=Object(i.useState)(!1),r=Object(L.useNavigate)(),{checkoutState:c,setCheckoutState:d}=Object(i.useContext)(L.CheckoutContext),{clickEvent:u,impressionEvent:m}=Object(i.useContext)(L.AnalyticsContext),p=function(e){const t=60*(Number(null==e?void 0:e.confirmationTimeMinutes)||0)*1e3;return Number(t||3e5)}(null===(t=c.payload)||void 0===t?void 0:t.order),_=null===(a=c.payload)||void 0===a?void 0:a.upiCollectStartTime,E=_?Date.now()-_:0,C=xR({pollingDurationInMs:p,pollingIntervalInMs:3e3,startTime:_}),b=Object(i.useCallback)(()=>{(e=>{e({category:ET,action:"click-back"})})(u),o(!0)},[u]),y=Object(i.useCallback)(e=>{o(e),e&&(e=>{e({category:ET,action:"click-cancel"})})(u)},[o,u]),[g,O]=Object(i.useMemo)(()=>{if(c.type!==L.CheckoutActionTypes.VPA_TIMER)return[0,0];const{order:{orderItems:e=[],orderTotal:t}}=c.payload;return[e.reduce((e,t)=>e+Number(t.quantity),0),t]},[c.payload,c.type]);return Object(s.Db)(()=>{(e=>{e({category:ET,action:"impression-timer"})})(m);const e=Sf();try{const{order:{orderId:e,paymentTxnId:t}}=c.payload;Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"vpaTimerLoad",paymentTxnId:t||"",orderId:e||""})}catch(e){}if(!Of()&&!zA.includes(e)){const t={state:L.CheckoutActionTypes.VPA_TIMER,infoObject:Object.assign({},c.payload),paymentCode:oe.UPICOLLECT};try{Object(L.setPersistOrderDataInLocalStorage)(t,L.SetDataSource.VPA_TIMER)}catch(e){}Object(L.getBridgeSdk)().saveUsersLastState(t).catch(()=>{})}}),Object(L.useCustomHardwareBack)([L.CheckoutRoute.VPA_TIMER],b),Object(i.useEffect)(()=>{n&&(e=>{e({category:ET,action:"impression-timer-cancel-half-card"})})(m)},[n,m]),c.type!==L.CheckoutActionTypes.VPA_TIMER?null:l.a.createElement(MR,{onBack:b},l.a.createElement(Xg,{countdownTimeInS:p/1e3,radius:140,strokeWidth:7,showCancelModal:n,setShowCancelModal:y,onCancelTransaction:()=>{if(c.type===L.CheckoutActionTypes.VPA_TIMER){C(),(e=>{e({category:ET,action:"click-cancel-half"})})(u),Pf(),d({type:L.CheckoutActionTypes.PROCESS_ORDER,payload:{placeOrderData:c.payload.placeOrderData,order:c.payload.order}});const e=QI();r(e)}},paymentAmount:String(O),itemCount:g,startAt:E/1e3}))}const BR=l.a.createContext({placeOrderInProgress:!1,doPlaceOrder:()=>{},processingOrder:!1,isPlaceOrderHookMounted:!1}),UR=()=>{var e;const t=Object(s.Gb)(),{paymentResponse:a}=Object(i.useContext)(AR),{withSplitPay:n,withCoupon:o,billTotal:r,selectedSplitPayMethods:l,paymentPageOfferEnabled:c}=Object(i.useContext)(yR),{state:d}=Object(i.useContext)(L.GroupOrderCartContext),{processingOrder:u,doPlaceOrder:m}=Object(i.useContext)(BR),{clickEvent:p}=Object(i.useContext)(L.AnalyticsContext),_=Object(i.useMemo)(()=>((e,t,a)=>{if(!e)return{};const n=(null==a?void 0:a.splitpayList)||[],o={},r=t.split(",");for(const e of r){const t=n.find(t=>t.paymentCode===e||t.splitPayIdentifier===e);o[(null==t?void 0:t.paymentCode)||e]=(null==t?void 0:t.eligibleBalance)||"0"}return o})(n,l,a),[n,l,a]),E=Object(i.useMemo)(()=>((e,t,a)=>{var n;if(!e)return{};const o=(null==a?void 0:a.splitpayList)||[],r={},i=t.split(",");for(const e of i){const t=o.find(t=>t.paymentCode===e||t.splitPayIdentifier===e);if(!Ke(t)&&(null==t?void 0:t.paymentCode)===oe.TWID_REWARD){Object.assign(r,{reward_id:(null===(n=null==t?void 0:t.meta)||void 0===n?void 0:n.rewardId)||""});break}}return r})(n,l,a),[n,l,a]);return Object(i.useCallback)((e,n,i)=>{var l;if(!t.current||u)return;let C=!1;Object(s.ub)(i)||!i.hasOwnProperty("isRewardApplicable")||i.isRewardApplicable||(C=!0);const b=C?(e=>(delete e[oe.TWID_REWARD],e))(Object.assign({},_)):_,y=(e=>Object.values(e).reduce((e,t)=>e+Number(t),0))(b);let g=r;!Object(s.ub)(e.payableAmount)&&c&&(g=(Number(y)||0)+Number(e.payableAmount));const O=Af()?{place_order_source:(null==i?void 0:i.isTurboPaymentMethod)?ye.TURBOCHECKOUT:ye.PAYMENT}:{},h=Object.assign(Object.assign({force_validate_coupon:o,transaction_amount:g,[LA]:null!=_[oe.SWIGGYPAY]?_[oe.SWIGGYPAY]:void 0,selected_split_pay_amounts:b,twid_rewards_meta:C?{}:E},O),Be(n).unwrapOr({}));((e,t)=>{const{frictionLayoutId:a,paymentMethodData:n,isOneClickPromotionFlow:o,isTurboPaymentMethod:r,slidePercent:i=0,isPaymentMethodFacingDowntime:l,groupCartId:s,isTurboV2:c}=e;if(r){if(l)return void dI(t,!0,i);(({paymentCode:e,clickEvent:t,slider:a,Width:n,groupCartId:o})=>{t({category:ST,action:"click-turbo-pay",label:e,context:JSON.stringify({slider:a,Width:n}),extraParams:JSON.stringify({grp_cart_id:o})})})({paymentCode:n.paymentCode,clickEvent:t,slider:!c,Width:i,groupCartId:s})}if(l&&dI(t),Uv(n)&&((e,t,a)=>{a({category:lT,context:`${e},${t}`,action:"click_pay_button"})})(n.groupName,a,t),$I(n)){const e=iI();XI(n)?sI(e,t):o?(e=>{e({category:lT,action:DT,label:"banner",context:YT})})(t):((e,t)=>{t({category:e,action:"click-card-pay"})})(e,t)}tv(n)&&((e,t,a)=>{a({category:iI(),action:"click-upi-intent-app",label:e,context:t?"preferred":"non-preferred"})})(n.name,!!n.preferred,t)})({paymentMethodData:e,frictionLayoutId:jI(a),isOneClickPromotionFlow:null==i?void 0:i.isOneClickPromotionFlow,isTurboPaymentMethod:null==i?void 0:i.isTurboPaymentMethod,isTurboV2:null==i?void 0:i.isTurboV2,slidePercent:null==i?void 0:i.slidePercent,isPaymentMethodFacingDowntime:null==i?void 0:i.isPaymentMethodFacingDowntime,groupCartId:null===(l=null==d?void 0:d.data)||void 0===l?void 0:l.group_cart_id},p),m({paymentMethodData:e,extraParams:h,extraArbitaryData:i})},[t,u,r,c,o,_,a,null===(e=null==d?void 0:d.data)||void 0===e?void 0:e.group_cart_id,p,m,E])},HR=Object(i.createContext)({isSdkAvailable:!1,featuresAvailability:void 0,fetchingJuspaySdk:!1,fetchJuspayClientAuthToken:()=>vn(void 0,void 0,void 0,(function*(){return Promise.resolve()}))}),GR=Object(i.createContext)({makeInAppUpiRequest:()=>Promise.resolve(void 0),isSdkAvailableForInAppUpi:!1}),YR=e=>{const{clickEvent:t}=Object(i.useContext)(L.AnalyticsContext),a=(()=>{const[e,t]=Object(i.useState)(!1),{impressionEvent:a,clickEvent:n}=Object(i.useContext)(L.AnalyticsContext),[o,r]=Object(i.useState)({[FA.INAPP_UPI_HALF_CARD_COUNT]:"0"}),l=Object(i.useCallback)(()=>vn(void 0,void 0,void 0,(function*(){const e=yield(t=FA.INAPP_UPI_HALF_CARD_COUNT,vn(void 0,void 0,void 0,(function*(){var e,a;try{const n=yield Object(L.getBridgeSdk)().storage({type:w.n.GET,data:{[t]:""}});return{[t]:null!==(a=null===(e=null==n?void 0:n.data)||void 0===e?void 0:e[t])&&void 0!==a?a:"0"}}catch(e){return Promise.resolve(null)}})));var t;return null!=e?(r(e),e):{[FA.INAPP_UPI_HALF_CARD_COUNT]:"0"}})),[]),s=Object(i.useCallback)(()=>{var e,t;(e=>{e({category:lT,label:"1-tap-upi",action:xT})})(a),e=o,t=FA.INAPP_UPI_HALF_CARD_COUNT,vn(void 0,void 0,void 0,(function*(){var a;try{const n={},o=null!==(a=e[t])&&void 0!==a?a:"0",r=Number(o)+1;n[t]=String(r),yield Object(L.getBridgeSdk)().storage({type:w.n.SAVE,data:n})}catch(e){}}))},[a,o]),c=Object(i.useCallback)(()=>{(e=>{e({category:lT,label:"1-tap-upi",context:"close",action:RT})})(n),t(!1)},[n]);return{showHalfCard:e,setShowHalfCard:t,getOneTapHalfCardFromAppStorage:l,closeHalfCard:c,onHalfCardLoad:s}})(),{getOneTapHalfCardFromAppStorage:n,showHalfCard:o,setShowHalfCard:r}=a,l=fn(a,["getOneTapHalfCardFromAppStorage","showHalfCard","setShowHalfCard"]),{initiateOnboarding:c,onAddBankAccountClick:d}=(()=>{const e=Object(s.Gb)(),{paymentResponse:t,reloadPayments:a}=Object(i.useContext)(AR),{setCheckoutState:n}=Object(i.useContext)(L.CheckoutContext),{isSdkAvailable:o}=Object(i.useContext)(HR),{makeInAppUpiRequest:r}=Object(i.useContext)(GR),l=UR(),c=Object(i.useCallback)(()=>{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.SWIGGY_UPI_SDK_ERROR,isSdkAvailable:String(o)}),n({type:L.CheckoutActionTypes.GENERIC_PAYMENT_TOAST,payload:{message:"Oops! Something went wrong. Please try again",type:Le.ERROR}})},[o,n]),d=Object(i.useCallback)((e,a)=>vn(void 0,void 0,void 0,(function*(){var n,o,r,i;const s=iT(null!==(n=null==t?void 0:t.paymentGroup)&&void 0!==n?n:[],a);if(null==e)throw new Error(uA);s.isSome()&&(s.unwrap().meta.referenceId=(null===(o=null==e?void 0:e.account)||void 0===o?void 0:o.referenceId)||"",l(s.unwrap(),{in_app_upi_params:{account_reference_id:(null===(r=null==e?void 0:e.account)||void 0===r?void 0:r.referenceId)||"",account_type:(null===(i=null==e?void 0:e.account)||void 0===i?void 0:i.type)||""}},{isInAppUpiOnBoardingFlow:!0}))})),[l,null==t?void 0:t.paymentGroup]),u=Object(i.useCallback)(t=>vn(void 0,void 0,void 0,(function*(){if(null!=e.current)try{const a=yield r(t);if(null==e.current||null==a)return;t!==aT.ONBOARDING&&t!==aT.ADD_ACCOUNT||d(a,t)}catch(e){a(),c()}})),[e,r,d,a,c]),m=Object(i.useCallback)(()=>{o?u(aT.ADD_ACCOUNT):c()},[o,u,c]);return{initiateOnboarding:Object(i.useCallback)(()=>{o?u(aT.ONBOARDING):c()},[o,u,c]),onAddBankAccountClick:m}})(),u=Object(i.useCallback)(()=>vn(void 0,void 0,void 0,(function*(){c(),l.closeHalfCard()})),[l,c]),m=Object(i.useCallback)(()=>vn(void 0,void 0,void 0,(function*(){const e=yield n();return Number(e[FA.INAPP_UPI_HALF_CARD_COUNT])<3})),[n]),p=Object(i.useCallback)(()=>vn(void 0,void 0,void 0,(function*(){(yield m())&&!an(null==e?void 0:e.halfCardAwareness)?r(!o):u()})),[m,u,null==e?void 0:e.halfCardAwareness,r,o]),_=Object(i.useCallback)(()=>{(e=>{e({category:lT,label:"1-tap-upi",context:"Get-started",action:RT})})(t),u()},[t,u]);return{onAddBankAccountClick:d,startInAppUpiOnboarding:p,inAppUpiHalfCardData:Object.assign({showHalfCard:o,onInAppUpiHalfCardCtaClick:_},l)}};var WR;!function(e){e[e.MOVING_TRAY=0]="MOVING_TRAY",e[e.FULL_PAGE=1]="FULL_PAGE",e[e.HALF_CARD=2]="HALF_CARD"}(WR||(WR={}));const FR=l.a.createContext({isLoading:!1,loaderData:{type:WR.MOVING_TRAY},setLoaderState:()=>{}}),VR=Object(i.createContext)({juspayNativeUpiState:{},makeNativeUpiRequest:()=>Promise.resolve(void 0)}),KR=()=>{const e=Object(s.Gb)(),{paymentResponse:t}=Object(i.useContext)(AR),{isSdkAvailable:a}=Object(i.useContext)(HR),{clickEvent:n}=Object(i.useContext)(L.AnalyticsContext),o=UR(),r=Object(L.useNavigate)(),{setLoaderState:l}=Object(i.useContext)(FR),{makeNativeUpiRequest:c,juspayNativeUpiState:d,nativeUpiFetchStatus:u}=Object(i.useContext)(VR),m=(()=>{const{setCheckoutState:e}=Object(i.useContext)(L.CheckoutContext),{paymentResponse:t}=Object(i.useContext)(AR),{amountToPay:a}=Object(i.useContext)(yR),{setLoaderState:n,isLoading:o}=Object(i.useContext)(FR),r=Object(L.useNavigate)(),l=Object(i.useMemo)(()=>Object(s.hb)("Payment of ₹{0}",String(a)),[a]),c=Object(i.useMemo)(()=>{var e;if(null!=t)return Object(s.hb)("For {0}",(e=t.itemQuantity)?1===e?e+" Item":e+" Items":"-- Items")},[t]),d=Object(i.useCallback)(t=>{e({type:L.CheckoutActionTypes.SHOW_PAYMENTS}),t===Gf.ADD_ACCOUNT&&r(L.CheckoutRoute.PAYMENTS)},[r,e]),u=Object(i.useCallback)(e=>({text:Ff[Wf.TRY_OTHERS],onClick:()=>{d(e)}}),[d]),m=Object(i.useCallback)((e,t)=>({text:Ff[Wf.RETRY],onClick:()=>{e(t)}}),[]);return Object(i.useCallback)((t,a,r)=>{o&&n(!1),e({type:L.CheckoutActionTypes.GENERIC_PAYMENT_ALERT,payload:{info:l,subInfo:c,primaryAction:m(a,t),secondaryAction:u(t),title:r||Yf[t]}})},[m,l,o,e,n,c,u])})(),[p,_]=Object(i.useState)(),E=Object(i.useMemo)(()=>{var e;return OI(null!==(e=null==t?void 0:t.paymentGroup)&&void 0!==e?e:[])},[t]),C=Object(i.useCallback)((e,t)=>{_(e),l(t,{type:WR.HALF_CARD,halfCardLoaderProps:{title:"Fetching details...",loaderBgSrc:"PaymentLogos/instruments/4x/NativeUpiLoader"}})},[l]),b=Object(i.useCallback)(()=>{r(L.CheckoutRoute.NATIVE_UPI_ACCOUNTS,{paymentGroup:E.unwrap()})},[E,r]),y=Object(i.useCallback)(e=>vn(void 0,void 0,void 0,(function*(){const t=AI(E.unwrap(),e),a=fI(t);if(null==a)throw Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.NATIVE_UPI_NR_EVENTS_NO_PRIMARY_METHOD_EXISTS}),new Error(uA);o(a)})),[E,o]),g=Object(i.useCallback)(t=>vn(void 0,void 0,void 0,(function*(){var a;if(null!=e.current)try{C(t,!0);const a=yield c(t);if(null==e.current||null==a)return;t===Gf.ONBOARDING&&y(a),C(t,!1)}catch(e){C(t,!1),m(t,g,null===(a=d.otherInfo)||void 0===a?void 0:a.userError)}})),[e,C,c,y,m,d.otherInfo]),O=Object(i.useCallback)(()=>{(e=>{e({category:OT,action:"can't_find_your_bank"})})(n),g(Gf.ADD_ACCOUNT)},[n,g]),h=Object(i.useCallback)(e=>{var t;const a=null===(t=d.juspayNativeUpiData)||void 0===t?void 0:t.vpaAccounts;return null==a||!((e,t)=>t.some(t=>t.account.referenceId===e.meta.referenceId))(e,a)},[d.juspayNativeUpiData]),A=Object(i.useCallback)(()=>{var e;const{juspayNativeUpiData:t}=d;null!=t?"LINKED"!==t.status?g(Gf.ONBOARDING):b():m(Gf.FETCH_STATUS,g,null===(e=d.otherInfo)||void 0===e?void 0:e.userError)},[d,g,m,b]),f=Object(i.useCallback)(()=>vn(void 0,void 0,void 0,(function*(){a&&(function(e,t){const{fetchState:a,juspayNativeUpiData:n}=e;0!==a?null!=n?"LINKED"!==n.status?mI(Vf.ONBOARDING,t):mI(Vf.PAYMENT,t):mI(Vf.ERROR,t):mI(Vf.LOADING,t)}(d,n),0!==u?A():C(Gf.FETCH_STATUS,!0))})),[n,A,a,d,u,C]);return Object(i.useEffect)(()=>{null!=e.current&&null!=p&&0!==d.fetchState&&p===Gf.FETCH_STATUS&&(A(),l(!1))},[A,e,d.fetchState,p,l]),{onNativeUpiGroupClick:f,onAddBankAccountClick:O,isInvalidNativeUpiMethod:h}};function zR(e){const t=Object(s.Gb)(),[a,n]=Object(i.useState)(je),{placeOrderInProgress:o,processingOrder:r}=Object(i.useContext)(BR),{paymentResponse:l,isPaymentMethodSelectedForOnce:c,setIsPaymentMethodSelectedForOnce:d}=Object(i.useContext)(AR),{clickEvent:u}=Object(i.useContext)(L.AnalyticsContext),{withSplitPay:m,billTotal:p}=Object(i.useContext)(yR),{onNativeUpiGroupClick:_}=KR(),{onEMIGroupClick:E}=(()=>{const{paymentResponse:e}=Object(i.useContext)(AR),{setCheckoutState:t}=Object(i.useContext)(L.CheckoutContext),a=UR(),n=Object(i.useMemo)(()=>{var t;return(null!==(t=null==e?void 0:e.paymentGroup)&&void 0!==t?t:[]).find(DS)},[e]),o=Object(i.useCallback)(()=>{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.EMI_PAYMENT_GROUP_ERROR}),t({type:L.CheckoutActionTypes.GENERIC_PAYMENT_TOAST,payload:{message:"Something went wrong. Please try again.",type:Le.ERROR}})},[t]);return{onEMIGroupClick:Object(i.useCallback)(()=>vn(void 0,void 0,void 0,(function*(){if(an(n))o();else{const e=n.paymentMethods.find(e=>e.enabled);an(e)?o():a(e)}})),[n,a,o])}})(),{onAddBankAccountClick:C,startInAppUpiOnboarding:b,inAppUpiHalfCardData:y}=YR(l),g=UR(),O=Object(L.useNavigate)(),h=Object(i.useCallback)(e=>{if(!t.current)return;const o=jI(l);((e,t,a,n)=>{var o;(tI(e)||kf(e))&&((e,t,a)=>{a({category:lT,action:"click-payment-wallet",label:e,value:t})})(e.name,t,a),JI(e)&&((e,t,a)=>{a({category:iI(),action:"click-payment-netbanking",label:e,value:t})})(e.nbCode,t,a),Qv(e)&&((e,t)=>{t({category:lT,action:"click-payment-cod",value:e})})(t,a),$I(e)&&(XI(e)?((e,t)=>{t({category:iI(),action:"click-payment-add-new-card",value:e,label:"add-card"})})(t,a):((e,t,a)=>{a({category:iI(),action:"click-payment-card",label:e,value:t})})(null!==(o=e.meta.cardBrand)&&void 0!==o?o:"",t,a)),Uv(e)&&((e,t,a)=>{a({category:lT,context:`${e},${t}`,action:"click_Cred_pay"})})(e.groupName,n,a)})(e,p,u,o),PI(e)?O(L.CheckoutRoute.ADD_NEW_CARD,{paymentMethod:e}):e.name.toUpperCase()!==te?(e=>e.name.toUpperCase()===ee)(e)?C():((e,t)=>t.name.toUpperCase()===Q&&e.unwrapOr("")===To(t))(a,e)?n(je):(n(t=>{const a=To(e);return t.unwrapOr("")===a?je:Be(a)}),c||d(!0)):b()},[t,l,p,u,a,O,b,C,c,d]),A=Object(i.useCallback)(e=>{var t;switch(null===(t=null==e?void 0:e.groupName)||void 0===t?void 0:t.toUpperCase()){case z.NATIVE_UPI:return void _();case z.EMI:return void E()}O(L.CheckoutRoute.MORE_PAYMENT_METHODS,{paymentGroup:e})},[O,_,E]),f=Object(i.useCallback)((e,a)=>{if(!t.current)return;const n=jI(l);if(null==a)return((e,t,a)=>{a({category:iI(),action:"click-payment-group",context:`${e},${t}`})})(e.groupName,n,u),void A(e);((e,t)=>{t({category:lT,action:"click-view-more-payment-options",context:e})})(n,u),O(L.CheckoutRoute.MORE_PAYMENT_GROUPS,{frictionGroups:a})},[t,l,u,O,A]);return Object(i.useEffect)(()=>{n(je)},[m]),Object(s.Db)(()=>{if(!((e,t,a)=>{const n="true"===L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.accessibilityEnabled)||!1,o=((e,t)=>!!(null==t?void 0:t.showAddMoneyCta)&&e)(t,Bf(a));return!(e||n||o)})(!!c,m,null==l?void 0:l.splitpayList))return;const e=(e=>{if(null==e)return je;const t=Uf(e.paymentGroup).andThen(e=>Be(e.paymentMethods[0]));return t.isNone()?je:Be(To(t.unwrap()))})(l);n(e),d(!0)}),e.children({onPay:g,onSelect:h,onMorePaymentsOptionSelect:f,onPaymentGroupClick:A,placeOrderInProgress:o||r,selectedPaymentId:a.unwrapOr(""),inAppUpiHalfCardData:y})}var $R=Object(i.memo)((function(){const{loaderData:e}=Object(i.useContext)(FR);return e.type===WR.HALF_CARD?l.a.createElement(fE,Object.assign({},e.halfCardLoaderProps)):e.type===WR.FULL_PAGE?l.a.createElement(AE,null):l.a.createElement(Gp,null)})),XR=Object(i.memo)((function(e){var t,a;const{setCheckoutState:n}=Object(i.useContext)(L.CheckoutContext),o=Object(i.useCallback)(()=>{n({type:L.CheckoutActionTypes.SHOW_PAYMENTS})},[n]);return l.a.createElement(Yb,Object.assign({},e,{hideOnOverlayClick:null===(t=e.hideOnOverlayClick)||void 0===t||t,onClose:null!==(a=e.onClose)&&void 0!==a?a:o}))}));const JR=Object(i.memo)((function(e){var t;const{onPay:a,onSelect:n,nativeUpiGroup:o,juspayNativeUpiData:r,placeOrderInProgress:c}=e,d=fn(e,["onPay","onSelect","nativeUpiGroup","juspayNativeUpiData","placeOrderInProgress"]),{clickEvent:u,screenViewEvent:m}=Object(i.useContext)(L.AnalyticsContext),{isSdkAvailable:p}=Object(i.useContext)(HR),{onAddBankAccountClick:_,isInvalidNativeUpiMethod:E}=KR(),C=Object(i.useMemo)(()=>AI(o,r),[r,o]),b=Object(i.useMemo)(()=>fI(C),[C]),y=null!==(t=null==b?void 0:b.meta.referenceId)&&void 0!==t?t:"",[g,O]=Object(i.useState)(y),h=Object(i.useCallback)(e=>{((e,t)=>{t({context:e,category:OT,action:"select_bank_account"})})(`${e.name},${e.displayName}`,u),O(e.meta.referenceId),n(e)},[u,n]),A=Object(i.useCallback)((e,t)=>{((e,t)=>{t({context:e,category:OT,action:"click_proceed_to_pay"})})(`${e.name},${e.displayName}`,u),a(e,t)},[u,a]),f=Object(i.useMemo)(()=>({onPay:A,isInvalidNativeUpiMethod:E,onSelect:h,onAddNewBankClick:_}),[A,E,h,_]);return Object(s.Db)(()=>(e=>{e({category:OT})})(m)),l.a.createElement(mh,Object.assign({},d,{paymentActions:f,paymentInProgress:!!c,paymentData:C,hideGroupTitle:!1,options:Zf,primaryNativeUpiRef:y,selectedNativeUpiRef:g,isSdkAvailable:p}))}));var ZR=".PaymentUIWrapper_header_3fypFQV0{display:flex;flex-direction:column;width:100%;height:100%;justify-content:center;overflow:hidden}.PaymentUIWrapper_headerTitle_yX-oJG5q{font-weight:600;text-transform:uppercase;margin-bottom:2px;color:#3d4152}.PaymentUIWrapper_headerSubtitle_1kq0f8Lp{font-size:12px;color:#7e808c}.PaymentUIWrapper_headerHelpButton_36XGVQRU{background:transparent;border:none;outline:none;padding:0;text-align:left;-webkit-appearance:none;font-size:14px;line-height:17px;letter-spacing:-.1px;font-weight:800;margin-right:16px;margin-left:4px;color:#ff5200}",qR={_getCss:function(){return ZR},_getId:function(){return"8a53446945"},header:"PaymentUIWrapper_header_3fypFQV0",headerTitle:"PaymentUIWrapper_headerTitle_yX-oJG5q",headerSubtitle:"PaymentUIWrapper_headerSubtitle_1kq0f8Lp",headerHelpButton:"PaymentUIWrapper_headerHelpButton_36XGVQRU"};function QR(){const e=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.orderid),t=Object(s.Gb)(),a=Object(i.useCallback)(()=>{if(e){const t=Object(s.hb)("https://www.swiggy.com/support/issues/order?orderId={0}",e),a={callbackUrl:window.location.href,openAsExternal:!0,openAsExternalWithBridgeSupport:!0,showBack:!1,title:"Order Help",url:t,showLoader:!0};Object(L.getBridgeSdk)().webNavigate(a).catch(()=>{})}},[e]);return t.current&&ff()&&!Object(s.ub)(e)?l.a.createElement("button",{className:qR.headerHelpButton,onClick:a},"Help"):null}function eP(e){const{checkoutMetaInfo:t,paymentResponse:a}=Object(i.useContext)(AR),n=Object(i.useMemo)(()=>(e=>{var t;if(null==e?void 0:e.headerTitle)return e.headerTitle;const a=null!==(t=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.marketplaceBusinessLine))&&void 0!==t?t:"";return dA[a.toLowerCase()]||dA.default})(null==a?void 0:a.presentationDetails),[null==a?void 0:a.presentationDetails]),o=(({checkoutMetaInfo:e,presentationDetails:t})=>gf()?(null==t?void 0:t.discountMessage)||"":(null==e?void 0:e.discountMessage)?Object(s.hb)(" • {0}",e.discountMessage):"")({checkoutMetaInfo:t,presentationDetails:null==a?void 0:a.presentationDetails});return l.a.createElement(IR,{title:n,grayscale:Of(),quantity:e.quantity,discountMessage:o})}fR(ZR);var tP=Object(i.memo)(Object(s.Hb)((function(e){var t,{children:a,setWithCoupon:n,withCoupon:o,couponApplied:r}=e,c=fn(e,["children","setWithCoupon","withCoupon","couponApplied"]);const d=Of(),u="undefined"!=typeof window&&"undefined"!=typeof sessionStorage,{checkoutState:m,setCheckoutState:p}=Object(i.useContext)(L.CheckoutContext),_=null===(t=null==m?void 0:m.payload)||void 0===t?void 0:t.errorStatusCode,E=Object(L.useNavigate)(),{paymentResponse:C}=Object(i.useContext)(AR),{cartType:b}=Object(i.useContext)(L.DineoutCartContext),y=Object(i.useCallback)(()=>{const e="undefined"!=typeof window&&(null===window||void 0===window?void 0:window.__PAYMENT_FEEDBACK_URL__)||"https://webviews.swiggy.com/feedback/payment_feedback.html?context=PaymentFeedback";Object(L.getBridgeSdk)().navigateToScreen({type:w.m.DEEPLINK,link:Object(s.hb)("swiggy://externalWidget?banner_type=WEBVIEW&card_type=HALF_CARD&url={0}",encodeURIComponent(e))}).catch(()=>{})},[]),g=Object(i.useMemo)(()=>"true"===((e,t)=>{var a;return null===(a=null==e?void 0:e.XPData)||void 0===a?void 0:a[t]})(C,DA.PAYMENT_ABANDONMENT_FEEDBACK),[C]),O=(()=>{var e;if("undefined"==typeof window)return!1;const t=new URLSearchParams(null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.search).get("state"),a=(L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.platform)||"").toLowerCase();return t===(null==dw?void 0:dw.CONFIRM_ORDER)&&Object(s.vb)(a)})(),h=Object(i.useCallback)(()=>vn(this,void 0,void 0,(function*(){if(m.type===L.CheckoutActionTypes.ORDER_INTERRUPTION&&11===_)return void Object(L.goToHome)();if(d&&u&&!sessionStorage.getItem("gift-details"))return void E(L.CheckoutRoute.ADD_SWIGGY_MONEY,{},!0);if(!o&&r)return void n(!0);const e=yield vn(void 0,void 0,void 0,(function*(){try{const e=yield Object(L.getBridgeSdk)().storage({type:w.n.GET,data:{payment_feedback_shown:""}}),t=null==e?void 0:e.data.payment_feedback_shown;if(null==t)return Promise.resolve(!0);const a=2592e6;return Date.now()-Number(t)>a?(Object(L.getBridgeSdk)().storage({type:w.n.DELETE,data:{payment_feedback_shown:""}}),Promise.resolve(!1)):Promise.resolve(!0)}catch(e){return Promise.resolve(!0)}}));if(g&&!e&&Af())return y(),void vn(void 0,void 0,void 0,(function*(){Object(L.getBridgeSdk)().storage({type:w.n.SAVE,data:{payment_feedback_shown:String(Date.now())}})}));u&&"true"===sessionStorage.getItem("isFromWebCart")&&!O?(p({type:L.CheckoutActionTypes.SHOW_CART,payload:null}),E(L.CheckoutRoute.CART,{},!1)):u&&"true"===sessionStorage.getItem("isFromDineoutCart")?b===L.DineoutCartType.BILL_PAYMENT_CART?(p({type:L.CheckoutActionTypes.DINEOUT_BILL_PAYMENT_CART,payload:{}}),E(j.DineoutCheckoutRoute.BILL_PAYMENT_CART,{},!1)):b!==L.DineoutCartType.EVENT_BOOKING_CART&&b!==L.DineoutCartType.TABLE_RESERVATION_CART||(p({type:L.CheckoutActionTypes.DINEOUT_TABLE_RESERVATION_CART}),E(j.DineoutCheckoutRoute.TABLE_RESERVATION_CART,{},!1)):(Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEB_CHECKOUT_BACK_BUTTON_PAYMENT_SCREEN,isSessionStorageAvailable:String(u),isFromBottomBar:L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.isFromBottomBar),referrerScreen:L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.referrer)}),Object(L.closeWebview)())})),[m.type,_,d,u,o,r,g,E,n,y,p,b]);Object(L.useCustomHardwareBack)([L.CheckoutRoute.PAYMENTS,L.CheckoutRoute.SWIGGY_MONEY_PAYMENTS],h);const A=Object(i.useRef)(null);return l.a.createElement(kR,{onBack:h,header:l.a.createElement(eP,Object.assign({},c,{withCoupon:o})),headerExtraContent:l.a.createElement(QR,null),content:a,key:o?1:0,ref:A})}),qR));fR(".styles_container_gqeW5AWo{background:#fff}");const aP=Object(i.memo)((function({data:e}){const{juspayNativeUpiState:{juspayNativeUpiData:t},nativeUpiFetchStatus:a}=Object(i.useContext)(VR),{reloadPayments:n,checkoutMetaInfo:o}=Object(i.useContext)(AR),{withCoupon:r,setWithCoupon:c,amountToPay:d}=Object(i.useContext)(yR),{checkoutState:u}=Object(i.useContext)(L.CheckoutContext),{isLoading:m}=Object(i.useContext)(FR),{cartItemsCount:p,addressAnnotation:_}=Object(i.useMemo)(()=>wR(o),[o]),E=Object(i.useMemo)(()=>l.a.createElement(IR,{title:"Swiggy UPI",subtitle:VI({selectedAddressAnnotation:_,cartAmount:String(d),itemCount:p}),grayscale:!0}),[_,d,p]),C=Object(i.useMemo)(()=>null==t||null==e?null:l.a.createElement(zR,null,n=>{var o=fn(n,["onMorePaymentsOptionSelect","onPaymentGroupClick"]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(JR,Object.assign({paymentAmount:String(d),nativeUpiGroup:e.paymentGroup,itemsCount:null!=p?p:0,juspayNativeUpiData:t,nativeUpiFetchStatus:a},o)))}),[d,p,e,t,a]);return null==t||null==e?l.a.createElement(tP,{withCoupon:r,setWithCoupon:c},l.a.createElement(s.u,{action:{onClick:n}})):l.a.createElement(l.a.Fragment,null,l.a.createElement(kR,{header:E,content:C,containerCSSClass:"styles_container_gqeW5AWo"}),m&&l.a.createElement($R,null),u.type===L.CheckoutActionTypes.GENERIC_PAYMENT_ALERT&&l.a.createElement(XR,Object.assign({},u.payload)))})),nP=Object(i.createContext)({croutonState:{title:""},setCroutonState:()=>{}});var oP=".styles_error_MB-Va80M{background:#fff;height:100%;overflow:hidden}.styles_errorContent_WwWtEyKo{display:flex;align-items:center;flex-direction:column;justify-content:center;text-align:center;height:100%;margin-top:-40px}.styles_errorImage_YiF7HSAa{height:calc(90vw - 32px);object-fit:contain;object-position:center center;margin:0 auto}.styles_errorTitle_2Mu-Yfia{font-size:24px;line-height:28px;font-weight:800;letter-spacing:-.4px;color:rgba(2,6,12,.9215686275)}.styles_errorMsg_GsuVREdI{font-size:14px;line-height:17px;font-weight:400;letter-spacing:-.3px;margin-top:48px;color:rgba(2,6,12,.6)}.styles_errorTitle_2Mu-Yfia+.styles_errorMsg_GsuVREdI{margin-top:8px}.styles_errorTextContent_BUMwUlyH{padding:0 40px;z-index:1}@media (max-width:320px){.styles_errorTextContent_BUMwUlyH{padding:0 16px}}.styles_errorActionContainer_n6uJ8-S6{margin:32px 0 0}.styles_errorAction_IvrdRzlp{font-size:16px;line-height:20px;letter-spacing:-.3px;font-weight:600;width:100%;height:48px;line-height:48px;position:relative;overflow:hidden;display:block;background:#ffeee5;border:1px solid #f9decf;color:#ff5200;border-radius:12px;padding:0 16px}@media (max-height:480px){.styles_errorAction_IvrdRzlp{margin-top:36px}}",rP={_getCss:function(){return oP},_getId:function(){return"055fe35c94"},error:"styles_error_MB-Va80M",errorContent:"styles_errorContent_WwWtEyKo",errorImage:"styles_errorImage_YiF7HSAa",errorTitle:"styles_errorTitle_2Mu-Yfia",errorMsg:"styles_errorMsg_GsuVREdI",errorTextContent:"styles_errorTextContent_BUMwUlyH",errorActionContainer:"styles_errorActionContainer_n6uJ8-S6",errorAction:"styles_errorAction_IvrdRzlp"};fR(oP);const iP={[PA]:"4_0_Assets/churn_mix",[RA]:"4_0_Assets/bee_vase"},lP={[RA]:"Go to Home",[PA]:"Track Order"};var sP=Object(s.Hb)(e=>{const{message:t=uA,title:a,statusCode:n}=e,o=d()(rP.error),r=Object(i.useCallback)(()=>{const e=(L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.platform)||"").toLowerCase();let t;Object(s.yb)(e)||Object(s.vb)(e)?t={type:w.m.SCREEN,link:w.l.HOME}:Object(s.qb)(e)&&(t={type:w.m.DEEPLINK,link:"swiggy://home"}),t&&Object(L.getBridgeSdk)().navigateToScreen(t).catch(()=>{})},[]),c=Object(i.useCallback)(()=>{const e=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.orderid);if(!Object(s.ub)(e)){const t={type:w.m.SCREEN,link:w.l.TRACK,params:{orderId:e,hideMakePaymentButton:!0,shouldCloseWebview:!0}};Object(L.getBridgeSdk)().navigateToScreen(t).catch(()=>{})}},[]),u=Object(i.useCallback)(e=>{switch(e.preventDefault(),n){case PA:return void c();case RA:return void r();default:return void window.location.reload()}},[r,c,n]),m=Object(i.useMemo)(()=>{var e;const t=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.platform)||"";return Object(s.yb)(t)?"Track Order":null!==(e=lP[n])&&void 0!==e?e:"Retry"},[n]),p=Object(i.useCallback)(()=>Object(s.nb)(iP[n],{trim:!1}),[n]);return[PA,RA].includes(n)?l.a.createElement("div",{className:o},l.a.createElement("div",{className:rP.errorContent},l.a.createElement("img",{className:rP.errorImage,crossOrigin:"anonymous",src:p(),alt:a,"data-testid":"autopay-error-screen_image"}),l.a.createElement("div",{className:rP.errorTextContent},a&&l.a.createElement("div",{className:rP.errorTitle,"data-testid":"autopay-error-screen_title"},a),l.a.createElement("div",{className:d()(rP.errorMsg),"data-testid":"autopay-error-screen_message"},t)),l.a.createElement("div",{className:rP.errorActionContainer},l.a.createElement("button",{className:d()(rP.errorAction),onClick:u,"data-testid":"autopay-error-screen_cta"},m)))):l.a.createElement(s.u,null)},rP);const cP=()=>Object(i.useContext)(s.K).isForward,dP=()=>{const e=Object(i.useContext)(L.ApiContext).host.unwrap(),t=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.cartkey),a=Object(i.useContext)(L.PublicApiContext),[n,o]=Object(i.useState)(()=>({cartKey:t,error:void 0})),r=Object(i.useRef)(!1),l=Object(s.Gb)(),c=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.orderid),d=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.transactionid),u=ff(),m=Object(M.b)(a||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.ORDER_APIS,L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.REGISTER_PAY_ON_DELIVERY),p=Object(M.b)(a||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.ORDER_APIS,L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.CONFIRM_ORDER),_=Object(i.useCallback)(()=>{r.current||(r.current=!0,function(e,t,a){var n;return vn(this,void 0,void 0,(function*(){const o=a?rR:sN;try{const a=yield o(e,{orderId:t});return null===(n=a.data)||void 0===n?void 0:n.cart_key}catch(e){return Promise.reject(e)}}))}(e,c,m).then(e=>{r.current=!1,L.GlobalHeaderState.setHeader(L.SwgyHeaderKeysList.cartkey,e),o({cartKey:e,error:void 0})}).catch(e=>{r.current=!1,l.current&&o({cartKey:void 0,error:e})}))},[e,l,c,m]),E=Object(i.useCallback)(()=>{Object(L.isEmpty)(c)||Object(L.isEmpty)(d)||(p?oR:vA)(e,{orderId:c,transactionId:d}).then(e=>{var t,a;if(0===e.statusCode)o({cartKey:void 0,error:{statusCode:PA,data:{title:"Your previous payment was received successfully!",subTitle:""}}});else if(Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.PAYMENT_AUTOPAY_CANCEL_TRANSACTION_FAILED,orderId:c,transactionId:d,statusCode:null!==(t=e.statusCode)&&void 0!==t?t:"",statusMessage:null!==(a=e.statusMessage)&&void 0!==a?a:""}),Object(L.isEmpty)(n.cartKey))return void _()}).catch(e=>{l.current&&o({cartKey:void 0,error:{data:{title:uA,subTitle:""}}}),Object(s.Z)(e)})},[e,n.cartKey,_,l,c,d,p]);return Object(s.Db)(()=>{u&&(Object(L.isEmpty)(d)?Object(L.isEmpty)(n.cartKey)&&_():E())}),gf()&&t!==n.cartKey?{cartKey:t,error:void 0}:n};function uP({apiHost:e,fetchCheckoutMetaInfo:t,impressionEvent:a,isRefetch:n,dataInCache:o,isUserEligibleForSingleClick:r,splitPayMethods:i,onRefetchErrCb:l,turboVariant:c,publicApiConfig:d}){return vn(this,void 0,void 0,(function*(){const u=yield function(){return vn(this,void 0,void 0,(function*(){return Object(L.getBridgeSdk)().getCredEligibilityFromAppCache({},500).then(e=>{var t;return null!=e&&null!=e&&null!=e.flowType&&"INTENT"==e.flowType.toUpperCase()&&null!==(t=null==e?void 0:e.isEligible)&&void 0!==t&&t}).catch(e=>!1)}))}(),m=yield function(){return vn(this,void 0,void 0,(function*(){const e=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.versionCode)||"",t=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.platform)||"";return!!Object(s.xb)(1245,521,e,t)&&Object(L.getBridgeSdk)().isInAppUpiEnabled({}).then(e=>!an(e)&&e.isEnabled).catch(e=>!1)}))}();let p=!1;if(vf()){let e;try{e=JSON.parse(sessionStorage.getItem("gift-details")),e&&(p=!0)}catch(e){}}const _=(Object(M.b)(d||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.PAYMENT_APIS,L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.GPO_PAYMENT_APIS)?TN:nN)(e,{isUserCredEligible:u,splitPayMethods:i,isUserEligibleForSingleClick:r,isGiftingFlow:p,isInAppUpiEligible:m,turboVariant:c}).then(e=>{if(!e){if(n&&o)return null==l||l(),We(o.paymentResponse);throw new Error("Received empty data from get payment methods")}return We(e)}).catch(e=>{var t,r;return((e,t,a)=>{a({category:iI(),action:"sorry-unable-to-fetch-payment-options",label:e,context:t})})(null!==(t=e.statusCode)&&void 0!==t?t:1,null!==(r=e.statusMessage)&&void 0!==r?r:"Recieved error response from get payment methods",a),n&&o?(null==l||l(),We(o.paymentResponse)):Fe(e)}),E=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.marketplaceCategory),C=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.marketplaceBusinessLine),b=t?Object(L.getBridgeSdk)().getCheckoutMetaInfo({businessCategory:E,businessLine:C}).then(e=>(C===Oe.REGULAR&&null==(null==e?void 0:e.deliveryAddress)&&Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.INVALID_CHECKOUT_META,cartItemsCount:String(null==e?void 0:e.cartItemsCount)}),t?Be(e):je)).catch(e=>(e&&console.error(e),je)):Promise.resolve(je);return Promise.all([_,b])}))}const mP={groupName:"preferred",displayName:"Recommended for you",foldSize:10,couponApplicable:!0,meta:{multiPpmFoldSize:3,isNew:!0,disableMessage:"",intentFoldSize:5,collectFoldSize:1},paymentMethods:[],isFrictionHiddenGroup:!1,enabled:!0,preferredGroup:!1},pP=e=>{if(an(e))return!1;const{newUser:t,xpData:a}=e,n="true"===(null==a?void 0:a.nuPpmUpi);return!(!t||!n)},_P=(e,t)=>{try{return e.map(e=>Object.assign(Object.assign({},e),{paymentMethods:e.paymentMethods.filter(e=>!t.includes(To(e)))}))}catch(t){return e}},EP=(e,t)=>{const{paymentGroup:a}=e;if(!pP(e))return e;const n=((e,t)=>{const a=e.filter(e=>Qf(e)).filter(e=>t.includes(e.name)),n=e.find(e=>Qv(e));return an(n)?a.slice(0,2):[n,...a].slice(0,2)})((e=>e.filter(e=>(e=>{var t;return null===(t=e.enabled)||void 0===t||t})(e)).map(e=>e.paymentMethods).reduce((e,t)=>e.concat(t),[]).filter(LI))(a),t||[]);if(an(n))return e;const o=n.map(e=>To(e));return Object.assign(Object.assign({},e),{paymentGroup:[Object.assign(Object.assign({},mP),{paymentMethods:n}),..._P(a,o)]})};const CP=Object(i.createContext)({state:{},setState:()=>{},refetch:()=>Promise.resolve()}),bP=Object(i.createContext)({}),yP=Object(i.createContext)({state:null,setState:()=>{},sdkFetchInProgress:!1}),gP=Object(i.createContext)({isEligible:!1,bannerText:"",isOfferLoading:!1}),OP=Object(i.createContext)({availableMethods:[],upiIntentMethodFetchInProgress:"notInitialted"}),hP=l.a.createContext({bankList:[]}),AP=Object(i.createContext)({isPhonepeSdkAvailable:!1}),fP=Object(i.createContext)({paymentGroupShowMoreCtaState:{},setPaymentGroupShowMoreCtaState:()=>{}}),vP=Object(i.createContext)({paylaterState:{},setPaylaterState:()=>{},refetchPaylaterLinkStatus:()=>Promise.resolve()}),TP=()=>{var e;const t=Object(s.Gb)(),a=Object(i.useContext)(L.ApiContext),{paymentReturnUrl:n,addSwiggyMoneyReturnUrl:o}=Object(i.useContext)(L.ConfigContext),{impressionEvent:r}=Object(i.useContext)(L.AnalyticsContext),{isSdkAvailable:l,featuresAvailability:c}=Object(i.useContext)(HR),{state:d}=Object(i.useContext)(yP),{isPhonepeSdkAvailable:u}=Object(i.useContext)(AP),{billTotal:m}=Object(i.useContext)(yR),p=Object(i.useRef)(!1),{setCheckoutState:_,checkoutState:E}=Object(i.useContext)(L.CheckoutContext),{checkoutMetaInfo:C,paymentResponse:b,reloadPayments:y}=Object(i.useContext)(AR),g=Object(i.useContext)(s.w),{onPostSliderSuccessCallback:O}=Object(i.useContext)(nm),[h,A]=Object(i.useState)({placeOrderInProgress:!1}),f=Object(i.useContext)(L.PublicApiContext),v=Object(M.b)(f||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.ORDER_APIS,L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.PLACE_ORDER),T=Object(i.useMemo)(()=>Of()?Be(Mf(null==o?void 0:o.unwrapOr(""))):n,[o,n]),I=Object(i.useCallback)(e=>{t.current&&!h.placeOrderInProgress&&A({placeOrderInProgress:!0,placeOrderData:e})},[t,h.placeOrderInProgress]),S=Object(L.useNavigate)(),N=(null===(e=Object(i.useContext)(s.K).route)||void 0===e?void 0:e.name)||"",R=a.host.unwrap(),P=Object(i.useCallback)(({orderData:e})=>{const{placeOrderData:a}=h;var n;if(Object(L.getBridgeSdk)().storage({type:w.n.SAVE,data:{currentOrderId:String((null==e?void 0:e.orderId)||"")}}).catch(()=>{}),t.current&&a)if(function(e){return xA.map(e=>e.toUpperCase()).indexOf(e.paymentMethodData.paymentCode.toUpperCase())>-1}(a)&&e.pendingPaymentParams&&Object(L.getBridgeSdk)().paymentInPendingState({paymentMethodName:a.paymentMethodData.paymentCode,marketplaceBusinessLine:L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.marketplaceBusinessLine)||"",marketplaceCategory:L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.marketplaceCategory)||"",requestObj:e.pendingPaymentParams}).catch(()=>{}),n=a.paymentMethodData.paymentCode,Ef()&&wA.indexOf(n.toUpperCase())>-1&&Object(L.getBridgeSdk)().setAppStateInIdleMode({active:!0}).catch(()=>{}),a.paymentMethodData.paymentCode.toUpperCase()===re.UPI_COLLECT)_({type:L.CheckoutActionTypes.VPA_TIMER,payload:{order:e,placeOrderData:a,upiCollectStartTime:Date.now()}});else{const t=RS(null==a?void 0:a.paymentMethodData.groupName,l,c);x.a.recordStart(L.BLAZE_EVENTS.RECORD_PROCESS_ORDER_LOAD_TIME);try{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"handlePlaceOrderData",orderId:(null==e?void 0:e.orderId)||""})}catch(e){}_({type:L.CheckoutActionTypes.PROCESS_ORDER,payload:{placeOrderData:a,order:e,useJuspaySDK:t,juspayMeta:null==b?void 0:b.juspayMeta,apayState:d,isPhonepeSdkAvailable:u,startTime:Date.now()}})}},[t,h,_,l,b,u,d,c]),D=Object(i.useCallback)(e=>{var a,n,o,i,l,c,d;const{placeOrderData:u}=h;if(!t.current||!u)return;sR({totalBill:String(m),error:e,failInstance:lR.PLACE,placeOrderData:u});const p=qT(u);if(p&&O(),Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.PAYMENT_WEB_PLACE_ORDER_FAILED,method:u.paymentMethodData.paymentCode||"",autopayVariant:(null===(n=null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.xpData)||void 0===n?void 0:n.autoPayVariant)||"--",statusCode:(null==e?void 0:e.statusCode)||"--",isTurboPaymentMethod:p}),x.a.recordEnd(L.BLAZE_EVENTS.RECORD_ORDER_LOAD_TIME,{orderPaymentMethod:u.paymentMethodData.paymentCode||"",orderStatus:kA.FAILED}),!0===(null===(o=null==u?void 0:u.extraArbitaryData)||void 0===o?void 0:o.isInAppUpiOnBoardingFlow)&&y(),(e=>e&&e.statusCode===IA?Af():e&&[9,8,360,362,IA,SA,15,NA,TA].includes(e.statusCode))(e)){const t=dR(e);_({type:L.CheckoutActionTypes.ORDER_INTERRUPTION,payload:{orderInterruptionAlertData:t,placeOrderData:u,errorStatusCode:e.statusCode}})}else if(e&&5===e.statusCode)((e,t,a)=>{var n,o,r,i,l,s,c;const d=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.paymentFailureResponse,u="true"===(null===(r=null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.xpData)||void 0===r?void 0:r.showPaymentFailureReasonHalfCard);a([DA.AUTOPAY_PHASE_2.CONSENT,DA.AUTOPAY_PHASE_2.SUBTLE_AUTOPLACE].includes(null===(l=null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.xpData)||void 0===l?void 0:l.autoPayVariant)?{type:L.CheckoutActionTypes.AUTOPAY_ELIGIBLE_PAYMENT_FAILED,payload:{paymentFailureResponse:d,placeOrderData:t,isFallbackApiEnabled:u,autoPayPaymentFailureVariant:null===(c=null===(s=null==e?void 0:e.data)||void 0===s?void 0:s.xpData)||void 0===c?void 0:c.autoPayVariant}}:{type:L.CheckoutActionTypes.PAYMENT_FAILED,payload:{paymentFailureResponse:d,placeOrderData:t,isFallbackApiEnabled:u}})})(e,u,_);else if(e&&12===e.statusCode){const t=null==e?void 0:e.data;_({type:L.CheckoutActionTypes.PAY_ON_DELIVERY_PAYMENT_ALREADY_DONE,payload:{placeOrderData:u,interruptData:t}})}else if(e&&4===e.statusCode){const t=null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.invalidCouponResponse;_({type:L.CheckoutActionTypes.INVALID_COUPON_ALERT,payload:{invalidCouponResponseData:t,placeOrderData:u}})}else(function(e){Object(s.Z)(e),function(e){let t=je,a=je;ef(e)?(t=Be(e.statusMessage||null),a=Be(e.statusTitle)):Object(s.wb)(e)?(a=Be("CONNECTION ERROR"),t=Be("Please check your network connectivity and try again")):Object(s.pb)(e)&&(a=Be("ABORT ERROR"),t=Be("The request could not be processed completely, please check your network and try again")),ZA({message:t.unwrapOr(uA),title:a.unwrapOr(" ")})}(e)})(e),(null===(l=null==u?void 0:u.extraArbitaryData)||void 0===l?void 0:l.isFromTurboPlaceOrder)&&(_({type:L.CheckoutActionTypes.SHOW_PAYMENTS}),S(L.CheckoutRoute.PAYMENTS,{},!0)),((e,t,a)=>{a({category:iI(),action:"place-order-error-popup",label:e,context:t})})(null!==(c=e.statusCode)&&void 0!==c?c:1,null!==(d=e.statusMessage)&&void 0!==d?d:"Received error while place order",r)},[h,t,m,O,y,_,r,S]);return Object(i.useEffect)(()=>{if(t.current&&N!==L.CheckoutRoute.PAYMENTS&&N!==L.CheckoutRoute.SWIGGY_MONEY_PAYMENTS&&(E.type===L.CheckoutActionTypes.ORDER_INTERRUPTION||E.type===L.CheckoutActionTypes.PAYMENT_FAILED||E.type===L.CheckoutActionTypes.INVALID_COUPON_ALERT||E.type===L.CheckoutActionTypes.PAY_ON_DELIVERY_PAYMENT_ALREADY_DONE)){const e=QI();S(e)}},[N,t,S,E.type]),Object(i.useEffect)(()=>{if(!t.current||p.current||!h.placeOrderInProgress||!h.placeOrderData)return;x.a.recordStart(L.BLAZE_EVENTS.RECORD_ORDER_LOAD_TIME);const e=g.get(L.SwgyHeaderKeysList.cartAddressId);e&&L.GlobalHeaderState.setHeader(L.SwgyHeaderKeysList.cartAddressId,e),p.current=!0;const a=h.placeOrderData,n=RS(a.paymentMethodData.groupName,l,c),o=(({placeOrderData:e,apayState:t,isJuspaySdkAvailable:a,paymentReturnUrl:n,checkoutMetaInfo:o,paymentAmount:r})=>{var i,l;const{paymentMethodData:s}=e,{extraParams:c={}}=e;let d;const{cvv:u,cardNumber:m,paymentAmountWithoutDiscount:p,updatedPaymentAmount:_}=c,E=fn(c,["cvv","cardNumber","paymentAmountWithoutDiscount","updatedPaymentAmount"]),C=null!==(i=null==t?void 0:t.available)&&void 0!==i&&i;let b={};var y;if((y=s).groupName.toUpperCase()===z.UPI&&y.paymentCode.toUpperCase()===re.UPI_COLLECT?b=function(e){var t,a;return e.meta&&e.meta.payerVpa?{upi_transaction_info:{payer_vpa:null!==(t=e.meta.payerVpa)&&void 0!==t?t:"",save_instrument:!1,transaction_mode:null!==(a=e.meta.transactionMode)&&void 0!==a?a:""}}:{}}(s):Qf(s)||ev(s)?b=function(e){var t;return{upi_transaction_info:{intent_app:e.name,transaction_mode:null!==(t=e.meta.transactionMode)&&void 0!==t?t:""}}}(s):jS(s)?b=function(e,t){var a,n,o,r,i,l,s,c,d,u,m;return{card_bin_number:VS(e,t),tokenization_user_consent:!!t.saveCard,token:null!==(n=null===(a=e.meta)||void 0===a?void 0:a.token)&&void 0!==n?n:null,provider_category:null!==(r=null===(o=e.meta)||void 0===o?void 0:o.providerCategory)&&void 0!==r?r:"",provider:null!==(l=null===(i=e.meta)||void 0===i?void 0:i.provider)&&void 0!==l?l:"",one_click_details:{card_brand:t.cardBrand||"",alias:null!==(s=null==e?void 0:e.cardFingerprint)&&void 0!==s?s:"",opted_out:e.meta.oneClickShowHalfCard&&!(t.oneClickCard&&!e.meta.oneClickEnrolled),one_click_enrolled:null!==(c=e.meta.oneClickEnrolled)&&void 0!==c&&c,pretick:null!==(d=e.meta.oneClickPretick)&&void 0!==d&&d,one_click_consent:!!t.oneClickCard&&!e.meta.oneClickEnrolled},cvv_mandatory:null===(m=null===(u=null==e?void 0:e.meta)||void 0===u?void 0:u.cvvMandatory)||void 0===m||m}}(s,c):BS(s)?b=function(e){return{payment_netbanking_type:e.nbCode,bankCode:e.nbCode}}(s):gI(s)&&(b=(e=>{const{bankCode:t,bankName:a,maskedAccountNumber:n}=e.meta;return{native_upi_payment:{bankCode:t,maskedAccountNumber:n,bankName:a}}})(s)),d=Object.assign(Object.assign(Object.assign(Object.assign({},b),E),{lat:L.GlobalHeaderState.getHeader("lat")||"",lng:L.GlobalHeaderState.getHeader("lng")||"",addressId:L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.cartAddressId)||""}),{paymentMethod:HS(s,C),useJuspayNative:!PS()&&a,paymentReturnUrl:null==n?void 0:n.unwrapOr(""),orderComments:GS(o)||"",paymentAmount:null!==(l=null!=p?p:_)&&void 0!==l?l:r}),vf()){let t;try{t=JSON.parse(sessionStorage.getItem("gift-details"))}catch(e){}d=Object.assign(Object.assign({},d),{giftDetails:t})}return d})({placeOrderData:a,apayState:d,isJuspaySdkAvailable:n,paymentReturnUrl:T,checkoutMetaInfo:C,paymentAmount:null==b?void 0:b.paymentAmount});(v?nR:fA)(R,o).then(e=>FS(e,L.NEWRELIC_TABLES.PAYMENTS_WEB_PLACE_ORDER,a||{})).then(P).catch(D).catch(s.Z).then(()=>{t.current&&(p.current=!1,A({placeOrderData:a,placeOrderInProgress:!1}))})},[d,R,C,g,P,D,l,t,c,b,h.placeOrderData,h.placeOrderInProgress,T,v]),[h,I,t.current]};function IP(e,t,a){return vn(this,void 0,void 0,(function*(){const n={walletCode:t};null!=a&&(n.mobileNumber=a);const o=yield gA({apiHost:e,endpoint:"/api/v1/link-wallet",searchParams:n,options:{method:"POST"}});if(0===o.statusCode)return o.data||{};throw o}))}function SP(e,t){return vn(this,void 0,void 0,(function*(){const{walletCode:a}=t,n=fn(t,["walletCode"]);return AA(yield gA({apiHost:e,endpoint:"/api/v1/validate-link-wallet",searchParams:{walletCode:a},bodyParams:Object.assign({},n),options:{method:"POST"}})).toPromise()}))}function NP(e,t){return vn(this,void 0,void 0,(function*(){return hA(yield gA({apiHost:e,endpoint:"/api/v1/get-wallet-balance",searchParams:{walletCode:t},options:{}})).unwrapOrElse(()=>({linkStatus:3,balance:0,isOldWalletLinkFlow:!1,mobileNumber:""}))}))}function RP(e,t){return vn(this,void 0,void 0,(function*(){return hA(yield gA({apiHost:e,endpoint:"/api/v1/delink-wallet",searchParams:{walletCode:t},options:{method:"POST"},shouldShowNetworkError:!1})).toPromise()}))}function PP(e){return-1!==Object.values(MN).indexOf(e)}function DP(e,t,a="GET"){if(!PP(e))return Fe(e+" is not a linkable wallet");const n=HN[e][t];return Ja(n)?Fe(`${e} does not support ${t} action.`):Qa(n)?We({endpoint:n,method:a}):We(n)}function LP(e,t){if(Ja(t)||!Za(t))return je;switch(e){case MN.PAYTM:return Be(t.walletBalance);case MN.MOBIKWIK:return Be(t.balanceamount);case MN.PHONEPE:{const e=Be(t.wallet).map(e=>null==e?void 0:e.usableBalance).unwrapOr(0);return Be(function(e){return"number"==typeof e&&!Number.isNaN(e)}(e)?Number(e/100).toFixed(2):0)}default:return je}}function kP(e,t){return vn(this,void 0,void 0,(function*(){const a=t.toLowerCase();return function(e,t){return{linkStatus:Be(t.statusCode).andThen(t=>function(e,t){if(!PP(e)||!GN[e]||Ja(t))return je;const a=GN[e][Qa(t)?parseInt(t,10):t];return Ja(a)?je:Be(a)}(e,t)).unwrapOr(3),balance:LP(e,t.data).unwrapOr(0),mobileNumber:function(e,t){var a;if(Ja(t)||!Za(t))return je;switch(e){case MN.PAYTM:case MN.MOBIKWIK:return Be(t.mobileNumber);case MN.PHONEPE:return Be(null===(a=t.wallet)||void 0===a?void 0:a.mobileNumber);default:return je}}(e,t.data).unwrapOr(""),isOldWalletLinkFlow:function(e,t){var a;if(Ja(t)||!Za(t))return je;switch(e){case MN.PAYTM:case MN.MOBIKWIK:return Be(t.isOld);case MN.PHONEPE:return Be(null===(a=t.wallet)||void 0===a?void 0:a.isOld);default:return je}}(e,t.data).unwrapOr(!1)}}(a,yield function(e,t){return vn(this,void 0,void 0,(function*(){const a=DP(t,"checkBalance");if(a.isErr())throw new Error(a.unwrapErr());const{endpoint:n}=a.unwrap();return yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:n})}))}(e,a))}))}function xP(e,t,a){return vn(this,void 0,void 0,(function*(){const n=t.toLowerCase(),o=yield function(e,t,a){return vn(this,void 0,void 0,(function*(){const n=DP(t,"link","POST");if(n.isErr())throw new Error(n.unwrapErr());const{endpoint:o,method:r}=n.unwrap(),i={};return an(a)||(i.mobileNumber=a),yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:o,bodyParams:i,options:{method:r}})}))}(e,n,a);if(0===o.statusCode)return o.data||{};throw o}))}function wP(e,t){return vn(this,void 0,void 0,(function*(){const a=Object.assign(Object.assign({},t),{walletCode:t.walletCode.toLowerCase()});return AA(yield function(e,t){var{walletCode:a}=t,n=fn(t,["walletCode"]);return vn(this,void 0,void 0,(function*(){const{otp:t,otpId:o,state:r}=n,i={};t&&(i.otp=t),r&&(i.state=r),o&&(i.otp_id=o);const l=DP(a,"validateOtp","POST");if(l.isErr())throw new Error(l.unwrapErr());const s=l.unwrap();return yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:s.endpoint,bodyParams:MN.PHONEPE===a?n:{},searchParams:i,options:{method:s.method}})}))}(e,a)).toPromise()}))}function MP(e,t){return vn(this,void 0,void 0,(function*(){const a=t.toLowerCase();return hA(yield function(e,t){return vn(this,void 0,void 0,(function*(){const a=DP(t,"delink","POST");if(a.isErr())throw new Error(a.unwrapErr());const{endpoint:n,method:o}=a.unwrap();return yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:n,bodyParams:{walletCode:t},options:{method:o}})}))}(e,a)).toPromise()}))}const jP=e=>{const t=Object(s.Gb)(),a=Object(i.useContext)(L.ConfigContext),n=Object(i.useContext)(L.ApiContext),{clientAuthTokenData:o}=Object(i.useContext)(HR),{paymentResponse:r}=Object(i.useContext)(AR),{impressionEvent:l}=Object(i.useContext)(L.AnalyticsContext),[c,d]=Object(i.useState)(!1),u=Object(i.useContext)(L.PublicApiContext),{checkoutState:m,setCheckoutState:p}=e,_=n.host.unwrap(),E=Object(M.b)(u||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.PAYMENT_APIS,L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.JUSPAY_CLIENT_TOKEN),C=Object(i.useCallback)(()=>{const e=eS();p({type:e}),d(!1)},[p]);return Object(i.useEffect)(()=>{t.current&&!c&&m.type===L.CheckoutActionTypes.PROCESS_ORDER&&d(!0)},[m.type,t,c]),Object(i.useEffect)(()=>{var e;if(!t.current||!c||m.type!==L.CheckoutActionTypes.PROCESS_ORDER)return;const{placeOrderData:n,order:i,startTime:b}=m.payload,{paymentMethodData:y}=n;(function(e){var t,a,n,o,r,i,l,c,d,u,m,p,_,E,C,b,y,g,O,h;return vn(this,void 0,void 0,(function*(){const{processOrderData:A,params:f,extendedCustomerId:v,credOfferLayerDetails:T,isJuspayAuthTokenApiPublic:I}=e,{order:S,placeOrderData:{paymentMethodData:N,extraParams:R}}=A,P=null!==(a=null===(t=null==A?void 0:A.apayState)||void 0===t?void 0:t.available)&&void 0!==a&&a,D=null!==(n=null==A?void 0:A.isPhonepeSdkAvailable)&&void 0!==n&&n,k=YS(S),x=String(S.paymentTxnId),{name:w}=N,{upiIntentUrl:M}=S,j=Of()&&vf();if((e=>e.postStatus===kS.PROCESSING)(S))return{orderId:x,paymentPartnerOrderId:k,isOrderProcessed:!0};Object(L.getBridgeSdk)().setScreenCaptureState({screenCapturingDisabled:!0}).catch(()=>{});try{if(jS(N)){const e=PI(N),t=e?Z:$;if(!A.useJuspaySDK||PS())return IS(A,t);const a=VS(N,R);a!==(null==R?void 0:R.cardBin)&&e&&Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.INCORRECT_CARD_BIN});const n={extraParams:R,cardBinNumber:a,orderAmount:String(null!==(o=null==S?void 0:S.primaryPaymentTransactionAmount)&&void 0!==o?o:S.orderTotal),method:N,juspayMeta:S.juspayMeta,tokenize:OS(N.meta,R),merchantId:(null===(r=A.juspayMeta)||void 0===r?void 0:r.merchantId)||"com.swiggy",returnUrl:j?".*.swiggy.com/swiggy-money(/[^/]*)?/payments.*":".*www.swiggy.com/justpay/response.*"};return R&&R.nickName&&(n.nickname=R.nickName),Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"orderHelperCard",paymentTxnId:x,orderId:S.orderId||"",paymentPartnerOrderId:k,webviewRefreshed:String(null===(i=null==A?void 0:A.webviewRefreshExtraParams)||void 0===i?void 0:i.webviewRefreshed)}),(null===(l=null==A?void 0:A.webviewRefreshExtraParams)||void 0===l?void 0:l.webviewRefreshed)||(yield Nf(A,oe.JUSPAY),yield e?function(e,t){return Object(L.getBridgeSdk)().payUsingJuspayNewCard({callbackUrl:window.location.href,juspayParams:Object.assign({orderId:e,orderAmount:t.orderAmount,merchantId:t.merchantId||"com.swiggy",paymentMethodType:"CARD",returnUrl:t.returnUrl,cardSecurityCode:Ke(t.extraParams.cvv)?null:t.extraParams.cvv,saveToLocker:t.extraParams.saveCard,cardNumber:t.extraParams.cardNumber,cardExpMonth:t.extraParams.month,nameOnCard:t.extraParams.name,cardExpYear:t.extraParams.year,cardBin:t.cardBinNumber,nickname:t.nickname||"",tokenize:t.tokenize},t.juspayMeta)})}(k,n):function(e,t){var a,n,o;const r=t.extraParams.oneClickCard?"000":null,i=Ke(t.extraParams.cvv)?r:t.extraParams.cvv,l=Object.assign({orderId:e,orderAmount:t.orderAmount,merchantId:t.merchantId||"com.swiggy",redirectAfterPayment:!0,paymentMethodType:"CARD",paymentMethod:null!==(a=t.method.meta.cardBrand)&&void 0!==a?a:"",returnUrl:t.returnUrl,cardSecurityCode:i,cardToken:UI(t.method),cardBin:t.cardBinNumber,nickname:t.nickname||"",tokenize:t.tokenize,saveToLocker:!!t.extraParams.oneClickCard||void 0},t.juspayMeta);return(null===(o=null===(n=t.method)||void 0===n?void 0:n.meta)||void 0===o?void 0:o.cvvMandatory)||delete l.cardSecurityCode,Object(L.getBridgeSdk)().payUsingJuspaySavedCard({callbackUrl:window.location.href,juspayParams:l})}(k,n),yield Pf()),{orderId:x,paymentPartnerOrderId:k}}if(BS(N)){if(!A.useJuspaySDK||PS())return IS(A,J);const e=(null===(c=A.juspayMeta)||void 0===c?void 0:c.merchantId)||"com.swiggy";if(Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"orderHelperNetbanking",paymentTxnId:x,orderId:S.orderId||"",paymentPartnerOrderId:k,webviewRefreshed:String(null===(d=null==A?void 0:A.webviewRefreshExtraParams)||void 0===d?void 0:d.webviewRefreshed)}),null===(u=null==A?void 0:A.webviewRefreshExtraParams)||void 0===u?void 0:u.webviewRefreshed)return{orderId:x,paymentPartnerOrderId:k};yield Nf(A,oe.NETBANKING),yield Object(L.getBridgeSdk)().payUsingJuspayNB({callbackUrl:window.location.href,juspayParams:Object.assign({orderId:k,merchantId:e,paymentMethodType:"NB",bankCode:N.nbCode,returnUrl:j?".*.swiggy.com/swiggy-money(/[^/]*)?/payments.*":".*www.swiggy.com/justpay/response.*"},S.juspayMeta)}),yield Pf()}else{if(B=N,[z.WALLET,z.WALLET_WEB].includes(B.groupName.toUpperCase())){let e;if((e=>"PHONEPE"===e.name.toUpperCase())(N)){if(D){const e=S.phonepeDebitRequisites;return yield Object(L.getBridgeSdk)().payUsingPhonepeSdk({orderId:k,phonePeData:{base64Body:null==e?void 0:e.base64Body,checksum:null==e?void 0:e.checksum,apiEndPoint:null==e?void 0:e.apiEndPoint,s2sCallBackUrl:null==e?void 0:e.s2SCallBackUrl,transactionId:null==e?void 0:e.transactionId,isPhonePeUpiFlow:!1}}),{orderId:x,paymentPartnerOrderId:k}}e=(e=>{var t,a;return null!==(a=null===(t=e.phonepeDebitRequisites)||void 0===t?void 0:t.webRedirectionUrl)&&void 0!==a?a:""})(S)}else{if(!US(N))return{orderId:x,paymentPartnerOrderId:k};if(P&&(e=>"AMAZONPAY"===e.paymentCode.toUpperCase())(N)){if(Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"orderHelperAmazonPay",paymentTxnId:x,orderId:S.orderId||"",paymentPartnerOrderId:k,amazonPayTransactionId:(null===(m=A.webviewRefreshExtraParams)||void 0===m?void 0:m.amazonPayTransactionId)||"",webviewRefreshed:String(null===(p=null==A?void 0:A.webviewRefreshExtraParams)||void 0===p?void 0:p.webviewRefreshed)}),null===(_=A.webviewRefreshExtraParams)||void 0===_?void 0:_.webviewRefreshed)return A.webviewRefreshExtraParams.amazonPayTransactionId?{orderId:x,paymentPartnerOrderId:k,processSdkFlow:!0,amazonPayTransactionId:A.webviewRefreshExtraParams.amazonPayTransactionId}:{orderId:x,paymentPartnerOrderId:k};{yield Nf(A,oe.AMAZONPAY);const e=yield Object(L.getBridgeSdk)().payUsingAmazonPay({state:"PROCEED_TO_PAY",data:{callbackUrl:window.location.href,walletParams:Object.assign({orderId:k,orderAmount:""},S.paymentMethodMeta)}});return yield Pf(),{orderId:x,paymentPartnerOrderId:k,processSdkFlow:!0,amazonPayTransactionId:null===(E=e)||void 0===E?void 0:E.transactionId}}}e=(e=>{var t,a;return null!==(a=null===(t=null==e?void 0:e.paymentMethodMeta)||void 0===t?void 0:t.paymentRedirectUrl)&&void 0!==a?a:""})(S)}if("string"!=typeof e||!af(e))throw new Error(uA);return{orderId:x,paymentPartnerOrderId:k,shouldRedirect:!0,redirectURI:e}}if(ev(N)){const e=S.phonepeDebitRequisites;yield Object(L.getBridgeSdk)().payUsingPhonepeSdk({orderId:k,phonePeData:{base64Body:null==e?void 0:e.base64Body,checksum:null==e?void 0:e.checksum,apiEndPoint:null==e?void 0:e.apiEndPoint,s2sCallBackUrl:null==e?void 0:e.s2SCallBackUrl,transactionId:null==e?void 0:e.transactionId,isPhonePeUpiFlow:!0,packageName:N.name}})}else if((e=>z.JUSPAY_WALLET===e.groupName.toUpperCase())(N)){const e=(null===(C=A.juspayMeta)||void 0===C?void 0:C.merchantId)||"com.swiggy";yield Object(L.getBridgeSdk)().payUsingJuspayWallet({callbackUrl:window.location.href,juspayParams:{orderId:k,paymentMethodType:N.name,returnUrl:"https://www.swiggy.com/justpay/response.php",clientAuthToken:null!==(y=null===(b=S.juspayWalletRedirectMeta)||void 0===b?void 0:b.clientAuthToken)&&void 0!==y?y:"",merchantId:e}})}else if(Qf(N)){if("string"!=typeof M||!M)throw new Error(uA);const e=(L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.platform)||"").toLowerCase(),t=Sf();if(Object(s.qb)(e)&&!Of()&&!zA.includes(t)){try{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"orderHelperUpi",paymentTxnId:x,orderId:S.orderId||"",paymentPartnerOrderId:k})}catch(e){}const e={state:L.CheckoutActionTypes.PAYMENT_TXN_STATUS_POLLER,infoObject:{order:S,placeOrderData:A.placeOrderData,startTime:Date.now()},paymentCode:oe.UPIINTENT};try{Object(L.setPersistOrderDataInLocalStorage)(e,L.SetDataSource.UPI_POLLER)}catch(e){}yield Object(L.getBridgeSdk)().saveUsersLastState(e).catch(()=>{})}yield Object(L.getBridgeSdk)().payUsingUpiIntent({callbackUrl:window.location.href,upiParams:{orderId:k,methodName:w,orderAmount:"",url:M}})}else if((e=>[z.CRED].includes(e.groupName.toUpperCase()))(N)){const e=(null===(g=A.juspayMeta)||void 0===g?void 0:g.merchantId)||"com.swiggy";yield Object(L.getBridgeSdk)().payUsingJuspayWalletCred({callbackUrl:window.location.href,juspayParams:{orderId:k,paymentMethodType:N.name,returnUrl:"https://www.swiggy.com/justpay/response.php",clientAuthToken:null!==(O=S.juspayMeta.juspayClientAuthToken)&&void 0!==O?O:"",merchantId:e}})}else if(oT(N)){const e=yield((e,t,a)=>vn(void 0,void 0,void 0,(function*(){const{juspayClientAuthToken:n}=e.juspayMeta;if(!Ke(n))return Promise.resolve({clientAuthToken:n});const o=a?MS:LS;return yield o(t)})))(A.order,f,I);yield function(e,t,a,n){var o;const{referenceId:r}=e.meta,{order:i,juspayMeta:l}=t;if(an(r)||an(n.extendedCustomerId)||an(null==i?void 0:i.primaryPaymentTransactionAmount))return Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.SWIGGY_UPI_PAYMENT_FAILURE,orderId:i.orderId,referenceId:r||"",extendedCustomerId:(null==n?void 0:n.extendedCustomerId)||"",primaryPaymentTransactionAmount:(null==i?void 0:i.primaryPaymentTransactionAmount)||""}),Promise.resolve();{const e=Object.assign(Object.assign({},n),{accountRefId:r,orderId:a,orderAmount:String(i.primaryPaymentTransactionAmount),merchantId:null!==(o=null==l?void 0:l.merchantId)&&void 0!==o?o:"com.swiggy"});return an(n.credOfferLayerDetails)||(e.credOfferLayerDetails=n.credOfferLayerDetails),Object(L.getBridgeSdk)().payUsingInAppUpi(e)}}(N,A,k,{clientAuthToken:e.clientAuthToken,tenant:f.tenant,extendedCustomerId:v,credOfferLayerDetails:T||{}})}else if((e=>[z.EMI].includes(e.groupName.toUpperCase()))(N)){const e=S.emiRedirectUrl;if(!af(e))throw Object(L.recordNREvent)({orderId:x,eventType:L.NEWRELIC_TABLES.EMI_PAYMENT_GROUP_ERROR,emiPaymentUrl:e||""},!1),new Error(uA);return{orderId:x,paymentPartnerOrderId:k,shouldRedirect:!0,redirectURI:e}}}return{orderId:x,paymentPartnerOrderId:k}}catch(e){return{orderId:x,paymentPartnerOrderId:k,status:(null===(h=e)||void 0===h?void 0:h.status)||xS.FAILURE}}var B}))})({processOrderData:m.payload,params:{apiHost:_,tenant:null!==(e=null==r?void 0:r.tenant)&&void 0!==e?e:""},extendedCustomerId:(null==o?void 0:o.extendedCustomerId)||"",credOfferLayerDetails:(null==r?void 0:r.credRewardsLayer)||{},isJuspayAuthTokenApiPublic:E}).then(e=>vn(void 0,void 0,void 0,(function*(){var o,r,c,E;if(!t.current)return;if(!e||!e.orderId)return void C();const{internalRedirect:g=!1,shouldRedirect:O=!1,redirectURI:h,orderId:A,paymentPartnerOrderId:f,isOrderProcessed:v,processSdkFlow:T,amazonPayTransactionId:I,redirectFn:S,status:N}=e,R=g||O&&h;if(null!=T&&T&&I)try{const e={order_id:f,payment_meta:{transactionIdType:"TRANSACTION_ID",transactionId:I},payment_method:n.paymentMethodData.name},a=Object(M.b)(u||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.WALLET_APIS,L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.AMAZON_PAY)?yield function(e,t){return vn(this,void 0,void 0,(function*(){return hA(yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:"/api/v3/amazonpay/sign-and-encrypt",bodyParams:Object.assign({},t),options:{method:"POST"}})).toPromise()}))}(_,e):yield function(e,t){return vn(this,void 0,void 0,(function*(){return hA(yield gA({apiHost:e,endpoint:"/api/v1/amazonpay/sign-and-encrypt",bodyParams:t,options:{method:"POST"}})).toPromise()}))}(_,e);if(a){const e=yield Object(L.getBridgeSdk)().payUsingAmazonPay({state:"CHECK_CHARGE_STATUS",data:Object.assign({},a)});if(e&&e.payment_meta){const a=Object.assign(Object.assign({order_id:f},e),{payment_method:n.paymentMethodData.name}),r=yield function(e){return vn(this,void 0,void 0,(function*(){return yield OA({apiHost:fN.PAYMENT_PRESENTATION_SERVICE_HOST,endpoint:"/api/callback/v1/amazonpay/validateTransaction",bodyParams:e,options:{method:"POST"}})}))}(a);(null==r?void 0:r.data)&&setTimeout(()=>{t.current&&p&&(Object(L.getBridgeSdk)().setScreenCaptureState({screenCapturingDisabled:!0}).catch(()=>{}),p({type:L.CheckoutActionTypes.CONFIRM_ORDER,payload:{orderId:A,isOrderProcessed:v,order:i,placeOrderData:n}}),d(!1))},null===(o=null==r?void 0:r.data)||void 0===o?void 0:o.confirmOrderPostDelay)}}}catch(e){Object(L.getBridgeSdk)().setScreenCaptureState({screenCapturingDisabled:!1}).catch(()=>{}),Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.AMAZONPAYSDK_FAILURES,errorName:e.name,errorMessage:e.message})}R||Object(L.getBridgeSdk)().setScreenCaptureState({screenCapturingDisabled:!1}).catch(()=>{});try{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"useProcessOrder",isRedirect:String(R),orderId:A,paymentPartnerOrderId:f||""})}catch(e){}if(R){!function(e,t){ZS.setItem(WA,e),ZS.setItem("swgy_checkout_state_key",JSON.stringify(t.type)),ZS.setItem("swgy_checkout_state_payload",JSON.stringify(t.payload)),ZS.setItem("is_swiggy_money_flow",String(Of())),Of()?ZS.setItem("swiggy_money_payment_amount",L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.paymentamount)):ZS.removeItem("swiggy_money_payment_amount")}(A,m),p({type:L.CheckoutActionTypes.SHOW_FULL_PAGE_LOADER});const e=function(e,t){return Of()?Mf(t):e||`${location.protocol}//${location.host}/checkout/order-received`}(null===(r=a.paymentReturnUrl)||void 0===r?void 0:r.unwrapOr(""),null===(c=a.addSwiggyMoneyReturnUrl)||void 0===c?void 0:c.unwrapOr(""));return qA({title:"MAKE PAYMENT",backURL:e,backAlert:_A}),O&&h&&(window.location.href=h),void(g&&S&&S())}if(t.current){const e=(e=>{var t;try{return null!==(t=e.placeOrderData.paymentMethodData.paymentCode)&&void 0!==t?t:""}catch(e){return Object(s.Z)(e),""}})(m.payload);if(ie.includes(e.toUpperCase()))if(Qf(n.paymentMethodData)&&N===xS.FAILURE)((e,t)=>{e({category:lT,action:"impression-upi-intent-payment-failed",context:JSON.stringify(t)})})(l,{processOrderStatus:N,upiAppName:(null===(E=null==n?void 0:n.paymentMethodData)||void 0===E?void 0:E.name)||"--"}),p({type:L.CheckoutActionTypes.CONFIRM_ORDER,payload:{orderId:A,isOrderProcessed:v,order:i,placeOrderData:n}});else if(Qf(n.paymentMethodData)&&N===xS.MWEB_UPI_APP_REDIRECT_FAILURE){Object(L.recordNREvent)({orderId:A,eventType:L.NEWRELIC_TABLES.MWEB_UPI_INTENT_REDIRECT_FAILURE,upiAppName:(null==y?void 0:y.displayName)||"--",upiIntentUrl:i.upiIntentUrl||"--"},!1),((e,t)=>{e({category:lT,action:"impression-mweb-upi-intent-redirect-failure",context:JSON.stringify(t)})})(l,{upiAppName:y.displayName||"--",upiIntentUrl:i.upiIntentUrl||"--"});const e=Object(s.hb)("{0} is not installed, please use a different option",y.displayName);p({type:L.CheckoutActionTypes.GENERIC_PAYMENT_TOAST,payload:{message:e,type:Le.ERROR}})}else p({type:L.CheckoutActionTypes.PAYMENT_TXN_STATUS_POLLER,payload:{order:i,placeOrderData:n,startTime:b}});else p({type:L.CheckoutActionTypes.CONFIRM_ORDER,payload:{orderId:A,isOrderProcessed:v,order:i,placeOrderData:n}});d(!1)}x.a.recordEnd(L.BLAZE_EVENTS.RECORD_PROCESS_ORDER_LOAD_TIME,{orderPaymentMethod:(null==y?void 0:y.paymentCode)||"",groupName:(null==y?void 0:y.groupName)||"",orderId:A})}))).catch(e=>{Object(L.getBridgeSdk)().setScreenCaptureState({screenCapturingDisabled:!1}).catch(()=>{}),sR({placeOrderData:n,orderId:String(i.orderId),totalBill:String(i.orderTotal),error:e,failInstance:lR.PROCESS}),Object(s.Z)(e),t.current&&(QA(),ZA(),C())})},[c,m,t,p,C,_,a.paymentReturnUrl,a.addSwiggyMoneyReturnUrl,r,l,null==o?void 0:o.extendedCustomerId,u,E]),[c]};function BP(e){const t=Object(i.useContext)(L.CheckoutContext),[a]=jP(t),[{placeOrderInProgress:n,placeOrderData:o},r,l]=TP(),s=Object(i.useMemo)(()=>({placeOrderData:o,placeOrderInProgress:n,processingOrder:a,doPlaceOrder:r,isPlaceOrderHookMounted:l}),[o,n,a,r,l]);return Object(i.createElement)(BR.Provider,{value:s},e.children)}const UP=l.a.createContext({linkWalletState:{mobileNumber:""},setLinkWalletState:()=>{}});function HP(e){const[t,a]=l.a.useState({mobileNumber:""}),n=l.a.useMemo(()=>({linkWalletState:t,setLinkWalletState:a}),[t]);return l.a.createElement(UP.Provider,{value:n},e.children)}const GP=l.a.createContext({isOneClickPromoHalfCardVisible:!1,updateOneClickHalfCardState:()=>{},isEligibleForOneClickPay:!1,oneClickEligibleCardGroup:null,defaultSelectedCardGroup:null}),YP={isOneClickPromoHalfCardVisible:!1,isEligibleForOneClickPay:!1,oneClickEligibleCardGroup:null,defaultSelectedCardGroup:null},WP=()=>{const{paymentResponse:e}=l.a.useContext(AR),{isSdkAvailable:t,featuresAvailability:a}=l.a.useContext(HR),[n,o]=l.a.useState(Object.assign({},YP)),r=l.a.useMemo(()=>!(!n.defaultSelectedCardGroup||!((e,t)=>RS(z.CARD,e,t))(t,a)),[a,t,n.defaultSelectedCardGroup]);l.a.useEffect(()=>{if(e){const t=(e=>{let t=RI(e,z.CARD);const a=(({cardGroup:e,preferredGroup:t})=>{var a,n,o,r;const i=null!==(n=null===(a=null==e?void 0:e.paymentMethods)||void 0===a?void 0:a.filter(e=>sS(e)))&&void 0!==n?n:[];return[...null!==(r=null===(o=null==t?void 0:t.paymentMethods)||void 0===o?void 0:o.filter(e=>e.groupName.toLowerCase()===z.CARD.toLowerCase()&&sS(e)))&&void 0!==r?r:[],...i]})({cardGroup:t,preferredGroup:RI(e,z.PREFERRED)});if(!t)return;t=Object.assign({},t),t.paymentMethods=a;const n=a.find(e=>!!e.meta.oneClickIsDefaultCard);return{defaultSelectedCardGroup:n?Object.assign(Object.assign({},t),{paymentMethods:[n]}):null,oneClickEligibleCardGroup:t}})(e);if(!t)return;o(e=>Object.assign(Object.assign({},e),{defaultSelectedCardGroup:t.defaultSelectedCardGroup,oneClickEligibleCardGroup:t.oneClickEligibleCardGroup,isEligibleForOneClickPay:!e.isOneClickPromoHalfCardVisible&&r}))}},[r,e]);const i=l.a.useCallback(()=>{o(e=>Object.assign(Object.assign({},e),{isOneClickPromoHalfCardVisible:!e.isOneClickPromoHalfCardVisible,isEligibleForOneClickPay:!e.isOneClickPromoHalfCardVisible&&r}))},[r]);return Object.assign(Object.assign({},n),{updateOneClickHalfCardState:i})},FP=({children:e})=>{const t=WP();return l.a.createElement(GP.Provider,{value:t},e)},VP="Received empty data while fetching juspay client auth token",KP=(e,t,a)=>{const n=Object(s.Gb)(),o=Of()?"sm_juspay_sdk_state":"juspay_sdk_state",[r,l]=Object(L.useSessionStorage)(o,{}),[c,d]=Object(i.useState)(!1),u=Object(i.useContext)(L.ApiContext).host.unwrap(),m=Object(i.useRef)(!1),[p,_]=Object(i.useState)(!1),E=Object(i.useContext)(L.PublicApiContext),C=Object(M.b)(E||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.PAYMENT_APIS,L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.JUSPAY_CLIENT_TOKEN)?MS:LS,b=Object(i.useCallback)(e=>vn(void 0,void 0,void 0,(function*(){return((e,t,a)=>vn(void 0,void 0,void 0,(function*(){const n=Of()&&!vf();if(!Object(L.isNonEmptyString)(t)||n)return{isSdkAvailable:!1};const o=yield Object(L.getBridgeSdk)().isJuspaySdkAvailable(Object.assign(Object.assign({},e),{forceEnableSDK:a,merchantId:t}));return o&&o.isAvailable?Object(L.getBridgeSdk)().initJuspaySdk(Object.assign(Object.assign({},e),{forceEnableSDK:a,merchantId:t,environment:"prod"}),2e4).then(e=>({isSdkAvailable:!0,featuresAvailability:o.featuresAvailability||void 0})).catch(e=>(Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.JUSPAY_SDK_NOT_AVAILABLE,failInstance:Hf.INIT}),{isSdkAvailable:!1})):(Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.JUSPAY_SDK_NOT_AVAILABLE,failInstance:Hf.AVAILABLE}),{isSdkAvailable:!1})})))(e,t,a).catch(e=>(Object(s.Z)(e),{isSdkAvailable:!1})).then(e=>e)})),[a,t]),y=Object(i.useCallback)(()=>vn(void 0,void 0,void 0,(function*(){m.current=!0,d(!0);try{_(!0);const t=yield C({apiHost:u,tenant:e});if(Ke(t))throw new Error(VP);const{isSdkAvailable:a,featuresAvailability:n}=yield b(t);l({isSdkAvailable:a,clientAuthTokenData:t,featuresAvailability:n}),_(!1),m.current=!1}catch(e){m.current=!1,_(!1),Object(s.Z)(e)}})),[u,b,e]),g=Object(i.useCallback)(()=>vn(void 0,void 0,void 0,(function*(){try{const t=yield C({apiHost:u,tenant:e});if(Ke(t))throw new Error(VP);const{isSdkAvailable:a,featuresAvailability:n}=yield b(t);return l({isSdkAvailable:a,clientAuthTokenData:t,featuresAvailability:n}),t}catch(e){Object(s.Z)(e)}})),[u,b,e,C]);return Object(i.useEffect)(()=>{n.current&&!m.current&&Ke(r)&&!c&&y()},[y,m,n,r,c]),Object.assign(Object.assign({},r),{isSdkAvailable:!!r.isSdkAvailable,fetchingJuspaySdk:p,fetchJuspayClientAuthToken:g})},zP={fetchState:0,linkStatus:1,balance:0,isOldWalletLinkFlow:!1,mobileNumber:""};var $P;function XP(e,t){var a,n,o;switch(t.type){case $P.REQUEST:return Object.assign(Object.assign({},e),{[t.name]:Object.assign(Object.assign({},null!==(a=e[t.name])&&void 0!==a?a:{}),{fetchState:1})});case $P.SUCCESS:return Object.assign(Object.assign({},e),{[t.name]:Object.assign(Object.assign(Object.assign({},null!==(n=e[t.name])&&void 0!==n?n:{}),t.payload),{fetchState:3})});case $P.ERROR:return Object.assign(Object.assign({},e),{[t.name]:Object.assign(Object.assign({},null!==(o=e[t.name])&&void 0!==o?o:{}),{fetchState:2})})}}!function(e){e[e.REQUEST=0]="REQUEST",e[e.SUCCESS=1]="SUCCESS",e[e.ERROR=2]="ERROR"}($P||($P={}));const JP={linkStatus:1,balance:0,isOldWalletLinkFlow:!1,mobileNumber:""};function ZP(e){return e.reduce((e,t)=>(e[t.name]=Object.assign(Object.assign({},zP),{fetchState:aI(t)?3:0,payableAmount:null==t?void 0:t.payableAmount}),e),{})}const qP={fetchState:2,balance:0};var QP;function eD(e,t){var a,n,o;switch(t.type){case QP.REQUEST:return Object.assign(Object.assign({},e),{[t.name]:Object.assign(Object.assign({},null!==(a=e[t.name])&&void 0!==a?a:{}),{fetchState:0})});case QP.SUCCESS:return Object.assign(Object.assign({},e),{[t.name]:Object.assign(Object.assign(Object.assign({},null!==(n=e[t.name])&&void 0!==n?n:{}),t.payload),{fetchState:2})});case QP.ERROR:return Object.assign(Object.assign({},e),{[t.name]:Object.assign(Object.assign({},null!==(o=e[t.name])&&void 0!==o?o:{}),{fetchState:1})})}}!function(e){e[e.REQUEST=0]="REQUEST",e[e.SUCCESS=1]="SUCCESS",e[e.ERROR=2]="ERROR"}(QP||(QP={}));const tD=(e,t="")=>{var a,n;return(null===(n=null===(a=null==e?void 0:e.filter(e=>null==e?void 0:e.select))||void 0===a?void 0:a.map(e=>eO(e)))||void 0===n?void 0:n.toString())||t};function aD(e){return vn(this,void 0,void 0,(function*(){return hA(yield gA({apiHost:e,endpoint:"/api/v1/get-sodexo-balance",options:{}})).unwrapOrElse(()=>[])}))}function nD(e){return vn(this,void 0,void 0,(function*(){return hA(yield gA({apiHost:e,endpoint:"/api/v1/get-all-cards",options:{}})).toPromise()}))}function oD(e,t){return vn(this,void 0,void 0,(function*(){let a="";(Of()||vf())&&(a=an(s.T.getItem("gift-details",null))?dN.SELFLOAD:dN.VOUCHER);const n={cardBin:t,workflow:a};return hA(yield gA({apiHost:e,endpoint:"/api/v1/get-card-details",searchParams:n,options:{}})).unwrapOrElse(()=>null)}))}function rD(e,t,a){return vn(this,void 0,void 0,(function*(){return hA(yield gA({apiHost:e,endpoint:"/api/v1/get-card-offer",bodyParams:{cardBin:t,withoutSplitPay:a},options:{method:"POST"}})).unwrapOrElse(()=>null)}))}function iD(e,t){return vn(this,void 0,void 0,(function*(){return yield gA({apiHost:e,endpoint:"/api/v1/delete-card",bodyParams:{cardReference:t},options:{method:"POST"}})}))}function lD(e,t){return vn(this,void 0,void 0,(function*(){return yield gA({apiHost:e,endpoint:"/api/v1/update-card",bodyParams:{cardDetail:t},options:{method:"POST"}})}))}function sD(e){return vn(this,void 0,void 0,(function*(){return(yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:"/api/v3/get-sodexo-balance",options:{}})).data}))}function cD(e){return vn(this,void 0,void 0,(function*(){return(yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:"/api/v3/get-all-cards",options:{}})).data}))}function dD(e,t){return vn(this,void 0,void 0,(function*(){let a="";const n=Object(s.hb)("/api/v3/get-card-details/{0}",t);(Of()||vf())&&(a=an(s.T.getItem("gift-details",null))?dN.SELFLOAD:dN.VOUCHER);const o={workflow:a};return(yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:n,searchParams:o})).data}))}function uD(e,t,a){return vn(this,void 0,void 0,(function*(){const n=L.GlobalHeaderState.getHeaders(),o=(r=UN(n),{[Oe.SWIGGY_MONEY]:he.SWIGGY_MONEY,[Oe.DASH]:he.DASH,[Oe.DINEOUT]:he.DINEOUT}[r]||"");var r;const i={};return o&&(i.m_id=o),(yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:"/api/v3/get-card-offer",bodyParams:{card_bin:t,without_split_pay:a||!1},options:{method:"POST",headers:i}})).data}))}function mD(e,t){return vn(this,void 0,void 0,(function*(){return yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:"/api/v3/delete-card",bodyParams:{card_reference:t},options:{method:"POST"}})}))}function pD(e,t){return vn(this,void 0,void 0,(function*(){return yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:"/api/v3/update-card",bodyParams:{card_ref:t.cardRef,customer_id:t.customerId,name_on_card:t.nameOnCard,nickname:t.nickName},options:{method:"POST"}})}))}function _D(e){return e.reduce((e,t)=>(e[t]=Object.assign(Object.assign({},qP),{fetchState:0}),e),{})}const ED={cardReference:"--",cardBalance:"--"};function CD(e){const t=Object(s.Gb)(),{host:a}=Object(i.useContext)(L.ApiContext),n=Object(i.useContext)(L.PublicApiContext),o=Object(i.useMemo)(()=>{return[...zI((t=e.paymentResponse).paymentGroup,z.FOOD_CARD),...zI(t.paymentGroup,z.CARD)].filter(WI);var t},[e.paymentResponse]),r=Object(i.useMemo)(()=>o.reduce((e,t)=>{const a=HI(t);return 0===a.length?e:[...e,a]},[]),[o]),[l,c]=Object(i.useReducer)(eD,r,_D),d=Object(i.useMemo)(()=>Object(M.b)(n||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.CARDS_JUSPAY_APIS,L.CARD_API_KEYS.GET_SODEXO_BALANCE),[n]);return Object(i.useEffect)(()=>{e.isTurboPaymentMethod||0===r.length||function(e,t){return vn(this,void 0,void 0,(function*(){return(t?sD:aD)(e).then(e=>e.map(e=>({cardReference:e.cardReference,response:We(null!=e?e:ED)}))).catch(e=>(Object(s.Z)(e),null))}))}(a.unwrap(),d).then(e=>{t.current&&e&&function(e){const{cardReferences:t,cardResponse:a,dispatch:n}=e;t.forEach(e=>{const t=a.find(t=>t.cardReference===e);t?t.response.match({ok:t=>{const a=Object.assign(Object.assign({},t),{balance:Number(t.cardBalance)||0});n({name:e,type:QP.SUCCESS,payload:a})},err:()=>n({name:e,type:QP.ERROR})}):n({name:e,type:QP.ERROR})})}({cardResponse:e,cardReferences:r,dispatch:c})}).catch(e=>{t.current&&Object(s.Z)(e)})},[r,a,t,e.isTurboPaymentMethod,d]),l}function bD(e,t){return vn(this,void 0,void 0,(function*(){return t?function(e){return vn(this,void 0,void 0,(function*(){const t=yield function(e){return vn(this,void 0,void 0,(function*(){return yield Object(L.makeDownstreamApiCall)({apiHost:e,endpoint:"/api/v3/get-banks-list",options:{method:"GET"}})}))}(e);return Object(M.c)(t).toPromise()}))}(e).then(e=>Be(e)):function(e){return vn(this,void 0,void 0,(function*(){return hA(yield gA({apiHost:e,endpoint:"/api/v1/get-banks-list"})).toPromise()}))}(e).then(e=>{if(null==e)throw new Error("Received empty data from get banks list");return Be(e)}).catch(e=>(console.error(e),je))}))}const yD=({paymentResponse:e,clientAuthToken:t,isSdkAvailable:a,withSplitPay:n,amountToPay:o})=>{const[r,l]=Object(i.useState)(!1),[c,d]=Object(L.useSessionStorage)("cred_eligibility_data",null),[u,m]=Object(L.useSessionStorage)("cred_eligibility_data_with_splitpay",null),p=Object(s.Gb)(),{impressionEvent:_}=Object(i.useContext)(L.AnalyticsContext),E=Object(i.useMemo)(()=>function(e,t,a){return e&&((e,t)=>{if(e.filter(e=>e.groupName.toUpperCase()===t).some(e=>e.groupName.toUpperCase()===t&&1==e.enabled))return!0;const a=e.find(e=>II(e)||ZT(e));return null!=a&&a.paymentMethods.some(e=>e.groupName.toUpperCase()===t&&1==e.enabled)})(a,z.CRED)&&!Ke(t)}(a,t,e.paymentGroup),[a,e.paymentGroup,t]),C=Object(i.useMemo)(()=>((e,t,a)=>e&&null!==t?t.bannerText:e||null===a?"":a.bannerText)(n,u,c),[c,u,n]),b=Object(i.useCallback)((a,n)=>vn(void 0,void 0,void 0,(function*(){var o;p.current&&(l(!0),Object(L.getBridgeSdk)().getCredEligibility({clientAuthToken:t||"",merchantId:null===(o=e.juspayMeta)||void 0===o?void 0:o.merchantId,amount:a,mobileNumber:""},8e3).catch(()=>{l(!1)}).then(e=>{null!=e&&((n?m:d)({isEligible:(null==e?void 0:e.isEligible)||!1,bannerText:(null==e?void 0:e.bannerText)||""}),l(!1))}))})),[t,p,e.juspayMeta]);return Object(i.useEffect)(()=>{p.current&&E&&(null==c&&!n||null==u&&n)&&((e=>{e({category:lT,action:"checking_eligibility_status"})})(_),b(o,n))},[o,E,b,_,p,c,u,n]),{isEligible:(null==c?void 0:c.isEligible)||!1,bannerText:C,isOfferLoading:r}};var gD;function OD(e,t){switch(t.type){case gD.REQUEST:return Object.assign(Object.assign({},e),{fetchState:0,otherInfo:void 0});case gD.SUCCESS:return Object.assign(Object.assign({},t.payload),{fetchState:2});case gD.ERROR:return Object.assign(Object.assign({},e),{fetchState:1})}}!function(e){e[e.REQUEST=0]="REQUEST",e[e.SUCCESS=1]="SUCCESS",e[e.ERROR=2]="ERROR"}(gD||(gD={}));const hD=(e,t,a)=>{const n=Object(s.Gb)(),{host:o}=Object(i.useContext)(L.ApiContext),[r,l]=Object(i.useReducer)(OD,{}),c=Object(i.useMemo)(()=>NS(e),[e]),[d,u]=Object(i.useState)(),m=Object(i.useMemo)(()=>ZI(e.paymentGroup,z.NATIVE_UPI),[e]),p=t&&m,_=0===r.fetchState,E=Object(i.useCallback)(t=>{if(null==e)return!0;const a=[...OI(n=e.paymentGroup).match({none:[],some:e=>{var t;return null!==(t=e.paymentMethods)&&void 0!==t?t:[]}}),...Uf(n).match({none:[],some:e=>e.paymentMethods.filter(gI)})];var n;return!function(e,t){return e.length===t.length&&e.every(e=>t.some(t=>e.account.referenceId===t.meta.referenceId))}(t.vpaAccounts,a)},[e]),C=Object(i.useCallback)(e=>{E(e)&&function(e,t){vn(this,void 0,void 0,(function*(){return hA(yield gA({apiHost:e,endpoint:"/api/v1/juspay/update-native-upi-user",bodyParams:Object.assign({},t),options:{method:"POST"}})).toPromise()}))}(o.unwrap(),e)},[o,E]),b=Object(i.useCallback)((e,t)=>{e===Gf.FETCH_STATUS&&u(t)},[]),y=Object(i.useCallback)(e=>vn(void 0,void 0,void 0,(function*(){var o;if(t&&null!=a&&null!=c&&null!=n.current&&!_)try{l({type:gD.REQUEST}),b(e,0);const t=yield function(e,t){return vn(this,void 0,void 0,(function*(){const a=(e=>{const{onAddNewNativeUpi:t,onboardNativeUpi:a,getNativeUpiAccountList:n}=Object(L.getBridgeSdk)();switch(e){case Gf.ADD_ACCOUNT:return t;case Gf.FETCH_STATUS:return n;case Gf.ONBOARDING:return a}})(t);if(null==a)return Promise.reject();const n=yield a(e);return null==n||function(e,t){return!0===e.error&&(Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.NATIVE_UPI_NR_EVENTS_SDK_ERROR,requestType:t,errorCode:e.errorCode,errorMessage:e.errorMessage}),!0)}(n,t)?null!=(o=n)&&o.error&&"JP_018"===o.errorCode?Promise.resolve(Kf):Promise.reject():Promise.resolve(n);var o}))}(Object.assign({merchantId:c},a),e),r=null==t?void 0:t.payload.sessionTokenResponse;if(null==n.current)return;if(null==r)throw new Error("Received null data from native upi intent request");const i=(delete(o=r).customerMobileNumber,o.vpaAccounts.forEach(e=>{delete e.vpa}),o);return C(i),l({type:gD.SUCCESS,payload:{juspayNativeUpiData:i,otherInfo:null==t?void 0:t.payload.otherInfo}}),b(e,2),Promise.resolve(i)}catch(t){if(null==n.current)return;return l({type:gD.ERROR}),b(e,1),Promise.reject()}})),[a,n,_,t,c,l,C,b]);return Object(i.useEffect)(()=>{p&&!_&&null==d&&y(Gf.FETCH_STATUS)},[p,y,d,_]),{makeNativeUpiRequest:y,nativeUpiFetchStatus:d,juspayNativeUpiState:r}},AD=(e,t,a)=>{const n=Object(s.Gb)(),{reloadPayments:o}=Object(i.useContext)(AR),{setCheckoutState:r}=Object(i.useContext)(L.CheckoutContext),l=Object(i.useMemo)(()=>NS(e),[e]),c=Object(i.useMemo)(()=>{var t;return null!==(t=null==e?void 0:e.tenant)&&void 0!==t?t:""},[null==e?void 0:e.tenant]),d=Object(i.useCallback)(()=>vn(void 0,void 0,void 0,(function*(){var t,a;if(null==e)return{discrepancy:!1};const n=Be(e.paymentGroup.find(nT));if(n.isNone())return{discrepancy:!1};const o=null===(a=null===(t=n.unwrap())||void 0===t?void 0:t.meta)||void 0===a?void 0:a.inappUpiAccountsHash;if(null!=o){const e=yield Object(L.getBridgeSdk)().getInAppUpiHash({}),t=null==e?void 0:e.inAppUPIAccountsHash;if(t!==o)return{discrepancy:!0,inAppUpiHash:o,sdkInAppUpiHash:t}}return{discrepancy:!1}})),[e]);Object(s.Db)(()=>{vn(void 0,void 0,void 0,(function*(){const e=yield d();e.discrepancy&&Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.SWIGGY_UPI_ACCOUNTS_MISMATCH,paymentInAppUpiHash:(null==e?void 0:e.inAppUpiHash)||"",sdkInAppUpiHash:(null==e?void 0:e.sdkInAppUpiHash)||""})}))});const u=Object(i.useMemo)(()=>!t||null==a||null==l||null==c||null==n.current,[a,n,t,l,c]);return{makeInAppUpiRequest:Object(i.useCallback)(e=>vn(void 0,void 0,void 0,(function*(){var i;if(u)return Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.SWIGGY_UPI_SDK_ERROR,isSdkAvailable:String(t),clientAuthToken:(null==a?void 0:a.clientAuthToken)||"",extendedCustomerId:(null==a?void 0:a.extendedCustomerId)||"",merchantId:l,tenant:c}),void r({type:L.CheckoutActionTypes.GENERIC_PAYMENT_TOAST,payload:{message:"Oops! Something went wrong. Please try again",type:Le.ERROR}});try{if(null!=a){const t=yield function(e,t){return vn(this,void 0,void 0,(function*(){const a=(e=>{const{addNewInAppUpi:t,initiateInAppUpiOnboarding:a}=Object(L.getBridgeSdk)();switch(e){case aT.ADD_ACCOUNT:return t;case aT.ONBOARDING:return a}})(t);if(null==a)return Promise.reject();const n=yield a(e);return null!=n?Promise.resolve(n):Promise.reject()}))}(Object.assign({merchantId:l,tenant:c},a),e),s=null==t?void 0:t.selectedAccount,d=null!==(i=null==t?void 0:t.showSuccessToast)&&void 0!==i&&i;if(null==n.current)return;return an(s)?(d&&r({type:L.CheckoutActionTypes.GENERIC_PAYMENT_TOAST,payload:{message:"Your Swiggy UPI account has been successfully created",type:Le.INFO}}),void o()):Promise.resolve(s)}}catch(e){if(null==n.current)return;return Promise.reject()}})),[a,n,t,l,o,r,u,c]),isSdkAvailableForInAppUpi:t}},fD=({paymentResponse:e,children:t,isTurboPaymentMethod:a})=>{var n;const[o,r]=Object(L.useSessionStorage)(s.M.WITH_COUPON,e.couponApplied),{withSplitPay:c,setSplitPayMethods:d,splitPayMethods:u,showSplitPay:m}=((e,t)=>{const a=tD(e.splitpayList,tN.DEFAULT),[n,o]=Object(L.useSessionStorage)("splitpay_method",a);Object(s.Db)(()=>{o(a)});const r=Object(i.useMemo)(()=>{const a=!(null==(n=e.splitpayList)?void 0:n.some(e=>null==e?void 0:e.enabled));var n;const o=!(e=>(null==e?void 0:e.some(e=>null==e?void 0:e.couponApplicable))||!1)(e.splitpayList);return!(a||t&&o)},[e.splitpayList,t]);return{withSplitPay:!Object(s.ub)(n)&&n!==tN.DEFAULT,showSplitPay:r,splitPayMethods:n,setSplitPayMethods:o}})(e,o),p=(()=>{const e=Object.keys(z),[t,a]=Object(i.useState)(()=>e.reduce((e,t)=>(e[t.toUpperCase()]=!0,e),{}));return{setPaymentGroupShowMoreCtaState:Object(i.useCallback)((n,o)=>{if(-1===e.indexOf(n.toUpperCase()))return;const r=Object.assign(Object.assign({},t),{[n.toUpperCase()]:o});a(r)},[t,e]),paymentGroupShowMoreCtaState:t}})(),_=(e=>{const{tenant:t,paymentGroup:a}=e,n=Object(i.useMemo)(()=>NS(e),[e]),o=Object(i.useMemo)(()=>hI(a),[a]),r=Object(i.useMemo)(()=>ZI(a,z.CRED),[a]),l=Object(i.useMemo)(()=>o||r,[o,r]),{isSdkAvailable:s,clientAuthTokenData:c,featuresAvailability:d,fetchingJuspaySdk:u,fetchJuspayClientAuthToken:m}=KP(t,n,l),p=Object(i.useMemo)(()=>s&&ZI(a,z.JUSPAY_WALLET),[s,a]);return Object(i.useEffect)(()=>{if(p&&null!=c){const{clientAuthToken:e,clientAuthTokenExpiry:t}=c;(({clientAuthToken:e,clientAuthTokenExpiry:t,merchantId:a})=>{vn(void 0,void 0,void 0,(function*(){return!!e&&Object(L.getBridgeSdk)().initJuspaySdkWallet({clientAuthToken:e,clientAuthTokenExpiry:t,merchantId:a},2e4).then(e=>!0).catch(e=>!1)}))})({clientAuthToken:e,clientAuthTokenExpiry:t,merchantId:n})}},[p,c,n]),{clientAuthTokenData:c,isSdkAvailable:!!s,featuresAvailability:d,fetchingJuspaySdk:u,fetchJuspayClientAuthToken:m}})(e),E=Object(i.useMemo)(()=>RS(z.NATIVE_UPI,_.isSdkAvailable,_.featuresAvailability),[_.isSdkAvailable,_.featuresAvailability]),C=hD(e,E,_.clientAuthTokenData),b=Object(i.useMemo)(()=>RS(z.INAPP_UPI,_.isSdkAvailable,_.featuresAvailability),[_.isSdkAvailable,_.featuresAvailability]),y=AD(e,b,_.clientAuthTokenData),g=Object(i.useMemo)(()=>av(e),[e]),{availableUpiIntentMethods:O,upiIntentMethodFetchInProgress:h}=((e,t,a)=>{var n;const o=Object(s.Gb)();let r;r=Of()?"sm_upi_intent_available_methods":t?"turbo_upi_intent_available_methods":"upi_intent_available_methods";const[l,c]=Object(L.useSessionStorage)(r,null),[d,u]=Object(i.useState)("notInitialted"),m=Object(i.useCallback)(()=>{nv(e).catch(e=>(Object(s.Z)(e),[])).then(e=>{if(o.current){const t=rv(a,e);s.T.setItem(s.M.THIRD_PARTY_UPI_INTENT_APPS_DETAILS,t.thirdPartyUpiIntentAppsDetails),c({availableMethods:t.sortedUpiApps}),u(!1)}})},[o,e,a,c]),p=Object(i.useCallback)(()=>{kI(e).catch(e=>(Object(s.Z)(e),[])).then(e=>{o.current&&(c({availableMethods:e}),u(!1))})},[o,e,c]);return Object(i.useEffect)(()=>{null!=l&&"notInitialted"===d&&u(!1),null==l&&!0!==d&&(u(!0),(null==a?void 0:a.shouldShowThirdPartyUpiIntentApps)?m():p())},[l,d,m,p,null==a?void 0:a.shouldShowThirdPartyUpiIntentApps]),{availableUpiIntentMethods:null!==(n=null==l?void 0:l.availableMethods)&&void 0!==n?n:[],upiIntentMethodFetchInProgress:d}})(g,a,e),A=Object(i.useMemo)(()=>({availableMethods:O,upiIntentMethodFetchInProgress:h}),[O,h]),f=function({paymentResponse:e}){const t=Object(s.Gb)(),{host:a}=Object(i.useContext)(L.ApiContext),n=Object(i.useContext)(L.PublicApiContext),o=Object(i.useMemo)(()=>{return[...zI(t=e.paymentGroup,z.WALLET),...zI(t,z.WALLET_WEB)];var t},[e.paymentGroup]),[r,l]=Object(i.useReducer)(XP,o,ZP),c=a.unwrap(),d=Object(i.useCallback)(e=>Object(M.b)(n||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.WALLET_APIS,e.toLowerCase()),[n]),u=Object(i.useCallback)(e=>vn(this,void 0,void 0,(function*(){const a=o.find(t=>t.name===e);if(!a)return;const n=d(a.name.toLowerCase());l({type:$P.REQUEST,name:e});const r=yield function(e,t,a=!1){return vn(this,void 0,void 0,(function*(){try{if(t.balanceInfo){const e=(e=>({linkStatus:e.isLinked?0:3,balance:e.balance,isOldWalletLinkFlow:e.isOldWalletLinkFlow,mobileNumber:e.mobileNumber}))(t.balanceInfo);return{name:t.name,response:We(e)}}const n=a?kP:NP,o=yield n(e,t.name);return{name:t.name,response:We(null!=o?o:JP)}}catch(e){return{name:t.name,response:Fe(e)}}}))}(c,a,n);t.current&&function({name:e,response:t},a){t.match({ok:t=>{const n=Object.assign(Object.assign({},t),{balance:Number(t.balance)||0});a({name:e,type:$P.SUCCESS,payload:n})},err:()=>a({name:e,type:$P.ERROR})})}(r,l)})),[c,t,o,d]);return Object(i.useMemo)(()=>({setState:l,state:r,refetch:u}),[r,u])}({paymentResponse:e}),v=function(e){const t=Object(s.Gb)(),{host:a}=Object(i.useContext)(L.ApiContext),{checkoutState:n}=Object(i.useContext)(L.CheckoutContext),o=Object(i.useMemo)(()=>a.unwrap(),[a]),r=Object(i.useMemo)(()=>zI(e.paymentGroup,z.PAY_LATER),[e]),[l,c]=Object(i.useReducer)(sv,r,Mv),d=Object(i.useContext)(L.PublicApiContext),u=Object(i.useCallback)(e=>vn(this,void 0,void 0,(function*(){const a=r.find(t=>t.name===e);if(!a)return;let n;c({type:lv.REQUEST,name:e});const i=Object(M.b)(d||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.PAYLATER_APIS,a.paymentCode);n=a.enabled?yield xv(o,{name:a.name,paymentCode:a.paymentCode,payableAmount:a.payableAmount,meta:a.meta},void 0,i):{name:a.name,response:We({linked:!1})},t.current&&wv(n,c)})),[o,t,r,d]);return Object(i.useEffect)(()=>{r.map(e=>{const t=Object(M.b)(d||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.PAYLATER_APIS,e.paymentCode);return xv(o,e,null==n?void 0:n.type,t)}).forEach(e=>{e.then(e=>{t.current&&wv(e,c)}).catch(s.Z)})},[t,o,r,null==n?void 0:n.type,d]),{paylaterState:l,setPaylaterState:c,refetchPaylaterLinkStatus:u}}(e),T=CD({paymentResponse:e,isTurboPaymentMethod:a}),I=((e,t)=>{const a=Object(i.useContext)(L.ApiContext),{cachePaymentData:n}=Object(i.useContext)(L.ConfigContext),o=Object(i.useRef)(!1),r=Object(s.Gb)(),l=Of()?"sm_more_banks_list":"more_banks_list",[c,d]=Object(L.useSessionStorage)(l,null),[u,m]=Object(i.useState)(!0),[p,_]=Object(i.useState)([]),E=a.host.unwrap(),C=null==n?void 0:n.unwrapOr(!0),b=Object(i.useContext)(L.PublicApiContext),y=Object(i.useMemo)(()=>Object(M.b)(b||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.PAYMENT_APIS,L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.GET_BANKS_LIST),[b]);return Object(i.useEffect)(()=>{if(e||p.length>0)return void m(!1);if(c&&u)return m(!1),void _(c);const a=t?RI(t,z.NETBANKING):void 0;null!=a&&a.enabled&&u&&!o.current&&(o.current=!0,bD(E,y).then(e=>{if(o.current=!1,r.current){const t=e.isSome()?e.unwrap().bankList:null;C&&d(t),m(!1),_(null!=t?t:Xf)}}).catch(()=>{o.current=!1,r.current&&(C&&d(null),m(!1),_(Xf))}))},[c,C,E,r,d,t,u,p,e,y]),{bankList:p}})(a,e),S=o&&!0===e.couponApplied,N=c&&m,R=Object(i.useCallback)(t=>{r(t);const a=tD(e.splitpayList);d(a)},[e.splitpayList,r,d]),P=Object(i.useMemo)(()=>Number(GI(e,S).unwrapOr(""))||0,[e,S]),D=Object(i.useMemo)(()=>Number(GI(e,S,N).unwrapOr(""))||0,[e,S,N]),k=Object(i.useMemo)(()=>Number(GI(e,!1,!1).unwrapOr(""))||0,[e]),x=Object(i.useMemo)(()=>RS(z.CRED,_.isSdkAvailable,_.featuresAvailability),[_.isSdkAvailable,_.featuresAvailability]),w=Object(i.useMemo)(()=>{return t=e,(Af()||hf())&&!!(null==t?void 0:t.paymentPageOfferEnabled);var t},[e]),j=yD({paymentResponse:e,clientAuthToken:null===(n=_.clientAuthTokenData)||void 0===n?void 0:n.clientAuthToken,isSdkAvailable:x,withSplitPay:c,amountToPay:String(D)}),B=((e,t)=>{const a=Object(s.Gb)(),[n,o]=Object(L.useSessionStorage)("apay_sdk",null),[r,l]=Object(i.useState)(!1),c=(e=>{const t=eI(e.paymentGroup,"AMAZONPAY");return!t.isNone()&&t.unwrap().enabled})(e);return Object(i.useEffect)(()=>{if(!qa(e)||!c||null!=n||r)return;l(!0);const i=Object(L.getBridgeSdk)();i.payUsingAmazonPay({state:"IS_AMAZON_SDK_AVAILABLE"},2e3).catch(()=>(l(!1),{available:!1,linked:!1,isBalanceSufficient:!1})).then(e=>{if(a.current){const n=e;if(!n||!n.isAmazonSdkAvailable)return o({available:!1,linked:!1,isBalanceSufficient:!1}),void l(!1);const r={state:"GET_BALANCE",data:{methodName:"AMAZONPAY"}};i.payUsingAmazonPay(r,2e4).catch(()=>({available:!0,linked:!1,isBalanceSufficient:!1})).then(e=>{if(a.current){const a=e;let n=!1;a&&a.linked&&a.balance&&(n=Number(a.balance)>=t),o(Object.assign(Object.assign({},e),{isBalanceSufficient:n,available:!0})),l(!1)}})}})},[a,n,o,r,c,t,e]),{state:n,setState:o,sdkFetchInProgress:r}})(e,D),U=(()=>{var e;const t=Object(s.Gb)(),[a,n]=Object(L.useSessionStorage)("phonepe_sdk_available",null),[o,r]=Object(i.useState)(!1);return Object(i.useEffect)(()=>{null!=a||o||(r(!0),vn(void 0,void 0,void 0,(function*(){const e=(L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.platform)||"").toLowerCase();if(Object(s.qb)(e)){const e=yield Object(L.getBridgeSdk)().isPhonepeSdkAvailable();if(!Ke(e)&&(null==e?void 0:e.isAvailable))return!0}return!1})).catch(e=>(Object(s.Z)(e),!1)).then(e=>{t.current&&(n({available:e}),r(!1))}))},[t,a,n,o]),null!==(e=null==a?void 0:a.available)&&void 0!==e&&e})(),H=Object(i.useMemo)(()=>({isPhonepeSdkAvailable:U}),[U]),G=(()=>{const[e,t]=Object(i.useState)(!1),[a,n]=Object(i.useState)({type:WR.MOVING_TRAY});return{isLoading:e,setLoaderState:Object(i.useCallback)((e,a)=>{t(e),e&&n(null!=a?a:{type:WR.MOVING_TRAY})},[]),loaderData:a}})(),Y=Object(i.useMemo)(()=>(null==e?void 0:e.rewardsEnabled)||!1,[null==e?void 0:e.rewardsEnabled]),W=Object(i.useMemo)(()=>({billTotal:P,amountToPay:D,paymentPageOfferEnabled:w,amountToPayWithoutCouponWithoutSplitpay:k,showSplitPay:m,selectedSplitPayMethods:u,setSplitPayMethods:d,setWithCoupon:R,withSplitPay:N,withCoupon:S,rewardsEnabled:Y}),[P,D,w,k,m,u,d,R,N,S,Y]);return l.a.createElement(FR.Provider,{value:G},l.a.createElement(CP.Provider,{value:f},l.a.createElement(vP.Provider,{value:v},l.a.createElement(AP.Provider,{value:H},l.a.createElement(yP.Provider,{value:B},l.a.createElement(bP.Provider,{value:T},l.a.createElement(HR.Provider,{value:_},l.a.createElement(GR.Provider,{value:y},l.a.createElement(VR.Provider,{value:C},l.a.createElement(OP.Provider,{value:A},l.a.createElement(hP.Provider,{value:I},l.a.createElement(fP.Provider,{value:p},l.a.createElement(yR.Provider,{value:W},l.a.createElement(gP.Provider,{value:j},l.a.createElement(BP,null,l.a.createElement(HP,null,l.a.createElement(FP,null,t)))))))))))))))))},vD=Object(i.memo)((function(e){var t,a;const{setCheckoutState:n}=Object(i.useContext)(L.CheckoutContext),o=(e=>"isTurboPaymentMethod"in e&&"turboPayUniqueId"in e?{isTurboPaymentMethod:e.isTurboPaymentMethod,turboPayUniqueId:e.turboPayUniqueId,isTurboV2:!0===e.isTurboV2}:{isTurboPaymentMethod:!1,isTurboV2:!1,turboPayUniqueId:""})(e),[r,c,d]=(({isTurboPaymentMethod:e=!1,turboPayUniqueId:t="",isTurboV2:a=!1})=>{const n=Object(i.useContext)(L.ApiContext),{impressionEvent:o}=Object(i.useContext)(L.AnalyticsContext),{cachePaymentData:r}=Object(i.useContext)(L.ConfigContext),{checkoutState:l}=Object(i.useContext)(L.CheckoutContext),c=Object(i.useContext)(L.PublicApiContext),d=Object(i.useRef)(!1),u=Object(s.Gb)(),[m,p]=Object(i.useState)({loading:!0,error:void 0}),{cartKey:_,error:E}=dP(),C=Of(),b=ff(),y=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.orderid),g=C?"sm_show_payments":"show_payments",[O,h]=Object(L.useSessionStorage)(g,null),[A]=Object(L.useSessionStorage)("splitpay_method",tN.DEFAULT),f=n.host.unwrap(),v=null==r?void 0:r.unwrapOr(!0),T=Object(i.useRef)(!1),I=Object(i.useRef)(),S=Object(i.useRef)(A),N=Object(i.useCallback)(()=>{h(null),p({loading:!0,error:void 0})},[h]),R=Object(i.useCallback)((e,t)=>{I.current=t,T.current=!0,S.current=e||"",p({loading:!0,error:void 0})},[]);return Object(i.useEffect)(()=>{e&&(null==O?void 0:O.turboPayUniqueId)!=t&&!m.loading&&p({loading:!0,error:void 0})},[null==O?void 0:O.turboPayUniqueId,e,m.loading,t]),Object(i.useEffect)(()=>{if(b){if(!Object(s.ub)(E))return void p({loading:!1,data:void 0,error:E});if(Object(s.ub)(_))return}if(O&&m.loading&&!T.current&&(({dataInCache:e,isSwiggyMoneyFlow:t,isTurboPaymentMethod:a,turboPayUniqueId:n,cartKey:o,checkoutState:r})=>{var i;const l=(null==r?void 0:r.type)===L.CheckoutActionTypes.PAYLATER_SIMPL_LINKING_FAILED&&!(null===(i=null==r?void 0:r.payload)||void 0===i?void 0:i.error),s=!e.key||!Qa(o)||!o.length||e.key==o,c=a&&n!==e.turboPayUniqueId;return!l&&!t&&s&&!c})({dataInCache:O,isSwiggyMoneyFlow:C,isTurboPaymentMethod:e,turboPayUniqueId:t,cartKey:_,checkoutState:l}))return void p({data:We({paymentResponse:O.paymentResponse,checkoutMetaInfo:Be(O.checkoutMetaInfo)}),loading:!1,error:void 0});if(!m.loading||d.current)return;d.current=!0;const n=!(C||b||hf());uP({apiHost:f,fetchCheckoutMetaInfo:n,impressionEvent:o,isRefetch:T.current,dataInCache:O,isUserEligibleForSingleClick:e,splitPayMethods:e?tN.DEFAULT:S.current,turboVariant:a&&e?aN.TURBO_V2:void 0,onRefetchErrCb:I.current,publicApiConfig:c}).then(([e,a])=>{if(d.current=!1,u.current){const n=e.map(e=>(v&&!C&&h({paymentResponse:e,checkoutMetaInfo:a.isSome()?a.unwrap():null,key:null!=_?_:"",turboPayUniqueId:t}),{paymentResponse:e,checkoutMetaInfo:a}));T.current=!1,p({loading:!1,data:n,error:void 0})}}).catch(e=>{d.current=!1,u.current&&(v&&h(null),p({loading:!1,data:Fe(e),error:void 0}))})},[m.loading,O,v,f,u,h,o,_,C,b,y,E,e,t,l,a,c]),[m,N,R]})(o),[u,m]=Object(i.useState)(!1),p="isTurboPaymentMethod"in e&&e.isTurboPaymentMethod,_=function({showPaymentState:e,isTurboPaymentMethod:t,reloadPayments:a,refetchPayments:n,isPaymentMethodSelectedForOnce:o,setIsPaymentMethodSelectedForOnce:r}){const l=Object(i.useMemo)(()=>{var t;return null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.map(e=>e.paymentResponse).unwrapOr({})},[null==e?void 0:e.data]),c=pP(l),d=Object(i.useMemo)(()=>an(l)?[]:av(l),[l]),[u,m]=Object(i.useState)([]),p=Object(i.useCallback)(()=>vn(this,void 0,void 0,(function*(){ov(l)?nv(d).then(e=>{const t=rv(l,e);s.T.setItem(s.M.THIRD_PARTY_UPI_INTENT_APPS_DETAILS,t.thirdPartyUpiIntentAppsDetails),m(t.sortedUpiApps)}).catch(e=>{Object(s.Z)(e)}):kI(d).then(e=>{m(e)}).catch(e=>{Object(s.Z)(e)})})),[d,l]);return Object(i.useEffect)(()=>{!an(d)&&c&&p()},[p,c,d]),Object(i.useMemo)(()=>{var i,l,d,m;let p;(null===(i=e.data)||void 0===i?void 0:i.isErr())&&(p=null===(l=e.data)||void 0===l?void 0:l.err().unwrapOr(new Error));const{paymentResponse:_=null,checkoutMetaInfo:E=null,_rawPaymentResponse:C=null}=null!==(m=null===(d=e.data)||void 0===d?void 0:d.map(e=>{const a=((e,t)=>{if(!e||!e.paymentGroup)return e;if(t){const t=e.paymentGroup.filter(e=>ZT(e));return Object.assign(Object.assign({},e),{splitpayList:void 0,paymentGroup:t,shouldShowThirdPartyUpiIntentApps:ov(e)})}const a=e.paymentGroup.filter(e=>!ZT(e));return Object.assign(Object.assign({},e),{paymentGroup:a,shouldShowThirdPartyUpiIntentApps:ov(e)})})(c?EP(e.paymentResponse,u):e.paymentResponse,t);return((e,t)=>{const a=s.T.getItem(s.M.BILL_AMOUNT_SHOWN_ON_CART);if(an(e)||an(a)||!Object(L.isBusinessLineDash)()||!t)return;const n=s.T.getItem(s.M.WITH_COUPON)&&!0===e.couponApplied,o=Number(GI(e,n).unwrapOr(""))||0;a!==String(o)&&Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.TURBO_CART_AMOUNT_MISMATCH_V3,billAmountShownOnCart:a,billTotal:String(o)})})(a,t),{paymentResponse:a,checkoutMetaInfo:e.checkoutMetaInfo.isSome()?e.checkoutMetaInfo.unwrap():null,_rawPaymentResponse:e.paymentResponse}}).unwrapOr({}))&&void 0!==m?m:{};return{paymentResponse:_,checkoutMetaInfo:E,reloadPayments:a,refetchPayments:n,isPaymentMethodSelectedForOnce:o,setIsPaymentMethodSelectedForOnce:r,loadingPayments:e.loading,_rawPaymentResponse:C,paymentsError:p}},[e.data,e.loading,a,n,o,r,c,u,t])}({showPaymentState:r,isTurboPaymentMethod:p,reloadPayments:c,refetchPayments:d,isPaymentMethodSelectedForOnce:u,setIsPaymentMethodSelectedForOnce:m});Object(s.Db)(()=>{var e;const t=QS();if(t&&t.type===L.CheckoutActionTypes.PROCESS_ORDER)if((null==t?void 0:t.isSwiggyMoney)&&Cf()!==Oe.SWIGGY_MONEY)qS();else{n({type:L.CheckoutActionTypes.CONFIRM_ORDER,payload:{orderId:t.orderId,order:t.state.order,placeOrderData:t.state.placeOrderData}}),qS();try{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"ShowPaymentsCleanState",orderId:(null===(e=QS())||void 0===e?void 0:e.orderId)||""})}catch(e){}}});const E=cP(),C=Array.isArray(e.children)&&1===e.children.length?e.children[0]:e.children,{loadingPayments:b,paymentResponse:y}=_,g=(()=>{const[e,t]=Object(i.useState)({title:""});return{croutonState:e,setCroutonState:t}})();if(ff()&&!Object(s.ub)(r.error)){const e=null==r?void 0:r.error;return l.a.createElement(nP.Provider,{value:g},l.a.createElement(AR.Provider,{value:_},l.a.createElement(tP,{withCoupon:!1,setWithCoupon:()=>{}},l.a.createElement(sP,{statusCode:e.statusCode,title:null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.title,message:null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.subTitle}))))}return l.a.createElement(AR.Provider,{value:_},b||!y?C:l.a.createElement(fD,{paymentResponse:y,isTurboPaymentMethod:p},l.a.createElement(nP.Provider,{value:g},p?C:l.a.createElement(s.P,{forward:E},C))))})),TD=({onSelect:e,onPay:t})=>Object(i.useMemo)(()=>({onPay:t,onSelect:e}),[e,t]),ID=e=>{const{impressionEvent:t,clickEvent:a}=Object(i.useContext)(L.AnalyticsContext),n=Object(i.useMemo)(()=>L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.marketplaceBusinessLine)||Oe.REGULAR,[]),o=Object(i.useCallback)(a=>{t({category:e,action:"impression-cash-order",context:JSON.stringify({flow:a,businessLine:n})})},[e,n,t]),r=Object(i.useCallback)((t,o)=>{a({category:e,action:"click-cash-order-place",context:JSON.stringify(Object.assign({flow:t,businessLine:n},o&&{slider:o}))})},[e,n,a]),l=Object(i.useCallback)(t=>{a({category:e,action:"click-cash-order-cancel",context:JSON.stringify({flow:t,businessLine:n})})},[e,n,a]);return{codSpecificActions:Object(i.useMemo)(()=>({onLoadCodHalfCard:o,onPlaceCodHalfCardCTa:r,onCancelHalfCard:l}),[o,r,l])}};function SD(e){const{onSelect:t,onPay:a,paymentGroup:n}=e,o=fn(e,["onSelect","onPay","paymentGroup"]),{codSpecificActions:r}=ID(lT),i=Object.assign(Object.assign({},TD({onSelect:t,onPay:a})),r);return l.a.createElement(YC,Object.assign({paymentActions:i,paymentData:n},o))}const ND=e=>{const t=TD({onPay:e.onPay,onSelect:e.onSelect}),a=Object(L.useNavigate)(),{availableMethods:n,upiIntentMethodFetchInProgress:o}=Object(i.useContext)(OP),r=Object(i.useCallback)(e=>a(L.CheckoutRoute.VERIFY_VPA,{paymentMethodCode:e}),[a]),l=Object(i.useMemo)(()=>({onSelectAddNewVpa:r}),[r]);return{availableUpiIntentMethods:n,paymentActions:Object(i.useMemo)(()=>Object.assign(Object.assign({},t),l),[t,l]),upiSpecificActions:l,upiIntentMethodFetchInProgress:o}};function RD(e){const{clickEvent:t,impressionEvent:a}=Object(i.useContext)(L.AnalyticsContext),n=fn(e,["onSelect","onPay","paymentGroup"]),{paymentActions:o,availableUpiIntentMethods:r,upiIntentMethodFetchInProgress:s}=ND(e),c=Object(i.useCallback)(e=>{((e,t)=>{t({category:lT,action:"click-view-all",context:e})})(e,t)},[t]),d=Object(i.useCallback)(()=>{(e=>{e({category:lT,action:"impression-view-all"})})(a)},[a]),u=Object(i.useCallback)(e=>{((e,t)=>{t({category:lT,action:"click-add-new",value:e})})(e,t)},[t]),m=Object(i.useCallback)(()=>{(e=>{e({category:lT,action:"impression-add-new"})})(a)},[a]),p=Object(i.useCallback)((e,a,n)=>{((e,t,a,n)=>{n({category:lT,action:kT,label:t,context:JSON.stringify(e),value:a})})(e,a,n,t)},[t]),_=Object(i.useCallback)(()=>{(e=>{e({category:lT,action:"click-payment-add-1tapupi",label:"1-tap-upi"})})(t)},[t]),E=Object(i.useCallback)(e=>{((e,t)=>{t({category:lT,action:wT,label:e})})(e,a)},[a]),C=Object(i.useCallback)(e=>{((e,t)=>{t({category:lT,action:"impression-payment-groups-expanded",label:e})})(e,a)},[a]);return l.a.createElement(ub,Object.assign({paymentActions:o,paymentData:e.paymentGroup,availableUpiIntentMethods:r,upiIntentMethodFetchInProgress:s,onClickViewAllBtn:c,onImpressionViewAll:d,onClickAddNew:u,onImpressionAddNew:m,onClickPaymentGroups:p,onClickInAppOnBoarding:_,onImpressionPaymentGroups:E,onImpressionPaymentGroupsExpanded:C},n))}function PD(e){const t=fn(e,["onSelect","onPay","paymentGroup"]),a=TD(e);return l.a.createElement(yb,Object.assign({paymentActions:a,paymentData:e.paymentGroup},t))}const DD=()=>{const e=Object(i.useContext)(L.ApiContext),{setCheckoutState:t}=Object(i.useContext)(L.CheckoutContext),{addMoneyReturnUrl:a}=Object(i.useContext)(L.ConfigContext),{clickEvent:n}=Object(i.useContext)(L.AnalyticsContext),o=Object(i.useContext)(s.w),[r,l]=Object(i.useState)(!1),c=e.host.unwrap();return[r,Object(i.useCallback)(e=>vn(void 0,void 0,void 0,(function*(){var{mobile:r}=e,i=fn(e,["mobile"]);l(!0);const d=i.isPaymentModeFlow?fT:lT;((e,t,a,n=lT)=>{a({category:n,action:"click-add-money",label:e,context:t})})(i.amount,i.walletCode,n,d),Object(s.ub)(L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.cartAddressId))||o.set(L.SwgyHeaderKeysList.cartAddressId,L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.cartAddressId));try{const e=yield function(e,t){return vn(this,void 0,void 0,(function*(){return hA(yield gA({apiHost:e,endpoint:"/api/v1/add-money-wallet",bodyParams:t,options:{method:"POST"}})).toPromise()}))}(c,Object.assign(Object.assign({},i),{cell:r,addMoneyReturnUrl:null==a?void 0:a.unwrapOr("")})),n=(m=!!i.isPaymentModeFlow,p=i.walletCode,(null==a?void 0:a.unwrapOr(""))||(m?`${location.origin}/payment-modes/wallet-detail?walletCode=${p}`:location.origin+"/wallet/money-received"));Object(L.getBridgeSdk)().setScreenCaptureState({screenCapturingDisabled:!0}).catch(()=>{}),CS(e),qA({title:"MAKE PAYMENT",backURL:n,backAlert:_A}),t({type:L.CheckoutActionTypes.SHOW_FULL_PAGE_LOADER}),i.isPaymentModeFlow||(u=i.walletCode,XS()&&sessionStorage.setItem("wallet_payment_check",u))}catch(e){Object(L.getBridgeSdk)().setScreenCaptureState({screenCapturingDisabled:!1}).catch(()=>{}),Object(s.Z)(e),ZA()}var u,m,p;l(!1)})),[n,o,c,a,t])]};function LD(e){return Math.round(100*(e+Number.EPSILON))/100}const kD={linkStatus:1,balance:0,additionalBalanceRequired:0,linked:!1,isWalletBalanceSufficent:!1,isOldWalletLinkFlow:!1,mobileNumber:""};function xD(e,t){const{balance:a,linkStatus:n,isOldWalletLinkFlow:o,mobileNumber:r,paymentMethodDisabled:i}=e,l=e.payableAmount?Number(e.payableAmount):t,s=a>=l?0:LD(l-a);return Object.assign(Object.assign({},kD),{balance:a,linkStatus:n,additionalBalanceRequired:s,isWalletBalanceSufficent:0===s,linked:0===n,isOldWalletLinkFlow:o,mobileNumber:r,paymentMethodDisabled:i})}function wD({paymentAmount:e}){const{state:t,refetch:a}=Object(i.useContext)(CP);return Object(i.useMemo)(()=>Object.keys(t).reduce((n,o)=>{const r=t[o];return n[o]={fetchState:r.fetchState,data:xD(r,e),refetch:()=>a(o)},n},{}),[e,t,a])}const MD=e=>{const t=TD({onPay:e.onPay,onSelect:e.onSelect}),{user:a}=Object(i.useContext)(L.UserContext),{isPhonepeSdkAvailable:n}=Object(i.useContext)(AP),{clickEvent:o,impressionEvent:r}=Object(i.useContext)(L.AnalyticsContext),{billTotal:l}=Object(i.useContext)(yR),[c,d]=DD(),{linkAmazonPaySdk:u,getAmazonPaySdkStatus:m,showLoader:p}=(e=>{const t=Object(s.Gb)(),{state:a,setState:n,sdkFetchInProgress:o}=Object(i.useContext)(yP),[r,l]=Object(i.useState)(!1);return{getAmazonPaySdkStatus:Object(i.useCallback)(()=>({state:a,sdkFetchInProgress:o}),[a,o]),linkAmazonPaySdk:Object(i.useCallback)(a=>{l(!0);const o={state:"LINK_WALLET",data:{methodName:a}};Object(L.getBridgeSdk)().payUsingAmazonPay(o).catch(()=>{if(null!=t.current)return{available:!0,linked:!1,isBalanceSufficient:!1}}).then(a=>{if(null==t.current)return;const o=a;let r=!1;o&&o.linked&&o.balance&&(r=Number(o.balance)>=e),n(Object.assign(Object.assign({},a),{isBalanceSufficient:r,available:!0})),l(!1),Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.PAYMENT_NATIVE_BRIDGE_AMAZON_SDK,state:"LINK_WALLET",isWalletLinked:String((null==o?void 0:o.linked)||!1),balance:String((null==o?void 0:o.balance)||"--"),isBalanceSufficient:String(r)})})},[t,n,e]),showLoader:r}})(Number(e.paymentAmount)),_=Object(i.useRef)({}),E=Object(L.useNavigate)(),C=wD({paymentAmount:Number(e.paymentAmount)}),b=Object(i.useMemo)(()=>Object(L.getUserFromUserContextValue)(a),[a]),y=Object(i.useCallback)(()=>({isPhonepeSdkAvailable:n}),[n]),g=Object(i.useCallback)(e=>{const t=C[e.name];return null==t?(Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.INVALID_WALLET,name:e.name,currentWallets:Object.keys(C).toString()}),[2,Object.assign(Object.assign({},kD),{linkStatus:3})]):(_.current[e.name]||(_.current[e.name]=0),3===t.fetchState&&(_.current[e.name]=0),3===t.fetchState||1===t.fetchState||_.current[e.name]>=3||(0===t.fetchState||2===t.fetchState)&&_.current[e.name]<3&&(_.current[e.name]+=1,t.refetch()),[t.fetchState,t.data])},[C]),O=Object(i.useCallback)(e=>vn(void 0,void 0,void 0,(function*(){if(C[e.name])return _.current[e.name]=0,C[e.name].refetch()})),[C]),h=Object(i.useCallback)((e,t)=>{E(L.CheckoutRoute.LINK_WALLET_WITH_NUMBER,{walletCode:e,isOldWalletLinkFlow:t})},[E]),A=Object(i.useCallback)(e=>{((e,t)=>{t({category:lT,action:"click-link-wallet",label:e})})(e,o)},[o]),f=Object(i.useCallback)(e=>{pI(l,e,r)},[r,l]),v=Object(i.useMemo)(()=>({getWalletBalance:g,refetchBalance:O,linkWallet:h,onLinkWalletClick:A,onAddMoney:d,onAddMoneyImpression:f,getAmazonPaySdkStatus:m,linkAmazonPaySdk:u,getPhonepeSdkStatus:y}),[d,m,y,g,u,h,f,A,O]);return{paymentActions:Object(i.useMemo)(()=>Object.assign(Object.assign({},t),v),[t,v]),walletSpecificActions:v,user:b,showProgressLoader:p||c}};function jD(e){const t=fn(e,["onSelect","onPay","paymentGroup"]),{user:a}=Object(i.useContext)(L.UserContext),n=e.paymentGroup.paymentMethods,o=Object(i.useMemo)(()=>n.filter(e=>nI(a,e)),[n,a]),r=Object(i.useMemo)(()=>Object.assign(Object.assign({},e.paymentGroup),{paymentMethods:o}),[e.paymentGroup,o]),{paymentActions:s,user:c,showProgressLoader:d}=MD(e);return l.a.createElement(l.a.Fragment,null,l.a.createElement(tb,Object.assign({paymentActions:s,user:c,paymentData:r},t)),d&&l.a.createElement(Gp,null))}const BD=e=>{const{paymentGroup:t,onPay:a,onSelect:n}=e,o=Object(L.useNavigate)(),{clickEvent:r}=Object(i.useContext)(L.AnalyticsContext),{billTotal:l}=Object(i.useContext)(yR),s=TD({onPay:a,onSelect:n}),c=Object(i.useMemo)(()=>({onClick:()=>{((e,t)=>{t({category:iI(),action:"click-payment-more-banks",label:"more-banks",value:e})})(l,r),o(L.CheckoutRoute.MORE_BANKS,{paymentGroup:t})}}),[o,t,l,r]),d=Object(i.useMemo)(()=>({moreBanksActions:c}),[c]);return{paymentActions:Object(i.useMemo)(()=>Object.assign(Object.assign({},s),d),[s,d]),netBankingSpecificActions:d}};function UD(e){const{onSelect:t,onPay:a,paymentGroup:n}=e,o=fn(e,["onSelect","onPay","paymentGroup"]),{bankList:r}=Object(i.useContext)(hP),{paymentActions:s}=BD(e);return l.a.createElement(GC,Object.assign({paymentActions:s,netBankingList:r,paymentData:n},o))}const HD=e=>{const{onSelect:t,onPay:a}=e,n=TD({onSelect:t,onPay:a}),{user:o}=Object(i.useContext)(L.UserContext),{paylaterState:r}=Object(i.useContext)(vP),{clickEvent:l,impressionEvent:c}=Object(i.useContext)(L.AnalyticsContext),d=Object(L.useNavigate)(),u=Object(i.useMemo)(()=>Object(L.getUserFromUserContextValue)(o),[o]),{paymentResponse:m=null}=Object(i.useContext)(AR),{simplPostLinkingRedirectUrl:p=""}=Object(i.useContext)(L.ConfigContext),_=Object(i.useCallback)((e,t)=>{const{linked:a,meta:n,fetchState:o,enabled:i,disableMessage:l}=r[e.name];return[o,{linked:a,meta:n,enabled:i,disableMessage:l}]},[r]),E=Object(i.useMemo)(()=>({onProceed:(e,t)=>{d(L.CheckoutRoute.LINK_PAYLATER,{payLaterCode:e,mobileNumber:t})}}),[d]),C=Object(i.useMemo)(()=>({onProceed:(e,t)=>{"PayLater_Simpl"===e?((e,t,a)=>{var n;try{let o={mid:(null==t?void 0:t.tenant)||"",userId:null!==(n=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.userId))&&void 0!==n?n:"",redirectUrl:a.unwrapOr("")};o=btoa(JSON.stringify(o)),e=`${e}&merchant_payload=${o}`;const r=`${location.origin}?state=${dw.PAYLATER_SIMPL_LINKING_FAILED}`;CS({url:e}),Object(L.showNativeHeader)({title:be.PayLater_Simpl,backURL:r,backAlert:_A})}catch(e){Object(s.Z)(e)}})(t,m,p):d(L.CheckoutRoute.LINK_PAYLATER_MOBILE,{payLaterCode:e})}}),[d,m,p]),b=Object(i.useMemo)(()=>({onClickLink:e=>{((e,t)=>{t({category:lT,action:"click-link-account",label:e})})(e,l)},paylaterMethodImpression:(e,t)=>{((e,t,a)=>{a({category:lT,action:"pay-later-method-impression",context:t,label:e})})(e,t,c)},linkAccountImpression:e=>{((e,t)=>{t({category:lT,action:"impression-link-account",label:e})})(e,c)}}),[l,c]),y=Object(i.useMemo)(()=>({checkPayLaterLinkStatus:_,linkAccountActions:E,linkPayLater:C,analyticsPayLater:b}),[_,E,C,b]);return{paymentActions:Object(i.useMemo)(()=>Object.assign(Object.assign({},n),y),[n,y]),payLaterSpecificActions:y,user:u}};function GD(e){const t=fn(e,["onSelect","onPay","paymentGroup"]),{paymentActions:a,user:n}=HD(e);return null==n?null:l.a.createElement(ab,Object.assign({user:n,paymentActions:a,paymentData:e.paymentGroup},t))}function YD(e,t){const{balance:a}=e,n=a>=t?0:LD(t-a);return{balance:a,additionalBalanceRequired:n,isBalanceSufficent:0===n,cvvRequired:t>2e3}}const WD=(e,t,a)=>{a({category:e,context:t,action:xT})},FD=(e,t,a)=>{a({context:t,category:e,action:"click_close"})},VD=e=>{const{clickEvent:t,screenViewEvent:a,impressionEvent:n}=Object(i.useContext)(L.AnalyticsContext),o=Object(i.useCallback)(a=>{((e,t,a,n)=>{n({label:t,context:a,category:e,action:"click-checkbox-secure-card"})})(e,a?1:0,a?"true":"false",t)},[t,e]),r=Object(i.useCallback)(a=>{((e,t,a,n)=>{n({category:e,context:t,label:"tokenization",action:"click-options"})})(e,a,0,t)},[t,e]),l=Object(i.useCallback)(()=>{((e,t)=>{t({category:e,action:"tokenization-guidelines-half-card"})})(e,a)},[e,a]),s=Object(i.useCallback)(()=>{((e,t)=>{t({category:e,action:"impression-skip-cvv"})})(e,n)},[e,n]),c=Object(i.useCallback)(()=>{((e,t)=>{t({category:e,action:"click-know-more-tokenization"})})(e,t)},[t,e]),d=Object(i.useCallback)(t=>{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WP_ADD_NEW_CARD_PROCEED_TO_PAY,actionStatus:t,screenName:e})},[e]),u=Object(i.useCallback)(a=>{((e,t,a)=>{a({context:t,category:e,action:"click-checkbox-one-click"})})(e,a?"true":"false",t)},[t,e]),m=Object(i.useCallback)(t=>{WD(e,null!=t?t:"one-click",n)},[n,e]),p=Object(i.useCallback)(()=>{((e,t,a)=>{a({context:"one-click",category:e,action:DT})})(e,0,t)},[t,e]),_=Object(i.useCallback)((a,n)=>{((e,t,a)=>{a({context:t,category:e,action:DT})})(e,JSON.stringify({oneClick:a,secureCard:n}),t)},[t,e]),E=Object(i.useCallback)(()=>{((e,t,a)=>{a({context:"one-click",category:e,action:"click-skip-for-now"})})(e,0,t)},[t,e]),C=Object(i.useCallback)(()=>{((e,t,a)=>{a({context:"one-click",category:e,action:"click-got-it"})})(e,0,t)},[t,e]),b=Object(i.useCallback)(()=>{FD(e,"one-click",t)},[t,e]),y=Object(i.useCallback)(()=>{((e,t,a)=>{a({context:"disable-one-click",category:e,action:LT})})(e,0,t)},[t,e]),g=Object(i.useCallback)(()=>{((e,t,a)=>{a({context:"one-click",category:e,action:"click-terms-of-service"})})(e,0,t)},[t,e]),O=Object(i.useCallback)(()=>{((e,t)=>{t({category:e,action:PT})})(e,t)},[t,e]),h=Object(i.useCallback)(()=>{((e,t,a)=>{a({context:"disable-one-click",category:e,action:"click-disable-one-click-pay"})})(e,0,t)},[t,e]),A=Object(i.useCallback)(()=>{FD(e,"disable-one-click",t)},[t,e]),f=Object(i.useCallback)(()=>{WD(e,"disable-one-click",n)},[n,e]);return{onSaveCardClick:o,onSecureCardInfoClickAction:r,onSecureCardInfoView:l,onHideCvv:s,onKnowMoreTokenizationClickAction:c,onProceedToPayClick:d,onProceedToPayClickAction:_,oneClickEvents:Object(i.useMemo)(()=>({onOneClickKnowMoreClickAction:O,onDisableClickAction:h,onTermsAndServicesClickAction:g,oneClickCancelClickAction:y,oneClickCloseClickAction:b,oneClickGotItClickAction:C,oneClickSkipForNowClickAction:E,onOneClickProceedClickAction:p,onOneClickHalfCardImpression:m,onOneClickCheckBoxClick:u,onOneClickDisabledHalfCardImpression:f,onOneClickDisabledClose:A}),[h,u,A,f,m,O,p,g,y,b,C,E])}},KD=e=>{const{onSelect:t,onPay:a,paymentAmount:n}=e,o=TD({onSelect:t,onPay:a}),r=function({paymentAmount:e}){const t=Object(i.useContext)(bP);return Object(i.useMemo)(()=>Object.keys(t).reduce((a,n)=>{const o=t[n];return a[n]={fetchState:o.fetchState,data:YD(o,e)},a},{}),[e,t])}({paymentAmount:Number(n)}),l=VD(lT),s=Object(i.useCallback)(e=>{const t=HI(e),a=r[t];return a?[a.fetchState,a.data]:null},[r]),c=Object(i.useCallback)(e=>{Object(L.getBridgeSdk)().webNavigate({url:e,openAsExternal:!0,showBack:!0,showLoader:!1,callbackUrl:window.location.href,title:""})},[]),d=Object(i.useMemo)(()=>Object.assign(Object.assign({},l),{getCardAmount:s,onClickOneClickTermsOfService:c}),[l,s,c]);return{paymentActions:Object(i.useMemo)(()=>Object.assign(Object.assign({},o),d),[o,d]),cardSpecificActions:d}};function zD(e){const{onSelect:t,onPay:a,paymentGroup:n,juspayMeta:o}=e,r=fn(e,["onSelect","onPay","paymentGroup","juspayMeta"]),{paymentActions:s,cardSpecificActions:c}=KD(e),{isSdkAvailable:d,featuresAvailability:u}=Object(i.useContext)(HR),m=Object(i.useMemo)(()=>RS(e.paymentGroup.groupName,d,u),[u,d,e.paymentGroup.groupName]);return l.a.createElement(eb,Object.assign({paymentActions:s,paymentData:e.paymentGroup,isSdkAvailable:m,oneClickEvents:c.oneClickEvents,juspayMeta:o},r))}const $D=()=>{const{isEligible:e,bannerText:t,isOfferLoading:a}=Object(i.useContext)(gP),n=Object(i.useContext)(HR);return{isEligible:e,bannerText:t,isSdkAvailable:Object(i.useMemo)(()=>RS(z.CRED,n.isSdkAvailable,n.featuresAvailability),[n.featuresAvailability,n.isSdkAvailable]),isOfferLoading:a}},XD=(e,t)=>{t({category:e,action:"click-learn-more"})},JD=(e,t)=>{t({category:e,action:"impression-learn-more"})},ZD=(e,t)=>{t({category:e,action:"impression-swiggy-money-limits-halfcard"})},qD=(e,t,a)=>{a({category:e,action:"click-options",context:t})},QD=()=>{const{setCheckoutState:e}=Object(i.useContext)(L.CheckoutContext),{clickEvent:t,impressionEvent:a}=Object(i.useContext)(L.AnalyticsContext),{billTotal:n}=Object(i.useContext)(yR),o=Object(L.useNavigate)(),r={onAddMoneyClick:Object(i.useCallback)(()=>{(e=>{e({category:lT,action:"click-swiggy-add-money-widget"})})(t),e({type:L.CheckoutActionTypes.SHOW_SWIGGYMONEY_PAYMENTS}),o(L.CheckoutRoute.ADD_SWIGGY_MONEY,{billTotal:n}),wf(),L.GlobalHeaderState.updateHeaders({paymentamount:"",marketplacebusinessline:Oe.SWIGGY_MONEY})},[n,t,o,e]),onAddMoneyView:Object(i.useCallback)(()=>{(e=>{e({category:lT,action:"impression-swiggy-add-money-widget"})})(a)},[a])},l=Object(i.useCallback)(()=>{XD(lT,t)},[t]),s=Object(i.useCallback)(()=>{qD(lT,UT,t)},[t]),c=Object(i.useCallback)(()=>{qD(lT,BT,t)},[t]),d=Object(i.useCallback)(()=>{ZD(lT,a)},[a]),u=Object(i.useCallback)(()=>{JD(lT,a)},[a]);return{addMoneyActions:r,swiggyMoneyInfoActions:Object(i.useMemo)(()=>({onSwiggyMoneyInfoCtaClick:l,onClickSwiggyMoneyInfoHalfCardActionButton:s,onClickSwiggyMoneyInfoHalfCardCloseButton:c,onImpressionSwiggyMoneyInfoHalfCard:d,onSwiggyMoneyInfoCtaImpression:u}),[l,s,c,u,d])}},eL=e=>{const{onSelect:t,onPay:a,paymentAmount:n}=e,o=TD({onSelect:t,onPay:a}),{addMoneyActions:r,swiggyMoneyInfoActions:l}=QD(),s=Object(i.useCallback)(e=>{const t=((e,t)=>e-t)(Number(n),Number(e.eligibleBalance));return{eligibleBalance:e.eligibleBalance,balance:e.balance,additionalBalanceRequired:isNaN(t)?"":String(t),isBalanceSufficient:isNaN(t)||t<=0}},[n]),c=Object(i.useMemo)(()=>Object.assign({getSwiggyInstrumentsData:s,swiggyMoneyInfoActions:l},r),[s,l,r]);return{paymentActions:Object(i.useMemo)(()=>Object.assign(Object.assign({},o),c),[o,c]),swiggyInstrumentsSpecificActions:c}},tL=e=>{const{onPay:t,onSelect:a,paymentGroup:n}=e,o=TD({onPay:t,onSelect:a}),r=$D(),{cardSpecificActions:l}=KD(e),{walletSpecificActions:s}=MD(e),{netBankingSpecificActions:c}=BD(e),{payLaterSpecificActions:d}=HD(e),{upiSpecificActions:u,availableUpiIntentMethods:m}=ND(e),{swiggyInstrumentsSpecificActions:p}=eL(e),{user:_}=Object(i.useContext)(L.UserContext),{paymentGroupShowMoreCtaState:E,setPaymentGroupShowMoreCtaState:C}=Object(i.useContext)(fP),{codSpecificActions:b}=ID(lT),{nativeUpiFetchStatus:y}=Object(i.useContext)(VR),{onAddBankAccountClick:g,isInvalidNativeUpiMethod:O}=KR(),h=Object(i.useContext)(HR),A=Object(i.useMemo)(()=>E[z.PREFERRED],[E]),f=Object(i.useMemo)(()=>Object(L.getUserFromUserContextValue)(_),[_]),v=n.paymentMethods,T=Object(i.useMemo)(()=>v.filter(e=>tv(e)?m.includes(e.name):!tI(e)||nI(_,e)),[m,v,_]),I=Object(i.useMemo)(()=>Object.assign(Object.assign({},e.paymentGroup),{paymentMethods:T}),[e.paymentGroup,T]),S=Object(i.useCallback)(e=>{switch(e){case z.CARD:case z.FOOD_CARD:return l;case z.WALLET:case z.WALLET_WEB:return s;case z.NETBANKING:return c;case z.UPI:return u;case z.PAY_LATER:return d;case z.SWIGGY_INSTRUMENTS:return p;case z.NATIVE_UPI:return{onAddNewBankClick:g,isInvalidNativeUpiMethod:O};case z.COD:return b;default:return}},[l,O,c,g,d,p,u,s,b]),N=Object(i.useCallback)(e=>{const t=RS(e,h.isSdkAvailable,h.featuresAvailability);switch(e){case z.NATIVE_UPI:return{nativeUpiFetchStatus:y,isSdkAvailable:t};case z.CARD:case z.FOOD_CARD:default:return{isSdkAvailable:t}}},[h.featuresAvailability,h.isSdkAvailable,y]),R=Object(i.useCallback)(()=>{C(z.PREFERRED,!1)},[C]);return{paymentActions:o,getPreferredSpecificActions:S,getPreferredSpecificData:N,availableUpiIntentMethods:m,showPreferredMoreCta:A,onPreferredMoreCtaClick:R,user:f,credEligibleData:r,paymentData:I}};function aL(e){const t=fn(e,["onSelect","onPay","paymentGroup"]),a=tL(e);return l.a.createElement(DC,Object.assign({},t,a))}function nL(e){const t=fn(e,["onSelect","onPay","paymentGroup"]),{paymentActions:a}=eL(e);return l.a.createElement(Ab,Object.assign({paymentActions:a,paymentData:e.paymentGroup},t))}function oL(e){const{onSelect:t,onPay:a,paymentGroup:n}=e,o=fn(e,["onSelect","onPay","paymentGroup"]),r=TD({onSelect:t,onPay:a});return l.a.createElement(vb,Object.assign({paymentActions:r,paymentData:n},o))}function rL(e){const{onSelect:t,onPay:a,paymentGroup:n}=e,o=fn(e,["onSelect","onPay","paymentGroup"]),r=TD({onSelect:t,onPay:a}),{isEligible:i,bannerText:s,isSdkAvailable:c,isOfferLoading:d}=$D();return l.a.createElement("div",null,l.a.createElement(Nb,Object.assign({paymentActions:r,paymentData:n,bannerText:s,isEligible:i,isSdkAvailable:c,isOfferLoading:d},o)))}const iL=e=>{const{impressionEvent:t}=Object(i.useContext)(L.AnalyticsContext);return Object(i.useCallback)(()=>{((e,t)=>{t({category:e?lT:ST,action:"impression-nudge-pay-FlipkartCoins"})})(e,t)},[t,e])};function lL(e){const{onSelect:t,onPay:a,paymentGroup:n}=e,o=fn(e,["onSelect","onPay","paymentGroup"]),r=TD({onSelect:t,onPay:a}),i=iL(!0);return l.a.createElement(fb,Object.assign({paymentActions:r,paymentData:e.paymentGroup,onFlipkartToolTipShow:i},o))}var sL=Object(i.memo)((function(e){const t=fn(e,["onSelect","onPay","paymentGroup"]),a=tL(e),{paymentResponse:n}=Object(i.useContext)(AR),o=null==n?void 0:n.paymentGroup.find(e=>QT(e));return l.a.createElement(BC,Object.assign({},t,a,{walletGroupData:o}))}));function cL(e){const t=fn(e,["onSelect","onPay","paymentGroup"]),a=TD(e);return l.a.createElement(Rb,Object.assign({paymentActions:a,paymentData:e.paymentGroup},t))}function dL(e){const{onSelect:t,onPay:a,paymentGroup:n}=e,o=fn(e,["onSelect","onPay","paymentGroup"]),r=TD({onSelect:t,onPay:a}),i=iL(!0);return l.a.createElement(Mb,Object.assign({paymentActions:r,paymentData:e.paymentGroup,onFlipkartToolTipShow:i},o))}function uL(e){var{paymentGroup:t}=e,a=fn(e,["paymentGroup"]);const{paymentPageOfferEnabled:n}=l.a.useContext(yR);return n||t.paymentMethods.forEach(e=>delete e.payableAmount),qv(t)?l.a.createElement(SD,Object.assign({paymentGroup:t},a)):t.groupName.toUpperCase()===z.NETBANKING?l.a.createElement(UD,Object.assign({paymentGroup:t},a,{isPreferredGroup:!1,showMoreBanksList:a.isFrictionPage})):NI(t)?l.a.createElement(zD,Object.assign({paymentGroup:t},a)):QT(t)?l.a.createElement(jD,Object.assign({paymentGroup:t},a)):II(t)?l.a.createElement(aL,Object.assign({paymentGroup:t},a)):SI(t)?l.a.createElement(RD,Object.assign({paymentGroup:t},a)):Rv(t)?l.a.createElement(GD,Object.assign({paymentGroup:t},a)):Lf(t)?l.a.createElement(nL,Object.assign({paymentGroup:t},a)):function(e){return e.groupName.toUpperCase()===z.JUSPAY_WALLET}(t)?l.a.createElement(oL,Object.assign({paymentGroup:t},a)):function(e){return e.groupName.toUpperCase()===z.FLIPKART_SUPER_COIN}(t)?l.a.createElement(lL,Object.assign({paymentGroup:t},a)):function(e){return e.groupName.toUpperCase()===z.CRED}(t)?l.a.createElement(rL,Object.assign({paymentGroup:t},a)):function(e){return e.groupName.toUpperCase()===z.EXTRA_OFFERS}(t)?l.a.createElement(sL,Object.assign({paymentGroup:t},a)):nT(t)?l.a.createElement(PD,Object.assign({paymentGroup:t},a)):DS(t)?l.a.createElement(cL,Object.assign({paymentGroup:t},a)):function(e){return e.groupName.toUpperCase()===z.REWARDS}(t)?l.a.createElement(dL,Object.assign({paymentGroup:t},a)):null}const mL=(e,t,a)=>{a({category:lT,action:"click-option-surge-change",label:e,context:t})},pL=(e,t)=>{e({category:lT,action:"impression-payment-error",label:t})},_L=(e,t,a)=>{e({category:TT,action:t,context:String(a)})},EL=(e,t,a)=>{e({category:TT,action:t,context:String(a)})};var CL=Object(i.memo)((function(e){const{checkoutState:t}=Object(i.useContext)(L.CheckoutContext),{impressionEvent:a,screenViewEvent:n}=Object(i.useContext)(L.AnalyticsContext),{handleActionClick:o,closeHalfCard:r,getActionSubtext:c}=function(e){const{payAction:t,payload:a}=e,{placeOrderData:n,errorStatusCode:o}=a,{setCheckoutState:r}=Object(i.useContext)(L.CheckoutContext),{clickEvent:l}=Object(i.useContext)(L.AnalyticsContext),{setWithCoupon:c,billTotal:d}=Object(i.useContext)(yR),u=Object(L.useNavigate)(),m=cR(o),p=Object(i.useCallback)((e,t,a="")=>{const n=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.cartId);switch(o){case NA:t.screen===w.l.TRACK&&EL(l,"click-go-to-track",d);break;case IA:((e,t)=>{e({category:AT,action:"click-continue-cod",context:String(t)})})(l,d);break;case 15:pL(l,"review-cart");break;case SA:((e,t)=>{e({category:hT,action:"click-continue",context:String(t)})})(l,d);break;case 11:Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.PAYMENT_WEB_ORDER_TERMINAL_ALERT_NAVIGATIONS,type:a}),((e,t)=>{e({category:uT,action:"click-terminal-state-cta",context:t})})(l,a);break;default:n&&e((e=>{switch(e){case"ORDER_DETAIL":return"review-cart";case"CART":return"review-order";case"DISMISS":return"dismiss";default:return"-"}})(t.screen),n,l)}},[d,l,o]),_=Object(i.useCallback)(e=>{const t=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.cartId);15===o?pL(l,"Proceed"):t&&e("proceed-and-pay",t,l)},[l,o]),E=Object(i.useCallback)((e,t)=>{var a,n;if(e.type===w.m.DEEPLINK)return{type:w.m.DEEPLINK,link:e.link,params:{shouldCloseWebview:e.shouldCloseWebview}};const o={type:w.m.SCREEN,link:e.screen};switch(e.screen){case w.l.ORDER_DETAIL:case w.l.IM_TRACK_SCREEN:e.orderId&&(o.params={id:e.orderId});break;case w.l.CART:e.refresh&&(o.params={refresh:!0});break;case w.l.TRACK:e.orderId&&(o.params={orderId:e.orderId,shouldCloseWebview:null===(a=e.shouldCloseWebview)||void 0===a||a,isIMOrder:null!==(n=e.isIMOrder)&&void 0!==n&&n},[IA].includes(t)&&(o.params.hideMakePaymentButton=!0))}return o},[]),C=Object(i.useCallback)(()=>{r({type:L.CheckoutActionTypes.SHOW_PAYMENTS})},[r]),b=Object(i.useCallback)((e,t,a)=>{if(15===e&&t===_e.PAY)return Object(s.hb)("₹{0} will be charged",String(a))},[]);return{handleActionClick:Object(i.useCallback)((e,a)=>{const{actionType:i,actionData:s}=e,{actionName:b}=a,y=m?(e,t,n)=>((e,t,a,n)=>{a({category:lT,action:"click-option-duplicate-order",label:e,context:lI(Object.assign({cartId:t},n))})})(e,t,n,a):mL;switch(i){case _e.PAY:{const e=s,a=e.userConsent;n.extraParams||(n.extraParams={}),15===o&&(n.extraParams.force_validate_coupon=!1),8!==o||an(null==e?void 0:e.updatedAmount)||(n.extraParams.transaction_amount=null==e?void 0:e.updatedAmount,n.extraParams.updatedPaymentAmount=String(null==e?void 0:e.updatedAmount)),n.extraParams[a]=!0,n.extraParams.user_consent=a,_(y),t(n.paymentMethodData,n.extraParams),r({type:L.CheckoutActionTypes.SHOW_PAYMENTS});break}case _e.NAVIGATE:{const e=s;p(y,e,b);const t="undefined"!=typeof window&&"undefined"!=typeof sessionStorage,a=a=>t&&"true"===sessionStorage.getItem(a)&&e.screen===w.l.CART;a("isFromWebCart")?(c(!0),r({type:L.CheckoutActionTypes.SHOW_CART,payload:null}),u(L.CheckoutRoute.CART,{},!0)):a("isFromDineoutCart")?(c(!0),r({type:L.CheckoutActionTypes.DINEOUT_TABLE_RESERVATION_CART}),u(L.DineoutCheckoutRoute.TABLE_RESERVATION_CART,{},!0)):(Object(L.getBridgeSdk)().navigateToScreen(E(e,o)).catch(()=>{}),r({type:L.CheckoutActionTypes.SHOW_PAYMENTS}));break}case _e.DISMISS:o===NA&&EL(l,"click-continue-paying",d),C()}},[m,o,C,n,_,t,r,p,c,u,E,l,d]),closeHalfCard:C,getActionSubtext:b}}(e),{billTotal:d,amountToPayWithoutCouponWithoutSplitpay:u}=Object(i.useContext)(yR),{orderInterruptionAlertData:m,errorStatusCode:p,errorCodes:_}=e.payload,{title:E,subtitle:C,message:b,actions:y,icon:g}=m,O=cR(p),h=Object(i.useMemo)(()=>y.map(e=>{var t;if(e.actionType===_e.NAVIGATE)return null===(t=null==e?void 0:e.actionData)||void 0===t?void 0:t.orderId}).find(e=>!!e),[y]),A=Object(i.useMemo)(()=>y.map(e=>{var t;if(e.actionType===_e.NAVIGATE)return null===(t=null==e?void 0:e.actionData)||void 0===t?void 0:t.disableDismissOfAlert}).find(e=>!!e),[y]),f=Cf(),v=Object(i.useMemo)(()=>y.map(e=>{if(e.actionType===_e.NAVIGATE)return null==e?void 0:e.displayName}).find(e=>!!e),[y]),T=Object(i.useMemo)(()=>Object.assign({subtitle:C,title:E,businessLine:f,orderId:h,errorStatusCode:p},11===p&&{actionName:v}),[C,E,f,h,p,v]),I=Object(i.useMemo)(()=>{switch(p){case TA:return!1;case 15:return!!Tf();case 11:return!A;default:return!0}},[A,p]),S=Object(i.useMemo)(()=>{switch(p){case TA:return!0;case 15:return!Tf();case 11:return A;default:return!1}},[A,p]),N=Object(i.useMemo)(()=>p===TA,[p]),R=Object(i.useMemo)(()=>y.map(e=>({text:e.displayName,subText:c(p,e.actionType,u),onClick:()=>{o(e,T)}})),[y,p,u,o,T,c]);return Object(s.Db)(()=>{var e,t;const o=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.cartId);switch(p){case NA:return void y.forEach(e=>{var t;(null===(t=e.actionData)||void 0===t?void 0:t.screen)===Te.TRACK?_L(a,"imp-go-to-track",d):e.actionType===_e.DISMISS&&_L(a,"imp-continue-paying",d)});case IA:return void((e,t)=>{e({category:AT,action:"impression-continue-cod",context:String(t)})})(a,d);case SA:return void((e,t)=>{e({category:hT,action:"impression-autopay-pending",context:String(t)})})(a,d);case 15:return;case 11:Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.PAYMENT_WEB_ORDER_TERMINAL_ALERT_NAVIGATIONS,orderId:null!=h?h:"",errorCode:null!==(e=null==_?void 0:_[0])&&void 0!==e?e:""}),((e,t)=>{e({category:uT,context:t})})(n,null!==(t=null==_?void 0:_[0])&&void 0!==t?t:""),Object(L.clearCart)();break;default:return void(O?o&&((e,t,a)=>{t({category:lT,action:"impression-duplicate-order",context:lI(Object.assign({cartId:e},a))})})(o,a,T):o&&((e,t,a)=>{a({category:lT,action:"impression-surge-change-half-card",label:t,context:e})})(o,C,a))}}),t.type!==L.CheckoutActionTypes.ORDER_INTERRUPTION?null:[IA,SA,NA].includes(p)?l.a.createElement(ph,{title:E,message:C,info:b,primaryAction:R[0],secondaryAction:R[1],hideOnOverlayClick:!1,onClose:r,actions:y}):l.a.createElement(Yb,{title:E,message:C,info:b,primaryAction:R[0],secondaryAction:R[1],hideOnOverlayClick:I,onClose:r,icon:g,hideCloseIcon:S,hideIcon:N})}));function bL({paymentAmount:e,payAction:t}){const{setCheckoutState:a}=Object(i.useContext)(L.CheckoutContext),{paymentResponse:n}=Object(i.useContext)(AR),o=wD({paymentAmount:e}),[r]=Object(i.useState)(()=>(XS()?sessionStorage.getItem("wallet_payment_check"):null)||""),l=Object(i.useMemo)(()=>Be(o[r]),[o,r]),s=Object(i.useMemo)(()=>n?eI(n.paymentGroup,r):je,[n,r]);return Object(i.useEffect)(()=>{if(XS()&&sessionStorage.removeItem("wallet_payment_check"),l.isNone()||s.isNone())return void a({type:L.CheckoutActionTypes.SHOW_PAYMENTS});const{fetchState:e,data:n,refetch:o}=l.unwrap();if(0==e&&o(),2!==e)return 3===e?(a({type:L.CheckoutActionTypes.SHOW_PAYMENTS}),void(n.isWalletBalanceSufficent&&t(s.unwrap()))):void 0;a({type:L.CheckoutActionTypes.SHOW_PAYMENTS})},[a,l,t,s]),l.isNone()||s.isNone()?null:Object(i.createElement)(Gp,null)}function yL({paymentAmount:e,payAction:t}){const{setCheckoutState:a}=Object(i.useContext)(L.CheckoutContext),{paymentResponse:n,loadingPayments:o}=Object(i.useContext)(AR),r=Object(s.Gb)();return Object(s.Db)(()=>{if(a({type:L.CheckoutActionTypes.SHOW_PAYMENTS}),!r.current||o)return;const i=xf((null==n?void 0:n.paymentGroup)||[],"SwiggyPay");if(i.isSome()){const a=i.unwrap();if(!a.enabled||!XT(e,a.eligibleBalance))return void Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.ADD_SWIGGY_MONEY_AUTOPAY_FAILURE,isMethodEnabled:String(a.enabled),balance:a.eligibleBalance,paymentAmount:e});window.requestAnimationFrame(()=>t(a))}}),Object(i.createElement)(Gp,null)}function gL({payAction:e,payLaterPaymentCode:t}){const{setCheckoutState:a}=Object(i.useContext)(L.CheckoutContext),{paymentResponse:n}=l.a.useContext(AR),{paylaterState:o}=Object(i.useContext)(vP),r=Object(s.Gb)(),c=null!=t?t:Cv,d=Object(i.useMemo)(()=>Pv((null==n?void 0:n.paymentGroup)||[],c),[c,null==n?void 0:n.paymentGroup]),u=o[c];return l.a.useEffect(()=>{const t=d.unwrap(),{fetchState:n,linked:o}=u;if(0!==n){if(r.current&&!d.isNone()&&1!==n&&t.enabled&&o)return 2===n?(Bv(c),a({type:L.CheckoutActionTypes.SHOW_PAYMENTS}),void window.requestAnimationFrame(()=>e(d.unwrap()))):void 0;a({type:L.CheckoutActionTypes.SHOW_PAYMENTS})}},[a,e,d,r,u,c]),d.isNone()?null:l.a.createElement(Gp,null)}const OL="PROCEED_WITHOUT_COUPON",hL="DISMISS",AL={title:"Transaction Failed",icon:"payment_failure_icon_gzp8qe",actionTypes:[{displayName:"DISMISS",actionType:hL},{displayName:"PROCEED WITHOUT COUPON",actionType:OL}]};var fL=Object(i.memo)((function(e){const{checkoutState:t,setCheckoutState:a}=Object(i.useContext)(L.CheckoutContext),{paymentResponse:n}=Object(i.useContext)(AR),{invalidCouponResponseData:o,placeOrderData:r}=e.payload,{title:c,actionTypes:d}=AL,{couponErrorMessage:u}=o,m=Object(s.hb)("Payment of ₹{0}",e.amountToPay),{payAction:p}=e,_=Object(i.useMemo)(()=>tS(e.itemQuantity),[e.itemQuantity]),E=Object(i.useCallback)(e=>{switch(e.actionType){case OL:r.extraParams||(r.extraParams={}),r.extraParams.force_validate_coupon=!1,r.extraParams.transaction_amount=null==n?void 0:n.paymentAmountWithoutDiscount,r.extraParams.paymentAmountWithoutDiscount=null==n?void 0:n.paymentAmountWithoutDiscount,p(r.paymentMethodData,r.extraParams);break;case hL:a({type:L.CheckoutActionTypes.SHOW_PAYMENTS})}},[a,r,n,p]),C=Object(i.useCallback)(()=>{a({type:L.CheckoutActionTypes.SHOW_PAYMENTS})},[a]),b=Object(i.useMemo)(()=>d.map(t=>({text:t.displayName,subText:t.actionType===OL?Object(s.hb)("₹{0} will be charged",e.amountToPayWithoutCouponWithoutSplitpay):void 0,onClick:()=>{E(t)}})),[E,d,e.amountToPayWithoutCouponWithoutSplitpay]);return t.type!==L.CheckoutActionTypes.INVALID_COUPON_ALERT?null:l.a.createElement(Yb,{icon:pA,title:c,message:u,info:m,subInfo:_,primaryAction:b[0],secondaryAction:b[1],hideOnOverlayClick:!0,onClose:C})}));const vL="More Payment Options",TL={[z.CARD]:"Select a card",[z.COD]:"Pay on delivery",[z.FOOD_CARD]:"Select a card",[z.NETBANKING]:"Select a bank",[z.PAY_LATER]:"Pay Later",[z.UPI]:"Select a bank",[z.WALLET]:"Select a wallet",[z.WALLET_WEB]:"Select a wallet",[z.JUSPAY_WALLET]:"Select Paypal",[z.PREFERRED]:"Select preferred method",[z.SWIGGY_INSTRUMENTS]:"Swiggy money"};var IL=Object(i.memo)((function(e){const{paymentResponse:t}=Object(i.useContext)(AR),{impressionEvent:a}=Object(i.useContext)(k.a),{nativeUpiFetchStatus:n,juspayNativeUpiState:o}=Object(i.useContext)(VR),{juspayNativeUpiData:r}=Object(i.useMemo)(()=>o,[o]),s=jI(t)===vI.TWO_CLICK,c=Object(i.useCallback)(e=>{((e,t)=>{t({category:lT,context:e,action:"impression-payment-group"})})(e,a)},[a]),d=Object(i.useCallback)(t=>{e.onOptionClick(t,s?void 0:e.frictionGroups)},[e,s]),u=Object(i.useMemo)(()=>({nativeUpiFetchStatus:n,nativeUpiLinkStatus:null==r?void 0:r.status}),[n,r]);if(null==t||0===e.frictionGroups.length)return null;const m=s?vL:"More options",p=s?e.frictionGroups:[{groupName:"threeClickPaymentOptions",displayName:"View more payment options",couponApplicable:!1,paymentMethods:[],meta:{iconUrl:"PaymentLogos/instruments/4x/More_options",ctaSubtext:null!=(_=t.frictionViewMorePaymentSubtext)?_:""},preferredGroup:!1}];var _;return l.a.createElement(Sb,{title:m,paymentGroups:p,onOptionClick:d,onViewEnter:c,otherProps:u})}));const SL="coupon-true",NL="coupon-false";var RL="FallbackAlert-v4_paymentMethodsContainer_-6tXlItx",PL="FallbackAlert-v4_separator_D-JJPoge";fR('@charset "UTF-8";.FallbackAlert-v4_bottomSheetContainer_R2ggTXXX{border-radius:16px 16px 0 0!important}.FallbackAlert-v4_container_rnIUR2Nk{padding:28px 16px}.FallbackAlert-v4_failureTitle_CL02MLFe{overflow:hidden;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;font-size:20px;line-height:24px;font-weight:600;letter-spacing:-.3px;text-overflow:ellipsis;color:rgba(2,6,12,.9215686275);margin-bottom:24px;flex:1}.FallbackAlert-v4_failureTitleContainer_wZu8NN-v{display:flex;margin-top:10px;max-width:calc(100% - 32px)}.FallbackAlert-v4_failureIcon_CdDrO4Nr{margin-top:4px;border:none!important;margin-right:12px;height:24px!important;width:24px!important}.FallbackAlert-v4_paymentMethods_BxSvAAW5{background:#fff;overflow:hidden}.FallbackAlert-v4_paymentMethodsContainer_-6tXlItx{padding:0 16px;margin-bottom:24px;box-shadow:0 2px 8px rgba(40,44,63,.1);border-radius:16px;margin-top:-4px}.FallbackAlert-v4_separator_D-JJPoge{border-bottom:1px dashed #e2e2e7}.FallbackAlert-v4_payButton_ONrHvlT-{display:block!important}.FallbackAlert-v4_payButtonContent_vY6vy0oY{display:flex;column-gap:30px;font-size:16px;line-height:19px;font-weight:600;letter-spacing:-.3px}.FallbackAlert-v4_payButtonContentLeft_Z2pFaRVn{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;text-transform:none}.FallbackAlert-v4_payButtonContentLeft_Z2pFaRVn:before{content:"₹";margin-right:.1rem}.FallbackAlert-v4_payButtonContentRight_0XSWVIXf{display:flex;align-items:baseline;flex:1;justify-content:flex-end;text-transform:none}.FallbackAlert-v4_payButtonContentRight_0XSWVIXf,.FallbackAlert-v4_payButtonContentRightText_1MrZaC6D{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.FallbackAlert-v4_arrowIcon_IRH0ke45{stroke:#babbc0;height:11px;width:8px}.FallbackAlert-v4_arrowIconWhite_2PZDaadD{stroke:#fff;fill:#fff;margin-left:4px}');var DL=Object(i.memo)(e=>{const{hideOnOverlayClick:t=!0,onCloseAndReload:a}=e,n=fn(e,["hideOnOverlayClick","onCloseAndReload"]),{fallbackApiMethods:o}=n,{failureReason:r=""}=o,{impressionEvent:c}=Object(i.useContext)(L.AnalyticsContext);return Object(s.Db)(()=>{((e,t)=>{e({category:yT,action:"payment-failure-half-card",label:t||"-"})})(c,r)}),l.a.createElement(s.e,{hideOnOverlayClick:t,onClose:a,closeButtonDataTestId:"fallback_alert_close_icon"},e=>l.a.createElement(LL,Object.assign({},e,n)))});const LL=e=>{var t,a,n,o,r;const[c,d]=Object(i.useState)(),[u,m]=Object(i.useState)(!1),{clickEvent:p,impressionEvent:_}=Object(i.useContext)(L.AnalyticsContext),{paymentPageOfferEnabled:E}=Object(i.useContext)(yR),C=Object(s.nb)("PaymentLogos/paymentIcons/paylater/paymenterror",{trim:!0}),{fallbackApiMethods:b,payAction:y}=e,{failureTitle:g,failureReason:O}=b,h=null==c?void 0:c.payButtonEntity.orderAmount,A=b.numberOfItems,f=Object(i.useMemo)(()=>{var e;return null!==(e=null==c?void 0:c.payableAmount)&&void 0!==e?e:h},[h,null==c?void 0:c.payableAmount]),v=Object(i.useCallback)(e=>{var t;e.lastUsedPm?((e,t,a)=>{a({category:yT,action:"click-last-used-payment-method",label:e,context:t?SL:NL})})(e.groupName,e.couponApplicable,p):((e,t,a)=>{a({category:yT,action:"click-recommended-payment-method",label:e,context:t?SL:NL})})(e.groupName,e.couponApplicable,p),d(e),m(null!==(t=e.splitPaySelected)&&void 0!==t&&t)},[p]),T=Object(i.useCallback)(()=>{c&&(((e,t,a)=>{a({category:yT,action:"click-proceed-to-pay",label:e,context:t?"last used":"recommended"})})(c.groupName,c.lastUsedPm,p),y(c,u),e.onClose())},[c,y,e,u,p]),I=Object(i.useCallback)(()=>{(e=>{e({category:yT,action:"click-more-payment-methods"})})(p),e.close()},[e,p]),S=Object(i.useCallback)(()=>{(e=>{e({category:yT,action:"click-try-other-payment"})})(p),e.close()},[e,p]),N=Object(i.useCallback)(()=>{c.splitPayToggleEditable&&(((e,t)=>{t({category:yT,action:"toggle-swiggy-pay",context:e?"checked":"unchecked"})})(!u,p),m(!u))},[c,u,p]),R=Object(i.useCallback)(e=>{e.lastUsedPm?((e,t,a)=>{a({category:yT,action:"last-used-payment-method",label:e,context:t?SL:NL})})(e.groupName,e.couponApplicable,_):((e,t,a)=>{a({category:yT,action:"recommended-payment-method",label:e,context:t?SL:NL})})(e.groupName,e.couponApplicable,_)},[_]),P=Object(i.useCallback)(()=>{(e=>{e({category:yT,action:"technical-failure-error"})})(_)},[_]),D=Object(i.useCallback)(()=>{(e=>{e({category:yT,action:"more-payment-methods"})})(_)},[_]),k=Object(i.useCallback)(()=>`${f} | ${A} ${A>1?"Items":"Item"}`,[f,A]);return Object(s.Db)(()=>{var e;b.paymentMethods.length>0&&(d(b.paymentMethods[0]),m(null!==(e=b.paymentMethods[0].splitPaySelected)&&void 0!==e&&e))}),l.a.createElement("div",null,l.a.createElement("div",{className:"FallbackAlert-v4_container_rnIUR2Nk"},l.a.createElement("div",{className:"FallbackAlert-v4_failureTitleContainer_wZu8NN-v","data-testid":"fallback_alert_title"},l.a.createElement(Jo,{src:C,parentClassName:"FallbackAlert-v4_failureIcon_CdDrO4Nr"}),l.a.createElement("div",{className:"FallbackAlert-v4_failureTitle_CL02MLFe"},O||g)),b.paymentMethods.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:RL,"data-testid":"fallback_alert_payment_methods_container"},l.a.createElement("div",{className:"FallbackAlert-v4_paymentMethods_BxSvAAW5"},b.splitpay&&!E&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Pb,{isSelected:u,onClick:N,splitPayData:b.splitpay,inlineMessage:null!==(t=null==c?void 0:c.splitPayInlineMessage)&&void 0!==t?t:"",isDisabled:!(null==c?void 0:c.splitPayToggleEditable),orderAmount:null==c?void 0:c.payButtonEntity.orderAmount}),l.a.createElement("div",{className:PL})),b.paymentMethods.map(e=>{const t=To(e);return l.a.createElement(l.a.Fragment,null,l.a.createElement(VO,{id:t,paymentMethodData:e,onSelectPaymentMethod:v,onImpression:R,isSelected:!!c&&To(c)===t}),l.a.createElement("div",{className:PL}))})),l.a.createElement(KO,{onClick:I,title:b.otherPaymentMethodBanner.title,onImpression:D})),b.splitpay&&E&&l.a.createElement("div",{className:RL},l.a.createElement(Pb,{isSelected:u,onClick:N,paymentPageOfferEnabled:E,splitPayData:b.splitpay,inlineMessage:null!==(a=null==c?void 0:c.splitPayInlineMessage)&&void 0!==a?a:"",isDisabled:!(null==c?void 0:c.splitPayToggleEditable),orderAmount:null==c?void 0:c.payButtonEntity.orderAmount})),l.a.createElement(WO,{onClick:T},l.a.createElement("div",{className:"FallbackAlert-v4_payButtonContent_vY6vy0oY"},l.a.createElement("div",{className:"FallbackAlert-v4_payButtonContentLeft_Z2pFaRVn"},k()),l.a.createElement("div",{className:"FallbackAlert-v4_payButtonContentRight_0XSWVIXf"},l.a.createElement("div",{className:"FallbackAlert-v4_payButtonContentRightText_1MrZaC6D"},null!==(o=null===(n=null==c?void 0:c.payButtonEntity)||void 0===n?void 0:n.inlineMessage)&&void 0!==o?o:""))))),0===b.paymentMethods.length&&l.a.createElement(FO,{onClick:S,onImpression:P,title:(null===(r=null==b?void 0:b.otherPaymentMethodBanner)||void 0===r?void 0:r.title)||"TRY ANOTHER PAYMENT METHOD"})))};var kL=Object(i.memo)(e=>{var t,a;const{fallbackApiMethods:n,payAction:o,payload:r,selectAction:c}=e,{screenViewEvent:d}=Object(i.useContext)(L.AnalyticsContext),{state:u}=Object(i.useContext)(yP),{setCheckoutState:m}=Object(i.useContext)(L.CheckoutContext),{placeOrderData:p}=r,_=Object(L.useNavigate)(),{paylaterState:E}=Object(i.useContext)(vP);Object(s.Db)(()=>{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.NEW_PAYMENT_FAILURE_HALF_CARD_RENDERED}),WT(d)});const C=Object(i.useCallback)((e,t)=>{var a,r,i,l,s;let d={};if(e.lastUsedPm&&$I(e))(null===(a=null==p?void 0:p.extraParams)||void 0===a?void 0:a.cvv)&&(d={cvv:null!==(i=null===(r=null==p?void 0:p.extraParams)||void 0===r?void 0:r.cvv)&&void 0!==i?i:void 0});else{if(XI(e)){if(e.enabled){const t=eS();m({type:t}),c(e)}return}if(Dv(e)){if(!E[e.name].linked){const e=eS();return m({type:e}),void _(L.CheckoutRoute.PAYLATER_LINKING_CONFIRMATION)}}else JI(e)?d={bankCode:e.nbCode,bankName:e.name,merchantId:null===(l=e.groupMeta)||void 0===l?void 0:l.merchantId,paymentMethodType:"NB"}:tI(e)&&(fu(e)&&(d={phonepe_payment_type:"INSTANT_DEBIT"}),Ou(e)&&u&&(d=Tu(u.isBalanceSufficient)))}d[LA]=t?null===(s=n.splitpay)||void 0===s?void 0:s.swiggyPayEligibleBalance:void 0,d.force_validate_coupon=n.couponApplied&&e.couponApplicable,o(e,d)},[null===(t=n.splitpay)||void 0===t?void 0:t.swiggyPayEligibleBalance,n.couponApplied,o,null===(a=null==p?void 0:p.extraParams)||void 0===a?void 0:a.cvv,m,c,E,_,u]),b=Object(i.useCallback)(()=>{m({type:L.CheckoutActionTypes.SHOW_PAYMENTS})},[m]),y=Object(i.useCallback)(()=>{m({type:L.CheckoutActionTypes.SHOW_PAYMENTS,payload:{reload:rT(null==r?void 0:r.failedOrder)}})},[null==r?void 0:r.failedOrder,m]);return l.a.createElement(DL,{hideOnOverlayClick:!0,onClose:b,onCloseAndReload:y,fallbackApiMethods:n,payAction:C})}),xL=Object(i.memo)((function(e){const{checkoutState:t,setCheckoutState:a}=Object(i.useContext)(L.CheckoutContext),{screenViewEvent:n,clickEvent:o}=Object(i.useContext)(L.AnalyticsContext),{placeOrderData:r,failedOrder:c,paymentFailureResponse:d}=e.payload,u=cv,{failureMessage:m,failureTitle:p,paymentMethods:_}=u,E=Object(s.hb)("Payment of ₹{0}",e.amountToPay),{payAction:C,paymentGroups:b,amountToPay:y}=e,g=Object(i.useMemo)(()=>tS(e.itemQuantity),[e.itemQuantity]),O=Object(i.useCallback)(()=>{var t;const n=eS();a({type:n,payload:{reload:rT(null===(t=null==e?void 0:e.payload)||void 0===t?void 0:t.failedOrder)}})},[null==e?void 0:e.payload,a]),h=Object(i.useMemo)(()=>JT({clickEvent:o,payAction:C,placeOrderData:r,failedOrder:c,setCheckoutState:a,amountToPay:y,paymentGroups:b,fallbackMethods:_}),[y,o,c,C,b,_,r,a]);return Object(s.Db)(()=>{WT(n)}),t.type!==L.CheckoutActionTypes.PAYMENT_FAILED?null:l.a.createElement(Yb,{icon:pA,title:(null==d?void 0:d.failureReason)||p,message:m,info:E,subInfo:g,primaryAction:h[0],secondaryAction:h[1],hideOnOverlayClick:!0,onClose:O})}));var wL=Object(i.memo)(e=>{var t;const{fallbackApiMethods:a,isFallbackApiInProgress:n}=(()=>{var e;const{checkoutState:t}=Object(i.useContext)(L.CheckoutContext),a=Object(i.useContext)(L.ApiContext),{availableMethods:n}=Object(i.useContext)(OP),o=null===(e=a.host)||void 0===e?void 0:e.unwrap(),[r,l]=Object(i.useState)(),[c,d]=Object(i.useState)(!1),u=Object(i.useMemo)(()=>Cf(),[]),m=Object(i.useContext)(L.PublicApiContext),p=Object(i.useMemo)(()=>Object(M.b)(m||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.PAYMENT_APIS,L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.GET_PAYMENT_FALLBACK_METHODS),[m])?IN:oN;return Object(i.useEffect)(()=>{var e,a,r,i;if(t.type===L.CheckoutActionTypes.PAYMENT_FAILED&&(null===(e=null==t?void 0:t.payload)||void 0===e?void 0:e.isFallbackApiEnabled)&&(null===(r=null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.failedOrder)||void 0===r?void 0:r.orderId)){let e;d(!0);const a=null===(i=null==t?void 0:t.payload)||void 0===i?void 0:i.failedOrder;null!=a&&(e=a.paymentTxnId),p(o,String(e)).then(e=>{e&&e.paymentMethods&&(e.paymentMethods=((e,t)=>{let a=[];return e.recommendedUpiIntentMethods&&(a=e.recommendedUpiIntentMethods.filter(e=>t.includes(e.name))),0!==e.paymentMethods.length||Object(s.ub)(a)?1===e.paymentMethods.length&&e.paymentMethods[0].lastUsedPm&&!Object(s.ub)(a)?(e.couponApplied?e.paymentMethods[0].couponApplicable&&e.paymentMethods.push(a[0]):e.paymentMethods.unshift(a[0]),e.paymentMethods):e.paymentMethods.map(e=>(!1!==(null==e?void 0:e.lastUsedPm)||Object(s.ub)(a)||(e=a[0]),e)):[a[0]]})(e,n),l(e)),d(!1)}).catch(()=>{d(!1)})}},[o,t,n,u,p]),{fallbackApiMethods:r,isFallbackApiInProgress:c}})(),{checkoutState:o}=Object(i.useContext)(L.CheckoutContext);return o.type!==L.CheckoutActionTypes.PAYMENT_FAILED?null:n?l.a.createElement(Gp,null):(null===(t=null==o?void 0:o.payload)||void 0===t?void 0:t.isFallbackApiEnabled)&&a?l.a.createElement(kL,{fallbackApiMethods:a,payAction:e.payAction,payload:e.payload,selectAction:e.selectAction}):l.a.createElement(xL,Object.assign({},e))}),ML=Object(i.memo)((function(e){const{checkoutState:t}=Object(i.useContext)(L.CheckoutContext),{interruptData:a}=e.payload,{impressionEvent:n}=Object(i.useContext)(L.AnalyticsContext),{billTotal:o}=Object(i.useContext)(yR);Object(s.Db)(()=>{t.type===L.CheckoutActionTypes.PAY_ON_DELIVERY_PAYMENT_ALREADY_DONE&&((e,t)=>{e({category:"autopay-prev-half-card",action:"impression-autopay-prev-success",context:String(t)})})(n,o)});const r=Object(i.useCallback)(()=>{if(null==a?void 0:a.orderId){const e={type:w.m.SCREEN,link:w.l.TRACK,params:{orderId:a.orderId,hideMakePaymentButton:!0,shouldCloseWebview:!0}};Object(L.getBridgeSdk)().navigateToScreen(e).catch(()=>{})}},[a]);return t.type!==L.CheckoutActionTypes.PAY_ON_DELIVERY_PAYMENT_ALREADY_DONE?null:l.a.createElement(xE,{onClose:r,title:a.title,durationInSec:3,hideCloseIcon:!0})})),jL=Object(i.memo)((function({onClose:e}){const t=Object(i.useMemo)(()=>({onClick:e,text:"Try Again"}),[e]);return l.a.createElement(s.s,{onClose:e,primaryAction:t,title:"Something went wrong while fetching the card details.",closeButtonDataTestId:"oneClickPromoHalfCard_error_half_card",containerDataTestId:"one_cl_err_con",hideOnOverlayClick:!0})}));fR(".EnableOneClickPay_payCta_QXEZOGcf{padding:0!important}.EnableOneClickPay_cardGroupCotainer_qwnTiX0h{border-bottom:1px dashed rgba(2,6,12,.1490196078);border-radius:16px 16px 0 0!important;box-shadow:0 2px 8px 0 rgba(40,44,63,.1)!important}.EnableOneClickPay_cardGroupCotainer_qwnTiX0h,.EnableOneClickPay_singleCardGroupContainer_4SqBOhmY{margin:10px 8px 0!important}.EnableOneClickPay_halfCardContent_wFvvF1MV{margin-bottom:32px}");const BL=()=>{};var UL=Object(i.memo)((function(e){var t;const{defaultSelectedCardGroup:a,isOneClickPromoHalfCardVisible:n,isEligibleForOneClickPay:o,updateOneClickHalfCardState:r,oneClickEligibleCardGroup:s}=Object(i.useContext)(GP),{amountToPay:c}=Object(i.useContext)(yR),{clickEvent:u,impressionEvent:m}=Object(i.useContext)(L.AnalyticsContext),p=Object(L.useNavigate)(),{onPay:_,juspayMeta:E}=e;Object(i.useEffect)(()=>{n&&(e=>{e({category:lT,action:"impression-payment-half-card",label:"banner",context:YT})})(m)},[n,m]);const C=Object(i.useCallback)((e,t)=>{r(),_(e,t,{isOneClickPromotionFlow:!0})},[r,_]),b=Object(i.useCallback)(()=>{(e=>{e({category:lT,action:"click-select-other-card",label:"banner",context:YT})})(u),r(),window.requestAnimationFrame(()=>{p(L.CheckoutRoute.ONE_CLICK_ENROLLMENT)})},[u,p,r]),y=Object(i.useCallback)(()=>{(e=>{e({category:lT,action:"click-close",label:"banner",context:YT})})(u),r()},[u,r]),g=Object(i.useCallback)(()=>{cI(u,"half-card")},[u]),O=l.a.useMemo(()=>!!(s&&s.paymentMethods.length>1),[s]),h=l.a.useMemo(()=>d()({EnableOneClickPay_cardGroupCotainer_qwnTiX0h:O,EnableOneClickPay_singleCardGroupContainer_4SqBOhmY:!O}),[O]);if(n&&!o)return l.a.createElement(jL,{onClose:r});if(!n||!a||!(null===(t=E.oneClickMeta)||void 0===t?void 0:t.oneClickPromoScreen))return null;const A=To(a.paymentMethods[0]);return l.a.createElement(Eu,{onClickAnotherCards:b,onClose:y,data:E.oneClickMeta.oneClickPromoScreen,onClickKnowMoreEvent:g,showAnotherCardCTA:O,halfCardContentClassName:"EnableOneClickPay_halfCardContent_wFvvF1MV"},l.a.createElement("div",null,l.a.createElement(zD,{options:Zf,paymentGroup:a,paymentAmount:String(c),selectedPaymentId:A,paymentInProgress:!1,onPay:C,hideGroupTitle:!0,cardGroupCotainerClassName:h,isOneClickPromotionFlow:!0,payCtaText:"ENABLE & PAY",payCtaClassName:"EnableOneClickPay_payCta_QXEZOGcf",onSelect:BL})))}));function HL({paymentGroup:e,error:t,paymentCode:a}){const{setCheckoutState:n}=Object(i.useContext)(L.CheckoutContext),o=Object(L.useNavigate)(),{impressionEvent:r}=Object(i.useContext)(L.AnalyticsContext);return Object(s.Db)(()=>{n({type:L.CheckoutActionTypes.SHOW_PAYMENTS}),t?(((e,t)=>{t({category:lT,action:"impression-SIMPL-link-failed",label:e})})(a,r),Object(L.showNativeAlert)({message:uA})):(Bv(a),o(L.CheckoutRoute.MORE_PAYMENT_METHODS,{paymentGroup:e}))}),l.a.createElement(Gp,null)}const GL=p.default.div(()=>({display:"flex"})),YL=p.default.div(({theme:e})=>({"& .toast":{bottom:e.spacing.xLarge,left:e.spacing.medium,right:e.spacing.medium,zIndex:9}}));var WL=Object(i.memo)((function(e){const{setCheckoutState:t}=Object(i.useContext)(L.CheckoutContext),a=Object(i.useCallback)(()=>{t({type:L.CheckoutActionTypes.SHOW_PAYMENTS})},[t]),n=Object(i.useMemo)(()=>(null==e?void 0:e.type)===Le.ERROR?l.a.createElement(GL,null,l.a.createElement(v.SpriteIconWeb,{iconName:"errorFilled24",strokeColor:"negative",fillColor:"negative"})):l.a.createElement(GL,null,l.a.createElement(v.SpriteIconWeb,{iconName:"info24"})),[null==e?void 0:e.type]);return l.a.createElement(YL,{"data-testid":"generic-payment-toast"},l.a.createElement(B.Toast,{message:e.message,leftAsset:n,containerClass:"toast",autoDismiss:!0,onDismiss:a,show:!0}))})),FL=Object(i.memo)((function({payload:e}){var t,a,n;const{impressionEvent:o,clickEvent:r}=Object(i.useContext)(L.AnalyticsContext),{checkoutState:c}=Object(i.useContext)(L.CheckoutContext),d=(null===(t=null==e?void 0:e.alertData)||void 0===t?void 0:t.title)||$A,u=(null===(a=null==e?void 0:e.alertData)||void 0===a?void 0:a.icon)||"PaymentLogos/paymentIcons/error",m=Object(i.useMemo)(()=>{var t,a;return{text:(null===(a=null===(t=null==e?void 0:e.alertData)||void 0===t?void 0:t.cta)||void 0===a?void 0:a.text)||XA,onClick:()=>{var t,a,n;try{(e=>{e({category:lT,action:"click-webview-refresh-orderid-mismatch-alert-cta"})})(r),null===(n=null===(a=null===(t=null==e?void 0:e.alertData)||void 0===t?void 0:t.cta)||void 0===a?void 0:a.onClick)||void 0===n||n.call(a)}catch(t){}}}},[r,null===(n=null==e?void 0:e.alertData)||void 0===n?void 0:n.cta]);return Object(i.useEffect)(()=>{c.type===L.CheckoutActionTypes.WEBVIEW_REFRESH_ORDER_ID_MISMATCH_ALERT&&((e=>{e({category:lT,action:"impression-webview-refresh-orderid-mismatch-alert"})})(o),Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_INFO,name:"webviewRefreshOrderIdClashHalfcardShown"}))},[c.type,o]),c.type!==L.CheckoutActionTypes.WEBVIEW_REFRESH_ORDER_ID_MISMATCH_ALERT||Object(s.ub)(null==e?void 0:e.alertData)?null:l.a.createElement(Yb,{title:d,primaryAction:m,hideOnOverlayClick:!1,icon:u,hideCloseIcon:!0})}));const VL="split_payments",KL=()=>{const{billTotal:e,setSplitPayMethods:t,selectedSplitPayMethods:a}=Object(i.useContext)(yR),{paymentResponse:n}=Object(i.useContext)(AR),{setCroutonState:o}=Object(i.useContext)(nP),{clickEvent:r,impressionEvent:l}=Object(i.useContext)(L.AnalyticsContext),{refetchPayments:c}=Object(i.useContext)(AR),d=Object(i.useRef)(),[u,m]=Object(i.useState)(!1),[p,_]=Object(L.useSessionStorage)("show_one_splitpay_at_a_time",0),E=Object(i.useCallback)(e=>{m(e)},[]),C=Object(i.useCallback)(()=>{(e=>{e({category:lT,action:wT,label:JSON.stringify({groupName:VL})})})(l)},[l]),b=Object(i.useCallback)(e=>{((e,t)=>{t({category:lT,action:kT,label:JSON.stringify({groupName:VL}),context:e})})(e,r)},[r]),y=Object(i.useCallback)(()=>{(e=>{e({category:lT,action:"impression-view-all-rewards",label:JSON.stringify({groupName:VL})})})(l)},[l]),g=Object(i.useCallback)(()=>{(e=>{e({category:lT,action:"click-view-all-rewards",label:JSON.stringify({groupName:VL})})})(r)},[r]),O=Object(i.useCallback)(()=>{(e=>{e({category:lT,action:"impression-rewards-groups"})})(l)},[l]),h=Object(i.useCallback)((e,t)=>{((e,t,a)=>{a({category:lT,action:"click-rewards-groups",label:JSON.stringify({reward_name:e,selected:t})})})(e,t,r)},[r]),A=Object(i.useCallback)(e=>{((e,t)=>{t({category:lT,action:"toast-rewards-successfully-applied",label:e})})(e,l)},[l]),f=Object(i.useCallback)(e=>{((e,t)=>{t({category:lT,action:"toast-select-only-one-reward",label:e})})(e,l)},[l]),v=Object(i.useCallback)(()=>{(e=>{e({category:lT,action:"click-cross-rewards-groups"})})(r)},[r]),T=Object(i.useCallback)((e,t)=>{var r;const i=(({methodData:e,selectedSplitPayMethods:t,splitpayList:a,showOneSplitPayToastCount:n,isSplitpaySelected:o})=>{const r=((e,t)=>{const a=e.split(","),n=null==t?void 0:t.find(e=>(a.includes(e.paymentCode)||a.includes(e.splitPayIdentifier))&&e.isReward);return Boolean(null==n?void 0:n.isReward)})(t,a),i=an(t)||t===tN.DEFAULT,l=e.isReward;return!i&&r!==l&&n<3?{state:{title:"You can use either Swiggy Money or rewards",durationOfCrouton:3e3,icon:"portal/m/info_white.png"},increaseOneSplitpayToastCount:!0}:l&&o?{state:{title:tn("Yay! ₹{0} more saved with {1} rewards!",e.eligibleBalance,e.displayName),durationOfCrouton:3e3,icon:"portal/m/sparkle_white.png"},increaseOneSplitpayToastCount:!1}:void 0})({methodData:e,selectedSplitPayMethods:a,splitpayList:null!==(r=null==n?void 0:n.splitpayList)&&void 0!==r?r:[],showOneSplitPayToastCount:p,isSplitpaySelected:t});an(i)||(o(i.state),i.increaseOneSplitpayToastCount?(_(p+1),f(i.state.title)):A(i.state.title))},[null==n?void 0:n.splitpayList,a,o,_,p,f,A]),I=Object(i.useCallback)((a,n)=>{const i=a?eO(n):"";o({title:""}),c(i,()=>{t(tN.DEFAULT),o({title:"Action could not be completed. Try again!",durationOfCrouton:3e3,icon:"Info_Icon_Filled_Red_wf4xdh.png"})}),T(n,a),aO(n)&&(({selected:e,orderAmount:t,paymentCode:a,clickEvent:n})=>{n({category:lT,action:a===oe.FLIPKART_SUPER_COIN?"click_FlipkartCoins_pay_optin":"click_swiggy_pay_optin",label:e?1:0,context:String(t)})})({selected:a,orderAmount:e,clickEvent:r,paymentCode:eO(n)}),t(i)},[c,e,r,t,o,T]);return Object(i.useEffect)(()=>{d.current=setTimeout(()=>{o({title:""})},3e3)},[o]),Object(s.Db)(()=>()=>{!an(d.current)&&clearTimeout(d.current)}),{onSplitPayToggle:I,isRewardsBottomSheetVisible:u,setIsRewardsBottomSheetVisible:E,analyticsEvents:{splitpayGroupImpressionEvent:C,splitpayClickEvent:b,viewAllRewardsCtaImpressionEvent:y,viewAllRewardsCtaClickEvent:g,rewardsHalfCardImpressionEvent:O,rewardsInHalfcardClickEvent:h,crossClickEvent:v}}},zL=e=>{var t;return(null===(t=null==e?void 0:e.cta)||void 0===t?void 0:t.link)===EA},$L=e=>{var t;return"inapp_upi"===(null===(t=null==e?void 0:e.cta)||void 0===t?void 0:t.link)},XL=e=>{var t;return"add-new-card-flow"===(null===(t=null==e?void 0:e.cta)||void 0===t?void 0:t.link)},JL=e=>{var t;return"lazypay-payment-flow"===(null===(t=null==e?void 0:e.cta)||void 0===t?void 0:t.link)},ZL=e=>{var t;return(null===(t=null==e?void 0:e.cta)||void 0===t?void 0:t.link)===CA},qL=e=>{var t;return(null===(t=null==e?void 0:e.cta)||void 0===t?void 0:t.link)===bA},QL=e=>e.length>0&&BI(e),ek=e=>{var t;if((null===(t=null==e?void 0:e.cta)||void 0===t?void 0:t.link)&&[EA,bA,CA].includes(e.cta.link)&&(null==e?void 0:e.aspectRatio)){const t=window.innerWidth-32;return{width:t,height:t/e.aspectRatio}}};var tk="PaymentUIHandler-v4_container_ZafSrbGX",ak="PaymentUIHandler-v4_containerUx4_KFNI8yaR";function nk(e){const{impressionEvent:t}=Object(i.useContext)(L.AnalyticsContext),{canShowAllMethods:a,children:n,couponCode:o,rewardName:r,paymentCouponCode:c}=e,u=Object(i.useMemo)(()=>an(c)?o:c,[o,c]),m=Object(i.useMemo)(()=>!(!a||an(u)&&an(r)),[a,u,r]),p=Object(i.useCallback)(e=>{((e,t)=>{t({category:lT,label:e,action:"impression-payment-banner"})})(e,t)},[t]),_=Object(i.useMemo)(()=>an(e.couponCode)||an(e.paymentCouponCode)?e.couponCode||e.paymentCouponCode:`${e.couponCode} + ${e.paymentCouponCode}`,[e.couponCode,e.paymentCouponCode]);return Object(s.Db)(()=>{var a,n;((e,t,a,n=!1)=>{const o=Of();a({category:iI(),action:o?"swiggy-money-payment-list-impression":"payment-list-impression",label:e,context:JSON.stringify({planId:t}),extraParams:n&&JSON.stringify({is_irctc_event:!0})||""})})(null!==(a=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.cartId))&&void 0!==a?a:"",null!==(n=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.planid))&&void 0!==n?n:"",t,null==e?void 0:e.isIrctCart)}),e.showFilteredGroupsOnly?l.a.createElement("div",{className:d()(tk,{[ak]:!0})},!e.offerStrip&&_&&l.a.createElement(Dg,{offerCode:_}),e.offerStrip&&l.a.createElement(wh,{maxDiscount:e.offerStrip.maxDiscount,icons:e.offerStrip.icons,goToOffersPage:e.goToOffersPage,impressionEvent:p}),n,m&&l.a.createElement(hb,{couponCode:u,rewardName:r,onClick:e.showAllMethods})):l.a.createElement("div",{className:d()(tk,{[ak]:!0})},e.offerStrip&&l.a.createElement(wh,{maxDiscount:e.offerStrip.maxDiscount,icons:e.offerStrip.icons,goToOffersPage:e.goToOffersPage,impressionEvent:p}),e.children)}fR(".PaymentUIHandler-v4_paymentGroupBanner_7nMfhXy4{display:flex;justify-content:center}.PaymentUIHandler-v4_container_ZafSrbGX{padding-bottom:100px;background-color:#f4f4f5}.PaymentUIHandler-v4_containerUx4_KFNI8yaR{background:#f0f0f5}@supports (padding-bottom:env(safe-area-inset-bottom)){.PaymentUIHandler-v4_container_ZafSrbGX{padding-bottom:calc(env(safe-area-inset-bottom) + 32px)}}.PaymentUIHandler-v4_paymentGroupBanner_7nMfhXy4{margin-bottom:1em;width:100%;background:none;margin-top:0;padding:0}");const ok=Object(i.memo)((function(e){var{paymentGroups:t,filteredPaymentGroups:a,couponApplicablePaymentGroups:n,paymentBannerMessage:o,showAllMethods:r,showCouponGroupsOnly:c,showFilteredGroupsOnly:d,itemQuantity:u,canShowAllMethods:m,splitpayList:p,selectedSplitPayMethods:_,amountToPay:E,amountToPayWithoutCouponWithoutSplitpay:C,showSplitPay:b,withSplitPay:y,couponCode:g,paymentCouponCode:O,rewardName:A,banner:f,couponApplied:v,offerStrip:T,goToOffersPage:I,checkoutMetaInfo:S}=e,N=fn(e,["paymentGroups","filteredPaymentGroups","couponApplicablePaymentGroups","paymentBannerMessage","showAllMethods","showCouponGroupsOnly","showFilteredGroupsOnly","itemQuantity","canShowAllMethods","splitpayList","selectedSplitPayMethods","amountToPay","amountToPayWithoutCouponWithoutSplitpay","showSplitPay","withSplitPay","couponCode","paymentCouponCode","rewardName","banner","couponApplied","offerStrip","goToOffersPage","checkoutMetaInfo"]);const{checkoutState:R}=Object(i.useContext)(L.CheckoutContext),{croutonState:P}=Object(i.useContext)(nP),{clickEvent:D,impressionEvent:k}=Object(i.useContext)(L.AnalyticsContext),{paymentResponse:x}=Object(i.useContext)(AR),{isLoading:w}=Object(i.useContext)(FR),j=Object(i.useContext)(L.ApiContext).host.unwrap(),B=Object(i.useContext)(L.PublicApiContext),{onSplitPayToggle:U,isRewardsBottomSheetVisible:H,setIsRewardsBottomSheetVisible:G,analyticsEvents:Y}=KL(),W=d?a:t,F=iL(!0);d&&1===W.length&&(W[0].displayName=((e,t)=>{var a,n,o,r,i;const l=t?"reward":"offer";return(null===(n=null===(a=null==e?void 0:e[0])||void 0===a?void 0:a.groupName)||void 0===n?void 0:n.toUpperCase())===z.CARD&&1===(null===(o=null==e?void 0:e[0])||void 0===o?void 0:o.paymentMethods.length)&&(null===(i=null===(r=null==e?void 0:e[0])||void 0===r?void 0:r.paymentMethods[0])||void 0===i?void 0:i.name)===Z?Object(s.hb)("No saved cards for this {0}",l):Object(s.hb)("Payment methods for this {0}",l)})(W,null==x?void 0:x.rewardApplied));const V=((e,t)=>{const{paymentResponse:a}=Object(i.useContext)(AR),n=jI(a),o=Object(i.useMemo)(()=>hI(e),[e]),[r,l,s]=Object(i.useMemo)(()=>o||((e,t)=>!e&&(e=>e===vI.TWO_CLICK||e===vI.THREE_CLICK)(t))(t,n)?(e=>Array.isArray(e)&&0!==e.length?(e=>{let t={topGroups:[],frictionGroups:[],bottomGroups:[]};return t=e.reduce((e,t)=>((e=>{var t;return null!==(t=null==e?void 0:e.isFrictionHiddenGroup)&&void 0!==t&&t})(t)&&(yI(t)||t.paymentMethods.length>0)?e.frictionGroups.push(t):e.frictionGroups.length>0?e.bottomGroups.push(t):0===e.frictionGroups.length&&e.topGroups.push(t),e),t),[t.topGroups,t.frictionGroups,t.bottomGroups]})(e):[[],[],[]])(e):[e,[],[]],[o,t,n,e]);return{showFrictionLayout:l.length>0,topGroups:r,frictionGroups:l,bottomGroups:s,frictionLayoutId:n}})(W,m),{topGroups:K,bottomGroups:$,frictionGroups:X}=V,{addMoneyActions:J,swiggyMoneyInfoActions:q}=QD(),{canShowTimer:Q,closeTime:ee,onComplete:te,closingTimerSource:ae,onTimerLoad:ne}=(()=>{const e=Object(s.cb)(),t=Object(s.mb)(),{checkoutState:a}=Object(i.useContext)(L.CheckoutContext),{impressionEvent:n}=Object(i.useContext)(L.AnalyticsContext),[o,r]=Object(i.useState)(e),l=Object(i.useCallback)(()=>{Object(s.bb)(),r(!1)},[]),c=Object(i.useCallback)(()=>{!function(e){e({category:lT,action:"impression_timer"})}(n)},[n]),d=Object(i.useCallback)(()=>{(e=>{e({category:yT,action:"impression_timer"})})(n)},[n]),u=Object(i.useMemo)(()=>a.type===L.CheckoutActionTypes.PAYMENT_FAILED?s.R.PAY_HALF_CARD:s.R.PAYMENT,[a.type]),m=Object(i.useMemo)(()=>a.type===L.CheckoutActionTypes.PAYMENT_FAILED?d:c,[a.type,c,d]);return{canShowTimer:o,closeTime:t,onComplete:l,closingTimerSource:u,onTimerLoad:Object(i.useCallback)(()=>{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.TIMER_RENDERED,referer:s.R.PAYMENT}),m()},[m])}})(),{handleCustomActionOnBanner:oe,paymentMethodDowntimeBannerData:re}=(({banner:e,paymentGroups:t})=>{var a;const{clickEvent:n,impressionEvent:o}=Object(i.useContext)(L.AnalyticsContext),{updateOneClickHalfCardState:r}=Object(i.useContext)(GP),[l,s]=Object(i.useState)(!1),c=UR(),{paymentResponse:d}=Object(i.useContext)(AR),{paylaterState:u}=Object(i.useContext)(vP),m=Object(i.useMemo)(()=>Pv(t,Cv),[t]),p=Object(i.useMemo)(()=>Lv(t),[t]),_=Object(i.useMemo)(()=>tT(null==d?void 0:d.paymentGroup),[null==d?void 0:d.paymentGroup]),E=Object(i.useMemo)(()=>{var e,t;return null!==(t=null===(e=null==d?void 0:d.paymentMethodDowntime)||void 0===e?void 0:e.paymentPageHalfcardPlaceholders.paymentMethodDisplayName)&&void 0!==t?t:""},[null===(a=null==d?void 0:d.paymentMethodDowntime)||void 0===a?void 0:a.paymentPageHalfcardPlaceholders.paymentMethodDisplayName]),C=Object(L.useNavigate)(),b=Object(i.useCallback)((a,o)=>{if(_I(a,n),zL(e))return void r();const{onSelect:i}=o.paymentActions;if(XL(e)){const e=function(e){const t=e.find(e=>NI(e));return null==t?je:DI(t,Z)}(t);e.isSome()&&i(e.unwrap())}else if(JL(e)){if(m.isSome()){const e=m.unwrap(),{linked:t,fetchState:a}=u[e.name];if(2!==a)return;if(!t)return void C(L.CheckoutRoute.PAYLATER_LINKING_CONFIRMATION);if(p.isNone())return;const n=p.unwrap();n.isFrictionHiddenGroup?o.onMorePaymentsOptionSelect(n):e.enabled&&o.paymentActions.onPay(e)}}else{if(ZL(e)){const e=Uf(t);if(e.isNone())return;const a=e.unwrap().paymentMethods.filter(e=>e.groupName.toUpperCase()===z.FOOD_CARD);if(0===a.length)return;const n=a[0];n.enabled&&o.paymentActions.onPay(n)}if(qL(e)){const e=function(e){return Be(e.find(FI)).orElse(()=>{const t=Be(e.find(II));return t.isNone()?je:t.unwrap().paymentMethods.some(e=>e.groupName.toUpperCase()===z.FOOD_CARD)?t:je})}(t).unwrap();e.isFrictionHiddenGroup&&o.onMorePaymentsOptionSelect(e)}if($L(e)){const e=iT(t,aT.ONBOARDING);e.isSome()&&i(e.unwrap())}else(e=>{var t;return"pod-payment-method"===(null===(t=null==e?void 0:e.cta)||void 0===t?void 0:t.link)})(e)&&s(!0)}},[n,e,r,t,m,u,p,C]),y=Object(i.useCallback)(()=>{s(!1)},[]),g=Object(i.useCallback)(()=>{y(),c(_,{[LA]:0},{isPaymentMethodFacingDowntime:!0})},[y,_,c]),O=Object(i.useCallback)(()=>{uI(o)},[o]);return{handleCustomActionOnBanner:b,paymentMethodDowntimeBannerData:{showPaymentMethodDowntimeHalfCard:l,closeHalfCard:y,onHalfCardCtaClick:g,onHalfCardLoad:O,downtimeMethodDisplayName:E}}})({banner:f,paymentGroups:W}),{showPaymentMethodDowntimeHalfCard:ie,closeHalfCard:le,onHalfCardCtaClick:se,downtimeMethodDisplayName:ce,onHalfCardLoad:de}=re,ue=Object(i.useCallback)((e,t)=>{_I(e,D);const a=Object(s.hb)("{0}&callback_url={1}",t,window.location.href),n={callbackUrl:window.location.href,openAsExternal:!1,showBack:!1,title:"Swiggy Money",url:a,showLoader:!1};Object(L.getBridgeSdk)().webNavigate(n).catch(()=>{})},[D]),me=Object(i.useCallback)((e,t,a,n)=>{switch(t){case"scroll":return;case"web-payments":return void oe(a,n);case"deeplink":return void ue(a,e)}},[oe,ue]),pe=Object(i.useMemo)(()=>{var e,t,a,n,o;let r;const i=Bf(p);if(null===(e=null==i?void 0:i.meta)||void 0===e?void 0:e.paymentGroupBannerData)try{r=Object(s.Cb)(null===(t=null==i?void 0:i.meta)||void 0===t?void 0:t.paymentGroupBannerData)}catch(e){}else{const e=xf(W,"SwiggyPay");if(e.isSome()){const t=e.unwrap();if(null===(a=null==t?void 0:t.meta)||void 0===a?void 0:a.paymentGroupBannerData)try{r=Object(s.Cb)(null===(n=null==t?void 0:t.meta)||void 0===n?void 0:n.paymentGroupBannerData)}catch(e){}}}if(r&&(null==r?void 0:r.asset_url)){const e=()=>{var e,t,a,n;((e,t,a)=>{a({category:lT,action:"impression-maw-banner",value:e,context:t})})(null!==(t=null===(e=null==r?void 0:r.analytics_data)||void 0===e?void 0:e.value)&&void 0!==t?t:"",null!==(n=null===(a=null==r?void 0:r.analytics_data)||void 0===a?void 0:a.context)&&void 0!==n?n:"",k)};return l.a.createElement(Bb,{banner:{bannerType:mn.IMAGEBANNER,backgroundImage:nS(null==r?void 0:r.asset_url),id:null===(o=null==r?void 0:r.analytics_data)||void 0===o?void 0:o.context},onViewBanner:e,containerClassName:"PaymentUIHandler-v4_paymentGroupBanner_7nMfhXy4"})}return null},[W,k,p]),_e=Object(i.useMemo)(()=>Object(M.b)(B||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.PAYMENT_APIS,L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.UPDATE_FREQUENCY_COUNTER),[B])?DN:cN,Ee=Object(i.useCallback)(e=>{if(((e,t)=>{t({category:lT,action:"impression-payment-banner",label:e})})(e.id,k),$L(e)){const t=(e=>{var t;return{entity_counters:[{entity_id:(null==e?void 0:e.bannerId)||"",entity_type:"BANNER",count:Number(null!==(t=null==e?void 0:e.frequencyCount)&&void 0!==t?t:0)+1}]}})(e);_e(j,t)}},[j,k,_e]),Ce=Object(i.useCallback)((e,t)=>null==e||0===e.length?null:e.map(e=>l.a.createElement(uL,Object.assign({paymentAmount:String(E),paymentGroup:e,key:e.groupName,paymentInProgress:!1,paymentGroupBanner:pe},t,N))),[E,pe,N]),be=Object(i.useCallback)(e=>(({paymentGroups:e,couponApplicablePaymentGroups:t,couponApplied:a,showCouponGroupsOnly:n,banner:o})=>{if(Object(s.ub)(o))return!1;const r=((e,t)=>!QL(e)&&QL(t))(e,t);return!(a&&(r?!(zL(o)||XL(o)||JL(o)||ZL(o)||qL(o)):zL(o)||n))})({paymentGroups:t,couponApplicablePaymentGroups:n,couponApplied:v,showCouponGroupsOnly:c,banner:f})?l.a.createElement(Bb,{banner:f,onClick:(t,a,n)=>me(t,a,n,e),onViewBanner:Ee,bannerDimensions:ek(f)}):null,[f,t,n,v,c,me,Ee]),ye=Object(i.useMemo)(()=>Lv(W),[W]),ge=Object(i.useCallback)(()=>{var e;if(null==x?void 0:x.rewardApplied){const t=(e=>null==e?void 0:e.find(e=>e.select))(null!==(e=null==x?void 0:x.splitpayList)&&void 0!==e?e:[]);!an(t)&&U(!1,t)}else r()},[null==x?void 0:x.rewardApplied,r,U,null==x?void 0:x.splitpayList]);return l.a.createElement(l.a.Fragment,null,o&&l.a.createElement(Ub,{message:o}),l.a.createElement(zR,null,e=>{var t,a,n,{placeOrderInProgress:o,inAppUpiHalfCardData:r,onMorePaymentsOptionSelect:i}=e,c=fn(e,["placeOrderInProgress","inAppUpiHalfCardData","onMorePaymentsOptionSelect"]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(nk,{showFilteredGroupsOnly:d,showAllMethods:ge,couponCode:g,paymentCouponCode:O,rewardName:A,canShowAllMethods:m,offerStrip:T,goToOffersPage:I,isIrctCart:!!(null==S?void 0:S.irctc_data)},Q&&l.a.createElement(s.g,{duration:ee,source:ae,onComplete:te,onTimerLoad:ne}),be({paymentActions:c,onMorePaymentsOptionSelect:i}),b&&p&&l.a.createElement(CO,{selectedSplitpayMethods:_,splitPayList:p,handleChange:U,addMoneyActions:J,paymentGroupBanner:pe,swiggyMoneyInfoActions:q,isAddMoneyCtaDisabled:ze(c.selectedPaymentId),onFlipkartToolTipShow:F,handleViewAllRewardsClick:G,groupDisplayName:null==x?void 0:x.splitpayGroupDisplayName,couponApplied:v,rewardApplied:null==x?void 0:x.rewardApplied,analyticsEvents:Y}),Ce(K,c),l.a.createElement(IL,{onOptionClick:i,frictionGroups:X}),Ce($,c)),(o||w)&&l.a.createElement($R,null),l.a.createElement(s.t,Object.assign({},P)),ie&&l.a.createElement(Vh,{onCloseBs:le,onCtaClick:se,downtimeMethodDisplayName:ce,onLoad:de}),!an(null==x?void 0:x.halfCardAwareness)&&l.a.createElement(h.HalfCard,{isOpen:r.showHalfCard,onClose:r.closeHalfCard,hasCustomPadding:!0,closeOnOverlayClick:!0},l.a.createElement(eA,{onLoad:r.onHalfCardLoad,isOpen:r.showHalfCard,onCtaClick:r.onInAppUpiHalfCardCtaClick,halfCardData:null==x?void 0:x.halfCardAwareness})),H&&b&&!an(p)&&l.a.createElement(sA,{splitPayList:p,handleVisibility:G,selectedSplitpayMethods:_,handleChange:U,couponApplied:v,rewardApplied:null==x?void 0:x.rewardApplied,analyticsEvents:Y}),R.type===L.CheckoutActionTypes.ADD_MONEY_CONFIRM&&l.a.createElement(bL,{payAction:c.onPay,paymentAmount:E}),R.type===L.CheckoutActionTypes.POST_SWIGGY_ADD_MONEY&&l.a.createElement(yL,{payAction:c.onPay,paymentAmount:E}),(R.type===L.CheckoutActionTypes.POST_PAYLATER_LINKING||R.type===L.CheckoutActionTypes.PAYLATER_SIMPL_LINKING_SUCCESS_PROCEED_WITH_ORDER)&&l.a.createElement(gL,{payAction:c.onPay,payLaterPaymentCode:null===(t=null==R?void 0:R.payload)||void 0===t?void 0:t.paymentCode}),R.type===L.CheckoutActionTypes.PAYLATER_SIMPL_LINKING_FAILED&&l.a.createElement(HL,{error:null===(a=null==R?void 0:R.payload)||void 0===a?void 0:a.error,paymentGroup:ye.unwrap(),paymentCode:null===(n=null==R?void 0:R.payload)||void 0===n?void 0:n.paymentCode}),R.type===L.CheckoutActionTypes.PAYMENT_FAILED&&l.a.createElement(wL,{payAction:c.onPay,selectAction:c.onSelect,paymentGroups:W,amountToPay:String(E),itemQuantity:u,payload:R.payload}),R.type===L.CheckoutActionTypes.ORDER_INTERRUPTION&&l.a.createElement(CL,{payAction:c.onPay,payload:R.payload}),R.type===L.CheckoutActionTypes.WEBVIEW_REFRESH_ORDER_ID_MISMATCH_ALERT&&l.a.createElement(FL,{payload:null==R?void 0:R.payload}),R.type===L.CheckoutActionTypes.INVALID_COUPON_ALERT&&l.a.createElement(fL,{payAction:c.onPay,paymentGroups:W,amountToPay:String(E),itemQuantity:u,payload:R.payload,amountToPayWithoutCouponWithoutSplitpay:String(C)}),R.type===L.CheckoutActionTypes.GENERIC_PAYMENT_ALERT&&l.a.createElement(XR,Object.assign({},R.payload)),R.type===L.CheckoutActionTypes.GENERIC_PAYMENT_TOAST&&l.a.createElement(WL,Object.assign({},R.payload)),R.type===L.CheckoutActionTypes.PAY_ON_DELIVERY_PAYMENT_ALREADY_DONE&&l.a.createElement(ML,{payload:R.payload}),l.a.createElement(UL,{onPay:c.onPay,juspayMeta:N.juspayMeta}))}))})),rk=function(){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 25 32"},l.a.createElement("path",{d:"M13.193 26.268l-.134.108-.352.342-6.131-5.591a6.758 6.758 0 01-1.221-1.084 27.82 27.82 0 01-.464-.479l-.081-.072c-1.097-1.265-1.836-2.652-2.224-4.17a10.838 10.838 0 01-.321-2.659c0-2.861 1.009-5.285 3.049-7.324a12.315 12.315 0 01.824-.751c1.88-1.555 4.037-2.323 6.52-2.323V.398c-2.915 0-5.494.917-7.698 2.741a13.554 13.554 0 00-.966.879C1.604 6.406.398 9.305.398 12.662c0 1.08.126 2.119.378 3.118.468 1.832 1.364 3.5 2.679 4.998l.118.109c.136.144.277.288.421.432.413.471.901.907 1.423 1.265l7.328 6.695 1.523-1.48.127-.054 6.13-5.618c.262-.223.552-.514.849-.85 2.351-2.366 3.556-5.267 3.556-8.615 0-3.357-1.206-6.256-3.596-8.644a15.69 15.69 0 00-.944-.872C18.167 1.314 15.58.398 12.657.398v1.867c2.493 0 4.66.768 6.536 2.314.266.226.544.482.822.76 2.04 2.039 3.049 4.462 3.049 7.324 0 2.853-1.009 5.283-3.052 7.34a7.52 7.52 0 01-.725.728l-5.937 5.441c-.055.03-.108.062-.16.096zm-1.46 1.465H13.6V31.6h-1.867zm2.934-15.066a2 2 0 11-3.999.001 2 2 0 013.999-.001z"}))},ik=function(){return l.a.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("circle",{cx:"6",cy:"6",r:"4.5",fill:"white",stroke:"#6541E4",strokeWidth:"3"}))},lk={[L.ANNOTATION_TYPES.HOME.toLowerCase()]:function(){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 29 32"},l.a.createElement("path",{d:"M1.996 30.156h6.752L8.743 19.63h11.205v10.666l6.667-.027V14.112l-12.309-11.4-12.31 11.239v16.205zM10.745 32H0V13.07L14.316 0l14.295 13.24V32H17.952V21.625h-7.211L10.746 32z"}))},[L.ANNOTATION_TYPES.WORK.toLowerCase()]:function(){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 32 32"},l.a.createElement("path",{d:"M2.021 30h27.621V12.333H2.021V30zM0 10.333h31.663V32H0V10.333zm10.105-5h11.453v2H10.105v-2z"}))}},sk=(e,t)=>{let a="";switch(e.toLowerCase()){case L.ANNOTATION_TYPES.HOME.toLowerCase():a="Home";break;case L.ANNOTATION_TYPES.WORK.toLowerCase():a="Work";break;case L.ANNOTATION_TYPES.FRIENDS_AND_FAMILY.toLowerCase():a=t||"Friends and Family";break;default:a=e||"Other"}return a};function ck(e){var t;return null!==(t=e.name)&&void 0!==t?t:""}function dk(e){const t={address:"",annotation:"Other",Icon:rk,name:""};return e?{name:(null==e?void 0:e.name)||"",address:Object(s.kb)(e),Icon:(a=e.annotation,a&&lk[a.toLowerCase()]||rk),annotation:e.annotation||"Other"}:t;var a}const uk=({slaTime:e,slaMessage:t,checkoutMetaInfo:a})=>{const n=function(e,t){return ze(t)?t:Number(e)>0?e+" Mins":""}(e,t);if(!n)return"";const o=(e=>{if(e&&e.restaurantDetails){const t=function(e){var t;return String(null!==(t=e.id)&&void 0!==t?t:"")}(e.restaurantDetails),a=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.versionCode)||"",n=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.platform)||"";if(L.qFoodRestaurantsList.includes(t)&&Object(s.xb)(L.MIN_ANDROID_VERSION_Q_FOOD,L.MIN_IOS_VERSION_Q_FOOD,a,n))return L.Q_FOOD_SLA}return""})(a)||n.toLowerCase();return Object(s.hb)("Delivery in: {0}",o)},mk=e=>(null==e?void 0:e.deliveryTimeAnnotation)&&(null==e?void 0:e.deliveryTime)?`${null==e?void 0:e.deliveryTimeAnnotation} | ${null==e?void 0:e.deliveryTime}`:"",pk=Object(i.memo)((function(e){var t,a;const{checkoutState:n,setCheckoutState:o}=Object(i.useContext)(L.CheckoutContext),{paymentResponse:r,loadingPayments:c,checkoutMetaInfo:d,reloadPayments:u}=Object(i.useContext)(AR),{availableMethods:m,upiIntentMethodFetchInProgress:p}=Object(i.useContext)(OP),{deliverySelectedSlot:_}=Object(i.useContext)(L.DeliveryInfoContext),{amountToPay:E,withCoupon:C,setWithCoupon:b,billTotal:y,withSplitPay:g,selectedSplitPayMethods:O,showSplitPay:h,amountToPayWithoutCouponWithoutSplitpay:A}=Object(i.useContext)(yR),{impressionEvent:f}=Object(i.useContext)(L.AnalyticsContext),[v,T,I]=Object(i.useMemo)(()=>(e=>{if(!e)return[[],[],[]];let t=[e.paymentGroup,e.paymentGroup];e.couponApplied&&(t=MI(e.paymentGroup,xI));const a=t[1];return e.rewardApplied&&(t=MI(a,wI)),[t[0],a,t[1]]})(r),[r]),S=Object(i.useMemo)(()=>(()=>{const e=bf(),t=yf(),a=hf();return!e&&!a&&!t})(),[]),N=Object(i.useCallback)(()=>{b(!1)},[b]),R=Object(L.useNavigate)(),P=Object(i.useCallback)(()=>{R(L.CheckoutRoute.PAYMENT_OFFERS)},[R]),D=!(c||r||0!==v.length&&0!==I.length),k=n.type===L.CheckoutActionTypes.SHOW_PAYMENTS?n.payload:void 0,w=null!==(t=null==k?void 0:k.showIrctcCart)&&void 0!==t&&t;if(Object(i.useEffect)(()=>{w&&(Object(L.getBridgeSdk)().logClevertapEvent({eventName:mR,params:{}}),Object(L.getBridgeSdk)().logEvent({eventName:mR,eventParams:{}}))},[w]),Object(i.useEffect)(()=>{var e,t;if(!r)return;!0===(null==k?void 0:k.reload)&&(o({type:L.CheckoutActionTypes.SHOW_PAYMENTS}),u());const a=null!==(e=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.cartId))&&void 0!==e?e:"",n=null!==(t=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.planid))&&void 0!==t?t:"";((e,t)=>{const a=iI();e({category:a,action:"impression-payment-page-landed",context:JSON.stringify(Object.assign(Object.assign({},t),{businessLine:Cf(),category:a}))})})(f,{cartId:a,planId:n,couponCode:null==r?void 0:r.couponCode,billTotal:y,withSplitPay:g,couponApplied:null==r?void 0:r.couponApplied})},[y,f,r,null==r?void 0:r.couponApplied,null==r?void 0:r.couponCode,u,o,null==k?void 0:k.reload,g]),Object(i.useEffect)(()=>{p||bI(f,m,!1,!0)},[m,p,f]),c)return l.a.createElement(tP,{withCoupon:C,setWithCoupon:b},l.a.createElement(gE,null));if(D||!r)return l.a.createElement(tP,{withCoupon:C,setWithCoupon:b},l.a.createElement(s.u,{action:{onClick:u}}));const{couponApplied:M,paymentBannerMessage:j,presentationDetails:B,rewardApplied:U,couponCode:H,paymentCouponCode:G}=r,Y=C&&M,W=Y||U,F=W&&v.length>0&&BI(v),V=Number(r.itemQuantity),K=(e=>{var t,a;return null!==(a=null===(t=e.find(nO))||void 0===t?void 0:t.displayName)&&void 0!==a?a:""})(null!==(a=r.splitpayList)&&void 0!==a?a:[]),z=(({checkoutMetaInfo:e,presentationDetails:t,deliverySelectedSlot:a})=>{if(t){const{deliveryAddress:e,pickUpAddress:a,deliveryTimeAnnotation:n,deliveryTime:o}=t;return e&&a?{pickupName:a.name,pickupSubtext:a.address,PickupIcon:ik,deliveryAddress:e.address,deliveryAnnotation:e.annotation,DeliveryIcon:ik,deliveryTimeAnnotation:n,deliveryTime:o}:null}if(e){const{restaurantDetails:t,deliveryAddress:n,slaTime:o,slaMessage:r,cartItemsCount:i,irctc_data:l}=e;if(!t)return null;if(!Object(L.isEmpty)(l))return{pickupName:ck(t),pickupSubtext:(null==n?void 0:n.area)||"",PickupIcon:ik,deliveryAnnotation:Object(s.hb)("Delivery on seat: {0}-{1}",(null==l?void 0:l.coach)||"",(null==l?void 0:l.berth)||""),deliveryAddress:(null==l?void 0:l.station_name)||"",DeliveryIcon:ik,deliveryTimeAnnotation:"",deliveryTime:""};if(!Object(L.isEmpty)(null==a?void 0:a.deliveryTimeAnnotation)&&!Object(L.isEmpty)(null==a?void 0:a.deliveryTime)){const e=ck(t),{address:o,annotation:r,name:i}=dk(n);return{pickupName:e,pickupSubtext:"",PickupIcon:ik,deliveryAddress:o,deliveryAnnotation:sk(r,i),DeliveryIcon:ik,deliveryTimeAnnotation:"Delivering: ",deliveryTime:mk(a)}}if(!o||!i)return null;const c=ck(t),{address:d,annotation:u,name:m}=dk(n);return{pickupName:c,pickupSubtext:uk({slaTime:o,checkoutMetaInfo:e,slaMessage:r}),PickupIcon:ik,deliveryAddress:d,deliveryAnnotation:sk(u,m),DeliveryIcon:ik}}return null})({checkoutMetaInfo:d,presentationDetails:B,deliverySelectedSlot:_}),$=Y||!Object(s.ub)(r.offerBanner);return x.a.recordEnd(L.BLAZE_EVENTS.RECORD_CHECKOUT_PAYMENT_LOAD_TIME,{mBusinessLine:L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.marketplaceBusinessLine)||"",mCategory:L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.marketplaceCategory)||""}),x.a.recordEnd(L.BLAZE_EVENTS.RECORD_DINEOUT_CHECKOUT_PAYMENT_LOAD_TIME),l.a.createElement(tP,{quantity:V,amount:y,withCoupon:C,setWithCoupon:b,couponApplied:M},S&&l.a.createElement(l.a.Fragment,null,null!=z&&l.a.createElement(wg,Object.assign({},z,{couponBannerVisible:$}))),l.a.createElement(ok,{options:Zf,paymentGroups:v,filteredPaymentGroups:I,couponApplicablePaymentGroups:T,paymentBannerMessage:j,showAllMethods:N,canShowAllMethods:F,showCouponGroupsOnly:Y,showFilteredGroupsOnly:W,itemQuantity:V,banner:r.banner,splitpayList:r.splitpayList,selectedSplitPayMethods:O,checkoutMetaInfo:d,rewardName:K,showSplitPay:h,withSplitPay:g,amountToPay:E,couponCode:H,paymentCouponCode:G,amountToPayWithoutCouponWithoutSplitpay:A,juspayMeta:r.juspayMeta,couponApplied:r.couponApplied,offerStrip:r.offerBanner,goToOffersPage:P}))}));var _k=".PaymentModesWrapper_header_eG8tNicy{display:flex;flex-direction:column;width:100%;height:100%;justify-content:center;overflow:hidden}.PaymentModesWrapper_headerTitle_w30UX-fz{font-weight:600;text-transform:uppercase;margin-bottom:2px;color:#3d4152}.PaymentModesWrapper_headerSubtitle_segESIiH{font-size:12px;color:#7e808c}.PaymentModesWrapper_container_8roy-mrt{background:#fff;padding:16px}",Ek={_getCss:function(){return _k},_getId:function(){return"6675784226"},header:"PaymentModesWrapper_header_eG8tNicy",headerTitle:"PaymentModesWrapper_headerTitle_w30UX-fz",headerSubtitle:"PaymentModesWrapper_headerSubtitle_segESIiH",container:"PaymentModesWrapper_container_8roy-mrt"};function Ck(e){return l.a.createElement(IR,{title:e.title})}fR(_k);var bk=Object(i.memo)(Object(s.Hb)((function(e){var{children:t}=e,a=fn(e,["children"]);const{state:n,setState:o}=Object(i.useContext)(L.HardwareBackContext),r=Object(L.useOnBack)();n.shouldHandle&&n.activeRoute===L.CheckoutRoute.SECURE_CARD&&(r(),o({shouldHandle:!1,activeRoute:""}));const c=Object(i.useRef)(null);return l.a.createElement(s.P,null,l.a.createElement(kR,{header:l.a.createElement(Ck,Object.assign({},a)),content:t,key:0,ref:c,containerCSSClass:a.containerClassName,headerCSSClass:a.headerClassName,headerExtraContent:a.headerExtraContent,backButtonClass:a.backButtonClass}))}),Ek));const yk=function(e){const{title:t,children:a,isPaymentModeRoute:n}=e;if(n)return l.a.createElement(bk,{title:t},a);const o=l.a.createElement(IR,{title:t});return l.a.createElement(kR,{header:o,content:a})};var gk=Object(i.memo)((function({data:e,isPaymentModeRoute:t=!1}){const a=Object(L.useNavigate)(),n=null==e?void 0:e.walletCode,o=!!(null==e?void 0:e.isOldWalletLinkFlow),{user:r}=Object(i.useContext)(L.UserContext),c=r.map(e=>e.mobile),{clickEvent:d,screenViewEvent:u}=Object(i.useContext)(L.AnalyticsContext),{linkWalletState:m,setLinkWalletState:p}=Object(i.useContext)(UP),_=Object(i.useRef)(!1),{walletDetails:E}=((e,t)=>{const[a,n]=Object(i.useState)(t),{paymentResponse:o}=Object(i.useContext)(AR),r=Object(s.Gb)(),[l,c]=Object(i.useState)(t?void 0:((e,t)=>{if(!e)return;const a=eI(e.paymentGroup,t).unwrap();return{iconUrl:aS(a),paymentCode:a.paymentCode}})(o,e));return Object(i.useEffect)(()=>{a&&r.current&&Object(L.getBridgeSdk)().getWalletDetails({walletCode:e}).then(t=>{r.current&&(c({paymentCode:$f[e],iconUrl:t?Object(s.nb)(t.iconUrl):""}),n(!1))}).catch(()=>{r.current&&(n(!1),c({paymentCode:$f[e],iconUrl:""}))})},[a,e,r]),Object(i.useMemo)(()=>({walletDetails:l}),[l])})(n,t),C=Object(i.useCallback)(e=>{p({mobileNumber:e})},[p]);Object(s.Db)(()=>()=>{_.current||p({mobileNumber:""})});const b=Object(i.useCallback)(e=>vn(this,void 0,void 0,(function*(){const o=t?L.CheckoutRoute.PAYMENT_MODES_VERIFY_WALLET_LINK_OTP:L.CheckoutRoute.VERIFY_WALLET_LINK_OTP;((e,t,a)=>{a({category:lT,action:"click-proceed-link",label:e,context:JSON.stringify({source:t})})})(n,t?HT:GT,d),_.current=!0,a(o,{walletCode:n,mobileNumber:e,iconUrl:null==E?void 0:E.iconUrl,paymentCode:null==E?void 0:E.paymentCode})})),[d,t,a,n,E]),y=Object(i.useMemo)(()=>oI(n),[n]),g=Object(i.useMemo)(()=>({isEditable:!o,registeredMobileNumber:c.unwrapOr("")}),[o,c]);return Object(s.Db)(()=>{((e,t,a,n)=>{n({category:lT,label:e,context:JSON.stringify({source:t,editable:a}),action:"screen-view-link-wallet"})})(n,t?HT:GT,!o,u)}),l.a.createElement(yk,{title:y,isPaymentModeRoute:t},l.a.createElement(yh,{onConfirmLinking:b,iconUrl:(null==E?void 0:E.iconUrl)||"",displayName:zf[n],editableState:g,mobileNumber:m.mobileNumber,setMobileNumber:C}))}));const Ok=function(e){const{children:t,walletCode:a,isPaymentModeRoute:n}=e,o=oI(a);if(n)return l.a.createElement(bk,{title:o},t);const r=l.a.createElement(IR,{title:o});return l.a.createElement(kR,{header:r,content:t})};var hk=Object(i.memo)((function({data:e,isPaymentModeRoute:t=!1}){var a,n,o;const r=Object(s.Gb)(),[c,d]=Object(i.useState)(!1),{clickEvent:u,impressionEvent:m}=Object(i.useContext)(L.AnalyticsContext),{setLinkWalletState:p}=Object(i.useContext)(UP),_=Object(L.useNavigate)(),E=null!==(a=null==e?void 0:e.mobileNumber)&&void 0!==a?a:"",C=(null==e?void 0:e.walletCode)||"",b=null!==(n=null==e?void 0:e.paymentCode)&&void 0!==n?n:"",y=null!==(o=null==e?void 0:e.iconUrl)&&void 0!==o?o:"",{refetch:g}=Object(i.useContext)(CP),{refetchPaylaterLinkStatus:O}=Object(i.useContext)(vP),{verifyOtp:h,resendInProgress:A,resendOtp:f,verifyInProgress:v,sendLinkAccountStatusToNative:T}=(({walletCode:e,mobileNumber:t,paymentCode:a,isPaymentModeRoute:n})=>{const o=Object(s.Gb)(),{host:r}=l.a.useContext(L.ApiContext),[c,d]=l.a.useState(je),[u,m]=l.a.useState(!1),[p,_]=l.a.useState(!1),E=l.a.useRef(),C=Object(i.useContext)(L.PublicApiContext),b=l.a.useCallback(()=>vn(void 0,void 0,void 0,(function*(){const a=Object(M.b)(C||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.WALLET_APIS,e.toLowerCase());try{const n=a?xP:IP,i=yield n(r.unwrap(),e,t);return o.current&&d(Be(i||{}))}catch(a){return Object(s.Z)(a)}})),[r,o,t,e,C]);Object(s.Db)(()=>{b()});const y=l.a.useCallback(()=>vn(void 0,void 0,void 0,(function*(){p||(_(!0),b().then(e=>o.current&&_(!1)))})),[o,p,b]),g=l.a.useCallback(i=>vn(void 0,void 0,void 0,(function*(){if(c.isNone())return Fe({statusCode:1,statusMessage:uA});m(!0);let l=We(!0);const s=Object(M.b)(C||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.WALLET_APIS,e.toLowerCase())?wP:SP;try{const o=yield s(r.unwrap(),Object.assign({walletCode:e,otp:i},c.unwrap()));l=We(!0),E.current=(d={paymentCode:a,status:"SUCCESS",token:null==o?void 0:o.accessToken,source:n?w.f.ACCOUNTS:w.f.PAYMENTS,linkedMobileNumber:t},()=>{Object(L.getBridgeSdk)().sendLinkAccountStatusToNative(d).catch(e=>{console.error(e)})})}catch(e){l=Fe(e||{statusCode:1,statusMessage:uA})}var d;return o.current&&m(!1),l})),[c,o,r,e,a,n,t,C]);return{verifyInProgress:u,resendInProgress:p,verifyOtp:g,resendOtp:y,sendLinkAccountStatusToNative:E.current}})({walletCode:C,mobileNumber:E,paymentCode:b,isPaymentModeRoute:t}),I=t?HT:GT,S=Object(L.useOnBack)(),N=Object(i.useCallback)(a=>{_(t?L.CheckoutRoute.PAYMENT_MODES_VERIFY_WALLET_LINK_OTP:L.CheckoutRoute.VERIFY_WALLET_LINK_OTP,Object.assign(Object.assign({},e),{stopNavigation:a}))},[e,t,_]),R=Object(i.useCallback)(()=>{N(!1),g(C),C===G.paytm&&O("PayTM_PostPaid"),setTimeout(()=>{S(2)},100)},[S,g,O,N,C]),P=Object(i.useCallback)(()=>{d(!1),"function"==typeof T&&(T(),Object(L.getBridgeSdk)().sendLinkAccountStatusToNative({paymentCode:"PayTM_PostPaid",status:"SUCCESS",source:t?w.f.ACCOUNTS:w.f.PAYMENTS,linkedMobileNumber:E}).catch(e=>{})),t||R()},[t,E,R,T]);Object(i.useEffect)(()=>{c&&((e,t,a)=>{a({category:_T,label:e,context:JSON.stringify({source:t}),action:"impression-success-link"})})(C,I,m)},[m,I,c,C]);const D=Object(i.useCallback)(e=>vn(this,void 0,void 0,(function*(){if(!v){((e,t,a)=>{a({category:_T,action:"click-verify-and-proceed",label:e,context:JSON.stringify({source:t})})})(C,I,u);try{const t=yield h(e);if(r.current)if(t.isOk())p({mobileNumber:""}),N(!0),d(!0);else{const e=t.unwrapErr().statusMessage;((e,t,a,n)=>{n({category:_T,action:"otp-error",label:e,context:JSON.stringify({message:a,source:t})})})(C,I,e,m),ZA({message:e})}}catch(e){Object(s.Z)(e),r.current&&ZA({message:uA})}}})),[u,m,r,I,p,N,v,h,C]),k=Object(i.useCallback)(()=>{((e,t,a)=>{a({category:_T,action:NT,label:e,context:JSON.stringify({source:t})})})(C,I,u),f()},[C,I,u,f]),x=Object(i.useMemo)(()=>({verifyInProgress:v,resendInProgress:A,verifyOtp:D,resendOtp:k}),[k,D,A,v]);return Object(s.Db)(()=>{((e,t,a)=>{a({category:_T,action:"impression-link-wallet-otp",label:e,context:JSON.stringify({source:t})})})(C,I,m)}),l.a.createElement(Ok,{walletCode:C,isPaymentModeRoute:t},l.a.createElement(cy,{actions:x,mobile:E,showSuccessBS:c,onCloseBS:P,iconUrl:y,walletCode:C.toUpperCase(),displayName:zf[C]}))}));function Ak(e,t){if(!e)throw new Error("Invariant failed")}const fk=function(e){const{children:t,isPaymentModeRoute:a}=e;if(a)return l.a.createElement(bk,{title:jv(e.linkPayLaterCode)},t);const n=l.a.createElement(IR,{title:jv(e.linkPayLaterCode)});return l.a.createElement(kR,{header:n,content:e.children})},vk=Object(i.memo)((function({data:e,isPaymentModeRoute:t=!1}){const a=Object(s.Gb)(),[n,o]=Object(i.useState)(!1),r=e?e.payLaterCode:"",c=e?e.mobileNumber:"",d=(null==e?void 0:e.placeOrderOnSuccess)||!1,{paymentResponse:u}=Object(i.useContext)(AR),m=Object(L.useOnBack)(),{refetchPaylaterLinkStatus:p}=Object(i.useContext)(vP),{refetch:_}=Object(i.useContext)(CP),{setCheckoutState:E}=Object(i.useContext)(L.CheckoutContext),C=((e,t)=>{const a=Object(s.Gb)(),{host:n}=Object(i.useContext)(L.ApiContext),o=Object(i.useContext)(L.PublicApiContext),[r,l]=Object(i.useState)(je),[c,d]=Object(i.useState)(!1),[u,m]=Object(i.useState)(!1),p=Object(i.useMemo)(()=>Object(M.b)(o||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.PAYLATER_APIS,e),[e,o]),_=Object(i.useCallback)(()=>vn(void 0,void 0,void 0,(function*(){try{const o=p?Iv:yv,r=yield o(n.unwrap(),e,t);return a.current&&l(Be(r||{}))}catch(e){return Object(s.Z)(e)}})),[p,n,e,t,a]);Object(s.Db)(()=>{_()});const E=Object(i.useCallback)(()=>vn(void 0,void 0,void 0,(function*(){u||(m(!0),_().then(e=>a.current&&m(!1)))})),[a,u,_]),C=Object(i.useCallback)(o=>vn(void 0,void 0,void 0,(function*(){if(r.isNone())return Fe(uA);d(!0);let i=We(!0);try{const a=p?Sv:gv,l=yield a(n.unwrap(),{payLaterCode:e,otp:o,state:r.unwrapOr({})});if(0!=l.statusCode)throw l;i=We(!0),Object(L.getBridgeSdk)().sendLinkAccountStatusToNative({paymentCode:e,status:"SUCCESS",source:w.f.PAYMENTS,linkedMobileNumber:t}).catch(e=>{})}catch(e){i=Fe(e.statusMessage||uA)}return a.current&&d(!1),i})),[n,a,p,t,e,r]);return{verifyInProgress:c,resendInProgress:u,verifyOtp:C,resendOtp:E}})(r,c),{verifyOtp:b,resendOtp:y}=C,g=fn(C,["verifyOtp","resendOtp"]),{impressionEvent:O,clickEvent:h}=Object(i.useContext)(L.AnalyticsContext),A=Object(i.useCallback)(()=>vn(this,void 0,void 0,(function*(){((e,t,a)=>{a({category:lT,action:NT,label:e,context:JSON.stringify({source:"payment"})})})(r,0,h);try{yield y()}catch(e){}})),[h,r,y]),f=Object(i.useCallback)(e=>vn(this,void 0,void 0,(function*(){if(!g.verifyInProgress){((e,t,a)=>{a({category:lT,action:"click-verify-proceed",label:e,context:JSON.stringify({source:"payment"})})})(r,0,h);try{const n=yield b(e);a.current&&(n.isOk()?("PayTM_PostPaid"===r&&(_(G.paytm),Object(L.getBridgeSdk)().sendLinkAccountStatusToNative({paymentCode:G.paytm,status:"SUCCESS",source:w.f.PAYMENTS,linkedMobileNumber:c}).catch(e=>{})),u&&!t&&p(r),o(!0)):ZA({message:n.unwrapErr()}))}catch(e){a.current&&ZA({message:uA})}}})),[g.verifyInProgress,r,h,b,a,u,t,_,p]),v=Object(i.useMemo)(()=>Object.assign({verifyOtp:f,resendOtp:A},g),[g,f,A]);(0===r.length||an(c))&&Ak(!1),Object(s.Db)(()=>{((e,t,a)=>{a({category:lT,action:"impression-verify-proceed",label:e,context:JSON.stringify({source:"payment"})})})(r,0,O),((e,t,a)=>{a({category:lT,action:"impression-resend-otp",label:e,context:JSON.stringify({source:"payment"})})})(r,0,O)});const{iconUrl:T,linkPayLaterCode:I,displayName:S}=Object(i.useMemo)(()=>{if(u&&!t){const e=Pv(u.paymentGroup,r);Ak(e.isSome());const t=e.unwrap();return an(t)?{iconUrl:"",linkPayLaterCode:"",displayName:""}:{iconUrl:aS(t),linkPayLaterCode:t.name.toUpperCase(),displayName:be[r]}}return{iconUrl:Object(s.nb)(Jf.iconUrl),linkPayLaterCode:Jf.paymentCode,displayName:Jf.displayName}},[t,r,u]),N=Object(i.useCallback)(()=>{o(!1),d?E({type:L.CheckoutActionTypes.POST_PAYLATER_LINKING}):!u||t?Object(L.closeWebview)():m("PayTM_PostPaid"===r?2:1)},[t,m,r,u,d,E]);return l.a.createElement(fk,{isPaymentModeRoute:t,linkPayLaterCode:r},l.a.createElement(cy,{actions:v,mobile:c,iconUrl:T,walletCode:I,displayName:S,showSuccessBS:n,onCloseBS:N,verifyCtaText:d?"Verify and Pay":void 0}))}));var Tk="styles_container_JevR0Rer";fR(".styles_container_JevR0Rer{background-color:#fff}");const Ik=function(e){const{children:t,isPaymentModeRoute:a}=e;if(a)return l.a.createElement(bk,{containerClassName:Tk,title:"Link LazyPay"},t);const n=l.a.createElement(IR,{title:"Link LazyPay"});return l.a.createElement(kR,{containerCSSClass:Tk,header:n,content:t})};var Sk=Object(i.memo)((function({isPaymentModeRoute:e=!1}){const{user:t}=Object(i.useContext)(L.UserContext),[a,n]=Object(i.useState)(!1),o=Object(L.useOnBack)(),r=Object(s.Gb)(),[c,d]=Object(i.useState)(),u=Object(i.useContext)(L.ApiContext).host.unwrap(),m=Object(i.useMemo)(()=>Object(L.getUserFromUserContextValue)(t),[t]),p=Object(L.useNavigate)(),_=Object(i.useContext)(L.PublicApiContext),E=Object(i.useMemo)(()=>Object(M.b)(_||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.PAYLATER_APIS,Jf.paymentCode),[_]);Object(s.Db)(()=>{n(!0),xv(u,{name:Jf.name,paymentCode:Jf.paymentCode},void 0,E).then(e=>{n(!1);const t=e.response;Be(t)&&d(t.unwrap())}).catch(e=>{n(!1),Object(s.Z)(e),r.current&&ZA({message:uA})})});const C=Object(i.useCallback)(t=>{p(L.CheckoutRoute.LINK_PAYLATER,{payLaterCode:t,placeOrderOnSuccess:!e,mobileNumber:null==m?void 0:m.mobile})},[e,p,m]);return a?l.a.createElement(AE,null):null==c||null==m?null:c.linked?(o(),null):l.a.createElement(Ik,{isPaymentModeRoute:e},l.a.createElement(tE,{user:m,methodMeta:Jf,payLaterLinkedData:c,onProceedToLink:C,showAsFullPage:!0}))}));const Nk=({apiHost:e,cardBinNumber:t,selectedSplitPayMethods:a="",successCallback:n,apiCallRef:o})=>{(function(e,t,a){return vn(this,void 0,void 0,(function*(){const n=Array.from(new Set((e=>e.split(",").filter(e=>!an(e)))(a)));return yield OA({apiHost:e,endpoint:"/api/v1/payment/reward/offer/newCard",bodyParams:{card_bin:t,split_pay_methods:n},options:{method:"POST"}})}))})(e,t,a).then(e=>{var a;o.current=!1,an(e)||an(e.data)||0!==e.statusCode||(Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.CARD_OFFER_AND_REWARDS_TABLE,state:"OFFER_REWARDS_APPLY_SUCCESSFUL",cardBin:String(t),payableAmount:String(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.payable_amount)}),n(e.data))}).catch(e=>{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.CARD_OFFER_AND_REWARDS_TABLE,state:"OFFER_REWARDS_NOT_AVAILABLE",cardBin:String(t)}),Object(s.Z)(e)})},Rk=({apiHost:e,cardBinNumber:t,withSplitPay:a,successCallback:n,apiCallRef:o,isPublicApiEnabled:r})=>{(r?uD:rD)(e,t,a||"false").then(e=>{o.current=!1,an(e)||(Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.CARD_OFFER_TABLE,state:"OFFER_FETCH_SUCCESSFUL",cardBin:String(t),offerAmount:String(e.offerAmount),payableAmount:String(e.payableAmount),discountTitle:String(e.discountTitle)}),n(e))}).catch(e=>{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.CARD_OFFER_TABLE,state:"OFFER_NOT_AVAILABLE",cardBin:String(t)}),Object(s.Z)(e)})};fR(".styles_container_X1Xtw8GF{background-color:#fff}");const Pk=Object(i.memo)((function({data:e}){const{placeOrderInProgress:t,processingOrder:a}=Object(i.useContext)(BR),{checkoutMetaInfo:n,paymentResponse:o}=Object(i.useContext)(AR),{isSdkAvailable:r,featuresAvailability:c,clientAuthTokenData:d,fetchJuspayClientAuthToken:u}=Object(i.useContext)(HR),{paymentPageOfferEnabled:m,rewardsEnabled:p,selectedSplitPayMethods:_}=Object(i.useContext)(yR),E=Object(i.useContext)(L.ConfigContext),[C,b]=Object(i.useState)(!!s.T.getItem("skip_client_card_validation")),{cartItemsCount:y,addressAnnotation:g}=Object(i.useMemo)(()=>wR(n),[n]),O=RS(z.CARD,r,c),{onSecureCardInfoClickAction:h,onSecureCardInfoView:A,onKnowMoreTokenizationClickAction:f,onProceedToPayClick:v,onSaveCardClick:T,onProceedToPayClickAction:I,oneClickEvents:S}=VD("add-new-card"),N=Object(i.useCallback)(e=>{Object(L.getBridgeSdk)().webNavigate({url:e,openAsExternal:!0,showBack:!0,showLoader:!1,callbackUrl:`${window.location.href}/?state=${dw.ADD_NEW_CARD}`,title:""})},[]),{amountToPay:R,withSplitPay:P}=Object(i.useContext)(yR),D=Object(i.useContext)(L.ApiContext),k=Object(i.useContext)(L.PublicApiContext),x=Object(i.useRef)(!1),w=D.host.unwrap(),[j,B]=Object(i.useState)(rS),[U,H]=Object(i.useState)(),[G,Y]=Object(i.useState)(!1),[W,F]=Object(i.useState)(!1),[V,K]=Object(i.useState)(null),$=Object(i.useMemo)(()=>Object(M.b)(k||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.CARDS_JUSPAY_APIS,L.CARD_API_KEYS.GET_CARD_DETAILS),[k]),X=Object(i.useMemo)(()=>Object(M.b)(k||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.CARDS_JUSPAY_APIS,L.CARD_API_KEYS.GET_CARD_OFFER),[k]),J=$?dD:oD;Ak(null==e?void 0:e.paymentMethod);const Z=Object(i.useMemo)(()=>KI({selectedAddressAnnotation:g,cartAmount:String(R),itemCount:y,presentationDetails:null==o?void 0:o.presentationDetails}),[g,R,y,o]);Object(i.useEffect)(()=>{var e,t;!Object(s.ub)(j)&&null!=j.cardBrand&&O&&0!=j.userPartOfOneClick&&Object(L.getBridgeSdk)().getOneClickCardEligibility({action:iS.VIES,amount:"1",cardDetails:[{cardFingerPrint:null!==(e=j.cardBin)&&void 0!==e?e:"",cardBin:null!==(t=j.cardBin)&&void 0!==t?t:"",checkType:[iS.VIES]}]},2e3).catch(e=>{}).then(e=>{var t,a,n,o;null!=e&&Y((null===(o=null===(n=null===(a=null===(t=null==e?void 0:e.cardEligiblityDetails)||void 0===t?void 0:t[0])||void 0===a?void 0:a.checkType)||void 0===n?void 0:n.vies)||void 0===o?void 0:o.eligibility)||!1)})},[j,O]);const q=Object(i.useCallback)(e=>{if(!x.current){if(e.length<9)return B(rS),Y(!1),void H({couponApplicable:!0,payableAmount:""});x.current=!0,J(w,e).then(e=>{var t;if(x.current=!1,null==e)return;const a=e.bin,n={cardBrand:e.cardBrand,cardIcon:{id:e.imageId||"",padding:1},url:e.fullImageUrl,tokenizeSupport:e.tokenizeSupport,cardBin:a,disableForTenant:e.nonFoodDisabled||!1,disableForTenantReason:e.nonFoodDisabledReason||null,userPartOfOneClick:e.userPartOfOneClick||!1,country:(null==e?void 0:e.country)||"",enabled:null===(t=e.enabled)||void 0===t||t,disableReason:e.disableReason||null};B(n);const r=!0===e.skipClientCardValidation;b(r),s.T.setItem("skip_client_card_validation",r),(({rewardsEnabled:e,rewardApplied:t,cardBinNumber:a,selectedSplitPayMethods:n,apiCallRef:o,paymentPageOfferEnabled:r,apiHost:i,withSplitPay:l,setCardOffer:s,isPublicApiEnabled:c=!1})=>{e&&t?Nk({apiHost:fN.PAYMENT_PRESENTATION_SERVICE_HOST,cardBinNumber:a,selectedSplitPayMethods:n,successCallback:e=>{const t=e;s({couponApplicable:null==t?void 0:t.coupon_applicable,payableAmount:null==t?void 0:t.payable_amount,rewardApplicable:null==t?void 0:t.reward_applicable})},apiCallRef:o,isPublicApiEnabled:c}):r&&Rk({apiHost:i,cardBinNumber:a,withSplitPay:(!l).toString(),successCallback:e=>{const t=e;s({offerAmount:t.offerAmount,payableAmount:t.payableAmount,discountTitle:t.discountTitle})},apiCallRef:o,isPublicApiEnabled:c})})({rewardsEnabled:p,rewardApplied:null==o?void 0:o.rewardApplied,cardBinNumber:a,selectedSplitPayMethods:_,apiCallRef:x,paymentPageOfferEnabled:m,apiHost:w,withSplitPay:P,setCardOffer:H,isPublicApiEnabled:X})}).catch(()=>{B(rS),Y(!1),x.current=!1})}},[J,w,p,null==o?void 0:o.rewardApplied,_,m,P,X]),Q=Object(i.useCallback)(e=>vn(this,void 0,void 0,(function*(){if(!(e=>{var t;return hf()||Boolean(null===(t=null==e?void 0:e.enableCardRateLimit)||void 0===t?void 0:t.unwrapOr(!1))})(E)||e.length<12)return;if(!Object(s.ub)(V)&&V.cardNumber===e)return;const t=null==o?void 0:o.juspayMeta.merchantId,a=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.userId);let n;F(!0);try{n=yield((e,t)=>vn(void 0,void 0,void 0,(function*(){if("function"!=typeof e)throw new Error("No valid function available to fetch the Juspay client auth token");const a=!an(t)&&Date.now()>t.clientAuthTokenExpiry;if(an(t)||a){const t=yield e();if(t&&t.clientAuthToken)return t.clientAuthToken;throw new Error("Failed to fetch valid Juspay client auth token.")}if(!an(t))return t.clientAuthToken;throw new Error("No valid Juspay client auth token found.")})))(u,d)}catch(e){return Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.ERROR_IN_JUSPAY_TOKEN}),void Object(s.Z)(e)}(function({cardNumber:e,userId:t,merchantId:a="",authToken:n=""}){return vn(this,void 0,void 0,(function*(){return OA({apiHost:"https://api.juspay.in",endpoint:"/v2/card/fingerprint",bodyParams:{card_number:e,client_auth_token:n,customer_id:String(t)},options:{method:"POST",headers:{"x-merchantid":a,"Content-Type":"application/json"}},retry:!1,timeout:4e3,excludeDefaultHeaders:!0})}))})({cardNumber:e,userId:a,merchantId:t,authToken:n}).then(t=>{Object(s.ub)(t)?K(null):K(Object.assign(Object.assign({},t),{cardNumber:e}))}).catch(()=>{K(null)}).then(()=>{F(!1)})})),[E,V,o,u,d]),ee=l.a.createElement(IR,{title:RR,subtitle:Z,grayscale:!0}),te=l.a.createElement(zR,null,({onPay:n})=>{var r,i;return l.a.createElement(Qb,{paymentInProgress:t||a,apiInProgress:W,methodData:e.paymentMethod,options:Zf,onPay:n,juspayTokenizationMeta:null===(r=null==o?void 0:o.juspayMeta)||void 0===r?void 0:r.tokenizationMeta,onSecureCardInfoView:A,onSecureCardInfoClickAction:h,onKnowMoreTokenizationClickAction:f,onCardNumberChange:q,cardBrandDetails:j,oneClickEligible:G,oneClickMeta:null===(i=null==o?void 0:o.juspayMeta)||void 0===i?void 0:i.oneClickMeta,onClickOneClickTermsOfService:N,oneClickEvents:S,onProceedToPayClick:v,onSaveCardClick:T,onProceedToPayClickAction:I,cardOffer:U,cardFingerPrintData:V,onCardNumberBlur:Q,skipClientCardValidation:C})});return Object(s.Db)(()=>(Object(L.getBridgeSdk)().setScreenCaptureState({screenCapturingDisabled:!0}).catch(()=>{}),()=>{Object(L.getBridgeSdk)().setScreenCaptureState({screenCapturingDisabled:!1}).catch(()=>{})})),l.a.createElement(l.a.Fragment,null,l.a.createElement(kR,{header:ee,content:te,containerCSSClass:"styles_container_X1Xtw8GF"}),(t||a)&&l.a.createElement(Gp,null))}));var Dk=".styles_container_CZ2lWD73{background:#f4f4f5}",Lk={_getCss:function(){return Dk},_getId:function(){return"ea971acbb0"},container:"styles_container_CZ2lWD73"};fR(Dk);function kk(e,t){return vn(this,void 0,void 0,(function*(){return hA(yield gA({apiHost:e,endpoint:"/api/v1/vpa-verify",bodyParams:{payer_vpa:t},options:{method:"POST"}})).unwrapOrElse(()=>({invalidReason:"Some Error occured.",vpaValid:!1}))}))}const xk=Object(s.Hb)((function(e){const{checkoutMetaInfo:t,paymentResponse:a}=Object(i.useContext)(AR),{cartItemsCount:n,addressAnnotation:o}=Object(i.useMemo)(()=>wR(t),[t]),{amountToPay:r}=Object(i.useContext)(yR),s=Object(i.useMemo)(()=>KI({selectedAddressAnnotation:o,cartAmount:String(r),itemCount:n,presentationDetails:null==a?void 0:a.presentationDetails}),[o,r,n,a]),c=l.a.createElement(IR,{title:"Add new UPI ID",subtitle:s,grayscale:!0});return l.a.createElement(kR,{header:c,content:e.children,containerCSSClass:Lk.container})}),Lk),wk=Object(i.memo)((function({data:e}){var t;const{verifyVpa:a,verifyInProgress:n,invalidVpa:o}=(()=>{const e=Object(s.Gb)(),{host:t}=Object(i.useContext)(L.ApiContext),[a,n]=Object(i.useState)(!1),[o,r]=Object(i.useState)(!1),l=UR(),c=Object(i.useContext)(L.PublicApiContext),d=Object(M.b)(c||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.GPO_UPI,L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.VERIFY_VPA)?SN:kk,u=Object(i.useCallback)((o,i,c)=>vn(void 0,void 0,void 0,(function*(){var u;if(!a){n(!0),r(!1);try{const a=yield d(t.unwrap(),o);if(!e.current)return;if(null==a?void 0:a.vpaValid){const e={payer_vpa:o,save_instrument:i,transaction_mode:null!==(u=c.meta.transactionMode)&&void 0!==u?u:""};l(c,{upi_transaction_info:e})}else r(!0)}catch(e){r(!1),Object(s.Z)(e)}e.current&&n(!1)}})),[t,e,a,l,d]);return{invalidVpa:o,verifyInProgress:a,verifyVpa:u}})(),{paymentResponse:r}=Object(i.useContext)(AR),c=Object(i.useMemo)(()=>({verifyVpa:a}),[a]),d=null!==(t=null==e?void 0:e.paymentMethodCode)&&void 0!==t?t:null;d||Ak(!1),r||Ak(!1);const u=function(e,t){return Be(e.paymentGroup.find(SI)).andThen(e=>DI(e,t)).orElse(()=>Be(e.paymentGroup.find(II)).andThen(e=>DI(e,t)))}(r,d);return Ak(u.isSome()),l.a.createElement(l.a.Fragment,null,l.a.createElement(xk,null,l.a.createElement(Mg,{actions:c,invalidVpa:o,verifyVpaInProgress:n,methodData:u.unwrap()}),n&&l.a.createElement(Gp,null)))})),Mk=Object(i.memo)((function({data:e}){const{processingOrder:t,placeOrderInProgress:a}=Object(i.useContext)(BR),{bankList:n}=Object(i.useContext)(hP);Ak(null==e?void 0:e.paymentGroup);const o=l.a.createElement(IR,{title:"Select Bank"}),r=l.a.createElement(l.a.Fragment,null,(a||t)&&l.a.createElement(Gp,null),l.a.createElement(zR,null,({onPay:o})=>l.a.createElement(HC,{paymentInProgress:t||a,paymentGroupData:e.paymentGroup,netBankingList:n,onPay:o})));return l.a.createElement(kR,{header:o,content:r})}));var jk;!function(e){e.PAYMENTS="show-payments",e.PAYMENTS_INDEX="show-payments",e.ADD_NEW_CARD="add-new-card",e.VPA_TIMER="vpa-timer",e.PAYMENT_TXN_STATUS_POLLING="payment-txn-status-polling",e.CONFIRM_ORDER="confirm-order",e.DIRECT_PLACE_ORDER="direct-place-order",e.MORE_BANKS="more-banks",e.VERIFY_WALLET_LINK_OTP="verify-wallet-link-otp",e.LINK_WALLET_WITH_NUMBER="link-wallet-with-number",e.VERIFY_VPA="verify-vpa",e.LINK_PAYLATER="link-paylater",e.LINK_PAYLATER_MOBILE="link-paylater-mobile",e.REDIRECT_PAGE="redirect-page",e.MORE_PAYMENT_GROUPS="more-payment-groups",e.MORE_PAYMENT_METHODS="more-payment-methods",e.ADD_SWIGGY_MONEY="add-swiggy-money",e.SWIGGY_MONEY_PAYMENTS="swiggy-money-payments",e.ADD_SWIGGY_MONEY_INDEX="add-swiggy-money",e.NATIVE_UPI_ACCOUNTS="native-upi-accounts"}(jk||(jk={}));const Bk=Object(i.memo)((function({data:e}){const{showSplitPay:t,selectedSplitPayMethods:a}=Object(i.useContext)(yR),{paymentResponse:n}=Object(i.useContext)(AR),{nativeUpiFetchStatus:o,juspayNativeUpiState:r}=Object(i.useContext)(VR),{juspayNativeUpiData:c}=Object(i.useMemo)(()=>r,[r]),{impressionEvent:d}=Object(i.useContext)(L.AnalyticsContext),{addMoneyActions:u,swiggyMoneyInfoActions:m}=QD(),{onSplitPayToggle:p}=KL(),_=iL(!0),E=Object(i.useMemo)(()=>({nativeUpiFetchStatus:o,nativeUpiLinkStatus:null==c?void 0:c.status}),[o,c]);Ak(null==e?void 0:e.frictionGroups);const C=l.a.createElement(IR,{title:vL,grayscale:!0}),b=(null==n?void 0:n.splitpayList)||[],y=t&&(null==b?void 0:b.length)>0,g=l.a.createElement(zR,null,({onMorePaymentsOptionSelect:t})=>l.a.createElement(l.a.Fragment,null,y&&l.a.createElement(CO,{selectedSplitpayMethods:a,splitPayList:b,handleChange:p,addMoneyActions:u,isFrictionLayout:!0,swiggyMoneyInfoActions:m,onFlipkartToolTipShow:_}),l.a.createElement(Sb,{paymentGroups:e.frictionGroups,onOptionClick:t,otherProps:E})));return Object(s.Db)(()=>{((e,t)=>{t({category:lT,action:"more-payment-option-groups",context:e})})(jI(n),d)}),l.a.createElement(kR,{header:C,content:g})})),Uk=Object(i.memo)((function({paymentGroupName:e}){const{amountToPay:t,selectedSplitPayMethods:a,showSplitPay:n}=Object(i.useContext)(yR),{paymentResponse:o}=Object(i.useContext)(AR),r=RI(o,e.toUpperCase()),{impressionEvent:c}=Object(i.useContext)(L.AnalyticsContext),{onSplitPayToggle:d}=KL(),{addMoneyActions:u,swiggyMoneyInfoActions:m}=QD(),p=iL(!0),_=(null==o?void 0:o.splitpayList)||[],E=n&&(null==_?void 0:_.length)>0;return Object(s.Db)(()=>{((e,t)=>{t({category:iI(),action:"more-payment-option-methods",context:e})})(jI(o),c)}),l.a.createElement(zR,null,e=>{var{onMorePaymentsOptionSelect:n,placeOrderInProgress:i}=e,s=fn(e,["onMorePaymentsOptionSelect","placeOrderInProgress"]);return l.a.createElement(l.a.Fragment,null,E&&l.a.createElement(CO,{selectedSplitpayMethods:a,splitPayList:_,handleChange:d,addMoneyActions:u,isFrictionLayout:!0,swiggyMoneyInfoActions:m,onFlipkartToolTipShow:p}),l.a.createElement(uL,Object.assign({paymentAmount:String(t),paymentGroup:r,key:r.groupName,paymentInProgress:!1,options:Zf},s,{hideGroupTitle:!0,isFrictionPage:!0,juspayMeta:null==o?void 0:o.juspayMeta})),i&&l.a.createElement(Gp,null))})})),Hk=Object(i.memo)((function({data:e}){const{loadingPayments:t}=Object(i.useContext)(AR);Ak(null==e?void 0:e.paymentGroup);const a=Object(i.useMemo)(()=>(e=>{switch(e.groupName.toUpperCase()){case z.CARD:return TL[z.CARD];case z.COD:return TL[z.COD];case z.FOOD_CARD:return TL[z.FOOD_CARD];case z.NETBANKING:return TL[z.NETBANKING];case z.PAY_LATER:return TL[z.PAY_LATER];case z.PREFERRED:return TL[z.PREFERRED];case z.SWIGGY_INSTRUMENTS:return TL[z.SWIGGY_INSTRUMENTS];case z.UPI:return TL[z.UPI];case z.WALLET:case z.WALLET_WEB:return TL[z.WALLET];case z.JUSPAY_WALLET:return TL[z.JUSPAY_WALLET];default:return"Select a method"}})(e.paymentGroup),[e.paymentGroup]),n=l.a.createElement(IR,{title:a,grayscale:!0}),o=Object(i.useMemo)(()=>t?l.a.createElement(FE,null):l.a.createElement(Uk,{paymentGroupName:null==e?void 0:e.paymentGroup.groupName}),[t,e]);return l.a.createElement(kR,{header:n,content:o})}));function Gk(e){return Object(i.createElement)(AE,null)}fR(".styles_container_WTnrIUVO{display:flex;background:#fff;overflow:hidden}");var Yk=Object(i.memo)((function(e){const{checkoutMetaInfo:t,paymentResponse:a}=Object(i.useContext)(AR),{cartItemsCount:n,addressAnnotation:o}=Object(i.useMemo)(()=>wR(t),[t]),{amountToPay:r}=Object(i.useContext)(yR),s=Object(i.useMemo)(()=>KI({selectedAddressAnnotation:o,cartAmount:String(r),itemCount:n,presentationDetails:null==a?void 0:a.presentationDetails}),[o,r,n,a]);Object(L.useCustomHardwareBack)([L.CheckoutRoute.PAYMENT_TXN_STATUS_POLLING],e.onBack);const c=l.a.createElement(IR,{title:"PAYMENT DETAILS",subtitle:s,grayscale:!0});return l.a.createElement(kR,{onBack:e.onBack,header:c,content:e.children,containerCSSClass:"styles_container_WTnrIUVO"})}));function Wk(e){const{checkoutState:t}=Object(i.useContext)(L.CheckoutContext);return t.type!==L.CheckoutActionTypes.PAYMENT_TXN_STATUS_POLLER?null:l.a.createElement(Fk,{orderData:t.payload.order})}const Fk=Object(i.memo)((function(e){var t;const[a,n]=Object(i.useState)(!1),{checkoutState:o,setCheckoutState:r}=Object(i.useContext)(L.CheckoutContext),{paymentResponse:s}=Object(i.useContext)(AR),{clickEvent:c,impressionEvent:d}=Object(i.useContext)(L.AnalyticsContext),u=e.orderData.orderPaymentMethod==ne?(m=e.orderData,6e4*Number(m.credConfirmationTimeMinutes)||15e3):function(e){const t=60*(Number(e.confirmationTimeMinutes)||0)*1e3;return Number(t||15e3)}(e.orderData);var m;const p=Object(L.useNavigate)(),_=xR({pollingDurationInMs:u,pollingIntervalInMs:1e3,startTime:o.type===L.CheckoutActionTypes.PAYMENT_TXN_STATUS_POLLER?null===(t=null==o?void 0:o.payload)||void 0===t?void 0:t.startTime:void 0}),E=Cf(),C=Object(i.useMemo)(()=>qI({businessLine:E,tickState:iy.LOADING,isPostOrderTip:!1}),[E]),b=C[of.MAIN],y=C[of.SUB],[g,O]=Object(i.useMemo)(()=>{if(o.type!==L.CheckoutActionTypes.PAYMENT_TXN_STATUS_POLLER)return[0,0];const{order:{orderItems:e=[],orderTotal:t}}=o.payload;return[e.reduce((e,t)=>e+Number(t.quantity),0),t]},[o.payload,o.type]),h=Object(i.useMemo)(()=>"true"===((e,t)=>{var a;return null===(a=null==e?void 0:e.xpData)||void 0===a?void 0:a[t]})(s,DA.ENABLE_UPI_INTENT_CANCEL),[s]),A=Object(i.useCallback)(()=>KS(e.orderData),[e.orderData]),f=Object(i.useCallback)(()=>{if(Of()||ff())return ly.GREEN},[]),v=Object(i.useCallback)(e=>{n(e)},[n]),T=Object(i.useCallback)(()=>{if(o.type===L.CheckoutActionTypes.PAYMENT_TXN_STATUS_POLLER){_(),(e=>{e({category:CT,action:"click-cancel"})})(c),r({type:L.CheckoutActionTypes.CONFIRM_ORDER,payload:{orderId:String(o.payload.order.orderId),order:o.payload.order,placeOrderData:o.payload.placeOrderData}});const e=QI();p(e)}},[null==o?void 0:o.payload,null==o?void 0:o.type,c,p,r,_]),I=Object(i.useCallback)(()=>{(e=>{e({category:CT,action:"click-back"})})(c),n(!0)},[c]);return Object(i.useEffect)(()=>{(e=>{e({category:CT,action:"impression-upi-intent-poller-screen"})})(d)},[d]),h?l.a.createElement(Yk,{onBack:I},l.a.createElement(Jg,{tickState:iy.LOADING,mainText:b,subText:y,isSuper:A(),isSwiggyMoney:Of(),accent:f(),showCancelModal:a,setShowCancelModal:v,onCancelTransaction:T,paymentAmount:String(O),itemCount:g})):l.a.createElement(Tg,{tickState:iy.LOADING,mainText:b,subText:y,isSuper:A(),isSwiggyMoney:Of(),accent:f()})})),Vk=l.a.createContext({data:{fetchDataInProgress:!1,criticalError:{error:!1,message:""}},selectedAmount:0,getAddMoneyRequestData:()=>{},updateSelectedAmount:()=>{}}),Kk={0:"Fetch Add Money Details Request Executed Successfully",4:"Balance Details Request Failed",5:"Eligibility Details Request Failed",6:"Balance and Eligibility Request Failed"},zk=e=>!!e.data&&0==e.statusCode,$k=e=>vn(void 0,void 0,void 0,(function*(){return yield OA({apiHost:e,endpoint:"/payment/presentation/v1/swiggypay/getbalance"})})),Xk=(e,t)=>vn(void 0,void 0,void 0,(function*(){return yield OA({apiHost:e,endpoint:"/payment/add-money/v1/order/transaction/eligibility",searchParams:{billTotalShown:t}})})),Jk=e=>vn(void 0,void 0,void 0,(function*(){return yield OA({apiHost:e,endpoint:"/payment/add-money/v1/order/offers"})})),Zk=()=>{const e=Object(s.Gb)(),t=Object(i.useContext)(L.ApiContext),a=Object(i.useRef)(!1),n=t.host.unwrap(),o=t.paymentHost.unwrap(),[r,l]=Object(i.useState)(0),[c,d]=Object(i.useState)({fetchDataInProgress:!1}),[u,m]=Object(i.useState)(0),p=Object(i.useCallback)(t=>{!e.current||a.current||c.addMoneyData||(l(t||0),d({fetchDataInProgress:!0,criticalError:{error:!1,message:""}}))},[e,c.addMoneyData,d]),_=Object(i.useCallback)(e=>{m(e)},[m]);return Object(i.useEffect)(()=>{e.current&&c.fetchDataInProgress&&!a.current&&(a.current=!0,function(e,t){return vn(this,void 0,void 0,(function*(){const a=(e=>{var t;const a=e[0],n=e[1],o=e[2],r=zk(a),i=zk(n),l=zk(o)?null===(t=o.data)||void 0===t?void 0:t.addMoney:[],s=((e,t)=>{let a;return a=e&&t?0:!e&&t?4:e&&!t?5:6,{statusCode:a,statusMessage:Kk[a]}})(r,i);return 0!==s.statusCode||an(a.data)||an(n.data)?Object.assign(Object.assign({},s),{data:null}):Object.assign(Object.assign({},s),{data:{eligibleBalance:a.data.balancePresenter.available,eligibilityDetails:n.data,offers:l||[]}})})(yield Promise.all([$k(t),Xk(t,e),Jk(t)]));return 0!==a.statusCode||an(a.data)?Promise.reject(a):Promise.resolve(a.data)}))}(String(r),o).then(e=>{var t;a.current=!1;const n=(null!==(t=e.eligibilityDetails.suggestedAmounts)&&void 0!==t?t:[]).find(e=>e.preSelected),o=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.paymentamount),i=jf(r,e.eligibleBalance),l=Number(o)||(null==n?void 0:n.amount)||i||0;m(l),d({fetchDataInProgress:!1,addMoneyData:e})}).catch(e=>{a.current=!1,d({fetchDataInProgress:!1,criticalError:{error:!0,message:e.statusMessage}})}))},[c.fetchDataInProgress,e,n,o,r]),{data:c,getAddMoneyRequestData:p,updateSelectedAmount:_,selectedAmount:u,originalBillAmount:r}},qk=Object(i.memo)((function(e){const t=Zk(),a=cP(),n=Array.isArray(e.children)&&1===e.children.length?l.a.createElement(s.P,{forward:a},e.children[0]):e.children;return l.a.createElement(Vk.Provider,{value:t},n)}));var Qk="styles-v4_container_iZjOiYRv";fR(".styles-v4_container_iZjOiYRv{background-color:#f0f0f5}");const ex=Object(i.memo)((function(e){var t;const{data:a,getAddMoneyRequestData:n,updateSelectedAmount:o,selectedAmount:r,originalBillAmount:c}=Object(i.useContext)(Vk),d=Object(i.useMemo)(()=>{var e;return null===(e=a.addMoneyData)||void 0===e?void 0:e.eligibleBalance},[a.addMoneyData]),{clickEvent:u,impressionEvent:m}=Object(i.useContext)(L.AnalyticsContext),{setCheckoutState:p}=Object(i.useContext)(L.CheckoutContext),_=Object(L.useNavigate)(),E=Object(i.useMemo)(()=>vf(),[]),C=Object(i.useCallback)(()=>{var t;n(null===(t=e.data)||void 0===t?void 0:t.billTotal)},[n,e.data]),b=Object(i.useCallback)(()=>{var e,t;L.GlobalHeaderState.updateHeaders({paymentamount:String(r)}),_(L.CheckoutRoute.SWIGGY_MONEY_PAYMENTS);const n=null===(t=null===(e=a.addMoneyData)||void 0===e?void 0:e.eligibilityDetails)||void 0===t?void 0:t.suggestedAmounts,o=function(e,t){return(null==t?void 0:t.some(t=>t.amount==e))?"PREDEFINED":"CUSTOM"}(r,n);((e,t,a,n)=>{a({category:bT,action:"click-proceed-with-recharge",label:e,context:t,lastScreen:n?IT:lT})})(String(r),o,u,E)},[u,a.addMoneyData,_,r,E]),y=Object(i.useCallback)(()=>{const e=Object(L.getOriginalBusinessLine)();E?Object(L.closeWebview)():(L.GlobalHeaderState.updateHeaders({paymentamount:"",marketplacebusinessline:e}),p({type:L.CheckoutActionTypes.SHOW_PAYMENTS}))},[p,E]),g=Object(i.useCallback)(()=>{(e=>{e({category:bT,action:"click-sm-redeem-now"})})(u),E&&Object(L.closeWebview)({params:{action:"ADD_VOUCHER_CLICK"}})},[u,E]);Object(i.useEffect)(()=>{null!=d&&(Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.ADD_SWIGGY_MONEY_PAGE_VIEW}),((e,t,a)=>{t({category:bT,action:"swiggy-add-money-screen",context:e,lastScreen:a?IT:lT})})(String(d),m,E))},[a.addMoneyData,d,m,E]),Object(i.useEffect)(()=>{const e=window.requestAnimationFrame(C);return()=>window.cancelAnimationFrame(e)},[C]),Object(L.useCustomHardwareBack)([L.CheckoutRoute.ADD_SWIGGY_MONEY],y);const O=Object(i.useCallback)(e=>{((e,t,a,n)=>{a({category:bT,action:"click-predefined-recharge-amount",label:t,context:e,lastScreen:n?IT:lT})})(String(d),String(e),u,E)},[u,d,E]),h=Object(i.useCallback)(()=>{XD(bT,u)},[u]),A=Object(i.useCallback)(()=>{qD(bT,UT,u)},[u]),f=Object(i.useCallback)(()=>{qD(bT,BT,u)},[u]),v=Object(i.useCallback)(()=>{ZD(bT,m)},[m]),T=Object(i.useCallback)(()=>{JD(bT,m)},[m]),I=Object(i.useMemo)(()=>({onSwiggyMoneyInfoCtaClick:h,onSwiggyMoneyInfoCtaImpression:T,onClickSwiggyMoneyInfoHalfCardActionButton:A,onClickSwiggyMoneyInfoHalfCardCloseButton:f,onImpressionSwiggyMoneyInfoHalfCard:v}),[A,f,v,h,T]),S=((e,t,a)=>{const n=a?"-":"0";let o=Object(s.hb)("Available balance: ₹{0}",t?String(t):n);return o+=e>0?" | "+Object(s.hb)(mA,String(e)):"",o})(jf(c,d),null!=d?d:0,a.fetchDataInProgress||!a.addMoneyData),N=l.a.createElement(IR,{title:"Add Balance",subtitle:S,grayscale:!0});if(null===(t=a.criticalError)||void 0===t?void 0:t.error)return l.a.createElement(kR,{header:N,onBack:y,content:l.a.createElement(s.u,{action:{onClick:C}}),containerCSSClass:Qk});if(a.fetchDataInProgress||!a.addMoneyData)return l.a.createElement(kR,{header:N,content:l.a.createElement(PE,null),containerCSSClass:Qk});const R=l.a.createElement(YO,{selectionAmount:r,offers:a.addMoneyData.offers,eligibilityDetails:a.addMoneyData.eligibilityDetails,onAddMoney:b,updateSelectedAmount:o,balance:a.addMoneyData.eligibleBalance,clickPredefinedAmount:O,swiggyMoneyInfoActions:I,isSwMoneyBusinessLine:E,redirectToVoucher:g});return l.a.createElement(kR,{onBack:y,header:N,content:R,containerCSSClass:Qk})}));fR(".OneClickEnrollment_otherPayments_PULF4I-h{padding:16px}");var tx=Object(i.memo)((function(e){const{paymentResponse:t}=Object(i.useContext)(AR),{oneClickEligibleCardGroup:a,defaultSelectedCardGroup:n}=Object(i.useContext)(GP),o=Object(i.useRef)(),{clickEvent:r,impressionEvent:c}=Object(i.useContext)(L.AnalyticsContext);Object(s.Db)(()=>{var e;(e=>{e({category:lT,action:"impression-see-all-payment-options",context:YT})})(c);const t=null===(e=null==n?void 0:n.paymentMethods)||void 0===e?void 0:e[0];t&&t.enabled&&"function"==typeof o.current&&o.current(t)});const{amountToPay:d,showSplitPay:u,selectedSplitPayMethods:m}=Object(i.useContext)(yR),p=Object(L.useOnBack)(),{onSplitPayToggle:_}=KL(),{addMoneyActions:E,swiggyMoneyInfoActions:C}=QD(),b=iL(!0),y=Object(i.useCallback)(e=>{e.preventDefault(),(e=>{e({category:lT,action:"click-see-all-payment-options",context:YT})})(r),p()},[r,p]),g=Object(i.useCallback)(()=>{cI(r,"header")},[r]);if(!a||!t)return null;const{juspayMeta:O}=t,{oneClickEnrollmentKnowMoreMessage:h,oneClickEnrollmentSubTitle:A,oneClickEnrollmentTitle:f}=(e=>{var t,a,n,o,r,i,l,s,c;return{oneClickEnrollmentTitle:null!==(n=null===(a=null===(t=null==e?void 0:e.oneClickMeta)||void 0===t?void 0:t.oneClickPromoScreen)||void 0===a?void 0:a.pageTitle)&&void 0!==n?n:"",oneClickEnrollmentSubTitle:null!==(i=null===(r=null===(o=null==e?void 0:e.oneClickMeta)||void 0===o?void 0:o.oneClickPromoScreen)||void 0===r?void 0:r.pageDesc)&&void 0!==i?i:"",oneClickEnrollmentKnowMoreMessage:null!==(c=null===(s=null===(l=null==e?void 0:e.oneClickMeta)||void 0===l?void 0:l.oneClickPromoScreen)||void 0===s?void 0:s.pageKnowMoreMessage)&&void 0!==c?c:""}})(O),v=(null==t?void 0:t.splitpayList)||[],T=u&&(null==v?void 0:v.length)>0,I=l.a.createElement(zR,null,({placeOrderInProgress:e,onPay:n,onSelect:r,selectedPaymentId:i})=>(o.current=r,l.a.createElement(l.a.Fragment,null,l.a.createElement(vh,{title:f,subtitle:A,knowMoreMessage:h,onClickKnowMore:g}),T&&l.a.createElement(CO,{selectedSplitpayMethods:m,splitPayList:v,handleChange:_,isFrictionLayout:!0,addMoneyActions:E,swiggyMoneyInfoActions:C,isAddMoneyCtaDisabled:Object(L.isNonEmptyString)(i),onFlipkartToolTipShow:b}),l.a.createElement(zD,{onPay:n,onSelect:r,selectedPaymentId:i,paymentGroup:a,paymentAmount:String(d),juspayMeta:null==t?void 0:t.juspayMeta,paymentInProgress:!1,options:Zf,payCtaText:"ENABLE & PAY",groupTitle:"Saved Cards with single click",isOneClickPromotionFlow:!0}),l.a.createElement(hb,{hideTitle:!0,heading:"See all payment options",onClick:y,containerClassName:"OneClickEnrollment_otherPayments_PULF4I-h",iconUrl:"portal/m/oneclick_cardicon.png"}),e&&l.a.createElement(Gp,{hideMovingTray:!0}))));return l.a.createElement(kR,{content:I})}));const ax=(e,t)=>{var a,n,o,r;return(null===(a=e.payload)||void 0===a?void 0:a.autoPayPaymentFailureVariant)===t||(null===(r=null===(o=null===(n=e.successPayload)||void 0===n?void 0:n.placeOrderData.extraParams)||void 0===o?void 0:o.pay_on_delivery)||void 0===r?void 0:r.variant)===t},nx="autopay_feedback_shown",ox=e=>vn(void 0,void 0,void 0,(function*(){const t=(e=>{const t=(null===window||void 0===window?void 0:window.__AUTOPAY_FEEDBACK_URL__)||"https://webviews.swiggy.com/feedback/autopay_feedback.html?context=autopayFeedback&order_id={0}";return tn("swiggy://externalWidget?banner_type=WEBVIEW&card_type=HALF_CARD&url={0}",encodeURIComponent(tn(t,encodeURIComponent(null!=e?e:""))))})(e);(yield Object(L.canShowFeedbackScreen)(nx))&&(Object(L.navigateToDeeplink)(t),Object(L.updateFeedbackFlag)(nx))}));var rx=Object(i.memo)((function(e){return l.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",fill:"none",viewBox:"0 0 82 82",className:e.className},l.a.createElement("path",{fill:"#D07D00",stroke:"#D07D00",d:"M80.65 41a39.6 39.6 0 0 1-39.54 39.65A39.6 39.6 0 0 1 1.58 41 39.6 39.6 0 0 1 41.1 1.35 39.6 39.6 0 0 1 80.65 41Z",opacity:".8"}),l.a.createElement("path",{fill:"#fff",d:"M41 49.23a4.58 4.58 0 0 1 4.56 4.62A4.58 4.58 0 0 1 41 58.46a4.58 4.58 0 0 1-4.56-4.61A4.58 4.58 0 0 1 41 49.23Zm-1.42-27.21h2.84c1.46 0 2.64 1.2 2.64 2.68v18.08a2.66 2.66 0 0 1-2.64 2.68h-2.84a2.66 2.66 0 0 1-2.64-2.68V24.7a2.66 2.66 0 0 1 2.64-2.68Z"}))}));fR(".styles_ctaWrapper_2MnEt3VX,.styles_ctaWrapper_2MnEt3VX .styles_primaryCta_aoULKtNq,.styles_exclamationContainer_juj-Vdft,.styles_exclamationContainerFullpage_YZRz99YG,.styles_mainContainerWrapper_IvaPs7Dz,.styles_wrapper_vZbTKTij{display:flex}.styles_ctaWrapper_2MnEt3VX,.styles_exclamationContainer_juj-Vdft,.styles_exclamationContainerFullpage_YZRz99YG{flex-direction:column}.styles_ctaWrapper_2MnEt3VX .styles_primaryCta_aoULKtNq,.styles_mainContainerWrapper_IvaPs7Dz,.styles_wrapper_vZbTKTij{align-items:center}.styles_mainContainerWrapper_IvaPs7Dz{justify-content:center}@keyframes styles_scaleAndMoveUp_ATrA03Bc{0%,35%{top:50%;transform:translateY(calc(-50% - 32px))}50%,88%{transform:translateY(-150px)}to{transform:translateY(-250px)}}@keyframes styles_scaleDownTitle_d5RGLs0Z{0%,35%{font-size:24px;line-height:28px;font-weight:800;letter-spacing:-.4px;margin-top:45px;width:84%;color:rgba(2,6,12,.9215686275)}50%,88%{font-size:16px;line-height:19px;font-weight:400;letter-spacing:-.3px;margin-top:24px;width:54%;color:rgba(2,6,12,.6)}to{font-size:16px;line-height:19px;font-weight:400;letter-spacing:-.3px;margin-top:12px;width:54%;color:rgba(2,6,12,.6)}}@keyframes styles_scaleImage_oBk6iQW7{0%{width:10px}8%{width:90px}10%,35%{width:80px}50%,to{width:40px}}@keyframes styles_fillUp_vbN6-scF{to{stroke:#fff;stroke-opacity:1}}@keyframes styles_turnWhite_byqKarpC{to{stroke:#fff}}@keyframes styles_delayedShow_IrwjuQSe{0%,13%{opacity:0;transform:translateY(10px)}35%,90%{opacity:1;transform:translateY(0);padding-top:34px}to{opacity:1;transform:translateY(0)}}@keyframes styles_buttonProgressBar_dlqNShL-{0%{border-radius:12px;transform:scaleX(0)}to{border-radius:12px;transform:scaleX(1)}}.styles_wrapper_vZbTKTij{flex-direction:column;height:100%}.styles_exclamationImage_XW-A-rEI{width:108px;margin-bottom:32px}.styles_exclamationImageContainer_DOxIy8Bd{text-align:center}.styles_exclamationTitle_0IFaiIFM{font-size:24px;line-height:28px;font-weight:800;letter-spacing:-.4px;color:rgba(2,6,12,.9215686275);text-align:center;margin:0 36px}.styles_exclamationContainer_juj-Vdft{align-items:center;margin-top:auto}.styles_exclamationContainerFullpage_YZRz99YG{align-items:center;width:100%;position:relative;top:50%;transform:translateY(calc(-50% - 32px))}.styles_exclamationContainerFullpageAnimate_COrazKHZ{animation:styles_scaleAndMoveUp_ATrA03Bc 3s ease-out;animation-fill-mode:forwards}.styles_exclamationContainerFullpageAnimate_COrazKHZ .styles_exclamationSvg_6sWOX5vK{animation:styles_scaleImage_oBk6iQW7 3s ease-out;animation-delay:0ms!important;animation-fill-mode:forwards}.styles_exclamationContainerFullpageAnimate_COrazKHZ .styles_exclamationTitle_0IFaiIFM{animation:styles_scaleDownTitle_d5RGLs0Z 3s ease-out;animation-delay:0ms!important;animation-fill-mode:forwards}.styles_ctaWrapper_2MnEt3VX{width:100%;margin:auto 0 28px;padding:0 16px}.styles_ctaWrapper_2MnEt3VX .styles_primaryCta_aoULKtNq{background:transparent;border:none;outline:none;text-align:left;-webkit-appearance:none;font-size:18px;letter-spacing:-.3px;font-weight:600;justify-content:space-between;width:100%;height:58px;background:#ff5200;border-radius:12px;padding:16px;color:#fff;text-align:center}.styles_ctaWrapper_2MnEt3VX .styles_primaryCtaDisabled_7Jap7J-7{opacity:.5}.styles_ctaWrapper_2MnEt3VX .styles_primaryCtaWrapper_-7oH5VfD{position:relative;border-radius:12px;overflow:hidden}.styles_ctaWrapper_2MnEt3VX .styles_primaryCtaConsent_hJlWaGmK{justify-content:center}.styles_ctaWrapper_2MnEt3VX .styles_secondaryCta_GAMuYWV3{margin-top:16px;text-align:center;border-radius:16px;background-color:transparent;color:rgba(2,6,12,.7490196078)}.styles_mainContainerWrapper_IvaPs7Dz{flex-direction:column;margin:0 16px;padding:12px 20px;opacity:0}.styles_mainContainerWrapperWithAnimation_a5xY7-Xx{animation:styles_delayedShow_IrwjuQSe 2s ease-in-out;opacity:1}.styles_mainContainerTitle_A-HVwyHu{font-size:24px;line-height:28px;font-weight:800;letter-spacing:-.4px;color:rgba(2,6,12,.9215686275);text-align:center;margin-bottom:8px}.styles_mainContainerSubTitle_C2MQ1qGC{font-size:14px;line-height:17px;font-weight:200;letter-spacing:-.3px;color:rgba(2,6,12,.6);text-align:center}.styles_progressButton_TnbcXInd{margin:0;background:#000;border-radius:12px;position:absolute;top:0;bottom:0;left:0;right:0;opacity:.2;will-change:transform;transform-origin:left;animation:styles_buttonProgressBar_dlqNShL- 1.5s ease-out}");var ix=Object(i.memo)((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.SuperButton,{className:"styles_primaryCtaWrapper_-7oH5VfD",onClick:e.handlePrimaryCtaClick,ariaLabel:Yv,"data-testid":"autopay-payment-failure-screen_CONSENT_PRIMARY_CTA",buttonType:"specialPositive",buttonSize:"large"},Yv),l.a.createElement(C.TextButton,{className:"styles_secondaryCta_GAMuYWV3",buttonSize:"medium",color:"text_High_Emphasis",onClick:e.handleSecondaryCtaClick,"data-testid":"autopay-payment-failure-screen_CONSENT_SECONDARY_CTA"},"Don't place my order"))}));fR(".Shimmer_container_wm41qank{display:flex;flex-direction:column}.Shimmer_container_wm41qank .Shimmer_line_RNLTIxDi,.Shimmer_container_wm41qank .Shimmer_smallLine_kltCq3-A{background:linear-gradient(90deg,#e2e2e7,#d0d1d7 52.08%,#e2e2e7);animation:Shimmer_shimmer_jt7dGqQ2 2s linear infinite;background:linear-gradient(90deg,rgba(235,235,240,.5),rgba(223,223,228,.5));background-size:1000px 100%;height:20px;margin-bottom:8px;width:100%}.Shimmer_container_wm41qank{height:100%;background:#fff;padding:39px;align-items:center;justify-content:center}.Shimmer_container_wm41qank .Shimmer_smallLine_kltCq3-A{width:152px;height:24px}.Shimmer_container_wm41qank .Shimmer_circle_6Q6E0I7h{background:linear-gradient(90deg,#e2e2e7,#d0d1d7 52.08%,#e2e2e7);animation:Shimmer_shimmer_jt7dGqQ2 2s linear infinite;background:linear-gradient(90deg,rgba(235,235,240,.5),rgba(223,223,228,.5));background-size:1000px 100%;border-radius:100%;width:108px;height:108px;margin-bottom:34px}@keyframes Shimmer_shimmer_jt7dGqQ2{0%{background-position:-1000px 0}to{background-position:1000px 0}}");var lx=Object(i.memo)(()=>l.a.createElement("div",{className:"Shimmer_container_wm41qank","data-testid":"autopay-payment-failure-screen_SHIMMER_CONTAINER"},l.a.createElement("div",{className:"Shimmer_circle_6Q6E0I7h"}),l.a.createElement("div",{className:"Shimmer_smallLine_kltCq3-A"}),l.a.createElement("div",{className:"Shimmer_line_RNLTIxDi"})));const sx=p.default.div.attrs(e=>e)`
    display: flex;
    padding: ${e=>`${e.theme.spacing.xLarge} ${e.theme.spacing.xLarge} ${e.theme.spacing.xLarge} ${e.theme.spacing.large}`};
    border: ${e=>"1px solid "+e.theme.colors.light.border_Secondary};
    border-radius: ${e=>e.theme.cornerRadius.medium};
    position: absolute;
    top: 45%;
    visibility: ${e=>e.show?"visible":"hidden"};
`,cx=p.default.div(({theme:e})=>({margin:`${e.spacing.xxSmall} ${e.spacing.medium} 0 0`})),dx=Object(p.default)(u.Image)`
    height: ${"74px"};
    width: ${"15px"};
    object-fit: fill;
`,ux=Object(p.default)(m.Text)(({theme:e})=>({padding:`0 ${e.spacing.large} ${e.spacing.small} 0`,borderBottom:"1px dashed "+e.colors.light.border_Secondary,marginBottom:e.spacing.large}));var mx=Object(i.memo)((function({show:e}){const{CURRENT_STATE_TEXT:t,NEXT_STATE_TEXT:a,NEXT_STATE_ALTERNATE_TEXT:n}=Gv;return l.a.createElement(sx,{"data-testid":"autopay-payment-failure-screen_ct",show:e},l.a.createElement(cx,null,l.a.createElement(dx,{cloudinaryId:"payments/Timeline.png"})),l.a.createElement("div",null,l.a.createElement(ux,{variant:"V2.subheading1.neutral.black",color:"text_High_Emphasis"},t),l.a.createElement(m.Text,{variant:"V2.body2.neutral.medium",color:"text_High_Emphasis"},a),l.a.createElement(m.Text,{variant:"V2.body2.neutral.regular",color:"text_Low_Emphasis"},n)))})),px=Object(i.memo)((function({goToTrackScreen:e,isSubtleAutoplaceFlow:t}){const a=Object(i.useCallback)(()=>{setTimeout(()=>{e()},2e3)},[e]);return l.a.createElement(Tg,{tickState:iy.SUCCESS,accent:t?ly.MUSTARD:ly.GREEN,mainText:Fv,subText:Vv,postSuccessCb:a})}));const _x=p.default.span`
    position: relative;
    top: 5px;
    display: inline-block;
`,Ex=Object(p.default)(u.Image)(({theme:e})=>({width:"28px",height:"28px",marginLeft:e.spacing.xxSmall})),Cx=Object(i.memo)((function(e){const[t,a]=Object(i.useState)(!1),[n,o]=Object(i.useState)(!1),[r,c]=Object(i.useState)(!1),[u,m]=Object(i.useState)(!1),p=Object(i.useRef)(null),_=Object(i.useRef)(null),E=Object(i.useRef)(null),C=Object(i.useCallback)(()=>{a(!0),e.handlePrimaryCtaClick()},[e]);Object(s.Db)(()=>{p.current=setTimeout(()=>{o(!0)},Kv),_.current=setTimeout(()=>{c(!0)},zv),E.current=setTimeout(()=>{m(!0)},$v)});const b=Object(i.useMemo)(()=>d()("styles_exclamationContainerFullpage_YZRz99YG",{styles_exclamationContainerFullpageAnimate_COrazKHZ:n}),[n]),y=Object(i.useMemo)(()=>d()("styles_mainContainerWrapper_IvaPs7Dz",{"styles_mainContainerWrapperWithAnimation_a5xY7-Xx":r}),[r]),g=Object(i.useCallback)(()=>l.a.createElement("div",{className:y,"data-testid":"autopay-payment-failure-screen_lottie_wrapper"},l.a.createElement("div",{className:"styles_mainContainerTitle_A-HVwyHu","data-testid":"autopay-payment-failure-screen_LOTTIE_TITLE"},Hv,l.a.createElement(_x,null,l.a.createElement(Ex,{cloudinaryId:"payments/SmilingAngel.png"})))),[y]),O=(null==e?void 0:e.failureReason)||Wv;return Object(i.useEffect)(()=>()=>{p.current&&clearTimeout(p.current),_.current&&clearTimeout(_.current),E.current&&clearTimeout(E.current)},[]),Object(s.ub)(e.successPayload)?t?l.a.createElement(lx,null):l.a.createElement("div",{className:"styles_wrapper_vZbTKTij"},l.a.createElement("div",{className:b},l.a.createElement(rx,{className:"styles_exclamationSvg_6sWOX5vK"}),l.a.createElement("div",{className:"styles_exclamationTitle_0IFaiIFM","data-testid":Xe},O),g()),l.a.createElement(mx,{show:u}),u&&l.a.createElement("div",{className:"styles_ctaWrapper_2MnEt3VX"},l.a.createElement(ix,{handleSecondaryCtaClick:e.handleSecondaryCtaClick,handlePrimaryCtaClick:C}))):l.a.createElement(px,{goToTrackScreen:e.goToTrackScreen})}));fR(".styles_cancel_b03kIUMc,.styles_exclamationContainer_Bo3-DH2j,.styles_exclamationContainerFullpage_eBiIIy9H,.styles_wrapper_bn-Az9VY{display:flex}.styles_cancel_b03kIUMc,.styles_exclamationContainer_Bo3-DH2j,.styles_exclamationContainerFullpage_eBiIIy9H{flex-direction:column}.styles_wrapper_bn-Az9VY{align-items:center;flex-direction:column;height:100%}.styles_exclamationTitle_J36-HnCM{font-size:24px;line-height:28px;font-weight:800;letter-spacing:-.4px;color:rgba(2,6,12,.9215686275)}.styles_exclamationImageContainer_etzbEPw3{text-align:center}.styles_exclamationContainer_Bo3-DH2j{align-items:center;margin-top:auto}.styles_exclamationContainerFullpage_eBiIIy9H{align-items:center;width:100%;position:relative;top:50%;transform:translateY(calc(-50% - 32px))}.styles_exclamationContainerFullpageAnimate_35p6MO31{animation:styles_scaleAndMoveUp_ZACTM-ZB .3s ease-out 0ms;animation-fill-mode:forwards}.styles_exclamationContainerFullpageAnimate_35p6MO31 .styles_exclamationSvg_2JjAV5ev{animation:styles_scaleImage_cpe-R3lC .3s ease-out;animation-delay:0ms!important;animation-fill-mode:forwards}.styles_exclamationContainerFullpageAnimate_35p6MO31 .styles_exclamationTitle_J36-HnCM{animation:styles_scaleDownTitle_V8eBoXRz .3s ease-out;animation-delay:0ms!important;animation-fill-mode:forwards}@keyframes styles_scaleAndMoveUp_ZACTM-ZB{0%{top:50%}to{transform:translateY(-153px)}}@keyframes styles_scaleDownTitle_V8eBoXRz{0%,20%{font-size:24px;line-height:28px;font-weight:800;letter-spacing:-.4px;color:rgba(2,6,12,.9215686275)}to{font-size:16px;line-height:19px;font-weight:400;letter-spacing:-.3px;color:rgba(2,6,12,.6);width:20ch;text-align:center;outline:none}}@keyframes styles_scaleImage_cpe-R3lC{0%,20%{width:108px;margin-bottom:32px}to{width:40px;margin-bottom:8px}}@keyframes styles_delayedShow_39ePInsS{0%,50%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.styles_mainContainer_csK2MiHx{font-size:24px;line-height:28px;font-weight:800;letter-spacing:-.4px;margin:auto 16px 32px;color:rgba(2,6,12,.7490196078);text-align:center;outline:none}.styles_mainContainerAnimate_LowDBJ45{animation:styles_delayedShow_39ePInsS .8s ease-out;animation-fill-mode:forwards}.styles_cancel_b03kIUMc{font-size:14px;line-height:17px;font-weight:600;letter-spacing:-.3px;margin:auto 0 27px;color:rgba(2,6,12,.7490196078);border-bottom:1px dashed rgba(2,6,12,.7490196078);background-color:transparent}.styles_slider_E9bAtyvk{height:8px;border-radius:100px;background-color:#ffeee5}.styles_sliderContainer_q-w1TMHV{padding:0 16px;margin-bottom:24px;width:100%}.styles_sliderIndicator_c5YdnYFY{animation:styles_progressBar_F-gYpwip 12s linear;background-color:#ff5200;height:100%;border-radius:100px}@keyframes styles_progressBar_F-gYpwip{0%{width:0}to{width:100%}}.styles_tickScreenCircle_dzoHqK5M{stroke:#d07d00;fill:#d07d00;opacity:.8}.styles_tickScreenSvg_quYlwfF4{width:103px;height:103px}.styles_tickScreenTextContainer_alUwdj2N{margin-top:35px}.styles_tickScreenTextSub_LPMfRyZt{font-size:18px;line-height:20px;font-weight:600;letter-spacing:-.3px;font-weight:200!important;color:#d07d00!important;opacity:.8}.styles_tickScreenTextMain_4cNNoBDJ{color:rgba(2,6,12,.7490196078);margin-bottom:6px;margin-top:0}");var bx=Object(i.memo)((function(e){return l.a.createElement("svg",{className:d()("styles_exclamationImage_XW-A-rEI",null==e?void 0:e.className),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 108 108",fill:"none"},l.a.createElement("path",{fill:"#D07D00",d:"M106.351 54c0 29.081-23.509 52.65-52.5 52.65C24.858 106.65 1.35 83.081 1.35 54S24.859 1.35 53.85 1.35c28.992 0 52.501 23.569 52.501 52.65Z"}),l.a.createElement("path",{d:"M 54 55 L 54 30",fill:"transparent"}),l.a.createElement("path",{d:"M 54 55 L 54 30",fill:"transparent",stroke:"#ffffffab",strokeWidth:12,strokeLinecap:"round"}),l.a.createElement("path",{d:"M 54 75 L 54 75.1",fill:"transparent",stroke:"#ffffffab",strokeWidth:12,strokeLinecap:"round"}))})),yx=Object(i.memo)((function({onCancel:e,payAsCash:t,successPayload:a,goToTrackScreen:n,isSubtleConsentAPiCallDone:o}){const[r,c]=Object(i.useState)(!1),[u,m]=Object(i.useState)(!1),[p,_]=Object(i.useState)(!1),E=(()=>{const[e,t]=l.a.useState("hidden"),a=Object(i.useCallback)(()=>{var e;return"undefined"==typeof document&&t("hidden"),t(null!==(e=null===document||void 0===document?void 0:document.visibilityState)&&void 0!==e?e:"hidden")},[]);return Object(i.useEffect)(()=>("undefined"!=typeof document&&(t(document.visibilityState),document.addEventListener("visibilitychange",a)),()=>{"undefined"!=typeof document&&document.removeEventListener("visibilitychange",a)}),[a]),"visible"===e})(),C=Object(i.useRef)(null),b=Object(i.useRef)(null);Object(i.useEffect)(()=>{E&&!b.current&&(b.current=setTimeout(()=>{m(!0),_(!0)},Jv))},[E]),Object(i.useEffect)(()=>{E&&(o.current||C.current||(C.current=setTimeout(()=>{o.current=!0,c(!0),t()},Xv)))},[o,E,t]),Object(i.useEffect)(()=>()=>{C.current&&clearTimeout(C.current),b.current&&clearTimeout(b.current)},[]);const y=Object(i.useMemo)(()=>d()("styles_exclamationContainerFullpage_eBiIIy9H",{styles_exclamationContainerFullpageAnimate_35p6MO31:p}),[p]),g=Object(i.useMemo)(()=>d()("styles_mainContainer_csK2MiHx",{styles_mainContainerAnimate_LowDBJ45:u}),[u]);return Object(s.ub)(a)?r?l.a.createElement(lx,null):l.a.createElement("div",{className:"styles_wrapper_bn-Az9VY"},l.a.createElement("div",{className:y},l.a.createElement(bx,{className:"styles_exclamationSvg_2JjAV5ev"}),l.a.createElement("h3",{className:"styles_exclamationTitle_J36-HnCM","data-testid":Xe,tabIndex:0},Wv)),u&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",{className:g,"data-testid":"autopay-payment-failure-screen_error_sub_title",tabIndex:0},"Don't worry, we are still placing your order!"),l.a.createElement("button",{className:"styles_cancel_b03kIUMc",onClick:e,"data-testid":"autopay-payment-failure-screen_cancel"},"Cancel"),l.a.createElement("div",{className:"styles_sliderContainer_q-w1TMHV","data-testid":"autopay-payment-failure-screen_loading_indicator"},l.a.createElement("div",{className:"styles_slider_E9bAtyvk"},l.a.createElement("div",{className:"styles_sliderIndicator_c5YdnYFY"}))))):l.a.createElement(px,{goToTrackScreen:n,isSubtleAutoplaceFlow:!0})})),gx=Object(i.memo)((function(e){var t,a;const{checkoutState:n,setCheckoutState:o}=Object(i.useContext)(L.CheckoutContext),{paymentResponse:r}=Object(i.useContext)(AR),{clickEvent:c,impressionEvent:d,screenViewEvent:u}=Object(i.useContext)(L.AnalyticsContext),{billTotal:m}=Object(i.useContext)(yR),{checkoutWebXP:p}=Object(i.useContext)(L.CheckoutWebDynamicConfigContext),_=Object(i.useRef)(!1),E=UR(),C=n.type===L.CheckoutActionTypes.AUTOPAY_ORDER_PROCESS_SUCCESSFUL,b=Object(i.useMemo)(()=>tT(null==r?void 0:r.paymentGroup),[r]);Ak(!Object(s.ub)(b));const y=n.type==L.CheckoutActionTypes.AUTOPAY_ELIGIBLE_PAYMENT_FAILED?n.payload:void 0,g=rT(null==y?void 0:y.failedOrder),O=C?n.payload:void 0,{isConsentMode:h,isSubtleAutoPlace:A}=Object(i.useMemo)(()=>{return{isConsentMode:ax({payload:(e={payload:y,successPayload:O}).payload,successPayload:e.successPayload},DA.AUTOPAY_PHASE_2.CONSENT),isSubtleAutoPlace:ax({payload:e.payload,successPayload:e.successPayload},DA.AUTOPAY_PHASE_2.SUBTLE_AUTOPLACE)};var e},[y,O]),f=null!==(a=null===(t=null==y?void 0:y.paymentFailureResponse)||void 0===t?void 0:t.failureReason)&&void 0!==a?a:"",v=Object(i.useMemo)(()=>"true"===p[L.CHECKOUT_WEB_XP.AUTOPAY_ABANDONMENT_FEEDBACK],[p]),T=Object(i.useCallback)(()=>{var e,t,a;if(b)return E(b,{user_consent:"proceed_with_duplicate_order",proceed_with_duplicate_order:!0,[LA]:0,pay_on_delivery:{variant:null===(e=n.payload)||void 0===e?void 0:e.autoPayPaymentFailureVariant,failed_order_id:null===(a=null===(t=n.payload)||void 0===t?void 0:t.failedOrder)||void 0===a?void 0:a.orderId}},{isRewardApplicable:!1})},[b,n.payload,E]),I=Object(i.useCallback)(()=>{var e;if(n.type===L.CheckoutActionTypes.AUTOPAY_ORDER_PROCESS_SUCCESSFUL){if(1!=(null===(e=n.payload)||void 0===e?void 0:e.isOrderProcessed))return;EI(d)}},[n,d]),S=Object(i.useCallback)(()=>{var e,t,a;KT(c,m),n.type===L.CheckoutActionTypes.AUTOPAY_ORDER_PROCESS_SUCCESSFUL&&(null===(a=null===(t=null===(e=n.payload)||void 0===e?void 0:e.order)||void 0===t?void 0:t.rawResponse)||void 0===a?void 0:a.order_data)&&CR(n.payload.order.rawResponse.order_data,!0)},[m,n.payload,n.type,c]),N=Object(i.useCallback)(()=>{((e,t)=>{e({category:mT,action:"click-place-order-and-pay-next-screen",context:String(t)})})(c,m),T()},[m,c,T]),R=Object(i.useMemo)(()=>{var e,t,a;return(null==n?void 0:n.type)===L.CheckoutActionTypes.AUTOPAY_ELIGIBLE_PAYMENT_FAILED&&(null===(a=null===(t=null===(e=null==n?void 0:n.payload)||void 0===e?void 0:e.failedOrder)||void 0===t?void 0:t.orderId)||void 0===a?void 0:a.toString())||""},[n]),P=Object(i.useCallback)(()=>vn(this,void 0,void 0,(function*(){A?((e,t)=>{e({category:mT,action:LT,context:String(t)})})(c,m):(v&&(yield ox(R)),((e,t)=>{e({category:mT,action:"click-go-back",context:String(t)})})(c,m)),o({type:L.CheckoutActionTypes.SHOW_PAYMENTS,payload:{reload:g}})})),[v,m,c,g,A,R,o]),D=Object(i.useCallback)(()=>vn(this,void 0,void 0,(function*(){_.current||(v&&(yield ox(R)),o({type:L.CheckoutActionTypes.SHOW_PAYMENTS,payload:{reload:g}}))})),[v,o,g,R]);return Object(i.useEffect)(()=>{n.type===L.CheckoutActionTypes.AUTOPAY_ORDER_PROCESS_SUCCESSFUL&&I()},[n,I]),Object(s.Db)(()=>{n.type===L.CheckoutActionTypes.AUTOPAY_ELIGIBLE_PAYMENT_FAILED&&Object(s.ub)(O)&&((e,t,a)=>{e({category:mT,action:"pay-next-screen",context:String(t),label:a||"-"})})(u,m,f)}),Object(L.useCustomHardwareBack)([L.CheckoutRoute.AUTOPAY_ELIGIBLE_PAYMENT_FAILED],D),n.type!==L.CheckoutActionTypes.AUTOPAY_ELIGIBLE_PAYMENT_FAILED&&n.type!==L.CheckoutActionTypes.AUTOPAY_ORDER_PROCESS_SUCCESSFUL?null:A?l.a.createElement(yx,{onCancel:P,payAsCash:T,successPayload:O,goToTrackScreen:S,isSubtleConsentAPiCallDone:_}):h?l.a.createElement(Cx,{payload:y,codData:b,failureReason:f,successPayload:O,goToTrackScreen:S,handlePrimaryCtaClick:N,handleSecondaryCtaClick:P}):null}));const Ox=Object(i.memo)((function(e){var{paymentGroups:t,paymentAmount:a}=e,n=fn(e,["paymentGroups","paymentAmount"]);const o=Object(i.useCallback)((e,t)=>Object(s.ub)(t)?null:t.map(t=>l.a.createElement(uL,Object.assign({paymentAmount:a,paymentGroup:t,key:t.groupName,paymentInProgress:!1},e,n))),[a,n]);return l.a.createElement(zR,null,e=>{var a=fn(e,["placeOrderInProgress","onMorePaymentsOptionSelect"]);return l.a.createElement(l.a.Fragment,null," ",o(a,t))})})),hx=Object(i.memo)((function(e){const{paymentResponse:t}=Object(i.useContext)(AR),{amountToPay:a}=Object(i.useContext)(yR),n=l.a.createElement(Ox,{paymentGroups:null==t?void 0:t.paymentOffersGroup,options:Zf,paymentAmount:String(a)}),o=Object(i.useMemo)(()=>l.a.createElement(IR,{title:"Extra cashback & discounts",grayscale:!0}),[]);return l.a.createElement(kR,{header:o,content:n})}));function Ax(e){const{checkoutState:t}=Object(i.useContext)(L.CheckoutContext),{setState:a}=Object(i.useContext)(L.HardwareBackContext),n=Object(L.useNavigate)(),{route:o}=Object(i.useContext)(s.K),r=t.type,l=Object(i.useCallback)(e=>{var t;return(null==o?void 0:o.name)===L.CheckoutRoute.VPA_TIMER?(history.pushState({name:L.CheckoutRoute.VPA_TIMER,data:null==o?void 0:o.data},"",""),void a({shouldHandle:!0,activeRoute:o.name})):(null==o?void 0:o.name)===L.CheckoutRoute.ADD_SWIGGY_MONEY?(history.pushState({name:L.CheckoutRoute.ADD_SWIGGY_MONEY,data:null==o?void 0:o.data},"",""),void a({shouldHandle:!0,activeRoute:o.name})):(null==o?void 0:o.name)!==L.CheckoutRoute.PAYMENTS?(null==o?void 0:o.name)===L.CheckoutRoute.SWIGGY_MONEY_PAYMENTS?(history.pushState({name:L.CheckoutRoute.SWIGGY_MONEY_PAYMENTS,data:null==o?void 0:o.data},"",""),void a({shouldHandle:!0,activeRoute:o.name})):void((null==o?void 0:o.name)!==L.CheckoutRoute.CONFIRM_ORDER&&(null==o?void 0:o.name)!==L.CheckoutRoute.DIRECT_PLACE_ORDER&&(null==o?void 0:o.name)!==L.CheckoutRoute.PAYMENT_TXN_STATUS_POLLING&&(null==o?void 0:o.name)!==L.CheckoutRoute.TURBO_PLACE_ORDER?(null==o?void 0:o.name)===L.CheckoutRoute.VERIFY_WALLET_LINK_OTP&&(null===(t=null==o?void 0:o.data)||void 0===t?void 0:t.stopNavigation)?history.pushState({name:null==o?void 0:o.name,data:null==o?void 0:o.data},"",""):e.state&&e.state.name&&n(e.state.name,e.state.data):history.pushState({name:o.name,data:null==o?void 0:o.data},"","")):void a({shouldHandle:!0,activeRoute:o.name})},[o,n,a]);return Object(i.useEffect)(()=>(window.addEventListener("popstate",l),()=>{window.removeEventListener("popstate",l)}),[l]),Object(i.useEffect)(()=>{r!==L.CheckoutActionTypes.SHOW_PAYMENTS||-1!==[L.CheckoutRoute.PAYMENTS,L.CheckoutRoute.ADD_NEW_CARD,L.CheckoutRoute.LINK_PAYLATER,L.CheckoutRoute.LINK_PAYLATER_MOBILE,L.CheckoutRoute.VERIFY_WALLET_LINK_OTP,L.CheckoutRoute.LINK_WALLET_WITH_NUMBER,L.CheckoutRoute.PAYMENTS_INDEX,L.CheckoutRoute.MORE_BANKS,L.CheckoutRoute.VERIFY_VPA,L.CheckoutRoute.PAYMENT_TXN_STATUS_POLLING,L.CheckoutRoute.MORE_PAYMENT_GROUPS,L.CheckoutRoute.MORE_PAYMENT_METHODS,L.CheckoutRoute.NATIVE_UPI_ACCOUNTS,L.CheckoutRoute.ONE_CLICK_ENROLLMENT,L.CheckoutRoute.PAYLATER_LINKING_CONFIRMATION,L.CheckoutRoute.PAYMENT_OFFERS].indexOf(null==o?void 0:o.name)?r!=L.CheckoutActionTypes.SHOW_SWIGGYMONEY_PAYMENTS?r!==L.CheckoutActionTypes.WEBVIEW_REFRESH_ORDER_ID_MISMATCH_ALERT?r!==L.CheckoutActionTypes.SHOW_FULL_PAGE_LOADER?(r!==L.CheckoutActionTypes.POST_SWIGGY_ADD_MONEY&&r!==L.CheckoutActionTypes.POST_PAYLATER_LINKING||(null==o?void 0:o.name)!==L.CheckoutRoute.PAYMENTS&&n(L.CheckoutRoute.PAYMENTS),r===L.CheckoutActionTypes.DINEOUT_PAYMENT_SUCCESS&&(null==o?void 0:o.name)!==L.CheckoutRoute.DINEOUT_PAYMENT_SUCCESS&&n(L.CheckoutRoute.DINEOUT_PAYMENT_SUCCESS),r===L.CheckoutActionTypes.DINEOUT_DIRECT_PLACE_ORDER&&(null==o?void 0:o.name)!==L.CheckoutRoute.DINEOUT_DIRECT_PLACE_ORDER&&n(L.CheckoutRoute.DINEOUT_DIRECT_PLACE_ORDER),r!==L.CheckoutActionTypes.VPA_TIMER?r!==L.CheckoutActionTypes.PAYMENT_TXN_STATUS_POLLER?(r===L.CheckoutActionTypes.CONFIRM_ORDER&&(null==o?void 0:o.name)!==L.CheckoutRoute.CONFIRM_ORDER&&n(L.CheckoutRoute.CONFIRM_ORDER),r===L.CheckoutActionTypes.DIRECT_PLACE_ORDER&&(null==o?void 0:o.name)!==L.CheckoutRoute.DIRECT_PLACE_ORDER&&n(L.CheckoutRoute.DIRECT_PLACE_ORDER),r!==L.CheckoutActionTypes.AUTOPAY_ELIGIBLE_PAYMENT_FAILED&&r!==L.CheckoutActionTypes.AUTOPAY_ORDER_PROCESS_SUCCESSFUL||(null==o?void 0:o.name)!==L.CheckoutRoute.AUTOPAY_ELIGIBLE_PAYMENT_FAILED&&n(L.CheckoutRoute.AUTOPAY_ELIGIBLE_PAYMENT_FAILED)):(null==o?void 0:o.name)!==L.CheckoutRoute.PAYMENT_TXN_STATUS_POLLING&&n(L.CheckoutRoute.PAYMENT_TXN_STATUS_POLLING):(null==o?void 0:o.name)!==L.CheckoutRoute.VPA_TIMER&&n(L.CheckoutRoute.VPA_TIMER)):(null==o?void 0:o.name)!==L.CheckoutRoute.REDIRECT_PAGE&&n(L.CheckoutRoute.REDIRECT_PAGE):(null==o?void 0:o.name)!==L.CheckoutRoute.PAYMENTS&&n(L.CheckoutRoute.PAYMENTS):-1===[L.CheckoutRoute.SWIGGY_MONEY_PAYMENTS,L.CheckoutRoute.ADD_SWIGGY_MONEY,L.CheckoutRoute.ADD_NEW_CARD,L.CheckoutRoute.PAYMENT_TXN_STATUS_POLLING,L.CheckoutRoute.MORE_BANKS,L.CheckoutRoute.MORE_PAYMENT_GROUPS,L.CheckoutRoute.MORE_PAYMENT_METHODS].indexOf(null==o?void 0:o.name)&&n(L.CheckoutRoute.SWIGGY_MONEY_PAYMENTS):n(L.CheckoutRoute.PAYMENTS)},[r,n,o]),e.children}fR(".styles_container_XBsgQBsl{display:flex;align-items:center;justify-content:center}");var fx=Object(i.memo)((function(e){const t=Object(s.Gb)(),{setCheckoutState:a}=Object(i.useContext)(L.CheckoutContext),{isPlaceOrderHookMounted:n}=Object(i.useContext)(BR),o=Object(i.useContext)(L.ConfigContext),{turboPayPlaceOrderData:r}=o,{_rawPaymentResponse:c,paymentsError:d}=Object(i.useContext)(AR),u=UR(),m=Object(L.useNavigate)(),p=Object(i.useRef)(!1),_=Object(i.useRef)(null),{data:E}=e,C=decodeURIComponent((null==E?void 0:E.selectedTurboMethod)||""),b=Object(i.useCallback)(()=>{var e;if(Object(s.ub)(C))return null;const t=(e=>{var t;return null===(t=null==e?void 0:e.paymentGroup)||void 0===t?void 0:t.find(e=>ZT(e))})(c);return Object(s.ub)(t)?null:(null===(e=null==t?void 0:t.paymentMethods)||void 0===e?void 0:e.find(e=>To(e)===C))||null},[c,C]),y=Object(i.useMemo)(()=>{const e=s.T.getItem("place_order_data",{});return{orderId:String(null==e?void 0:e.orderId),orderPaymentMethod:String(null==e?void 0:e.orderPaymentMethod),isTurboPaymentMethod:String(null==e?void 0:e.isTurboPaymentMethod)}},[]);return Object(s.Db)(()=>{(()=>{const e=Number(s.T.getItem("sdk_turbo_place_order_time"));return!!an(e)||((new Date).getTime()-e)/6e4>15})()&&(p.current=!0,Object(L.recordNREvent)(Object.assign({eventType:L.NEWRELIC_TABLES.TURBO_SCREEN_LOADER_STATE,turboPlaceOrderTime:String(s.T.getItem("sdk_turbo_place_order_time")),selectedTurboMethod:C},y)))}),Object(i.useEffect)(()=>{var e,o;if(t.current)return null!=d?(Object(L.recordNREvent)(Object.assign(Object.assign(Object.assign({eventType:L.NEWRELIC_TABLES.TURBO_SDK_LOADER_SCREEN_ERROR,turboPlaceOrderTime:String(s.T.getItem("sdk_turbo_place_order_time")),isPlaceOrderTimedout:String(p.current)},ef(d)&&{errorMessage:null!==(e=d.statusMessage)&&void 0!==e?e:"",statusCode:null!==(o=d.statusCode)&&void 0!==o?o:""}),y),{selectedTurboMethod:C})),a({type:L.CheckoutActionTypes.SHOW_PAYMENTS}),void m(L.CheckoutRoute.PAYMENTS,{},!0)):void(!Object(s.ub)(c)&&Object(s.ub)(null==_?void 0:_.current)&&!Object(s.ub)(r)&&n?(_.current=b(),Object(s.ub)(_.current)?(p.current&&Object(L.recordNREvent)(Object.assign(Object.assign({eventType:L.NEWRELIC_TABLES.TURBO_LOADER_DEBUG,subType:"pm_not_found",turboPlaceOrderTime:String(s.T.getItem("sdk_turbo_place_order_time"))},y),{selectedTurboMethod:C})),Object(s.Z)(new Error("Payment Method Not found for turbo: "+C)),a({type:L.CheckoutActionTypes.SHOW_PAYMENTS}),m(L.CheckoutRoute.PAYMENTS,{},!0)):(p.current&&Object(L.recordNREvent)(Object.assign(Object.assign({eventType:L.NEWRELIC_TABLES.TURBO_LOADER_DEBUG,subType:"pay_call_made",turboPlaceOrderTime:String(s.T.getItem("sdk_turbo_place_order_time"))},y),{selectedTurboMethod:C})),u(_.current,Object.assign(Object.assign({},r.extraParams),{place_order_source:ye.TURBOCHECKOUT}),Object.assign(Object.assign({},r.extraArbitaryData),{isFromTurboPlaceOrder:!0})))):p.current&&Object(L.recordNREvent)(Object.assign(Object.assign({eventType:L.NEWRELIC_TABLES.TURBO_LOADER_DEBUG,subType:"show_turbo_loader",turboPlaceOrderTime:String(s.T.getItem("sdk_turbo_place_order_time"))},y),{selectedTurboMethod:C,isPaymentResponseEmpty:String(Object(s.ub)(c)),isPMObjectNonEmpty:String(!Object(s.ub)(null==_?void 0:_.current)),isTurboPlaceOrderDataEmpty:String(Object(s.ub)(r)),isPlaceOrderHookMounted:String(n)})))},[y,b,t,n,m,u,c,C,a,r,d]),l.a.createElement("div",{className:"styles_container_XBsgQBsl"},l.a.createElement(AE,null))}));const vx=function(e){const{title:t,children:a}=e,n=l.a.createElement(IR,{title:t});return l.a.createElement(kR,{header:n,content:a})};var Tx=Object(i.memo)((function({data:e}){const t=Object(L.useNavigate)(),a=(null==e?void 0:e.payLaterCode)||"",{user:n}=Object(i.useContext)(L.UserContext),o=n.map(e=>e.mobile),{clickEvent:r,impressionEvent:c,screenViewEvent:d}=Object(i.useContext)(L.AnalyticsContext),u=Object(i.useRef)(!1),{payLaterMethodData:m}=(e=>{const{paymentResponse:t}=Object(i.useContext)(AR),a=Object(i.useMemo)(()=>{try{return Pv((null==t?void 0:t.paymentGroup)||[],e).unwrap()}catch(e){return}},[null==t?void 0:t.paymentGroup,e]);return Object(i.useMemo)(()=>({payLaterMethodData:a}),[a])})(a),[p,_]=Object(i.useState)(o.unwrap()),E=Object(i.useCallback)(e=>vn(this,void 0,void 0,(function*(){((e,t,a)=>{a({category:lT,action:"click-confirm-proceed",label:e,context:JSON.stringify({source:"payment"})})})(a,0,r),u.current=!0,t(L.CheckoutRoute.LINK_PAYLATER,{payLaterCode:a,mobileNumber:e,iconUrl:null==m?void 0:m.meta.iconUrl,paymentCode:null==m?void 0:m.paymentCode})})),[r,t,a,m]),C=Object(i.useMemo)(()=>jv(a),[a]),b=Object(i.useMemo)(()=>({isEditable:!0,registeredMobileNumber:o.unwrapOr("")}),[o]);return Object(s.Db)(()=>{((e,t,a,n)=>{n({category:lT,label:e,context:JSON.stringify({source:"payment",editable:!0}),action:"screen-view-link-paylater"})})(a,0,0,d),((e,t,a)=>{a({category:lT,action:"impression-confirm-proceed",label:e,context:JSON.stringify({source:"payment"})})})(a,0,c)}),l.a.createElement(vx,{title:C},l.a.createElement(yh,{onConfirmLinking:E,iconUrl:Object(s.nb)(null==m?void 0:m.meta.iconUrl)||"",displayName:be[a],editableState:b,mobileNumber:p,setMobileNumber:_}))}));function Ix(e){return l.a.createElement(s.L,Object.assign({},e,{container:Ax}),l.a.createElement(vD,{name:L.CheckoutRoute.PAYMENTS,indexElement:l.a.createElement(pk,{name:L.CheckoutRoute.PAYMENTS_INDEX})},l.a.createElement(hk,{name:L.CheckoutRoute.VERIFY_WALLET_LINK_OTP}),l.a.createElement(gk,{name:L.CheckoutRoute.LINK_WALLET_WITH_NUMBER}),l.a.createElement(vk,{name:L.CheckoutRoute.LINK_PAYLATER}),l.a.createElement(Tx,{name:L.CheckoutRoute.LINK_PAYLATER_MOBILE}),l.a.createElement(Pk,{name:L.CheckoutRoute.ADD_NEW_CARD}),l.a.createElement(wk,{name:L.CheckoutRoute.VERIFY_VPA}),l.a.createElement(Mk,{name:L.CheckoutRoute.MORE_BANKS}),l.a.createElement(jR,{name:L.CheckoutRoute.VPA_TIMER}),l.a.createElement(Wk,{name:L.CheckoutRoute.PAYMENT_TXN_STATUS_POLLING}),l.a.createElement(Bk,{name:L.CheckoutRoute.MORE_PAYMENT_GROUPS}),l.a.createElement(Hk,{name:L.CheckoutRoute.MORE_PAYMENT_METHODS}),l.a.createElement(aP,{name:L.CheckoutRoute.NATIVE_UPI_ACCOUNTS}),l.a.createElement(tx,{name:L.CheckoutRoute.ONE_CLICK_ENROLLMENT}),l.a.createElement(gx,{name:L.CheckoutRoute.AUTOPAY_ELIGIBLE_PAYMENT_FAILED}),l.a.createElement(Sk,{name:L.CheckoutRoute.PAYLATER_LINKING_CONFIRMATION}),l.a.createElement(fx,{name:L.CheckoutRoute.TURBO_PLACE_ORDER,key:L.CheckoutRoute.TURBO_PLACE_ORDER}),l.a.createElement(hx,{name:L.CheckoutRoute.PAYMENT_OFFERS})),l.a.createElement(qk,{name:L.CheckoutRoute.ADD_SWIGGY_MONEY,indexElement:l.a.createElement(ex,{name:L.CheckoutRoute.ADD_SWIGGY_MONEY_INDEX})},l.a.createElement(vD,{name:L.CheckoutRoute.SWIGGY_MONEY_PAYMENTS,indexElement:l.a.createElement(pk,{name:L.CheckoutRoute.SWIGGY_MONEY_PAYMENTS})},l.a.createElement(Pk,{name:L.CheckoutRoute.ADD_NEW_CARD}),l.a.createElement(Mk,{name:L.CheckoutRoute.MORE_BANKS}),l.a.createElement(Wk,{name:L.CheckoutRoute.PAYMENT_TXN_STATUS_POLLING}),l.a.createElement(Hk,{name:L.CheckoutRoute.MORE_PAYMENT_METHODS}))),l.a.createElement(gR,{name:L.CheckoutRoute.CONFIRM_ORDER}),l.a.createElement(hR,{name:L.CheckoutRoute.DIRECT_PLACE_ORDER}),l.a.createElement(Gk,{name:L.CheckoutRoute.REDIRECT_PAGE}))}const Sx=()=>{const e=Object(i.useContext)(L.ApiContext),t=Object(i.useContext)(L.PublicApiContext),{checkoutState:a}=Object(i.useContext)(L.CheckoutContext),{impressionEvent:n}=Object(i.useContext)(L.AnalyticsContext),{cacheGetAllCardsData:o}=Object(i.useContext)(L.ConfigContext),r=Object(i.useRef)(!1),l=Object(s.Gb)(),[c,d]=Object(L.useSessionStorage)("get_all_cards",null),[u,m]=Object(i.useState)({loading:!0}),p=e.host.unwrap(),_=null==o?void 0:o.unwrapOr(!0),E=Object(i.useCallback)(()=>{d(null),m({loading:!0})},[d]),C=Object(i.useMemo)(()=>Object(M.b)(t||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.CARDS_JUSPAY_APIS,L.CARD_API_KEYS.GET_ALL_CARDS),[t]);return Object(i.useEffect)(()=>{c&&u.loading?m({data:We({getAllCardsResponse:c.getAllCardsResponse}),loading:!1}):u.loading&&!r.current&&(r.current=!0,function(e,t){return vn(this,void 0,void 0,(function*(){return(t?cD:nD)(e).then(e=>{if(!e)throw new Error("Received empty data from get all cards");return We(e)}).catch(e=>Fe(e))}))}(p,C).then(e=>{if(r.current=!1,l.current){const t=e.map(e=>(_&&d({getAllCardsResponse:e}),{getAllCardsResponse:e}));m({loading:!1,data:t})}}).catch(e=>{r.current=!1,l.current&&(_&&d(null),m({loading:!1,data:Fe(e)}))}))},[u.loading,c,p,l,d,n,_,a.type,C]),[u,E]},Nx=l.a.createContext({loadingPaymentModes:!0,reloadPaymentModes:()=>{}}),Rx=l.a.createContext({createTransactionInProgress:!1,doCreateTxn:()=>{},processingTransaction:!1}),Px=e=>{const t=Object(s.Gb)(),a=Object(i.useContext)(L.ConfigContext),n=Object(i.useContext)(L.ApiContext),[o,r]=Object(i.useState)(!1),{checkoutState:l,setCheckoutState:c}=e,d=n.host.unwrap(),u=Object(i.useCallback)(()=>{r(!1)},[]);return Object(i.useEffect)(()=>{t.current&&!o&&l.type===L.CheckoutActionTypes.PROCESS_TRANSACTION&&r(!0)},[l.type,t,o]),Object(i.useEffect)(()=>{if(!t.current||!o||l.type!==L.CheckoutActionTypes.PROCESS_TRANSACTION)return;const{transaction:e,transactionReqData:a,useJuspaySDK:n}=l.payload;(function(e){return vn(this,void 0,void 0,(function*(){const{transaction:t,merchantInfo:a,transactionReqData:{cardDetails:n,extraParams:o,paymentMethod:r,isNonSecureCard:i,enableOneClickPay:l},useJuspaySDK:c}=e,d=_S(t),u=String(t.paymentMethod),m=((e,t)=>t?iS.VIES.toUpperCase():null==e?void 0:e.authTypeForCard)(t.juspayMeta,l);try{if("JUSPAY"===u.toUpperCase()){const l=r===Z;if(!c||PS())return SS(e,l?"NEW_CARD":"CARD",null!=i&&i);const u={extraParams:o,cardBinNumber:t.binNumber,orderAmount:String(2),method:n,juspayMeta:Object.assign(Object.assign({},t.juspayMeta),{authTypeForCard:m}),tokenize:!l||OS(n,o),merchantId:(null==a?void 0:a.merchantId)||"com.swiggy"};return o&&o.nickName&&(u.nickname=o.nickName),yield l?function(e,t){return Object(L.getBridgeSdk)().payUsingJuspayNewCard({callbackUrl:window.location.href,juspayParams:Object.assign({orderId:e,orderAmount:t.orderAmount,merchantId:t.merchantId||"com.swiggy",paymentMethodType:"CARD",returnUrl:window.location.href+".*",cardSecurityCode:Object(s.ub)(t.extraParams.cvv)?null:t.extraParams.cvv,saveToLocker:t.extraParams.saveCard,cardNumber:t.extraParams.cardNumber,cardExpMonth:t.extraParams.month,nameOnCard:t.extraParams.name,cardExpYear:t.extraParams.year,cardBin:t.cardBinNumber,nickname:t.nickname||"",tokenize:t.tokenize},t.juspayMeta)})}(d,u):function(e,t){var a,n;return Object(L.getBridgeSdk)().payUsingJuspaySavedCard({callbackUrl:window.location.href,juspayParams:Object.assign({orderId:e,orderAmount:t.orderAmount,merchantId:t.merchantId||"com.swiggy",redirectAfterPayment:!0,paymentMethodType:"CARD",paymentMethod:null!==(a=t.method.cardBrand)&&void 0!==a?a:"",returnUrl:window.location.href+".*",cardSecurityCode:Object(s.ub)(t.extraParams.cvv)?null:t.extraParams.cvv,cardToken:t.method.cardToken,cardBin:t.cardBinNumber,nickname:t.nickname||"",tokenize:t.tokenize,saveToLocker:!(null===(n=t.extraParams)||void 0===n?void 0:n.enableOneClickPay)||void 0},t.juspayMeta)})}(d,u),{orderId:d}}return{orderId:d}}catch(e){return{orderId:d}}}))})(l.payload).then(o=>vn(void 0,void 0,void 0,(function*(){if(!t.current)return;if(!o||!o.orderId)return void u();const{internalRedirect:i=!1,shouldRedirect:s=!1,redirectURI:d,orderId:m,redirectFn:p}=o;if(i||s&&d)return function(e,t){ZS.setItem("swgy_penny_txn_order_id",e),ZS.setItem("swgy_penny_txn_state_key",JSON.stringify(t.type)),ZS.setItem("swgy_penny_txn_state_payload",JSON.stringify(t.payload))}(m,l),c({type:L.CheckoutActionTypes.SHOW_FULL_PAGE_LOADER}),qA({title:"MAKE PAYMENT",backURL:`${location.protocol}//${location.host}/payment/transaction-received`,backAlert:_A}),s&&d&&(window.location.href=d),void(i&&p&&p());t.current&&c({type:L.CheckoutActionTypes.CONFIRM_TRANSACTION,payload:{orderId:m,transaction:e,transactionReqData:a,useJuspaySDK:n}}),r(!1)}))).catch(e=>{Object(s.Z)(e),t.current&&(QA(),ZA(),u())})},[o,l,t,c,u,d,a.paymentReturnUrl]),[o]};function Dx(e){const t=Object(i.useContext)(L.CheckoutContext),[a]=Px(t),[{createTransactionInProgress:n,transactionData:o},r]=(()=>{const e=Object(s.Gb)(),t=Object(i.useContext)(L.ApiContext),a=Object(i.useContext)(L.PublicApiContext),{paymentReturnUrl:n}=Object(i.useContext)(L.ConfigContext),{isSdkAvailable:o}=Object(i.useContext)(HR),r=Object(i.useRef)(!1),{setCheckoutState:l}=Object(i.useContext)(L.CheckoutContext),{getAllCardsResponse:c}=Object(i.useContext)(Nx),[d,u]=Object(i.useState)({createTransactionInProgress:!1}),m=Object(i.useMemo)(()=>Object(M.b)(a||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.PAYMENT_APIS,L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.CREATE_PENNY_TRANSACTION),[a])?RN:iN,p=Object(i.useCallback)(t=>{e.current&&!d.createTransactionInProgress&&u({createTransactionInProgress:!0,transactionData:t})},[e,d.createTransactionInProgress]),_=t.host.unwrap(),E=Object(i.useCallback)(t=>{const{transactionData:a}=d;e.current&&a&&l({type:L.CheckoutActionTypes.PROCESS_TRANSACTION,payload:{transactionReqData:a,transaction:t,useJuspaySDK:o,merchantInfo:null==c?void 0:c.merchantInfo,meta:null==c?void 0:c.meta.tokenizationMeta}})},[d,c,o,e,l]),C=Object(i.useCallback)(t=>{const{transactionData:a}=d;e.current&&a&&console.log(t)},[d,e]);return Object(i.useEffect)(()=>{if(!e.current||r.current||!d.createTransactionInProgress||!d.transactionData)return;r.current=!0;const t=d.transactionData,a=(({transactionData:e,isJuspaySdkAvailable:t})=>({transactionType:"PENNY_DROP",paymentMethod:"Juspay",cardBinNumber:pS(e),amount:2,isJuspayNative:t,oneClickDetails:{cardBrand:e.cardDetails.cardBrand||"",alias:e.cardDetails.cardFingerprint,oneClickEnrolled:!1,pretick:!0,oneClickConsent:(null==e?void 0:e.enableOneClickPay)||!1}}))({transactionData:t,isJuspaySdkAvailable:o});m(_,a).then(E).catch(C).catch(s.Z).then(()=>{e.current&&(r.current=!1,u({transactionData:t,createTransactionInProgress:!1}))})},[_,n,C,E,e,d.createTransactionInProgress,d.transactionData,o,m]),[d,p]})(),l=Object(i.useMemo)(()=>({createTransactionInProgress:n,processingTransaction:a,transactionData:o,doCreateTxn:r}),[n,a,r,o]);return Object(i.createElement)(Rx.Provider,{value:l},e.children)}const Lx=({children:e,getAllCardsResponse:t})=>{const{isSdkAvailable:a,featuresAvailability:n,clientAuthTokenData:o}=KP("CHECKOUT",t.merchantInfo.merchantId||"com.swiggy",!0),r={isSdkAvailable:RS(z.CARD,a,n),featuresAvailability:n,clientAuthTokenData:o};return l.a.createElement(HR.Provider,{value:r},l.a.createElement(Dx,null,e))},kx=Object(i.memo)((function(e){const[t,a]=Sx(),n=Object(i.useMemo)(()=>{var e,n;const{getAllCardsResponse:o=null}=null!==(n=null===(e=t.data)||void 0===e?void 0:e.map(e=>({getAllCardsResponse:e.getAllCardsResponse})).unwrapOr({}))&&void 0!==n?n:{};return{getAllCardsResponse:o,reloadPaymentModes:a,loadingPaymentModes:t.loading}},[t.data,t.loading,a]),o=cP(),r=Array.isArray(e.children)&&1===e.children.length?l.a.createElement(s.P,{forward:o},e.children[0]):e.children,{loadingPaymentModes:c,getAllCardsResponse:d}=n;return l.a.createElement(Nx.Provider,{value:n},c||null==d?r:l.a.createElement(Lx,{getAllCardsResponse:d},r))}));fR(".styles_container_rH8a6tVJ{background-color:#fff}");const xx=e=>{let t=window.location.href;switch(e){case sT:t+="?state="+dw.ADD_NEW_CARD;break;case cT:t+="?state="+dw.MANAGE_CARD}return t},wx=e=>{const t=VD(null!=e?e:gT),a=Object(i.useCallback)(a=>{t.oneClickEvents.onTermsAndServicesClickAction(),Object(L.getBridgeSdk)().webNavigate({url:a,openAsExternal:!0,showBack:!0,showLoader:!1,callbackUrl:xx(e),title:""})},[t.oneClickEvents,e]),n=Object(i.useCallback)(e=>vn(void 0,void 0,void 0,(function*(){return Object(L.getBridgeSdk)().oneClickCardDeEnroll(e,8e3)})),[]),o=Object(i.useCallback)(e=>vn(void 0,void 0,void 0,(function*(){return Object(L.getBridgeSdk)().deleteCard(e)})),[]);return Object.assign({onClickDeleteCardAction:o,onClickDisableOneClickPay:n,onClickOneClickTermsOfService:a},t)},Mx=Object(i.memo)((function(e){var t,a,n;const{getAllCardsResponse:o,loadingPaymentModes:r}=Object(i.useContext)(Nx),{screenViewEvent:c,clickEvent:d}=l.a.useContext(L.AnalyticsContext),u=Object(i.useContext)(L.PublicApiContext),{isSdkAvailable:m,featuresAvailability:p}=Object(i.useContext)(HR),_=Object(i.useMemo)(()=>RS($,m,p),[p,m]),[E,C]=Object(L.useSessionStorage)(uS,void 0),b=Object(i.useContext)(L.ApiContext),y=Object(i.useRef)(!1),g=b.host.unwrap(),[O,h]=Object(L.useSessionStorage)("card_details",rS),[A,f]=Object(i.useState)(!!s.T.getItem("skip_client_card_validation")),[v,T]=Object(i.useState)(!1),I=Object(L.useNavigate)(),{onSecureCardInfoClickAction:S,onSecureCardInfoView:N,onClickOneClickTermsOfService:R,onKnowMoreTokenizationClickAction:P,oneClickEvents:D}=wx(sT),{onProceedToPayClick:k}=VD(gT);Object(i.useEffect)(()=>{var e;!Object(s.ub)(O)&&null!=O.cardBrand&&_&&0!=O.userPartOfOneClick&&Object(L.getBridgeSdk)().getOneClickCardEligibility({action:iS.VIES,amount:"1",cardDetails:[{cardFingerPrint:"",cardBin:null!==(e=O.cardBin)&&void 0!==e?e:"",checkType:[iS.VIES]}]},2e3).catch(()=>{}).then(e=>{var t,a,n,o;null!=e&&T((null===(o=null===(n=null===(a=null===(t=null==e?void 0:e.cardEligiblityDetails)||void 0===t?void 0:t[0])||void 0===a?void 0:a.checkType)||void 0===n?void 0:n.vies)||void 0===o?void 0:o.eligibility)||!1)})},[O,_]);const x=Object(i.useMemo)(()=>Object(M.b)(u||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.CARDS_JUSPAY_APIS,L.CARD_API_KEYS.GET_CARD_DETAILS),[u]),w=Object(i.useCallback)(e=>{if(!y.current){if(e.length<9)return h(rS),void T(!1);y.current=!0,(x?dD:oD)(g,e).then(e=>{var t;if(y.current=!1,null==e)return;const a={cardBrand:e.cardBrand,cardIcon:{id:e.imageId||"",padding:1},url:e.fullImageUrl,tokenizeSupport:e.tokenizeSupport,cardBin:e.bin,disableForTenant:e.nonFoodDisabled||!1,disableForTenantReason:e.nonFoodDisabledReason||null,userPartOfOneClick:e.userPartOfOneClick||!1,enabled:null===(t=e.enabled)||void 0===t||t,disableReason:e.disableReason||null};h(a);const n=!0===e.skipClientCardValidation;f(n),s.T.setItem("skip_client_card_validation",n)}).catch(()=>{h(rS),T(!1),y.current=!1})}},[g,x]),j=Object(i.useCallback)(e=>{var t;sI(gT,d),C(e),(()=>{try{const e=s.T.getItem("headers"),t=s.B.getItem("auth_headers");null!=e&&null!=e["card-fingerprint"]&&(delete e["card-fingerprint"],s.T.setItem("headers",e)),null!=t&&null!=t["card-fingerprint"]&&(delete t["card-fingerprint"],s.B.setItem("auth_headers",t)),L.GlobalHeaderState.removeHeader(L.SwgyHeaderKeysList.cardFingerprint)}catch(e){console.log("unable to remove card fingerprint")}})();const a=(n=e,!("SODEXO"===(null==(o=O.cardBrand)?void 0:o.toUpperCase())||n.tokenizeSupport&&n.saveCard));var n,o;const r=null!==(t=e.oneClickCard)&&void 0!==t&&t;I(L.CheckoutRoute.SECURE_CARD,{newCardDetails:e,paymentMethod:Z,isNonSecureCard:a,enableOneClickPay:r})},[d,O.cardBrand,I]);if(Object(s.Db)(()=>{Object(L.getBridgeSdk)().setScreenCaptureState({screenCapturingDisabled:!0}).catch(()=>{}),((e,t)=>{t({category:"payment-modes",action:"impression-add-new-card"})})(0,c),Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.PAYMENT_MODES_ADD_NEW_CARD})}),r)return l.a.createElement(bk,{title:RR},l.a.createElement(mE,null));if(null==o){const e=If(dw.ADD_NEW_CARD);return l.a.createElement(bk,{title:RR},l.a.createElement(s.u,{action:e}))}return l.a.createElement(bk,{title:RR,containerClassName:"styles_container_rH8a6tVJ"},l.a.createElement(oy,{options:Zf,onProceed:j,juspayTokenizationMeta:o.meta.tokenizationMeta,addCardDetails:E,onSecureCardInfoView:N,onSecureCardInfoClickAction:S,onKnowMoreTokenizationClickAction:P,onCardNumberChange:w,cardBrandDetails:O,oneClickEligible:v,oneClickMeta:null===(t=o.meta)||void 0===t?void 0:t.oneClickMeta,onClickOneClickTermsOfService:R,oneClickEvents:D,skipClientCardValidation:A,onProceedToPayClick:k,isOfferEnabled:(null===(a=e.data)||void 0===a?void 0:a.isOfferEnabled)||"",imageId:(null===(n=e.data)||void 0===n?void 0:n.imageId)||""}))}));var jx;!function(e){e.ALERT="alert",e.CONFIRM="confirm"}(jx||(jx={}));const Bx=Object(i.memo)((function(e){const{screenViewEvent:t}=Object(i.useContext)(L.AnalyticsContext),a={text:"Dismiss",onClick:e.onClose};return Object(s.Db)(()=>{(e=>{e({category:gT,action:"card-delete-success-halfcard"})})(t)}),l.a.createElement(ch,{title:"Your {{cardBrand}} card was deleted!",message:"",iconUrl:"PaymentLogos/paymentIcons/tick",primaryAction:a,hideOnOverlayClick:!1,onClose:e.onClose,cardBrand:e.cardBrand})})),Ux=Object(i.memo)((function(e){const{screenViewEvent:t}=Object(i.useContext)(L.AnalyticsContext),a={text:"Yes, delete card",onClick:e.onDeleteCardClick},n={text:"Cancel",onClick:e.onClose};return Object(s.Db)(()=>{(e=>{e({category:gT,action:"delete-saved-cards-halfcard"})})(t)}),l.a.createElement(lh,{title:"Are you sure you want to delete this card?",message:"Card details will no longer be securely saved. You’ll have to enter card details again to pay with this card.",primaryAction:a,secondaryAction:n,hideOnOverlayClick:!1,onClose:e.onClose})})),Hx=Object(i.memo)((function(e){const{cardDetails:t,resetDeleteCardAlert:a}=e,{clickEvent:n}=l.a.useContext(L.AnalyticsContext),o=Object(i.useContext)(L.ApiContext),r=Object(i.useRef)(!1),s=o.host.unwrap(),c=Object(i.useContext)(L.PublicApiContext),[d,u]=Object(i.useState)(!0),[m,p]=Object(i.useState)(!1),_=Object(i.useCallback)(()=>{(e=>{e({category:gT,action:"click-delete-card-cancel"})})(n),u(!1),p(!1),a()},[a,n]),E=Object(i.useCallback)(()=>{(e=>{e({category:gT,action:"dismiss-card-delete-success-halfcard"})})(n),p(!1),a(),Object(L.closeWebview)()},[a,n]),C=Object(i.useMemo)(()=>Object(M.b)(c||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.CARDS_JUSPAY_APIS,L.CARD_API_KEYS.DELETE_CARD),[c])?mD:iD,b=Object(i.useCallback)(()=>vn(this,void 0,void 0,(function*(){const e=yield C(s,t.cardReference);if(0!==e.statusCode)throw e;r.current=!1,p(!0)})),[s,t.cardReference,C]),y=Object(i.useCallback)(()=>vn(this,void 0,void 0,(function*(){if(!r.current){u(!1),r.current=!0;try{yield b()}catch(e){r.current=!1,a(),ZA({message:uA+". Please try again"})}}})),[b,a]);return d?l.a.createElement(Ux,{onClose:_,onDeleteCardClick:y}):m?l.a.createElement(Bx,{cardBrand:t.cardBrand,onClose:E}):!0===r.current?l.a.createElement(Gp,null):null}));fR(".styles_iconContainer_kG-lXeSU{display:flex;align-items:center;justify-content:center}.styles_container_gBJQceAb{background-color:#fff;padding:16px}.styles_icon_GEd5GKBb{padding:25px}");const Gx=(e,t)=>{if(!e||Object(s.ub)(t))return null;return t.find(t=>t.cardFingerprint===e)||null},Yx="Card Details Updated",Wx="Your card detail has been updated successfully.",Fx="Couldn't Update Card Detail",Vx="Sorry we are unable to update your card details at the moment.Please try again later.",Kx="DISMISS";var zx,$x;!function(e){e.DELETE="DELETE",e.DE_ENROLL="DE_ENROLL"}(zx||(zx={})),function(e){e.VIES_DISENROLL="VIES_DISENROLL",e.VIES_DELETE_CARD="VIES_DELETE_CARD"}($x||($x={}));const Xx=(e,t,a)=>({action:a===zx.DE_ENROLL?$x.VIES_DISENROLL:$x.VIES_DELETE_CARD,cardDetail:{cardBin:e.cardIsin,cardFingerPrint:e.cardFingerprint,maskedCardNumber:e.cardNumber},juspayClientAuthToken:t.clientAuthToken}),Jx=Object(i.memo)((function(e){const{onClickSave:t,cardDetails:a,juspayTokenizationMeta:n,userConsent:o,isCardElegibleForOneClickPay:r,cardDetailUpdation:c,resetCardUpdationDetail:d,oneClickMeta:u,userPartOfOneClick:m}=e,[p,_]=Object(i.useState)(!1),[E,C]=Object(i.useState)({isCardDeEnrolled:!1,isDeEnrollInProgress:!1,didCatchError:!1}),{clickEvent:b,screenViewEvent:y}=l.a.useContext(L.AnalyticsContext),{isSdkAvailable:g,clientAuthTokenData:O}=Object(i.useContext)(HR),{onClickDisableOneClickPay:h,onClickDeleteCardAction:A,onClickOneClickTermsOfService:f,onKnowMoreTokenizationClickAction:v,oneClickEvents:T}=wx(cT),I=Object(i.useCallback)(()=>{_(!0),(e=>{e({category:gT,action:"delete-saved-cards"})})(b)},[b]),S=Object(i.useCallback)(()=>vn(this,void 0,void 0,(function*(){if(g&&O){const e=Xx(a,O,zx.DELETE);return A(e)}})),[a,O,g,A]),N=Object(i.useCallback)(()=>{_(!1)},[]),R=Object(i.useCallback)(()=>{if(g&&O){const e=Xx(a,O,zx.DE_ENROLL);if(!e)return;C(Object.assign(Object.assign({},E),{didCatchError:!1,isDeEnrollInProgress:!0,isCardDeEnrolled:!1})),h(e).then(e=>{C(Object.assign(Object.assign({},E),{isDeEnrollInProgress:!1,isCardDeEnrolled:null==e?void 0:e.isDeEnrolled,didCatchError:!(null==e?void 0:e.isDeEnrolled)}))}).catch(()=>{C(Object.assign(Object.assign({},E),{didCatchError:!0,isDeEnrollInProgress:!1,isCardDeEnrolled:!1}))})}},[a,O,g,h,E]),P=Object(i.useMemo)(()=>l.a.createElement("div",{className:"styles_iconContainer_kG-lXeSU"},l.a.createElement("div",{className:"styles_icon_GEd5GKBb",onClick:I},l.a.createElement(s.j,null))),[I]);Object(s.Db)(()=>{Object(L.getBridgeSdk)().setScreenCaptureState({screenCapturingDisabled:!0}).catch(()=>{}),(e=>{e({category:gT,action:"manage-card-screen"})})(y),Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.PAYMENT_MODES_MANAGE_CARD})});const D=Object(i.useCallback)(()=>{C({isDeEnrollInProgress:!1,didCatchError:!1,isCardDeEnrolled:!1})},[]);return l.a.createElement(bk,{title:PR,headerExtraContent:P,containerClassName:"styles_container_gBJQceAb"},l.a.createElement(ZO,{cardDetails:a,onClickSave:t,juspayTokenizationMeta:n,oneClickMeta:u,userConsent:o,onClickDisableOneClickPay:R,deEnrollState:E,isCardEligibleForOneClickPay:r,resetDeEnrollState:D,onClickOneClickTermsOfService:f,isSDKAvailable:!!g,userPartOfOneClick:m,oneClickEvents:T,onKnowMoreTokenizationClickAction:v}),p&&l.a.createElement(Hx,{resetDeleteCardAlert:N,cardDetails:a,onClickDeleteAction:S}),c.isUpdateInProgress&&l.a.createElement(Gp,null),c.showPrompt&&l.a.createElement(Yb,{title:c.success?Yx:Fx,message:c.success?Wx:Vx,icon:c.success?"PaymentLogos/paymentIcons/tick":"PaymentLogos/paymentIcons/error",hideOnOverlayClick:!0,onClose:d,primaryAction:{text:Kx,onClick:d}}))})),Zx=Object(i.memo)((function(e){const t=Object(L.useNavigate)(),{getAllCardsResponse:a,loadingPaymentModes:n}=Object(i.useContext)(Nx),{clickEvent:o}=Object(i.useContext)(L.AnalyticsContext),{isSdkAvailable:r}=Object(i.useContext)(HR),c=Object(i.useContext)(L.ApiContext).host.unwrap(),d=Object(i.useContext)(L.PublicApiContext),u=Object(i.useMemo)(()=>Object(M.b)(d||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.CARDS_JUSPAY_APIS,L.CARD_API_KEYS.UPDATE_CARD),[d]),[m,p]=Object(L.useSessionStorage)(mS,void 0),[_,E]=Object(i.useState)({isUpdateInProgress:!1,showPrompt:!1,success:!1,message:""}),C=Object(i.useCallback)(()=>{E({showPrompt:!1,success:!1,message:"",isUpdateInProgress:!1})},[]),b=Object(i.useMemo)(()=>{if(n)return;if(null!=m)return m.cardDetails;const e=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.cardFingerprint),t=(null==a?void 0:a.cards)||[];return Gx(e,t)},[a,n,m]),y=Object(i.useMemo)(()=>!(!((null==a?void 0:a.userPartOfOneClick)&&r&&b&&b.isSecured&&b.oneClickEligible)||b.oneClickEnrolled),[b,a,r]),g=Object(i.useCallback)(e=>{b&&(u?pD:lD)(c,{cardRef:b.cardReference,customerId:L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.userId),nickName:e,nameOnCard:b.nameOnCard}).then(e=>{0===e.statusCode?E({showPrompt:!0,message:e.statusMessage,success:!0,isUpdateInProgress:!1}):E({showPrompt:!0,message:e.statusMessage,success:!1,isUpdateInProgress:!1})}).catch(()=>{E({showPrompt:!0,message:uA,success:!1,isUpdateInProgress:!1})})},[c,b,u]),O=Object(i.useCallback)((e,a)=>a&&b&&!b.isSecured&&b.tokenizeSupport?((e=>{e({category:gT,action:"click-save-changes-and-secure"})})(o),p({cardDetails:Object.assign(Object.assign({},b),{nickname:e}),userConsent:a}),void t(L.CheckoutRoute.SECURE_CARD,{savedCardDetails:{nickName:e},paymentMethod:z.CARD})):y&&b&&a?(p({cardDetails:Object.assign(Object.assign({},b),{nickname:e}),userConsent:a}),void t(L.CheckoutRoute.SECURE_CARD,{savedCardDetails:{nickName:e},paymentMethod:z.CARD,enableOneClickPay:y})):((e=>{e({category:gT,action:"click-save-changes"})})(o),void(b&&(E(Object.assign(Object.assign({},_),{isUpdateInProgress:!0})),g(e)))),[_,b,o,g,y,t]);if(n)return l.a.createElement(bk,{title:PR},l.a.createElement(mE,null));if(!a||!b){const e=If(dw.MANAGE_CARD);return l.a.createElement(bk,{title:PR},l.a.createElement(s.u,{action:e}))}return l.a.createElement(Jx,{onClickSave:O,cardDetails:b,juspayTokenizationMeta:a.meta.tokenizationMeta,userConsent:null==m?void 0:m.userConsent,isCardElegibleForOneClickPay:y,cardDetailUpdation:_,resetCardUpdationDetail:C,oneClickMeta:a.meta.oneClickMeta,userPartOfOneClick:null==a?void 0:a.userPartOfOneClick})}));fR(".SecureCard_container_UylnYU-3{background:#fff;padding:0 16px}.SecureCard_header_byTWZ227{box-shadow:none;border-bottom:none}");const qx={failureTitle:"Looks like the payment didn’t go through!",failureMessage:"Any amount deducted will be refunded within 2-4 days. How would you like to proceed?",failureIcon:pA,paymentMethods:[{name:dv,displayName:"Try Again",paymentCode:dv},{name:mv,displayName:"Dismiss",paymentCode:mv}]};var Qx=Object(i.memo)((function(e){const{checkoutState:t,setCheckoutState:a}=Object(i.useContext)(L.CheckoutContext),{transactionReqData:n}=e.payload,o=qx,{failureMessage:r,failureTitle:c,failureIcon:d,paymentMethods:u}=o,m=Object(s.hb)("Payment of ₹{0}",e.amountToPay),{payAction:p}=e,_=Object(i.useCallback)(()=>{a({type:L.CheckoutActionTypes.SECURE_CARD})},[a]),E=Object(i.useMemo)(()=>(({fallbackMethods:e,payAction:t,setCheckoutState:a,transactionReqData:n})=>e.reduce((e,o)=>{switch(zT(o.paymentCode)){case dv:e.push({text:o.displayName,onClick:()=>{t(n.cardDetails,n.paymentMethod,n.extraParams)}});break;case mv:e.push({text:o.displayName,onClick:()=>{a({type:L.CheckoutActionTypes.SECURE_CARD})}})}return e},[]))({payAction:p,transactionReqData:n,setCheckoutState:a,fallbackMethods:u}),[p,u,n,a]);return t.type!==L.CheckoutActionTypes.TRANSACTION_FAILED?null:l.a.createElement(Yb,{icon:d,title:c,message:r,info:m,primaryAction:E[0],secondaryAction:E[1],hideOnOverlayClick:!0,onClose:_})}));const ew=Object(i.memo)((function(e){const{createTransactionInProgress:t,processingTransaction:a}=Object(i.useContext)(Rx),{checkoutState:n}=Object(i.useContext)(L.CheckoutContext),{screenViewEvent:o,clickEvent:r}=Object(i.useContext)(L.AnalyticsContext),c=(()=>{const e=Object(s.Gb)(),{processingTransaction:t,doCreateTxn:a}=Object(i.useContext)(Rx);return Object(i.useCallback)(({cardDetails:n,paymentMethod:o,isNonSecureCard:r,extraParams:i,enableOneClickPay:l})=>{if(!e.current||t)return;const s=Object.assign({transaction_amount:2},Be(i).unwrapOr({}));a({cardDetails:n,paymentMethod:o,extraParams:s,isNonSecureCard:r,enableOneClickPay:l})},[e,t,a])})(),{renderingDetails:d,cardDetails:u,defaultCvv:m,data:p={}}=e,{isNonSecureCard:_=!1,paymentMethod:E,savedCardDetails:C,enableOneClickPay:b=!1}=p,y=Object(i.useCallback)((e,t)=>{(e=>{e({category:gT,action:"click-pay-penny-drop-and-secure"})})(r);const a=null==C?void 0:C.nickName,{cardDetails:n,additionalParams:o}=((e,t,a)=>{let n,o;return ES(e)?(n=(e=>{var t;return{cardBrand:e.brand,cardExpMonth:e.month,cardExpYear:e.year,cardFingerprint:"",cardIsin:cS(String(e.cardNumber)),cardIssuer:"",cardNumber:e.cardNumber,cardReference:"",cardToken:"",cardType:"",fullImageUrl:"",iconUrl:(null===(t=e.cardIcon)||void 0===t?void 0:t.id)||"",isFoodCard:!1,isSecured:!1,nameOnCard:e.name,nickname:e.nickName,tokenizeSupport:e.tokenizeSupport||!1,oneClickEligible:!1,oneClickEnrolled:!1}})(e),o=Object.assign(Object.assign({},e),t)):(n=e,o=t,a&&(o.nickName=a)),{additionalParams:o,cardDetails:n}})(e,t,a);c({cardDetails:n,paymentMethod:E||$,extraParams:o,isNonSecureCard:_,enableOneClickPay:b})},[r,_,c,E,C,b]),g=Object(i.useCallback)((e,t,a)=>{c({cardDetails:e,paymentMethod:t,extraParams:a,isNonSecureCard:_,enableOneClickPay:b})},[_,c,b]);return Object(s.Db)(()=>{((e,t)=>{t({category:gT,action:"penny-drop-screen",context:e})})(d.cardBrand,o),Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.PAYMENT_MODES_SECURE_CARD})}),l.a.createElement(bk,{title:"",headerClassName:"SecureCard_header_byTWZ227",containerClassName:"SecureCard_container_UylnYU-3"},l.a.createElement($O,{renderingDetails:d,cardDetails:u,onPay:y,defaultCvv:m,isNonSecureCard:_,enableOneClickPay:b}),(t||a)&&l.a.createElement(DE,null),n.type===L.CheckoutActionTypes.TRANSACTION_FAILED&&l.a.createElement(Qx,{payAction:g,amountToPay:String(2),payload:n.payload}))})),tw=Object(i.memo)((function(e){var t,a;const{data:n}=e,{getAllCardsResponse:o,loadingPaymentModes:r}=Object(i.useContext)(Nx),c=Object(i.useCallback)(()=>{var t,a,i;if(r)return{cardDetails:null,renderingDetails:null};if(((null===(t=e.data)||void 0===t?void 0:t.paymentMethod)||$)===Z)return n&&n.newCardDetails?{cardDetails:n.newCardDetails,renderingDetails:{cardBrand:n.newCardDetails.brand,cardNumber:null===(a=null==n?void 0:n.newCardDetails)||void 0===a?void 0:a.cardNumber,iconUrl:(null===(i=null==n?void 0:n.newCardDetails.cardIcon)||void 0===i?void 0:i.id)||""}}:{cardDetails:null,renderingDetails:null};{const e=L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.cardFingerprint),t=(null==o?void 0:o.cards)||[],a=Gx(e,t);return null==a?{cardDetails:null,renderingDetails:null}:{cardDetails:a,renderingDetails:{cardBrand:a.cardBrand,cardNumber:a.cardNumber,iconUrl:a.iconUrl}}}},[o,r,e.data,n]);if(r)return l.a.createElement(bk,{title:""},l.a.createElement(mE,null));const{cardDetails:d,renderingDetails:u}=c();if(!o||!d||!u){const e=If(dw.SECURE_CARD);return l.a.createElement(bk,{title:""},l.a.createElement(s.u,{action:e}))}return l.a.createElement(ew,{cardDetails:d,data:n,renderingDetails:u,defaultCvv:null===(a=null===(t=e.data)||void 0===t?void 0:t.newCardDetails)||void 0===a?void 0:a.cvv})}));function aw(e){const{checkoutState:t,setCheckoutState:a}=Object(i.useContext)(L.CheckoutContext);return Object(s.Db)(()=>{Object(L.getBridgeSdk)().setScreenCaptureState({screenCapturingDisabled:!1}).catch(()=>{})}),Object(i.useEffect)(()=>{if(t.type===L.CheckoutActionTypes.CONFIRM_TRANSACTION)return;const e=function(){const e=ZS.getItem("swgy_penny_txn_order_id"),t=ZS.getItem("swgy_penny_txn_state_key"),a=ZS.getItem("swgy_penny_txn_state_payload");if(null==e||null==a||null==t)return null;try{return{orderId:e,state:JSON.parse(a),type:JSON.parse(t)}}catch(e){return null}}();e?(a({type:L.CheckoutActionTypes.CONFIRM_TRANSACTION,payload:{transaction:e.state.transaction,transactionReqData:e.state.transactionReqData,orderId:e.orderId}}),eN()):a({type:L.CheckoutActionTypes.SECURE_CARD})},[]),t.type!==L.CheckoutActionTypes.CONFIRM_TRANSACTION?null:l.a.createElement(nw,{orderId:t.payload.orderId,transactionData:t.payload.transaction,transactionReqData:t.payload.transactionReqData})}const nw=Object(i.memo)((function(e){const{screenViewEvent:t}=Object(i.useContext)(L.AnalyticsContext),[a]=(e=>{const t=Object(s.Gb)(),a=Object(i.useRef)(!1),n=Object(i.useRef)(0),o=Object(i.useContext)(L.ApiContext),r=Object(i.useContext)(L.PublicApiContext),{checkoutState:l,setCheckoutState:c}=Object(i.useContext)(L.CheckoutContext),[d,u]=Object(i.useState)(!1),m=Object(L.useNavigate)(),p=Object(L.useOnBack)(),_=Object(i.useMemo)(()=>Object(M.b)(r||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.PAYMENT_APIS,L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.CONFIRM_PENNY_TRANSACTION),[r]),E=Object(i.useRef)(),C=Object(i.useCallback)(e=>n.current<3&&null!=e&&e.retryCount>0,[n]),b=Object(i.useCallback)(e=>{if(l.type!==L.CheckoutActionTypes.CONFIRM_TRANSACTION||!t.current)return;const a=function(e){const{statusCode:t,data:a}=e;if(0!==t||null==a||"failed"===a.paymentTxnStatus)throw e;return a}(e);c({type:L.CheckoutActionTypes.CONFIRM_TRANSACTION,payload:{orderId:l.payload.orderId,transaction:a,transactionReqData:l.payload.transactionReqData,useJuspaySDK:l.payload.useJuspaySDK}}),u(!0)},[l.type,l.payload,t,c]),y=_?PN:lN,g=Object(i.useCallback)(()=>vn(void 0,void 0,void 0,(function*(){if(!t.current||l.type!==L.CheckoutActionTypes.CONFIRM_TRANSACTION)return Promise.resolve();try{const e=yield y(o.host.unwrap(),{order_id:l.payload.orderId});return b(e),Promise.resolve()}catch(e){return null!=e&&C(e.data)?(n.current+=1,Promise.reject()):(E.current=e,Promise.resolve())}})),[t,l.type,l.payload,o.host,b,C,y]),O=Object(i.useCallback)(()=>{if(!t.current||!E.current||l.type!==L.CheckoutActionTypes.CONFIRM_TRANSACTION)return;const{transaction:e,transactionReqData:a,useJuspaySDK:n}=l.payload;Object(L.getBridgeSdk)().transactionFailedEvent({}).catch(()=>{}),eN(),c({type:L.CheckoutActionTypes.TRANSACTION_FAILED,payload:{transaction:e,transactionReqData:a,useJuspaySDK:n}});const o=(e=>{let t={};if(e.paymentMethod===Z)t={newCardDetails:s.T.getItem(uS),paymentMethod:Z,enableOneClickPay:!!(null==e?void 0:e.enableOneClickPay)};else{const a=s.T.getItem(mS);null!=a&&(t={savedCardDetails:{nickName:a.nickname},paymentMethod:$,enableOneClickPay:(null==e?void 0:e.enableOneClickPay)||!1})}return t})(l.payload.transactionReqData);n?p():m(L.CheckoutRoute.SECURE_CARD,o,!0)},[l.payload,l.type,p,t,m,c]),h=KA(O),A=Object(i.useCallback)(e=>{h(e)},[h]);return Object(i.useEffect)(()=>{if(a.current||!t.current||l.type!==L.CheckoutActionTypes.CONFIRM_TRANSACTION)return;Ef()&&Object(L.getBridgeSdk)().setAppStateInIdleMode({active:!1}).catch(()=>{}),a.current=!0;let n=Promise.resolve(!1);const o=iR.getInstance(),r=l.payload.orderId;if(o&&o.getOrderId()==r){const e=o.getConfirmOrderPromise();null==e?o.stop():n=e.then(e=>{try{return b(e),!0}catch(e){return!1}}).catch(e=>!1).then(e=>(null==o||o.stop(),e))}n.then(a=>{a||d||!t.current||A({pollingDurationInMs:e.pollingDurationInMs,pollingIntervalInMs:e.pollingIntervalInMs,apiFn:g})})},[a,l,t,u,d,e.pollingDurationInMs,e.pollingIntervalInMs,g,A,b]),[d]})({pollingDurationInMs:1e4,pollingIntervalInMs:1e3}),n=a?iy.SUCCESS:iy.LOADING,[o,r]=Object(i.useState)(n),c=Object(i.useCallback)(()=>{(e=>{e({category:gT,action:"card-secured-success"})})(t),Object(L.getBridgeSdk)().close().catch(()=>{})},[t]),d=Object(i.useMemo)(()=>{var t,a;return null!==(a=null===(t=e.transactionReqData)||void 0===t?void 0:t.isNonSecureCard)&&void 0!==a&&a},[e.transactionReqData]),u=Object(i.useMemo)(()=>{var t;return((e,t,a)=>e?{mainText:"Hold On!",subText:"We are verifying your payment status."}:a?{mainText:"Single Click Payments enabled!",subText:"You can now make secure payments in a single click. Keep Swiggying!"}:{mainText:t?"Card saved successfully!":"Card was secured successfully!"})(o===iy.LOADING,d,(null===(t=e.transactionReqData)||void 0===t?void 0:t.enableOneClickPay)&&!ES(e.transactionReqData.cardDetails))},[d,e.transactionReqData,o]),m=Object(i.useMemo)(()=>{var t;return(null===(t=e.transactionReqData)||void 0===t?void 0:t.enableOneClickPay)&&!ES(e.transactionReqData.cardDetails)},[e.transactionReqData]),p=Object(i.useMemo)(()=>{var t;if(e.transactionReqData&&(null===(t=e.transactionReqData)||void 0===t?void 0:t.enableOneClickPay))return"100% Secure Card Transactions"},[e.transactionReqData]),_=Object(i.useMemo)(()=>{var t;return(null===(t=e.transactionReqData)||void 0===t?void 0:t.enableOneClickPay)&&!ES(e.transactionReqData.cardDetails)?ly.VIOLET:ly.GREEN},[e.transactionReqData]);return Object(i.useEffect)(()=>{o!=iy.SUCCESS&&a&&(r(iy.SUCCESS),Object(L.getBridgeSdk)().transactionConfirmedEvent({}).catch(()=>{}))},[a,o]),l.a.createElement(Tg,{tickState:o,mainText:u.mainText,subText:u.subText,postSuccessCb:c,accent:_,showFlashIconScreen:m,bottomSuccessSubMessage:p})}));function ow(e){const{checkoutState:t}=Object(i.useContext)(L.CheckoutContext),a=Object(L.useNavigate)(),{route:n}=Object(i.useContext)(s.K),{setState:o}=Object(i.useContext)(L.HardwareBackContext),r=t.type,l=Object(i.useCallback)(e=>{var t;if((null==n?void 0:n.name)===L.CheckoutRoute.PAYMENT_MODES_LINK_WALLET_WITH_NUMBER)Object(L.closeWebview)();else{if((null==n?void 0:n.name)===L.CheckoutRoute.PAYMENT_MODES_VERIFY_WALLET_LINK_OTP&&(null===(t=null==n?void 0:n.data)||void 0===t?void 0:t.stopNavigation))return void history.pushState({name:null==n?void 0:n.name,data:null==n?void 0:n.data},"","");if((null==n?void 0:n.name)===L.CheckoutRoute.WALLET_DETAILS)return history.pushState({name:L.CheckoutRoute.WALLET_DETAILS,data:null==n?void 0:n.data},"",""),void o({shouldHandle:!0,activeRoute:null==n?void 0:n.name})}e.state&&e.state.name&&a(e.state.name,e.state.data)},[a,n,o]);return Object(i.useEffect)(()=>(window.addEventListener("popstate",l),()=>{window.removeEventListener("popstate",l)}),[l]),Object(i.useEffect)(()=>{r===L.CheckoutActionTypes.CONFIRM_TRANSACTION&&(null==n?void 0:n.name)!==L.CheckoutRoute.CONFIRM_TRANSACTION&&a(L.CheckoutRoute.CONFIRM_TRANSACTION),r===L.CheckoutActionTypes.SHOW_FULL_PAGE_LOADER&&(null==n?void 0:n.name)!==L.CheckoutRoute.REDIRECT_PAGE&&a(L.CheckoutRoute.REDIRECT_PAGE)},[r,a,n]),e.children}var rw;fR(".styles_container_Q8AsPw56{background-color:#fff}.styles_containerBackButton_Fz8hK7zE{padding:16px 19px 16px 16px}.styles_loadingScreen_wC-0u8Pq{height:100%}"),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILURE=1]="FAILURE",e[e.LOADING=2]="LOADING",e[e.NONE=3]="NONE"}(rw||(rw={}));var iw=Object(i.memo)((function(e){const{data:t}=e,a=null==t?void 0:t.walletCode,n=null==t?void 0:t.fromWalletPage,{isLoading:o,retry:r,walletDetails:c}=(e=>{const[t,a]=Object(i.useState)(!0),n=Object(s.Gb)(),[o,r]=Object(i.useState)(void 0);Object(i.useEffect)(()=>{t&&Object(L.getBridgeSdk)().getLinkedWalletDetails({walletCode:e}).then(t=>{n.current&&(t&&r(Object.assign(Object.assign({},t),{walletCode:e})),a(!1))}).catch(()=>{n.current&&a(!1)})},[t,n,e]);const l=Object(i.useCallback)(()=>{n.current&&a(!0)},[n]);return{isLoading:t,retry:l,walletDetails:o}})(a),{delinkUserWallet:d,isDelinkSuccess:u,isDelinkInProgress:m,isDelinkFailure:p,resetDelinkState:_}=(()=>{const e=Object(i.useContext)(L.ApiContext).host.unwrap(),t=Object(s.Gb)(),a=Object(i.useContext)(L.PublicApiContext),[n,o]=Object(i.useState)(rw.NONE),r=Object(i.useCallback)(()=>o(rw.NONE),[]),l=Object(i.useCallback)(()=>{Object(L.getBridgeSdk)().delinkAmazonPay().then(e=>{t.current&&((null==e?void 0:e.status)===w.a.SUCCESS?o(rw.SUCCESS):o(rw.FAILURE))}).catch(()=>{t.current&&o(rw.FAILURE)})},[t]),c=Object(i.useCallback)(r=>vn(void 0,void 0,void 0,(function*(){if(n!==rw.LOADING&&t.current){o(rw.LOADING);try{const t=Object(M.b)(a||{},L.CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS.WALLET_APIS,r.toLowerCase())?MP:RP;r===G.amazonpay?l():(yield t(e,r),o(rw.SUCCESS))}catch(e){Object(s.Z)(e),o(rw.FAILURE)}}})),[e,l,n,t,a]);return{isDelinkInProgress:n===rw.LOADING,isDelinkSuccess:n===rw.SUCCESS,isDelinkFailure:n===rw.FAILURE,delinkUserWallet:c,resetDelinkState:r}})(),E=Object(i.useMemo)(()=>({onClick:r}),[r]),[C,b]=DD(),y=Object(i.useCallback)(e=>{c&&b({amount:String(e),walletCode:a,mobile:c.mobileNumber,isPaymentModeFlow:!0})},[b,a,c]),g=Object(i.useMemo)(()=>!1!==(null==c?void 0:c.addMoneyAllowed)&&(e=>![G.amazonpay,G.phonepe,G.paytmpostpaid,G.paytm].includes(e))(a),[a,c]),O=Object(i.useMemo)(()=>(e=>![G.simpl,G.paytmpostpaid].includes(e))(a),[a]),h=Object(i.useCallback)(()=>{d(a)},[d,a]),A=Object(i.useCallback)(()=>{c&&Object(L.getBridgeSdk)().walletDelinked({walletCode:a,mobileNumber:c.mobileNumber,walletCodes:rI(a)}).catch(()=>{})},[a,c]),f=Object(i.useCallback)(()=>{p&&_()},[p,_]),v=Object(i.useMemo)(()=>(e=>zf[e]+" Account")(a),[a]);Object(i.useMemo)(()=>{"true"===n&&Object(L.getBridgeSdk)().walletAddMoneySuccess({walletCode:a}).catch(()=>{})},[n,a]);const{delinkWalletAnalyticHandler:T,onAddMoneyImpressionEvent:I,onImpressionCurrentBalance:S,onScreenViewAddMoney:N}=(({walletCode:e,isAddMoneyToWalletEnabled:t})=>{const{clickEvent:a,impressionEvent:n,screenViewEvent:o}=Object(i.useContext)(L.AnalyticsContext),r=Object(i.useCallback)(()=>{((e,t)=>{t({category:fT,label:e,action:"impression-failed-delink"})})(e,n)},[n,e]),l=Object(i.useCallback)(()=>{((e,t)=>{t({category:fT,label:e,action:"impression-success-delink"})})(e,n)},[n,e]),s=Object(i.useCallback)(a=>{((e,t,a,n)=>{n({category:e,action:"impression-current-balance",label:a,context:t})})(t?fT:vT,e,a,n)},[n,t,e]),c=Object(i.useCallback)(t=>{pI(t,e,n,fT)},[n,e]),d=Object(i.useCallback)(e=>{((e,t)=>{t({category:fT,action:"screen-view-add-money",label:e})})(e,o)},[o]),u=Object(i.useCallback)(()=>{((e,t)=>{t({category:fT,label:e,action:"click-try-again-delink"})})(e,a)},[a,e]),m=Object(i.useCallback)(()=>{((e,t)=>{t({category:fT,label:e,action:"click-cross-delink-failure"})})(e,a)},[a,e]),p=Object(i.useCallback)(()=>{((e,t)=>{t({category:fT,label:e,action:"click-cancel-delink"})})(e,a)},[a,e]),_=Object(i.useCallback)(()=>{((e,t)=>{t({category:fT,label:e,action:"click-confirm-delink"})})(e,a)},[a,e]),E=Object(i.useCallback)(()=>{((e,t)=>{t({category:fT,label:e,action:"impression-confirm-delink"})})(e,n)},[n,e]),C=Object(i.useCallback)(()=>{((e,t,a)=>{a({category:e,action:"click-delink-wallet",label:t})})(t?fT:vT,e,a)},[a,t,e]);return{onImpressionCurrentBalance:s,onAddMoneyImpressionEvent:c,onScreenViewAddMoney:d,delinkWalletAnalyticHandler:Object(i.useMemo)(()=>({onClickTryAgainDelink:u,onClickCrossDelinkFailure:m,onClickCancelDelink:p,onClickConfirmDelink:_,onImpressionConfirmDelink:E,onClickDelinkCta:C,onImpressionFaliedDelink:r,onImpressionSuccessDelink:l}),[p,_,m,C,u,E,r,l])}})({isAddMoneyToWalletEnabled:g,walletCode:a});Object(s.Db)(()=>{g&&N(a)}),Object(i.useEffect)(()=>{c&&(g&&I(Number(c.balance)),S(Number(c.balance)))},[g,I,S,c]);const R=Object(i.useCallback)(()=>{u||m||Object(L.closeWebview)()},[m,u]);return Object(L.useCustomHardwareBack)([L.CheckoutRoute.WALLET_DETAILS],R),o?l.a.createElement(bk,{title:v},l.a.createElement(mE,{className:"styles_loadingScreen_wC-0u8Pq"})):c?m?l.a.createElement(Tg,{tickState:iy.LOADING,mainText:"Hold on",subText:"We’re trying to delink your account"}):l.a.createElement(bk,{title:v,containerClassName:"styles_container_Q8AsPw56",backButtonClass:"styles_containerBackButton_Fz8hK7zE"},C&&l.a.createElement(Gp,null),l.a.createElement(fh,{onAddMoney:y,onDelinkWallet:h,walletDetails:c,isDelinkSuccess:u,isDelinkFailure:p,onCloseDelinkSuccessBottomSheet:A,onCloseDelinkFailureBottomSheet:f,isAddMoneyToWalletEnabled:g,showBalance:O,analyticHandlers:T})):l.a.createElement(bk,{title:v},l.a.createElement(s.u,{action:E,dataTestId:"ad-mn-del_gen_err"}))}));function lw(e){return l.a.createElement(s.L,Object.assign({},e,{container:ow}),l.a.createElement(kx,{name:L.CheckoutRoute.PAYMENT_MODES_INDEX},l.a.createElement(Mx,{name:L.CheckoutRoute.PAYMENT_MODES_ADD_NEW_CARD}),l.a.createElement(Zx,{name:L.CheckoutRoute.MANAGE_CARD}),l.a.createElement(tw,{name:L.CheckoutRoute.SECURE_CARD})),l.a.createElement(HP,{name:L.CheckoutRoute.LINK_WALLET_INDEX},l.a.createElement(gk,{isPaymentModeRoute:!0,name:L.CheckoutRoute.PAYMENT_MODES_LINK_WALLET_WITH_NUMBER}),l.a.createElement(hk,{isPaymentModeRoute:!0,name:L.CheckoutRoute.PAYMENT_MODES_VERIFY_WALLET_LINK_OTP})),l.a.createElement(Sk,{isPaymentModeRoute:!0,name:L.CheckoutRoute.PAYLATER_LINKING_CONFIRMATION}),l.a.createElement(vk,{isPaymentModeRoute:!0,name:L.CheckoutRoute.LINK_PAYLATER}),l.a.createElement(Tx,{name:L.CheckoutRoute.LINK_PAYLATER_MOBILE}),l.a.createElement(Gk,{name:L.CheckoutRoute.REDIRECT_PAGE}),l.a.createElement(aw,{name:L.CheckoutRoute.CONFIRM_TRANSACTION}),l.a.createElement(iw,{name:L.CheckoutRoute.WALLET_DETAILS}))}const sw=(e,t,a={})=>{var n,o,r,l;const{isTurboV2:c=!1,billAmountShownOnCart:d,uniqueId:u,billAmountFromRenderingDetails:m}=a,{billTotal:p}=Object(i.useContext)(yR),{loadingPayments:_,paymentResponse:E}=Object(i.useContext)(AR),{placeOrderInProgress:C,processingOrder:b}=Object(i.useContext)(BR),{isSdkAvailableForInAppUpi:y}=Object(i.useContext)(GR),{impressionEvent:g}=Object(i.useContext)(L.AnalyticsContext),O=Object(i.useRef)(!1),h=Object(i.useRef)(null),A=Object(i.useRef)(),f=Object(i.useRef)(),v=Object(i.useRef)(!1),T=UR(),I=Object(i.useCallback)((e,a,n)=>{if("function"==typeof t){const o=To(e),r=new URLSearchParams;r.set("state",dw.TURBO_PLACE_ORDER),r.set("selectedturbomethod",o),s.T.setItem("sdk_turbo_place_order_time",String((new Date).getTime())),Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.TURBO_LOADER_DEBUG,subType:"place_order_call"}),t(r.toString(),a,n)}},[t]),S=Object(i.useMemo)(()=>"function"==typeof t?I:T,[T,I,t]),{availableUpiIntentMethods:N,paymentActions:R,upiIntentMethodFetchInProgress:P}=ND({onPay:S,onSelect:()=>{}}),D=TD({onPay:S,onSelect:()=>{}}),{paymentActions:k,cardSpecificActions:x}=KD({onPay:S,onSelect:()=>{},paymentAmount:String(p)}),{paymentActions:w}=MD({onPay:S,onSelect:()=>{},paymentAmount:String(p)}),{paymentActions:M}=eL({onPay:S,onSelect:()=>{},paymentAmount:String(p)}),{paymentActions:j}=HD({onPay:S,onSelect:()=>{}}),B=Object(i.useCallback)(e=>{switch(e){case z.UPI:return R;case z.FOOD_CARD:case z.CARD:return k;case z.WALLET_WEB:case z.WALLET:return w;case z.SWIGGY_INSTRUMENTS:return M;case z.PAY_LATER:return j;case z.COD:case z.CRED:case z.INAPP_UPI:return D;default:return}},[k,D,j,M,R,w]),{fetchingJuspaySdk:U}=Object(i.useContext)(HR),H=$D(),G=_||"notInitialted"===P||!0===P||!!U,Y=Object(i.useMemo)(()=>{if(G)return{turboPaymentMethod:null};const{hide:t,turboPaymentMethod:a,balanceValue:n,loading:o}=(({paymentResponse:e,availableUpiIntentMethods:t,billTotal:a,isSdkAvailableForCred:n,isSdkAvailableForInAppUpi:o,getTurboPaymentSpecificActions:r})=>{if(!e)return{hide:!1,turboPaymentMethod:null};const i=e.paymentGroup.find(e=>ZT(e)),l=(({turboPaymentMethods:e,availableUpiIntentMethods:t})=>e.filter(e=>!tv(e)||t.includes(e.name)))({availableUpiIntentMethods:t,turboPaymentMethods:(null==i?void 0:i.paymentMethods)||[]}),{hide:s,balanceValue:c,loading:d=!1}=(({turboPaymentMethod:e,billTotal:t,isSdkAvailableForCred:a,isSdkAvailableForInAppUpi:n,getTurboPaymentSpecificActions:o})=>{var r,i;if(!e)return{hide:!0};const l=null===(r=null==e?void 0:e.groupName)||void 0===r?void 0:r.toUpperCase();if($I(e)){if(WI(e)){const a=Number(e.meta.cardBalance);return t<=a?{hide:!1,balanceValue:a}:{hide:!0}}}else{if(tI(e)){const a=o(l);if(Ou(e)){const{state:e,sdkFetchInProgress:n}=a.getAmazonPaySdkStatus(),o=e&&e.available||!1;return n?{loading:!0}:o&&e&&e.linked&&e.balance&&XT(t,Number(e.balance))?{hide:!1,balanceValue:e.balance}:{hide:!0}}{const[t,n]=a.getWalletBalance(e);return 1===t||0===t?{loading:!0}:n&&n.linked&&n.isWalletBalanceSufficent?{hide:!1,balanceValue:n.balance}:{hide:!0}}}if(kf(e)){const{getSwiggyInstrumentsData:t}=o(l),a=t(e);return a.isBalanceSufficient?{hide:!1,balanceValue:a.balance}:{hide:!0}}if(Dv(e)){const t=o(l),[a,n]=t.checkPayLaterLinkStatus(e);if(0===a)return{loading:!0};if(!n.linked)return{hide:!0}}else if(Uv(e)){if(!a)return{hide:!0}}else if(oT(e)){if(!n)return{hide:!0};const a=null===(i=null==e?void 0:e.meta)||void 0===i?void 0:i.liteBalance;if(a){const e=Number(null!=a?a:0);return XT(t,e)?{hide:!1,balanceValue:a}:{hide:!0}}}}return{hide:!e.enabled}})({turboPaymentMethod:l[0],billTotal:a,isSdkAvailableForCred:n,isSdkAvailableForInAppUpi:o,getTurboPaymentSpecificActions:r});return{hide:s,turboPaymentMethod:s?null:l[0],balanceValue:c,loading:d}})({availableUpiIntentMethods:N,paymentResponse:E,billTotal:p,isSdkAvailableForCred:H.isSdkAvailable,isSdkAvailableForInAppUpi:y,getTurboPaymentSpecificActions:B});return t&&e(),{turboPaymentMethod:a,balanceValue:n,loading:o}},[N,p,H.isSdkAvailable,B,y,e,E,G]),{turboPaymentMethod:W,balanceValue:F,loading:V}=Y,K=Object(i.useMemo)(()=>tT(null==E?void 0:E.paymentGroup),[null==E?void 0:E.paymentGroup]),$=Object(i.useMemo)(()=>(null==W?void 0:W.payableAmount)||String(p),[W,p]),{codSpecificActions:X}=ID(ST),J=Object(i.useMemo)(()=>({onLoad:e=>{var t;null===(t=null==X?void 0:X.onLoadCodHalfCard)||void 0===t||t.call(X,e)},onPlaceOrderCtaClick:(e,t)=>{var a,n;t?null===(a=null==X?void 0:X.onPlaceCodHalfCardCTa)||void 0===a||a.call(X,e,t):null===(n=null==X?void 0:X.onPlaceCodHalfCardCTa)||void 0===n||n.call(X,e)},onCancelCtaClick:e=>{var t;null===(t=null==X?void 0:X.onCancelHalfCard)||void 0===t||t.call(X,e)}}),[X]);Object(i.useEffect)(()=>{E||_||e()},[_,e,E,W]),Object(i.useEffect)(()=>{W&&(((e,t,a,n)=>{n({category:ST,action:"impression-turbo-pay",label:e,context:JSON.stringify({couponUsed:t,slider:a})})})(W.paymentCode,!!(null==E?void 0:E.couponApplied),!c,g),(W.meta.promoMsg||W.discount)&&((e,t,a)=>{e({category:ST,action:"impression-msg",context:JSON.stringify(Object.assign(Object.assign({},t&&{promo:t}),a&&{discount:a}))})})(g,W.meta.promoMsg,W.discount))},[g,null==E?void 0:E.couponApplied,W,c]),Object(i.useEffect)(()=>{if(h.current&&(clearTimeout(h.current),h.current=null),!(an(d)||an($)||G||V)&&A.current!==u)if(A.current=u,v.current||((({impressionEvent:e,billAmountShownOnCart:t,billTotal:a,payableAmount:n,billAmountFromRenderingDetails:o,uniqueId:r})=>{e({category:ST,action:"impression-turbo-amount",context:JSON.stringify({billAmountShownOnCart:t,billTotal:a,payableAmount:n,billAmountFromRenderingDetails:o,uniqueId:r})})})({impressionEvent:g,billAmountShownOnCart:d,billTotal:String(p),payableAmount:null==W?void 0:W.payableAmount,billAmountFromRenderingDetails:m,uniqueId:u}),v.current=!0),d!==$){if(!O.current){if(f.current!==$)return f.current=d,h.current=setTimeout(()=>{d===$||O.current||(Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.TURBO_CART_AMOUNT_MISMATCH,billAmountShownOnCart:d,turboAmount:$,currentUniqueId:u||"",billTotal:String(p),payableAmount:String(null==W?void 0:W.payableAmount),billAmountFromRenderingDetails:m||""}),O.current=!0),h.current=null},3e3),()=>{h.current&&(clearTimeout(h.current),h.current=null)};Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.TURBO_CART_AMOUNT_MISMATCH_V2,billAmountShownOnCart:d,turboAmount:$,currentUniqueId:u||"",previousBillAmountShownOnCart:f.current||"",billTotal:String(p),payableAmount:String(null==W?void 0:W.payableAmount),billAmountFromRenderingDetails:m||""})}}else O.current=!1},[d,G,V,$,u,W,p,m,g]);const Z={showTooltip:!1,toolTipText:""};if(E){const e=RI(E,z.SINGLE_CLICK);Z.showTooltip=!!(null===(o=null===(n=null==e?void 0:e.paymentMethods)||void 0===n?void 0:n[0])||void 0===o?void 0:o.tooltip),Z.toolTipText=(null===(l=null===(r=null==e?void 0:e.paymentMethods)||void 0===r?void 0:r[0])||void 0===l?void 0:l.tooltipText)||""}return{billTotal:String(p),getTurboPaymentSpecificActions:B,loadingPayments:G||!!V,paymentAmountWithoutDiscount:(null==E?void 0:E.paymentAmountWithoutDiscount)||"",turboPaymentMethod:W,juspayMeta:null==E?void 0:E.juspayMeta,oneClickCardEvents:x.oneClickEvents,showOverlay:C||b,balanceValue:F,credEligibleData:H,turboPaymentOfferComms:Z,paymentMethodDowntime:null==E?void 0:E.paymentMethodDowntime,autoPaymethod:K,isFlipkartCoinsEligible:(null==E?void 0:E.flipkartCoinsEligible)||!1,turboPodHalfCardEvents:J,amountWithDiscount:$}},cw=({onPaymentMethodChange:e,onError:t,hideEducationComms:a=!1,showLoader:n,onTurboPay:o,showDiscountedValueOnSlider:r,onTurboPayImpressionEvent:c,onTurboPayClickEvent:d,onPaymentMethodChangeClickEvent:u,isTurboV2:m=!1,cartCallbackOnTurboPaymentChange:p,setForceExtraPaddingOnCart:_,billAmountShownOnCart:E,uniqueId:C,billAmountFromRenderingDetails:b})=>{var y,g;const{loadingPayments:O,turboPaymentMethod:h,billTotal:A,paymentAmountWithoutDiscount:f,getTurboPaymentSpecificActions:v,juspayMeta:T,oneClickCardEvents:I,showOverlay:S,balanceValue:N,credEligibleData:R,turboPaymentOfferComms:P,paymentMethodDowntime:D,autoPaymethod:k,turboPodHalfCardEvents:x,amountWithDiscount:M}=sw(t,o,{isTurboV2:m,billAmountShownOnCart:E,uniqueId:C,billAmountFromRenderingDetails:b}),{clickEvent:j,impressionEvent:B}=Object(i.useContext)(L.AnalyticsContext),{availableMethods:U,upiIntentMethodFetchInProgress:H}=Object(i.useContext)(OP),{checkoutWebXP:G}=Object(i.useContext)(L.CheckoutWebDynamicConfigContext),{state:Y}=Object(i.useContext)(L.GroupOrderCartContext),{paymentResponse:W}=Object(i.useContext)(AR),F=(null==W?void 0:W.tooltip)||{},V=Object(L.isPopFlow)();Object(i.useEffect)(()=>{h&&(null==c||c(h.paymentCode,A)),H||bI(B,U,!!h)},[U,A,B,c,h,H]);const K=Object(i.useCallback)(()=>{var t;((e,t)=>{e({category:ST,action:"click-change",extraParams:JSON.stringify({grp_cart_id:t})})})(j,null===(t=null==Y?void 0:Y.data)||void 0===t?void 0:t.group_cart_id),null==u||u((null==h?void 0:h.paymentCode)||"",A),e()},[A,j,null===(y=null==Y?void 0:Y.data)||void 0===y?void 0:y.group_cart_id,e,u,null==h?void 0:h.paymentCode]),z=Object(i.useCallback)((e,t)=>{null==d||d((null==h?void 0:h.paymentCode)||"",A),((e,t)=>{e({category:ST,action:"click-slider",context:JSON.stringify({Width:t})})})(j,Math.floor(e/t*100))},[A,j,d,h]),$=Object(i.useCallback)(()=>{Object(L.getBridgeSdk)().vibrate({duration:100,amplitude:w.o.HEAVY}).catch(()=>{})},[]),X=Object(i.useCallback)(()=>(e=>{e({category:ST,action:"imp-change-tooltip"})})(B),[B]),J=Object(i.useCallback)(()=>(e=>{e({category:ST,action:"click-change-tooltip-cross"})})(j),[j]),Z=Object(i.useCallback)(()=>uI(B,!0),[B]),q=Object(i.useMemo)(()=>"true"===G[L.CHECKOUT_WEB_XP.INCREASE_TURBO_SLIDER_AREA],[G]),Q=(null===(g=null==W?void 0:W.tooltip)||void 0===g?void 0:g.key)||"--",ee=Object(i.useCallback)(()=>((e,t)=>{e({label:"turbo-widget-tooltip",category:ST,action:"impression-tooltip",context:JSON.stringify({campaignId:t})})})(B,Q),[B,Q]),te=Object(i.useCallback)(()=>((e,t)=>{e({label:"turbo-widget-tooltip-cross",category:ST,action:"click-tooltip",context:JSON.stringify({campaignId:t})})})(j,Q),[j,Q]),ae=Object(i.useCallback)((e,t,a)=>((e,t,a,n)=>{t({category:ST,action:"click-payment-strip",context:JSON.stringify({bannerId:a,isNewBanner:e}),label:n})})(e,j,t,a),[j]),ne=Object(i.useCallback)((e,t,a)=>((e,t,a,n)=>{t({category:ST,action:"impression-payment-strip",context:JSON.stringify({bannerId:a,isNewBanner:e}),label:n})})(e,B,t,a),[B]),{turboStrip:oe}=W||{};return Object(i.useEffect)(()=>{Object(s.ub)(W)||Object(s.ub)(oe)||null==_||_(!0)},[oe,_,W]),l.a.createElement(R_,{billAmount:A,loading:O||n,paymentMethod:h,paymentAmountWithoutDiscount:f,onClickChangePaymentCta:K,getTurboPaymentSpecificActions:v,hideEducationComms:a,juspayMeta:T,oneClickCardEvents:I,showOverlay:S,onSlideButtonDrag:z,onSlideButtonSuccess:$,onImpressionChangeTooltipAnimation:X,onClickChangeTooltipAnimation:J,balanceValue:N,credEligibleData:R,showDiscountedAmount:r||!1,turboPaymentOfferComms:P,paymentMethodDowntime:D,autoPaymethod:k,onPaymentDowntimeWidgetLoad:Z,turboPodHalfCardEvents:x,manageSwipe:L.manageSwipe,increaseSliderWidth:q,eventOnImpressionTooltip:ee,eventOnTooltipClose:te,tooltipDetails:F,isTurboV2:m,isPopCart:V,onClickTurboStrip:ae,onImpressionTurboStrip:ne,turboStrip:null!=oe?oe:{},cartCallbackOnTurboPaymentChange:p,billAmountShownOnCart:E,uniqueId:C,amountWithDiscount:M})};var dw,uw,mw=Object(i.memo)(e=>{const{isTurboV2:t=!1}=e,a=Object(i.useRef)(null);return l.a.createElement(nm.Provider,{value:{sliderButtonRef:a,onPostSliderSuccessCallback:()=>{a&&a.current&&a.current.resetSliderButton()}}},l.a.createElement(vD,{isTurboPaymentMethod:!0,isTurboV2:t,turboPayUniqueId:e.uniqueId},l.a.createElement(cw,Object.assign({},e))))}),pw=Object(i.memo)((function(){var e;const t=null===(e=Object(i.useContext)(L.ConfigContext).turboPayConfig)||void 0===e?void 0:e.unwrapOr({});return Object(s.ub)(t)||!(null==t?void 0:t.uniqueId)?null:(Object(s.ub)(t.billAmountShownOnCart)||s.T.setItem(s.M.BILL_AMOUNT_SHOWN_ON_CART,t.billAmountShownOnCart),l.a.createElement(s.l,{errorContent:null,errorFallback:t.onSDKError},l.a.createElement(mw,{showLoader:!!t.showLoader,onTurboPay:t.onTurboPay,hideEducationComms:!!t.hideEducationComms,onError:t.onError,onPaymentMethodChange:t.onPaymentMethodChange,uniqueId:t.uniqueId,onTurboPayImpressionEvent:t.onTurboPayImpressionEvent,onTurboPayClickEvent:t.onTurboPayClickEvent,onPaymentMethodChangeClickEvent:t.onPaymentMethodChangeClickEvent,billAmountShownOnCart:t.billAmountShownOnCart})))})),_w=Object(i.memo)((function(e){const{state:t,routeData:a}=e,n=Object(i.useMemo)(()=>If(t,a),[a,t]);return l.a.createElement(s.u,{action:n})}));function Ew(e){const{config:t,headers:a,initialState:n={},turboPayConfig:o,turboPayPlaceOrderData:r,externalRoutes:c=[]}=e,{screenViewEvent:d}=Object(i.useContext)(L.AnalyticsContext),[u]=Object(i.useState)(()=>{const e=Object(L.restoreWebviewRefreshState)(null==t?void 0:t.enableWebviewRefreshCapability);try{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"restoreWebviewRefreshStateInitialRoute",isUserLastStateNonEmpty:String(!Object(s.ub)(e))})}catch(e){}if(!Object(s.ub)(e))return{name:L.CheckoutRoute.PAYMENTS};switch(n.state){case dw.CONFIRM_ORDER:return{name:L.CheckoutRoute.CONFIRM_ORDER};case dw.DINEOUT_SUCCESS_SCREEN:return{name:L.CheckoutRoute.DINEOUT_PAYMENT_SUCCESS,routeData:null==n?void 0:n.routeData,data:n.routeData};case dw.DIRECT_PLACE_ORDER:return{name:L.CheckoutRoute.DIRECT_PLACE_ORDER};case dw.ADD_NEW_CARD:return{name:L.CheckoutRoute.PAYMENT_MODES_ADD_NEW_CARD,data:null==n?void 0:n.routeData};case dw.MANAGE_CARD:return{name:L.CheckoutRoute.MANAGE_CARD};case dw.SECURE_CARD:return{name:L.CheckoutRoute.SECURE_CARD};case dw.CONFIRM_TRANSACTION:return{name:L.CheckoutRoute.CONFIRM_TRANSACTION};case dw.LINK_WALLET_WITH_NUMBER:return{name:L.CheckoutRoute.PAYMENT_MODES_LINK_WALLET_WITH_NUMBER,data:n.routeData};case dw.ADD_MONEY_AND_DELINK_WALLET:return{name:L.CheckoutRoute.WALLET_DETAILS,data:n.routeData};case dw.ADD_SWIGGY_MONEY_GENERIC:return{name:L.CheckoutRoute.ADD_SWIGGY_MONEY};case dw.PAYLATER_LINKING_CONFIRMATION:return{name:L.CheckoutRoute.PAYLATER_LINKING_CONFIRMATION};case dw.TURBO_PAY:return{name:L.CheckoutRoute.TURBO_PAY};case dw.TURBO_PLACE_ORDER:return{name:L.CheckoutRoute.TURBO_PLACE_ORDER,data:null==n?void 0:n.routeData}}return n.routeName?{name:n.routeName,data:n.routeData}:{name:L.CheckoutRoute.PAYMENTS}}),[m]=Object(i.useState)(()=>{const e=Object(L.restoreWebviewRefreshState)(null==t?void 0:t.enableWebviewRefreshCapability);try{Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.WEBVIEW_REFRESH_DEBUG,name:"restoreWebviewRefreshStateInitialState",isUserLastStateNonEmpty:String(!Object(s.ub)(e))})}catch(e){}if(!Object(s.ub)(e))return e;switch(n.state){case dw.WALLET_MONEY_RECEIVED:return{type:L.CheckoutActionTypes.ADD_MONEY_CONFIRM};case dw.DINEOUT_SUCCESS_SCREEN:return{type:L.CheckoutActionTypes.DINEOUT};case dw.DIRECT_PLACE_ORDER:return{type:L.CheckoutActionTypes.DIRECT_PLACE_ORDER};case dw.PAYLATER_SIMPL_LINKING_FAILED:return{type:L.CheckoutActionTypes.PAYLATER_SIMPL_LINKING_FAILED,payload:{error:!0,paymentCode:"PayLater_Simpl"}};case dw.PAYLATER_SIMPL_LINKING_SUCCESS_DONT_PROCEED_WITH_ORDER:return{type:L.CheckoutActionTypes.PAYLATER_SIMPL_LINKING_FAILED,payload:{paymentCode:"PayLater_Simpl"}};case dw.PAYLATER_SIMPL_LINKING_SUCCESS_PROCEED_WITH_ORDER:return{type:L.CheckoutActionTypes.PAYLATER_SIMPL_LINKING_SUCCESS_PROCEED_WITH_ORDER,payload:{paymentCode:"PayLater_Simpl"}};case dw.ADD_NEW_CARD:return{type:L.CheckoutActionTypes.ADD_NEW_CARD};case dw.MANAGE_CARD:return{type:L.CheckoutActionTypes.MANAGE_CARD};case dw.SECURE_CARD:return{type:L.CheckoutActionTypes.SECURE_CARD};case dw.LINK_WALLET_WITH_NUMBER:return{type:L.CheckoutActionTypes.LINK_WALLET_WITH_NUMBER};case dw.ADD_MONEY_AND_DELINK_WALLET:return{type:L.CheckoutActionTypes.ADD_MONEY_AND_DELINK_WALLET};case dw.ADD_SWIGGY_MONEY_GENERIC:return{type:L.CheckoutActionTypes.SHOW_SWIGGYMONEY_PAYMENTS};case dw.PAYLATER_LINKING_CONFIRMATION:return{type:L.CheckoutActionTypes.PAYLATER_LINKING_CONFIRMATION};case dw.CONFIRM_ORDER:return{type:L.CheckoutActionTypes.CONFIRM_ORDER,payload:null};case dw.TURBO_PAY:return{type:L.CheckoutActionTypes.TURBO_PAY};case dw.TURBO_PLACE_ORDER:return{type:L.CheckoutActionTypes.TURBO_PLACE_ORDER}}return{type:L.CheckoutActionTypes.SHOW_PAYMENTS}}),p=Object(i.useMemo)(()=>{return null!=(e=n.state)&&[dw.ADD_NEW_CARD,dw.MANAGE_CARD,dw.SECURE_CARD,dw.CONFIRM_TRANSACTION,dw.LINK_WALLET_WITH_NUMBER,dw.ADD_MONEY_AND_DELINK_WALLET,dw.PAYLATER_LINKING_CONFIRMATION].indexOf(e)>=0;var e},[n.state]);Object(L.useInit)({headers:a,nbSdk:e.nativeBridgeSdk,newrelicEndpoint:t.newrelicEndpoint,newrelicKey:t.newrelicKey,environment:t.environment}),Object(s.Db)(()=>{Af()||"true"===s.T.getItem("hasPaymentLoadTimeRecorded")||(x.a.recordStart(L.BLAZE_EVENTS.RECORD_CHECKOUT_PAYMENT_LOAD_TIME),s.T.setItem("hasPaymentLoadTimeRecorded","true")),Object(L.getBridgeSdk)().setScreenCaptureState({screenCapturingDisabled:!1}).catch(()=>{}),(e=>{e({category:lT})})(d),Object(L.recordNREvent)({eventType:L.NEWRELIC_TABLES.PAYMENT_WEB_VIEW}),Object(L.recordWebviewRefreshState)(null==t?void 0:t.enableWebviewRefreshCapability),n.state===dw.ADD_SWIGGY_MONEY_GENERIC&&(wf(),L.GlobalHeaderState.updateHeaders({paymentamount:"",marketplacebusinessline:Oe.SWIGGY_MONEY}))});const _=Object(i.useMemo)(()=>p&&n.state?l.a.createElement(_w,{state:n.state,routeData:n.routeData}):void 0,[n,p]),E=Object(i.useMemo)(()=>m.type===L.CheckoutActionTypes.TURBO_PAY,[m.type]),C=Object(i.useMemo)(()=>p?l.a.createElement(lw,{initialRoute:u}):l.a.createElement(Ix,{initialRoute:u,externalRoutes:c}),[u,p,c]),b=Object(i.useCallback)((e,t)=>{const a=function(e,t){var a,n;return{error:e instanceof Error?e.name:JSON.stringify(e),errorMessage:e instanceof Error?e.message:JSON.stringify(e),userAgent:(null===(a=null===window||void 0===window?void 0:window.navigator)||void 0===a?void 0:a.userAgent)||"",url:(null===(n=null===window||void 0===window?void 0:window.location)||void 0===n?void 0:n.href)||"",referrer:(null===document||void 0===document?void 0:document.referrer)||"",stackTrace:(null==t?void 0:t.componentStack)||JSON.stringify(t)}}(e,t);Object(L.recordNREvent)(Object.assign({eventType:L.NEWRELIC_TABLES.CHECKOUT_WEB_ERROR_BOUNDARY},a))},[]);return l.a.createElement(s.l,{errorContent:_,errorFallback:b},l.a.createElement(cA,{config:t,turboPayConfig:o,turboPayPlaceOrderData:r,initialState:m,headers:a},l.a.createElement(l.a.Fragment,null,E?l.a.createElement(pw,null):C)))}!function(e){e.DIRECT_PLACE_ORDER="DIRECT_PLACE_ORDER",e.CONFIRM_ORDER="CONFIRM_ORDER",e.WALLET_MONEY_RECEIVED="WALLET_MONEY_RECEIVED",e.ADD_NEW_CARD="ADD_NEW_CARD",e.MANAGE_CARD="MANAGE_CARD",e.SECURE_CARD="SECURE_CARD",e.CONFIRM_TRANSACTION="CONFIRM_TRANSACTION",e.LINK_WALLET_WITH_NUMBER="LINK_WALLET_WITH_NUMBER",e.ADD_MONEY_AND_DELINK_WALLET="ADD_MONEY_AND_DELINK_WALLET",e.ADD_SWIGGY_MONEY_GENERIC="ADD_SWIGGY_MONEY_GENERIC",e.PAYLATER_LINKING_CONFIRMATION="LINK_LAZYPAY_CONFIRMATION",e.TURBO_PAY="TURBO_PAY",e.TURBO_PLACE_ORDER="TURBO_PLACE_ORDER",e.PAYLATER_SIMPL_LINKING_FAILED="PAYLATER_SIMPL_LINKING_FAILED",e.PAYLATER_SIMPL_LINKING_SUCCESS_DONT_PROCEED_WITH_ORDER="PAYLATER_SIMPL_LINKING_SUCCESS_DONT_PROCEED_WITH_ORDER",e.PAYLATER_SIMPL_LINKING_SUCCESS_PROCEED_WITH_ORDER="PAYLATER_SIMPL_LINKING_SUCCESS_PROCEED_WITH_ORDER",e.DINEOUT_SUCCESS_SCREEN="DINEOUT"}(dw||(dw={})),function(e){e.PLACED="PLACED",e.COMPLETED="COMPLETED",e.CONFIRMED="CONFIRMED",e.PENDING="PENDING",e.CANCELLED="CANCELLED",e.FAILED="FAILED"}(uw||(uw={}));const Cw=[uw.COMPLETED,uw.CONFIRMED,uw.PENDING,uw.CANCELLED,uw.FAILED];var bw;!function(e){e.ORDER_CONTEXT_KEY="ORDER_JOB",e.PAYMENT_TYPE="PRE_PAYMENT"}(bw||(bw={}));var yw=Object(i.memo)(e=>{const[t,a]=Object(i.useState)(!1),{setCheckoutState:n}=Object(i.useContext)(L.CheckoutContext),[o,r]=Object(i.useState)(!1),c=Object(i.useCallback)(()=>{r(!0),a(!1)},[]),d=Object(i.useCallback)(()=>vn(void 0,void 0,void 0,(function*(){var e,t,o,r,i,l;try{a(!0);const s=yield function(){return vn(this,void 0,void 0,(function*(){const e=((e,t)=>({cartType:"DEAL_TICKET_PURCHASE",merchant_id:"SWIGGY",payment_info:{customer_id:e,metadata:"{}",order_context:bw.ORDER_CONTEXT_KEY,payment_method:"",payment_type:bw.PAYMENT_TYPE,transaction_amount:0}}))(L.GlobalHeaderState.getHeader(L.SwgyHeaderKeysList.userId)),{payment_info:t,cartType:a}=e;try{return AA(yield OA({apiHost:fN.DO_HOST,endpoint:"/api/v1/checkout/order",options:{method:"POST",body:JSON.stringify(Object.assign(Object.assign({},e),{payment_type:t.payment_type}))},searchParams:{cartType:a}})).toPromise()}catch(e){return Promise.reject("Something went wrong in reserving your table.")}}))}().then(e=>We(e)).catch(e=>Fe(e));if(s.isErr())throw s;const d=s.unwrap(),u=null===(t=null===(e=d.orders)||void 0===e?void 0:e[0])||void 0===t?void 0:t.order_id,m=null===(i=null===(r=null===(o=d.orders)||void 0===o?void 0:o[0].order_jobs)||void 0===r?void 0:r[0])||void 0===i?void 0:i.status;(an(u)||an(m)||m!==uw.PLACED)&&c();const p=yield function(e){return function(e){return vn(this,void 0,void 0,(function*(){try{return AA(yield OA({apiHost:fN.DO_HOST,endpoint:tn("/api/v1/dash/oms/poll/order/{0}/context/ORDER_JOB",e),options:{method:"GET"}})).toPromise()}catch(e){return Promise.reject("Something went wrong in fetching the reservation status.")}}))}(e).then(e=>We(e)).catch(e=>Fe(e))}(u);if(p.isErr())throw p;const _=null===(l=p.unwrap().status)||void 0===l?void 0:l.toUpperCase();!an(_)&&Cw.includes(_)||c(),a(!1),n({type:L.CheckoutActionTypes.DINEOUT_PAYMENT_SUCCESS,payload:{orderId:u,isCheckoutFlow:!0}})}catch(e){c()}})),[n,c]);Object(s.Db)(()=>{d()});const u=Object(i.useCallback)(()=>{n({type:L.CheckoutActionTypes.DINEOUT_TABLE_RESERVATION_CART})},[n]),m=Object(i.useMemo)(()=>({onClick:u,text:"Go Back"}),[u]);return t?l.a.createElement(AE,null):o?l.a.createElement(s.u,{action:m}):null});l.a.createElement(vD,{name:L.CheckoutRoute.PAYMENTS,indexElement:l.a.createElement(pk,{name:L.CheckoutRoute.PAYMENTS_INDEX}),key:L.CheckoutRoute.PAYMENTS},l.a.createElement(hk,{name:L.CheckoutRoute.VERIFY_WALLET_LINK_OTP}),l.a.createElement(gk,{name:L.CheckoutRoute.LINK_WALLET_WITH_NUMBER}),l.a.createElement(vk,{name:L.CheckoutRoute.LINK_PAYLATER}),l.a.createElement(Tx,{name:L.CheckoutRoute.LINK_PAYLATER_MOBILE}),l.a.createElement(Pk,{name:L.CheckoutRoute.ADD_NEW_CARD}),l.a.createElement(wk,{name:L.CheckoutRoute.VERIFY_VPA}),l.a.createElement(Mk,{name:L.CheckoutRoute.MORE_BANKS}),l.a.createElement(jR,{name:L.CheckoutRoute.VPA_TIMER}),l.a.createElement(Wk,{name:L.CheckoutRoute.PAYMENT_TXN_STATUS_POLLING}),l.a.createElement(Bk,{name:L.CheckoutRoute.MORE_PAYMENT_GROUPS}),l.a.createElement(Hk,{name:L.CheckoutRoute.MORE_PAYMENT_METHODS}),l.a.createElement(aP,{name:L.CheckoutRoute.NATIVE_UPI_ACCOUNTS}),l.a.createElement(tx,{name:L.CheckoutRoute.ONE_CLICK_ENROLLMENT}),l.a.createElement(gx,{name:L.CheckoutRoute.AUTOPAY_ELIGIBLE_PAYMENT_FAILED}),l.a.createElement(Sk,{name:L.CheckoutRoute.PAYLATER_LINKING_CONFIRMATION}),l.a.createElement(hx,{name:L.CheckoutRoute.PAYMENT_OFFERS})),l.a.createElement(qk,{name:L.CheckoutRoute.ADD_SWIGGY_MONEY,indexElement:l.a.createElement(ex,{name:L.CheckoutRoute.ADD_SWIGGY_MONEY_INDEX}),key:L.CheckoutRoute.ADD_SWIGGY_MONEY},l.a.createElement(vD,{name:L.CheckoutRoute.SWIGGY_MONEY_PAYMENTS,indexElement:l.a.createElement(pk,{name:L.CheckoutRoute.SWIGGY_MONEY_PAYMENTS})},l.a.createElement(Pk,{name:L.CheckoutRoute.ADD_NEW_CARD}),l.a.createElement(Mk,{name:L.CheckoutRoute.MORE_BANKS}),l.a.createElement(Wk,{name:L.CheckoutRoute.PAYMENT_TXN_STATUS_POLLING}),l.a.createElement(Hk,{name:L.CheckoutRoute.MORE_PAYMENT_METHODS}))),l.a.createElement(gR,{name:L.CheckoutRoute.CONFIRM_ORDER,key:L.CheckoutRoute.CONFIRM_ORDER}),l.a.createElement(hR,{name:L.CheckoutRoute.DIRECT_PLACE_ORDER,key:L.CheckoutRoute.DIRECT_PLACE_ORDER}),l.a.createElement(Gk,{name:L.CheckoutRoute.REDIRECT_PAGE,key:L.CheckoutRoute.REDIRECT_PAGE}),l.a.createElement(yw,{name:L.CheckoutRoute.DINEOUT_DIRECT_PLACE_ORDER,key:L.CheckoutRoute.DINEOUT_DIRECT_PLACE_ORDER})}).call(this,a("8oxByP"))},"2ODcjE":function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e.FETCH_FAILED="FETCH_FAILED",e.TIMEOUT="TIMEOUT",e.LOTTIE_ERROR="LOTTIE_ERROR",e.ASSET_FETCH_ERROR="ASSET_FETCH_ERROR",e.INCOMPLETE_DATA="INCOMPLETE_DATA",e.UNKNOWN="UNKNOWN"}(n||(n={}))},"4JB/ZF":function(e,t,a){"use strict";var n=a("o3nhpB");a.o(n,"ANNOTATION_TYPES")&&a.d(t,"ANNOTATION_TYPES",(function(){return n.ANNOTATION_TYPES})),a.o(n,"API_ANALYTICS_PLATFORM")&&a.d(t,"API_ANALYTICS_PLATFORM",(function(){return n.API_ANALYTICS_PLATFORM})),a.o(n,"CheckoutRoute")&&a.d(t,"CheckoutRoute",(function(){return n.CheckoutRoute})),a.o(n,"DineoutCheckoutRoute")&&a.d(t,"DineoutCheckoutRoute",(function(){return n.DineoutCheckoutRoute})),a.o(n,"SwgyHeaderKeysList")&&a.d(t,"SwgyHeaderKeysList",(function(){return n.SwgyHeaderKeysList})),a.o(n,"SwgyHeadersList")&&a.d(t,"SwgyHeadersList",(function(){return n.SwgyHeadersList}));var o=a("ERSh2Y");a.o(o,"ANNOTATION_TYPES")&&a.d(t,"ANNOTATION_TYPES",(function(){return o.ANNOTATION_TYPES})),a.o(o,"API_ANALYTICS_PLATFORM")&&a.d(t,"API_ANALYTICS_PLATFORM",(function(){return o.API_ANALYTICS_PLATFORM})),a.o(o,"CheckoutRoute")&&a.d(t,"CheckoutRoute",(function(){return o.CheckoutRoute})),a.o(o,"DineoutCheckoutRoute")&&a.d(t,"DineoutCheckoutRoute",(function(){return o.DineoutCheckoutRoute})),a.o(o,"SwgyHeaderKeysList")&&a.d(t,"SwgyHeaderKeysList",(function(){return o.SwgyHeaderKeysList})),a.o(o,"SwgyHeadersList")&&a.d(t,"SwgyHeadersList",(function(){return o.SwgyHeadersList}))},"8OapvL":function(e,t){},ERSh2Y:function(e,t,a){"use strict";var n=a("+aeWkJ");a.d(t,"CheckoutRoute",(function(){return n.a})),a.d(t,"DineoutCheckoutRoute",(function(){return n.b}));var o=a("xXOUNq");a.d(t,"ANNOTATION_TYPES",(function(){return o.a}));a("199V7A");var r=a("l0I3dG");a.o(r,"API_ANALYTICS_PLATFORM")&&a.d(t,"API_ANALYTICS_PLATFORM",(function(){return r.API_ANALYTICS_PLATFORM})),a.o(r,"SwgyHeaderKeysList")&&a.d(t,"SwgyHeaderKeysList",(function(){return r.SwgyHeaderKeysList})),a.o(r,"SwgyHeadersList")&&a.d(t,"SwgyHeadersList",(function(){return r.SwgyHeadersList}));var i=a("8OapvL");a.o(i,"API_ANALYTICS_PLATFORM")&&a.d(t,"API_ANALYTICS_PLATFORM",(function(){return i.API_ANALYTICS_PLATFORM})),a.o(i,"SwgyHeaderKeysList")&&a.d(t,"SwgyHeaderKeysList",(function(){return i.SwgyHeaderKeysList})),a.o(i,"SwgyHeadersList")&&a.d(t,"SwgyHeadersList",(function(){return i.SwgyHeadersList}))},HkAEY5:function(e,t,a){"use strict";var n,o,r;a.d(t,"a",(function(){return o})),function(e){e[e.HOME=1]="HOME",e[e.WORK=2]="WORK",e[e.OTHER=3]="OTHER",e[e.FRIENDS_AND_FAMILY=4]="FRIENDS_AND_FAMILY"}(n||(n={})),function(e){e.HOME="Home",e.WORK="Work",e.OTHER="Other",e.FRIENDS_AND_FAMILY="Friends and Family"}(o||(o={})),function(e){e.HOME="img_0.png",e.WORK="work.png",e.OTHER="others.png",e.FRIENDS_AND_FAMILY="family_friends.png",e.STATIC="img_1.png"}(r||(r={}))},KQ1Dbo:function(e,t,a){"use strict";var n,o;!function(e){e.DIALOG="dialog",e.ALERTDIALOG="alertdialog",e.HEADING="heading",e.BUTTON="button",e.CHECKBOX="checkbox",e.ALERT="alert"}(n||(n={})),function(e){e.POLITE="polite",e.ASSERTIVE="assertive",e.OFF="off"}(o||(o={}))},KmShuW:function(e,t,a){"use strict";var n;!function(e){e.TRUE="true",e.FALSE="false"}(n||(n={}))},"PF/h98":function(e,t,a){"use strict";a.d(t,"a",(function(){return $t})),a.d(t,"b",(function(){return ea})),a.d(t,"c",(function(){return Dt})),a.d(t,"d",(function(){return Ft})),a.d(t,"e",(function(){return V})),a.d(t,"f",(function(){return Ue})),a.d(t,"g",(function(){return da})),a.d(t,"h",(function(){return Ge})),a.d(t,"i",(function(){return vt})),a.d(t,"j",(function(){return ta})),a.d(t,"k",(function(){return Gt})),a.d(t,"l",(function(){return ht})),a.d(t,"m",(function(){return No})),a.d(t,"n",(function(){return Io})),a.d(t,"o",(function(){return So})),a.d(t,"p",(function(){return xa})),a.d(t,"q",(function(){return dr})),a.d(t,"r",(function(){return _n})),a.d(t,"s",(function(){return fa})),a.d(t,"t",(function(){return Ka})),a.d(t,"u",(function(){return Ot})),a.d(t,"v",(function(){return Ya})),a.d(t,"w",(function(){return Ua})),a.d(t,"x",(function(){return Ut})),a.d(t,"y",(function(){return we})),a.d(t,"z",(function(){return Ao})),a.d(t,"A",(function(){return vo})),a.d(t,"B",(function(){return Po})),a.d(t,"C",(function(){return Ba})),a.d(t,"D",(function(){return Ar})),a.d(t,"E",(function(){return Ma})),a.d(t,"F",(function(){return L})),a.d(t,"G",(function(){return P})),a.d(t,"H",(function(){return v})),a.d(t,"I",(function(){return Wt})),a.d(t,"J",(function(){return za})),a.d(t,"K",(function(){return Tt})),a.d(t,"L",(function(){return St})),a.d(t,"M",(function(){return fo})),a.d(t,"N",(function(){return To})),a.d(t,"O",(function(){return Pt})),a.d(t,"P",(function(){return pt})),a.d(t,"Q",(function(){return pn})),a.d(t,"R",(function(){return na})),a.d(t,"S",(function(){return ma})),a.d(t,"T",(function(){return Ga})),a.d(t,"U",(function(){return ga})),a.d(t,"V",(function(){return _a})),a.d(t,"W",(function(){return ha})),a.d(t,"X",(function(){return Ja})),a.d(t,"Y",(function(){return J})),a.d(t,"Z",(function(){return B})),a.d(t,"ab",(function(){return ee})),a.d(t,"bb",(function(){return Uo})),a.d(t,"cb",(function(){return Bo})),a.d(t,"db",(function(){return z})),a.d(t,"eb",(function(){return ie})),a.d(t,"fb",(function(){return Mo})),a.d(t,"gb",(function(){return mr})),a.d(t,"hb",(function(){return $})),a.d(t,"ib",(function(){return po})),a.d(t,"jb",(function(){return sr})),a.d(t,"kb",(function(){return pr})),a.d(t,"lb",(function(){return ir})),a.d(t,"mb",(function(){return jo})),a.d(t,"nb",(function(){return _t})),a.d(t,"ob",(function(){return lr})),a.d(t,"pb",(function(){return j})),a.d(t,"qb",(function(){return ne})),a.d(t,"rb",(function(){return oe})),a.d(t,"sb",(function(){return M})),a.d(t,"tb",(function(){return le})),a.d(t,"ub",(function(){return Q})),a.d(t,"vb",(function(){return te})),a.d(t,"wb",(function(){return w})),a.d(t,"xb",(function(){return re})),a.d(t,"yb",(function(){return ae})),a.d(t,"zb",(function(){return _r})),a.d(t,"Ab",(function(){return q})),a.d(t,"Bb",(function(){return ur})),a.d(t,"Cb",(function(){return X})),a.d(t,"Db",(function(){return de})),a.d(t,"Eb",(function(){return yo})),a.d(t,"Fb",(function(){return U})),a.d(t,"Gb",(function(){return xt})),a.d(t,"Hb",(function(){return R}));var n=a("q1tIBJ"),o=a.n(n),r=a("TSYQbt"),i=a.n(r);function l(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]])}return a}function s(e,t,a,n){return new(a||(a=Promise))((function(o,r){function i(e){try{s(n.next(e))}catch(e){r(e)}}function l(e){try{s(n.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,l)}s((n=n.apply(e,t||[])).next())}))}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;var c=a("tq1HG5"),d=a("vOnDsY"),u=a("i8i4Lr"),m=a.n(u),p=a("uHrk/Y"),_=a("ReasPn"),E=a("cXWBsX"),C=a("jrdU/R"),b=a("rSDAkv"),y=a("O6/he3"),g=a("A7KQxY"),O=a("UuZKIf"),h=a("r5StZi"),A=(a("Ve7xi5"),a("zjaiJQ")),f=a("o3nhpB");const v=e=>{var t;if("undefined"==typeof window)return null;const o=(null===window||void 0===window?void 0:window.__PAYMENTS_PORTAL_ROOT__)||"body";return a("i8i4Lr").createPortal(e.children,function(e){const t=Object(n.useRef)(document.createElement("div"));return Object(n.useEffect)((function(){const a=t.current,n=document.querySelector(e);return null==n||n.appendChild(a),function(){null==n||n.removeChild(a)}}),[t,e]),t.current}(null!==(t=e.root)&&void 0!==t?t:o))};function T(e,t){void 0===t&&(t={});var a=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===a&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var I=".Overlay_overlay_Kc0JLrnz{position:fixed;top:0;left:0;bottom:0;width:100%;z-index:399;-webkit-backface-visibility:hidden;backface-visibility:hidden;opacity:0;transition:opacity .25s ease-out;will-change:opacity;background:#282c3f}.Overlay_overlayVisible_sUQK-Hry{opacity:.6}",S={_getCss:function(){return I},_getId:function(){return"9eb2a7895a"},overlay:"Overlay_overlay_Kc0JLrnz",overlayVisible:"Overlay_overlayVisible_sUQK-Hry"};T(I);const N=o.a.createContext({styles:{},addStyles:()=>{}});function R(e,...t){return function(a){return"undefined"==typeof window&&"undefined"==typeof document&&Object(n.useContext)(N).addStyles(t),Object(n.createElement)(e,a)}}var P=Object(n.memo)(R((function(e){var t;const a=i()({[S.overlay]:!0,[S.overlayVisible]:null===(t=e.visible)||void 0===t||t},e.className);return o.a.createElement("div",{className:a,onClick:()=>{"function"==typeof e.onClick&&e.onClick()},"data-testid":e.dataTestId})}),S));const D=(e,t)=>{const a=(e=>document.querySelector(e))(e);if(t){if(null==a)throw new ReferenceError("Invalid element selector was provided: "+e);a.style.overflow="hidden"}else a&&(a.style.overflow="")},L=({selector:e="body",children:t})=>(Object(n.useEffect)(()=>(D(e,!0),()=>D(e,!1)),[e]),t);var k=".DialogHOC_container_DeqIL9E6{z-index:400;left:50%;top:50%;transform:translate3d(-50%,-50%,0);position:fixed;min-width:200px;max-width:300px}.DialogHOC_containerUx4_xL-NXLaU{min-width:312px;max-width:calc(100% - 48px)}",x={_getCss:function(){return k},_getId:function(){return"fc035453c3"},container:"DialogHOC_container_DeqIL9E6",containerUx4:"DialogHOC_containerUx4_xL-NXLaU"};T(k);const w=e=>e instanceof TypeError&&/The internet connection appears to be offline|Failed to fetch|Load failed|Network request failed|NetworkError when attempting to fetch resource|The network connection was lost/i.test(e.message),M=e=>e instanceof TypeError&&/Could not connect to the server|Remote server closed the connection before sending response header|Remote host closed connection during handshake/i.test(e.message),j=e=>e instanceof Error&&"AbortError"==e.name,B=(e,t)=>{var a;if("undefined"!=typeof window&&window.Sentry){if("string"==typeof e&&e.length>0||w(e)||j(e)||!(e instanceof Error))return;null===(a=window.Sentry)||void 0===a||a.captureException(e,t)}},U=({selector:e="div#root"}={})=>{const t=Object(n.useMemo)(()=>(e=>document.querySelector(e))(e),[e]),a=Object(n.useCallback)((e,t)=>{if(t)return null==e?void B("Invalid element was provided"):void e.setAttribute("aria-hidden","true");e&&e.removeAttribute("aria-hidden")},[]);Object(n.useEffect)(()=>(a(t,!0),()=>a(t,!1)),[t,a])};var H=Object(n.memo)((function(e){const{size:t=12,className:a,onClick:n=(()=>null),dataTestId:r,opacity:i="0.6",stroke:l="#02060C"}=e;return o.a.createElement("button",{className:a,onClick:n,"aria-label":"click here to close","data-testid":r},o.a.createElement("svg",{width:t,height:t,viewBox:`0 0 ${t} ${t}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M1.75729 1.75736L5.99993 6M10.2426 10.2426L5.99993 6M5.99993 6L10.2426 1.75736M5.99993 6L1.75729 10.2426",stroke:l,strokeOpacity:i,strokeWidth:"2.25",strokeLinecap:"round",strokeLinejoin:"round"})))})),G=".BottomSheet_closeIcon_2M3Lby4M{display:flex;align-items:center;justify-content:center}.BottomSheet_container_V1hi-9BP{z-index:400;position:fixed;left:0;right:0;bottom:0;max-height:90%;opacity:1;color:#282c3f;overflow-y:auto;background:#fff;will-change:transform;-webkit-backface-visibility:hidden;backface-visibility:hidden;border-radius:4px 4px 0 0}.BottomSheet_containerUx4_ie0q6Kf4{background:#fff;border-radius:24px 24px 0 0;box-shadow:0 -4px 16px rgba(0,0,0,.1)}.BottomSheet_containerShow_y10mQJ1P{animation:BottomSheet_bsAnimationShow_gKJVEr5x .25s;transform:translateZ(0)}.BottomSheet_containerHide_CtCNILI7{animation:BottomSheet_bsAnimationClose_qOHIwiyP .25s;transform:translate3d(0,100%,0)}.BottomSheet_closeIcon_2M3Lby4M{background:transparent;border:none;outline:none;padding:0;text-align:left;-webkit-appearance:none;position:absolute;top:19px;right:19px;height:27px;width:27px;border-radius:20px;background:#fff;box-shadow:0 2px 6px rgba(0,0,0,.12)}@keyframes BottomSheet_bsAnimationShow_gKJVEr5x{0%{transform:translate3d(0,100%,0)}to{transform:translateZ(0)}}@keyframes BottomSheet_bsAnimationClose_qOHIwiyP{0%{transform:translateZ(0)}to{transform:translate3d(0,100%,0)}}",Y={_getCss:function(){return G},_getId:function(){return"b90ef71eff"},closeIcon:"BottomSheet_closeIcon_2M3Lby4M",container:"BottomSheet_container_V1hi-9BP",containerUx4:"BottomSheet_containerUx4_ie0q6Kf4",containerShow:"BottomSheet_containerShow_y10mQJ1P",bsAnimationShow:"BottomSheet_bsAnimationShow_gKJVEr5x",containerHide:"BottomSheet_containerHide_CtCNILI7",bsAnimationClose:"BottomSheet_bsAnimationClose_qOHIwiyP"};T(G);const W="--bottom-sheet-height",F=(e,t=0)=>{document.documentElement.style.setProperty(e,t+"px")};var V=R((function({onClose:e,children:t,containerClass:a,closeButtonDataTestId:r,hideOnOverlayClick:l,containerDataTestId:s,onClickCloseButton:c,hideCloseIcon:d,closeButtonClassName:u,closeIcon:m}){const[p,_]=Object(n.useState)(!0),E=Object(n.useRef)(null),C=Object(n.useCallback)(()=>_(!1),[_]),b=Object(n.useCallback)(()=>{l&&C()},[l,C]),y=Object(n.useCallback)(e=>{e.preventDefault(),"function"==typeof c&&c(),C()},[C,c]),g=Object(n.useCallback)(()=>{var t,a;((e,t)=>{document.documentElement.style.setProperty(t,e+"px")})(null!==(a=null===(t=null==E?void 0:E.current)||void 0===t?void 0:t.clientHeight)&&void 0!==a?a:0,W),p||(F(W),e())},[p,e]),O=i()(Y.container,a,{[Y.containerUx4]:!0,[Y.containerShow]:p,[Y.containerHide]:!p}),h=i()(u,Y.closeIcon);Object(n.useEffect)(()=>()=>{F(W)},[]);const A=Object(n.useCallback)(e=>{e.stopPropagation()},[]),f=Object(n.useMemo)(()=>m||o.a.createElement(H,{dataTestId:r,className:h,onClick:y,size:12}),[m,r,h,y]);return o.a.createElement(v,null,o.a.createElement(L,null,o.a.createElement("div",{id:"payments-bs-container",role:"dialog","aria-modal":"true","data-testid":s,onClick:A},o.a.createElement("div",{id:"payments-bs-container-content",className:O,ref:E,onAnimationEnd:g},t({close:C}),!d&&f),p&&o.a.createElement(P,{onClick:b}))))}),Y);const K=new RegExp("{-?[0-9]+}","g"),z=(...e)=>(t=" ")=>e.join(t);function $(e,...t){return e.replace(K,e=>{const a=parseInt(e.substring(1,e.length-1),10);let n;return n=a>=0?t[a]:-1===a?"{":-2===a?"}":"",n})}function X(e,t,a){try{return JSON.parse(e)}catch(e){return"function"==typeof a&&a(e),t}}function J(e=""){return e.charAt(0).toUpperCase()+e.slice(1)}function Z(e=""){return e.toLowerCase().split(" ").map(e=>J(e)).join(" ")}function q(e="",t,a){return e.replace(new RegExp(t,"g"),a)}function Q(e){switch(typeof e){case"string":return 0===e.length;case"number":case"boolean":return!e;case"undefined":return!0;case"object":return null===e||0===Object.keys(e).length;case"function":return!1;default:return!e}}const ee=e=>{if(null==e||""==e)return!1;const t=Number(e);return!Number.isNaN(t)},te=e=>!Q(e)&&"mweb"===(null==e?void 0:e.toLowerCase()),ae=e=>{const t=e.toLowerCase();return"swiggy-ios"===t||"ios"===t},ne=e=>{const t=e.toLowerCase();return"swiggy-android"===t||"an"===t},oe=e=>ae(e)||ne(e),re=(e=973,t=380,a,n)=>!(Q(n)||Q(a)||isNaN(Number(a)))&&(ne(n)?!e||Number(a)>=e:!!ae(n)&&(!t||Number(a)>=t)),ie=e=>{try{return JSON.stringify(e)}catch(e){return""}},le=(e,t,a)=>e>=t&&e<=a;var se=".InputField_inputField_Ho4c3Jya{margin:30px 0;padding:0;display:block;position:relative}.InputField_inputFieldInline_NkSupCev{display:inline-block;vertical-align:middle}.InputField_focusBar_MDusiMFH{position:absolute;top:42px;left:0;height:2px;margin-top:-1px;width:100%;background-color:#ff5200;transform:scale3d(0,0,0);opacity:0;will-change:transform,opacity}.InputField_input_dTVlKYbI{background-color:transparent;line-height:normal;border:none;border-bottom:1px solid #bebfc5;outline:none;height:42px;width:100%;font-size:15px;margin:0;padding:0;box-shadow:none;box-sizing:border-box;border-radius:0;caret-color:#ff5200}.InputField_input_dTVlKYbI::placeholder{color:#a9abb2}.InputField_input_dTVlKYbI::-webkit-input-placeholder{color:#a9abb2}.InputField_input_dTVlKYbI:focus+.InputField_focusBar_MDusiMFH{transform:scaleX(1);opacity:1;transition:transform .25s ease-in-out}.InputField_inputError_DfJH80FG{border-bottom:1px solid #fa4a5b}.InputField_label_O1K8dzoj{color:#7e808c;position:absolute;bottom:13px;left:0;font-size:.93rem;cursor:text;transition:.2s ease;width:100%;text-transform:uppercase;will-change:transform,color,font-size;transform:translateZ(0)}.InputField_labelActive_posellvG{font-size:.8rem;transform:translate3d(0,-158%,0)}.InputField_labelError_ojBT9Phb{color:#fa4a5b;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}",ce={_getCss:function(){return se},_getId:function(){return"33065cabfc"},inputField:"InputField_inputField_Ho4c3Jya",inputFieldInline:"InputField_inputFieldInline_NkSupCev",focusBar:"InputField_focusBar_MDusiMFH",input:"InputField_input_dTVlKYbI",inputError:"InputField_inputError_DfJH80FG",label:"InputField_label_O1K8dzoj",labelActive:"InputField_labelActive_posellvG",labelError:"InputField_labelError_ojBT9Phb"};T(se);const de=e=>{Object(n.useEffect)(e,[])},ue=R(()=>o.a.createElement("span",{className:ce.focusBar}),ce);Object(n.forwardRef)((function(e,t){var a,r,{attrs:s={}}=e,c=l(e,["attrs"]);const[d,u]=Object(n.useState)(null!==(a=c.keepLabelActive)&&void 0!==a&&a),m=Object(n.useRef)(null),p=Object(n.useRef)(null),_=Object(n.useRef)(null),E=Object(n.useCallback)(()=>m.current,[m]),C=Object(n.useCallback)(()=>{const e=E();return!Q(c.value)||!Q(s.placeholder)||null!==e&&(e===document.activeElement||!Q(e.value))},[s.placeholder,E,c.value]),b=Object(n.useCallback)(()=>s.name,[s.name]),y=Object(n.useCallback)(()=>s.id||s.name,[s.id,s.name]),g=Object(n.useCallback)(()=>{u(C()),void 0!==c.onFocus&&c.onFocus(b())},[C,b,c]),O=Object(n.useCallback)(e=>{e.target===E()&&(u(C()),"function"==typeof c.onBlur&&c.onBlur(b()))},[C,E,b,c]),h=Object(n.useCallback)(e=>{"function"==typeof c.onUp&&c.onUp(e,b())},[b,c]),A=Object(n.useCallback)(e=>{"function"==typeof c.onDown&&c.onDown(e,b())},[b,c]),f=Object(n.useCallback)(e=>{"function"==typeof c.onChange&&c.onChange(e.target.value,b())},[b,c]),v=Object(n.useCallback)(e=>{"function"==typeof c.onPaste&&e.clipboardData&&e.clipboardData.getData&&c.onPaste(e.clipboardData.getData("Text"),b())},[b,c]),T=i()(ce.inputField,c.className,{[ce.inputFieldInline]:c.inline}),I=i()(ce.input,c.inputClassName,{[ce.inputError]:c.error}),S=i()(ce.label,c.labelClassName,{[ce.labelActive]:d,[ce.labelError]:c.error});return Object(n.useImperativeHandle)(t,()=>({focus:()=>{var e,t;null===(e=m.current)||void 0===e||e.setAttribute("autofocus","autofocus"),null===(t=m.current)||void 0===t||t.focus()},blur:()=>{var e;null===(e=m.current)||void 0===e||e.blur()}})),de(()=>{m.current===document.activeElement&&(u(C()),void 0!==c.onFocus&&c.onFocus(b()))}),o.a.createElement("div",{className:T,style:c.style,ref:p},o.a.createElement("input",Object.assign({autoCorrect:"off",autoCapitalize:"off",spellCheck:!1},s,{ref:m,className:I,onFocus:g,onBlur:O,onChange:f,onKeyDown:A,onKeyUp:h,onPaste:v,value:c.value,id:y(),disabled:null!==(r=c.disabled)&&void 0!==r&&r})),o.a.createElement(ue,null),o.a.createElement("label",{className:S,htmlFor:y(),ref:_},c.label))}));var me,pe,_e=new RegExp("{-?[0-9]+}","g"),Ee=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.replace(_e,(function(e){var a=parseInt(e.substring(1,e.length-1),10);return a>=0?t[a]:-1===a?"{":-2===a?"}":""}))};function Ce(e,t){if(void 0===t&&(t=!0),null==e)return!0;switch(typeof e){case"string":return t?0===e.length:0===e.trim().length;case"number":case"boolean":return!e;case"undefined":return!0;case"object":return null===e||0===Object.keys(e).length;case"function":case"symbol":return!1;default:return!e}}(pe=me||(me={})).APPS="apps",pe.PORTAL="portal",pe.INSTAMART="instamart",pe.GENIE="genie",pe.MINIS="minis",pe.DINEOUT="dineout",pe.DE="de",pe.VENDOR="vendor",pe.PARTNER="partner",pe.DEFAULT="default";var be,ye,ge={image:"https://media-assets.swiggy.com/swiggy/image/upload",video:"https://media-assets.swiggy.com/swiggy/video/upload",raw:"https://media-assets.swiggy.com/swiggy/raw/upload"},Oe={image:"https://dineout-media-assets.swiggy.com/swiggy/image/upload",video:"https://dineout-media-assets.swiggy.com/swiggy/video/upload",raw:"https://dineout-media-assets.swiggy.com/swiggy/raw/upload"},he=function(e){switch(e){case me.PORTAL:return ge;case me.DINEOUT:return Oe;case me.DEFAULT:default:return ge}},Ae=function(e,t,a){return 0===a.length?Ee("{0}/{1}",t,e):Ee("{0}/{1}/{2}",t,a.join(","),e)},fe=function(e,t,a){if(void 0===t&&(t={}),void 0===a&&(a={}),!Ce(e)){var n,o,r=["fl_lossy","f_auto","q_auto"];if(t.width&&t.width>0&&r.push("w_"+t.width),t.height&&t.height>0&&r.push("h_"+t.height),t.radius&&t.radius>0?r.push("r_"+t.radius):t.circular&&r.push("r_max"),t.centerScale&&r.push("c_scale"),t.trim&&r.push("e_trim"),t.grayscale&&r.push("e_grayscale"),t.fill&&r.push("c_fill"),t.fit&&r.push("c_fit"),t.shadow&&t.shadow.e&&t.shadow.e>0){var i=[];i.push("e_shadow:"+t.shadow.e),"number"==typeof t.shadow.x&&i.push("x_"+t.shadow.x),"number"==typeof t.shadow.y&&i.push("y_"+t.shadow.y),t.shadow.colorRGB&&i.push("co_rgb:"+t.shadow.colorRGB),r.push.apply(r,i)}return Ae(e,(o=void 0===(n=a.teamLine)?me.DEFAULT:n,he(o).image),r)}},ve=new Date,Te=new Date(ve.getFullYear(),ve.getMonth(),ve.getDate()).getTime(),Ie=function(e,t,a){if(void 0===t&&(t={keepExtension:!0,cache:!1}),void 0===a&&(a={}),Ce(e))return"";var n,o,r=t.cache?"v"+Te+"/"+e:e;return Ae(r,(o=void 0===(n=a.teamLine)?me.DEFAULT:n,he(o).raw),[])};(ye=be||(be={})).TOKEN="authToken",ye.OZONE_COMPLIANT="ozoneComplaint",Object.defineProperty(function(e){var t=this;this.getBoldText=function(){return t.value=t.value.replace(new RegExp("\\[\\[","g"),'<span style="font-weight: 600;">').replace(new RegExp("\\]\\]","g"),"</span>"),t},this.getSavingsHighlightedText=function(){return t.value=t.value.replace(new RegExp("\\(\\(savings\\|","g"),"<span style='color: #1BA672;font-weight: 600;'>").replace(new RegExp("\\)\\)","g"),"</span>"),t},this.getSwiggyOneSavingsHighlightedText=function(){return t.value=t.value.replace(new RegExp("\\(\\(savings-one\\|","g"),"<span style='color: #F15C52;font-weight: 600;'>").replace(new RegExp("\\)\\)","g"),"</span>"),t},this.getStrikethroughText=function(){return t.value=t.value.replace(new RegExp("\\(\\(strikethrough\\|","g"),"<span style='text-decoration: line-through;'>").replace(new RegExp("\\)\\)","g"),"</span>"),t},this.getNewLine=function(){return t.value=t.value.replace(new RegExp("\\\n","g"),"<br />"),t},this.getImage=function(e){var a=e.imgStyle,n=void 0===a?"":a,o=e.imgHeight,r=void 0===o?"":o,i=e.imgWidth,l=void 0===i?"":i,s=e.loading,c=void 0===s?"eager":s,d=e.iconHasHeightWidth,u=void 0!==d&&d,m=t.value.indexOf("{{img|");if(m<0)return t;var p=t.value.indexOf("}}",m),_=t.value.slice(m+6,p),E=fe(_);if(u)try{var C=t.value.indexOf("{{img|",0),b=t.value.indexOf("}}","}}".length),y=t.value.substring(C,b),g=function(e){var t=e.split("|"),a=t[0],n=t[1],o=t[2];return{width:a,height:n,cloudinaryId:null==o?void 0:o.replace("{{img|","").replace("}}","")}}(null==y?void 0:y.replace("{{img|","").replace("}}",""));l=g.width,r=g.height,E=fe(g.cloudinaryId)}catch(e){}return t.value=t.value.slice(0,m)+'<img class="'+n+'" src="'+E+'" width="'+l+'" height="'+r+'" loading={'+c+"} />"+t.value.slice(p+2),t},this.value=e}.prototype,"val",{get:function(){return this.value},enumerable:!1,configurable:!0});const Se=d.default.div`
    margin: ${e=>e.theme.spacing.xLarge} ${e=>e.theme.spacing.empty};
    padding: ${e=>e.theme.spacing.empty};
    display: ${e=>e.$inline?"inline-block":"block"};
    position: relative;

    ${e=>e.$inline&&d.css`
            vertical-align: middle;
        `}
`,Ne=d.default.div`
    position: relative;
`,Re=d.default.input`
    background: ${e=>e.theme.colors[e.theme.colorMode].background_Primary};
    padding: ${e=>e.theme.spacing.empty} ${e=>e.theme.spacing.medium};
    outline: none;
    height: 56px;
    width: 100%;
    margin: ${e=>e.theme.spacing.empty};
    box-shadow: none;
    box-sizing: border-box;
    caret-color: ${e=>e.theme.colors[e.theme.colorMode].primary};
    ${e=>e.theme.typography["V2.body1.neutral.medium"]}
    color: ${e=>e.theme.colors[e.theme.colorMode].text_Highest_Emphasis};
    
    ${e=>e.$showFocusBar?d.css`
                  border: none;
                  border-bottom: 1px solid ${e.theme.colors[e.theme.colorMode].border_Secondary};
                  border-radius: ${e.theme.cornerRadius.none};
              `:d.css`
                  border: 1px solid ${e.theme.colors[e.theme.colorMode].border_Secondary};
                  border-radius: ${e.theme.cornerRadius.small};
              `}
    
    &::placeholder,
    &::-webkit-input-placeholder {
        ${e=>e.theme.typography["V2.body1.neutral.medium"]}
        color: ${e=>e.theme.colors[e.theme.colorMode].text_Med_Emphasis};
    }
    
    &:hover,
    &:focus,
    &:disabled {
        background: ${e=>e.theme.colors[e.theme.colorMode].background_Primary};
    }
    
    &:focus {
        border-width: ${e=>e.theme.spacing.xxxSmall};
        ${e=>e.$showFocusBar?d.css`
                      border-bottom-color: ${e.theme.colors[e.theme.colorMode].primary};
                  `:d.css`
                      border-color: ${e.theme.colors[e.theme.colorMode].primary};
                  `}
        
        + label {
            color: ${e=>e.theme.colors[e.theme.colorMode].primary};
        }
    }
    
    ${e=>e.$disabled&&d.css`
            color: ${e.theme.colors[e.theme.colorMode].text_Low_Emphasis};
            border-color: ${e.theme.colors[e.theme.colorMode].border_Secondary};
            border-width: 1px;
        `}
    
    ${e=>e.$warning&&d.css`
            border-width: ${e=>e.theme.spacing.xxxSmall};
            ${e.$showFocusBar?d.css`
                      border-bottom-color: ${e.theme.colors[e.theme.colorMode].warning};
                  `:d.css`
                      border-color: ${e.theme.colors[e.theme.colorMode].warning};
                  `}

            &:focus {
                border-width: ${e=>e.theme.spacing.xxxSmall};
                ${e.$showFocusBar?d.css`
                          border-bottom-color: ${e.theme.colors[e.theme.colorMode].warning};
                      `:d.css`
                          border-color: ${e.theme.colors[e.theme.colorMode].warning};
                      `}

                + label {
                    color: ${e.theme.colors[e.theme.colorMode].warning};
                }
            }
        `}
    
    ${e=>e.$error&&d.css`
            border-width: ${e=>e.theme.spacing.xxxSmall};
            ${e.$showFocusBar?d.css`
                      border-bottom-color: ${e.theme.colors[e.theme.colorMode].negative};
                  `:d.css`
                      border-color: ${e.theme.colors[e.theme.colorMode].negative};
                  `}

            &:focus {
                border-width: ${e=>e.theme.spacing.xxxSmall};
                ${e.$showFocusBar?d.css`
                          border-bottom-color: ${e.theme.colors[e.theme.colorMode].negative};
                      `:d.css`
                          border-color: ${e.theme.colors[e.theme.colorMode].negative};
                      `}

                + label {
                    color: ${e.theme.colors[e.theme.colorMode].negative};
                }
            }
        `}
`,Pe=d.default.label`
    ${e=>e.theme.typography["V2.body1.neutral.regular"]}
    color: ${e=>e.theme.colors[e.theme.colorMode].text_Med_Emphasis};
    position: absolute;
    bottom: ${e=>e.theme.spacing.medium};
    left: ${e=>e.theme.spacing.medium};
    cursor: text;
    transition: 0.2s ease;
    will-change: transform, color, font-size, top, bottom;
    
    ${e=>e.$isActive&&d.css`
            ${e=>e.theme.typography["V2.body3.neutral.regular"]}
            top: ${e=>e.theme.spacing.empty};
            bottom: unset;
            background: ${e.theme.colors[e.theme.colorMode].background_Primary};
            padding: ${e=>e.theme.spacing.empty} ${e=>e.theme.spacing.xxSmall};
            transform: translate3d(0, -50%, 0);
        `}
    
    ${e=>e.$error&&d.css`
            color: ${e.theme.colors[e.theme.colorMode].negative};
        `}
    
    ${e=>e.$warning&&d.css`
            color: ${e.theme.colors[e.theme.colorMode].warning};
        `}
    
    ${e=>e.$disabled&&d.css`
            color: ${e.theme.colors[e.theme.colorMode].text_Low_Emphasis};
        `}
`,De=d.default.svg`
    position: absolute;
    top: 50%;
    right: ${e=>e.theme.spacing.medium};
    transform: translateY(-50%);
    width: 20px;
    height: 20px;
`,Le=d.default.div`
    color: ${e=>e.theme.colors[e.theme.colorMode].negative};
    ${e=>e.$showFocusBar?d.css`
                  padding: ${e=>e.theme.spacing.small} ${e=>e.theme.spacing.empty}
                      ${e=>e.theme.spacing.xxSmall};
              `:d.css`
                  padding: ${e=>e.theme.spacing.xLarge} ${e=>e.theme.spacing.medium}
                      ${e=>e.theme.spacing.xxSmall};
                  margin-top: -${e=>e.theme.spacing.large};
                  background: ${e.theme.colors[e.theme.colorMode].negative_Sub};
                  border: 1.5px solid ${e.theme.colors[e.theme.colorMode].border_Tertiary};
                  border-radius: ${e=>e.theme.cornerRadius.small};

                  + div {
                      margin-bottom: ${e=>e.theme.spacing.empty};
                  }
              `}
`,ke=d.default.div`
    ${e=>e.$showFocusBar?d.css`
                  padding: ${e=>e.theme.spacing.small} ${e=>e.theme.spacing.empty}
                      ${e=>e.theme.spacing.xxSmall};
              `:d.css`
                  padding: ${e=>e.theme.spacing.xLarge} ${e=>e.theme.spacing.medium}
                      ${e=>e.theme.spacing.xxSmall};
                  margin-top: -${e=>e.theme.spacing.large};
                  background: ${e.theme.colors[e.theme.colorMode].warning_Sub};
                  border-radius: ${e=>e.theme.cornerRadius.small};

                  + div {
                      margin-bottom: ${e=>e.theme.spacing.empty};
                  }
              `}
`,xe=o.a.memo(()=>o.a.createElement(De,{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("circle",{cx:"10",cy:"10",r:"10",fill:"#E53554"}),o.a.createElement("path",{d:"M10 5L10 10",stroke:"white",strokeWidth:"2.4",strokeLinecap:"round",strokeLinejoin:"round"}),o.a.createElement("rect",{x:"8.5",y:"13",width:"3",height:"3",rx:"1.5",fill:"white"})));var we=Object(n.forwardRef)((function(e,t){var a,r,{attrs:i={}}=e,s=l(e,["attrs"]);const{errorMessage:d,showFocusBar:u,warningMessage:m}=s,[p,_]=Object(n.useState)(null!==(a=s.keepLabelActive)&&void 0!==a&&a),E=Object(n.useRef)(null),C=Object(n.useRef)(null),b=Object(n.useRef)(null),y=Object(n.useCallback)(()=>E.current,[E]),g=Object(n.useCallback)(()=>{const e=y();return!Ce(s.value)||!Ce(i.placeholder)||null!==e&&(e===document.activeElement||!Ce(e.value))},[i.placeholder,y,s.value]),O=Object(n.useCallback)(()=>i.name,[i.name]),h=Object(n.useCallback)(()=>i.id||i.name,[i.id,i.name]),A=Object(n.useCallback)(()=>{_(g()),void 0!==s.onFocus&&s.onFocus(O())},[g,O,s]),f=Object(n.useCallback)(e=>{e.target===y()&&(_(g()),"function"==typeof s.onBlur&&s.onBlur(O()))},[g,y,O,s]),v=Object(n.useCallback)(e=>{"function"==typeof s.onUp&&s.onUp(e,O())},[O,s]),T=Object(n.useCallback)(e=>{"function"==typeof s.onDown&&s.onDown(e,O())},[O,s]),I=Object(n.useCallback)(e=>{"function"==typeof s.onChange&&s.onChange(e.target.value,O())},[O,s]),S=Object(n.useCallback)(e=>{"function"==typeof s.onPaste&&e.clipboardData&&e.clipboardData.getData&&s.onPaste(e.clipboardData.getData("Text"),O())},[O,s]);return Object(n.useImperativeHandle)(t,()=>({focus:()=>{var e,t;null===(e=E.current)||void 0===e||e.setAttribute("autofocus","autofocus"),null===(t=E.current)||void 0===t||t.focus()},blur:()=>{var e;null===(e=E.current)||void 0===e||e.blur()}})),de(()=>{E.current===document.activeElement&&(_(g()),void 0!==s.onFocus&&s.onFocus(O()))}),o.a.createElement(Se,{$inline:s.inline,className:s.className,style:s.style,ref:C},o.a.createElement(Ne,null,o.a.createElement(Re,Object.assign({autoCorrect:"off",autoCapitalize:"off",spellCheck:!1},i,{ref:E,className:s.inputClassName,$showFocusBar:u,$error:s.error,$warning:s.warning,$disabled:s.disabled,onFocus:A,onBlur:f,onChange:I,onKeyDown:T,onKeyUp:v,onPaste:S,value:s.value,id:h(),disabled:null!==(r=s.disabled)&&void 0!==r&&r})),!Ce(d)&&!u&&o.a.createElement(xe,null),o.a.createElement(Pe,{className:s.labelClassName,$isActive:p||s.keepLabelActive,$error:s.error,$warning:s.warning,$disabled:s.disabled,htmlFor:h(),ref:b},s.label)),!Ce(d)&&o.a.createElement(Le,{$showFocusBar:u},o.a.createElement(c.Text,{variant:"V2.body3.neutral.medium",color:"negative"},d)),!Ce(m)&&Ce(d)&&o.a.createElement(ke,{$showFocusBar:u},o.a.createElement(c.Text,{variant:"V2.body3.neutral.medium",color:"warning"},m)))}));const Me=d.default.input`
    position: absolute;
    left: -9999px;
    opacity: 0;
`,je=d.default.label(({theme:e,$checked:t})=>({position:"relative",cursor:"pointer",display:"inline-block",width:"18px",height:"18px",backgroundColor:"transparent",borderRadius:e.spacing.xxSmall,transition:"border 0.3s",border:t?"1px solid "+e.colors[e.colorMode].primary:"1px solid "+e.colors[e.colorMode].border_Subtle_Secondary})),Be=d.default.svg(({theme:e,$checked:t})=>({height:"20px",width:"20px",transition:"transform 0.3s cubic-bezier(0.23, 1, 0.32, 1) 0ms",position:"absolute",left:"-"+e.spacing.xxxSmall,top:"-"+e.spacing.xxxSmall,opacity:1,fill:e.colors[e.colorMode].primary,transform:t?"scale(1.1)":"scale(0)"}));var Ue;!function(e){e.SWIGGY_ORANGE="SWIGGY_ORANGE"}(Ue||(Ue={}));const He=o.a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"});var Ge=Object(n.memo)((function(e){const{checked:t,accent:a,attrs:r={},onChange:i,isLightBorder:l}=e,s=Object(n.useCallback)(e=>{const{name:t,value:a,checked:n}=e.target;null!=i&&i(t,a,n)},[i]),c=Object(n.useCallback)(e=>{e.stopPropagation()},[]);return o.a.createElement(je,{$accent:a,$checked:t,$isLightBorder:l},o.a.createElement(Me,Object.assign({type:"checkbox",name:e.name,value:e.value,onChange:s,onClick:c,checked:t},r)),o.a.createElement(Be,{$checked:t,viewBox:"0 0 24 24"},He))}));function Ye(){return(Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(null,arguments)}function We(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}function Fe(e,t){return(Fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ve(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Fe(e,t)}function Ke(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ze(e,t,a){return e(a={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&a.path)}},a.exports),a.exports}function $e(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Xe=o.a.createContext(null),Je=function(e){return e.scrollTop},Ze="entering",qe="entered",Qe=function(e){function t(t,a){var n;n=e.call(this,t,a)||this;var o,r=a&&!a.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?r?(o="exited",n.appearStatus=Ze):o=qe:o=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",n.state={status:o},n.nextCallback=null,n}Ve(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var a=t.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var a=this.state.status;this.props.in?a!==Ze&&a!==qe&&(t=Ze):a!==Ze&&a!==qe||(t="exiting")}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,a,n=this.props.timeout;return e=t=a=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,a=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:a}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Ze){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:m.a.findDOMNode(this);a&&Je(a)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},a.performEnter=function(e){var t=this,a=this.props.enter,n=this.context?this.context.isMounting:e,o=this.props.nodeRef?[n]:[m.a.findDOMNode(this),n],r=o[0],i=o[1],l=this.getTimeouts(),s=n?l.appear:l.enter;e||a?(this.props.onEnter(r,i),this.safeSetState({status:Ze},(function(){t.props.onEntering(r,i),t.onTransitionEnd(s,(function(){t.safeSetState({status:qe},(function(){t.props.onEntered(r,i)}))}))}))):this.safeSetState({status:qe},(function(){t.props.onEntered(r)}))},a.performExit=function(){var e=this,t=this.props.exit,a=this.getTimeouts(),n=this.props.nodeRef?void 0:m.a.findDOMNode(this);t?(this.props.onExit(n),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(n),e.onTransitionEnd(a.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(n)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,a=!0;return this.nextCallback=function(n){a&&(a=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var a=this.props.nodeRef?this.props.nodeRef.current:m.a.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(a&&!n){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],r=o[0],i=o[1];this.props.addEndListener(r,i)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,a=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,We(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.a.createElement(Xe.Provider,{value:null},"function"==typeof a?a(e,n):o.a.cloneElement(o.a.Children.only(a),n))},t}(o.a.Component);function et(){}Qe.contextType=Xe,Qe.propTypes={},Qe.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:et,onEntering:et,onEntered:et,onExit:et,onExiting:et,onExited:et},Qe.UNMOUNTED="unmounted",Qe.EXITED="exited",Qe.ENTERING=Ze,Qe.ENTERED=qe,Qe.EXITING="exiting";var tt,at,nt=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return n=t,void((a=e).classList?a.classList.remove(n):"string"==typeof a.className?a.className=$e(a.className,n):a.setAttribute("class",$e(a.className&&a.className.baseVal||"",n)));var a,n}))},ot=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,a){var n=t.resolveArguments(e,a),o=n[0],r=n[1];t.removeClasses(o,"exit"),t.addClass(o,r?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,a)},t.onEntering=function(e,a){var n=t.resolveArguments(e,a),o=n[0],r=n[1]?"appear":"enter";t.addClass(o,r,"active"),t.props.onEntering&&t.props.onEntering(e,a)},t.onEntered=function(e,a){var n=t.resolveArguments(e,a),o=n[0],r=n[1]?"appear":"enter";t.removeClasses(o,r),t.addClass(o,r,"done"),t.props.onEntered&&t.props.onEntered(e,a)},t.onExit=function(e){var a=t.resolveArguments(e)[0];t.removeClasses(a,"appear"),t.removeClasses(a,"enter"),t.addClass(a,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var a=t.resolveArguments(e)[0];t.addClass(a,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var a=t.resolveArguments(e)[0];t.removeClasses(a,"exit"),t.addClass(a,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,a){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,a]},t.getClassNames=function(e){var a=t.props.classNames,n="string"==typeof a,o=n?(n&&a?a+"-":"")+e:a[e];return{baseClassName:o,activeClassName:n?o+"-active":a[e+"Active"],doneClassName:n?o+"-done":a[e+"Done"]}},t}Ve(t,e);var a=t.prototype;return a.addClass=function(e,t,a){var n=this.getClassNames(t)[a+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===a&&o&&(n+=" "+o),"active"===a&&e&&Je(e),n&&(this.appliedClasses[t][a]=n,function(e,t){e&&t&&t.split(" ").forEach((function(t){return n=t,void((a=e).classList?a.classList.add(n):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(a,n)||("string"==typeof a.className?a.className=a.className+" "+n:a.setAttribute("class",(a.className&&a.className.baseVal||"")+" "+n)));var a,n}))}(e,n))},a.removeClasses=function(e,t){var a=this.appliedClasses[t],n=a.base,o=a.active,r=a.done;this.appliedClasses[t]={},n&&nt(e,n),o&&nt(e,o),r&&nt(e,r)},a.render=function(){var e=this.props,t=(e.classNames,We(e,["classNames"]));return o.a.createElement(Qe,Ye({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(o.a.Component);ot.defaultProps={classNames:""},ot.propTypes={};var rt="out-in",it="in-out",lt=function(e,t,a){return function(){var n;e.props[t]&&(n=e.props)[t].apply(n,arguments),a()}},st=((tt={})[rt]=function(e){var t=e.current,a=e.changeState;return o.a.cloneElement(t,{in:!1,onExited:lt(t,"onExited",(function(){a(Ze,null)}))})},tt[it]=function(e){var t=e.current,a=e.changeState,n=e.children;return[t,o.a.cloneElement(n,{in:!0,onEntered:lt(n,"onEntered",(function(){a(Ze)}))})]},tt),ct=((at={})[rt]=function(e){var t=e.children,a=e.changeState;return o.a.cloneElement(t,{in:!0,onEntered:lt(t,"onEntered",(function(){a(qe,o.a.cloneElement(t,{in:!0}))}))})},at[it]=function(e){var t=e.current,a=e.children,n=e.changeState;return[o.a.cloneElement(t,{in:!1,onExited:lt(t,"onExited",(function(){n(qe,o.a.cloneElement(a,{in:!0}))}))}),o.a.cloneElement(a,{in:!0})]},at),dt=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={status:qe,current:null},t.appeared=!1,t.changeState=function(e,a){void 0===a&&(a=t.state.current),t.setState({status:e,current:a})},t}Ve(t,e);var a=t.prototype;return a.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===Ze&&e.mode===it?{status:Ze}:!t.current||((a=t.current)===(n=e.children)||o.a.isValidElement(a)&&o.a.isValidElement(n)&&null!=a.key&&a.key===n.key)?{current:o.a.cloneElement(e.children,{in:!0})}:{status:"exiting"};var a,n},a.render=function(){var e,t=this.props,a=t.children,n=t.mode,r=this.state,i=r.status,l=r.current,s={children:a,current:l,changeState:this.changeState,status:i};switch(i){case Ze:e=ct[n](s);break;case"exiting":e=st[n](s);break;case qe:e=l}return o.a.createElement(Xe.Provider,{value:{isMounting:!this.appeared}},e)},t}(o.a.Component);dt.propTypes={},dt.defaultProps={mode:rt};var ut=".style_container_BDGpfIN-{display:flex;position:absolute;left:0;top:0;width:100%;height:100%;will-change:left;-webkit-backface-visibility:hidden;backface-visibility:hidden;flex-direction:column}.style_containerEnter_AEeHdMNI{transform:translate3d(100%,0,0);z-index:101}.style_containerEnterActive_382wO8ZW{transition:transform var(--screen-transition-time,.2s) linear}.style_containerEnterActive_382wO8ZW,.style_containerEnterDone_j76MX-RH{transform:translateZ(0)}.style_containerEnterForward_66HApjRB{transform:translate3d(-200%,0,0)}.style_containerEnterForwardActive_eFqL1UrL{transform:translateZ(0);transition:transform var(--screen-back-transition-time,.3s) linear}.style_containerEnterForwardDone_Ymofa2MX,.style_containerExit_IJ-dPdR3{transform:translateZ(0)}.style_containerExitActive_7TSRdKdK{transition:transform var(--screen-transition-time,.2s) linear,visibility var(--screen-transition-time,.2s) linear;visibility:hidden}.style_containerExitActive_7TSRdKdK,.style_containerExitDone_RgFoTrdy{transform:translate3d(-100%,0,0)}.style_containerExitForward_6lTGpFSB{transform:translateZ(0)}.style_containerExitForwardActive_xgJhmPfH{transition:transform var(--screen-transition-time,.2s) linear,visibility var(--screen-transition-time,.2s) linear;visibility:hidden}.style_containerExitForwardActive_xgJhmPfH,.style_containerExitForwardDone_inzjPoGV{transform:translate3d(100%,0,0)}",mt={_getCss:function(){return ut},_getId:function(){return"3257659da4"},container:"style_container_BDGpfIN-",containerEnter:"style_containerEnter_AEeHdMNI",containerEnterActive:"style_containerEnterActive_382wO8ZW",containerEnterDone:"style_containerEnterDone_j76MX-RH",containerEnterForward:"style_containerEnterForward_66HApjRB",containerEnterForwardActive:"style_containerEnterForwardActive_eFqL1UrL",containerEnterForwardDone:"style_containerEnterForwardDone_Ymofa2MX",containerExit:"style_containerExit_IJ-dPdR3",containerExitActive:"style_containerExitActive_7TSRdKdK",containerExitDone:"style_containerExitDone_RgFoTrdy",containerExitForward:"style_containerExitForward_6lTGpFSB",containerExitForwardActive:"style_containerExitForwardActive_xgJhmPfH",containerExitForwardDone:"style_containerExitForwardDone_inzjPoGV"};T(ut);var pt=R((function({children:e,forward:t=!0,transitionMode:a="in-out"}){var r;const i=null!==(r=null==e?void 0:e.key)&&void 0!==r?r:"no_key",l=Object(n.useRef)({[i]:{component:e,nodeRef:Object(n.createRef)()}});l.current[i]={component:e,nodeRef:Object(n.createRef)()};const s=l.current[i],c=Object(n.useMemo)(()=>t?{enter:mt.containerEnter,enterActive:mt.containerEnterActive,enterDone:mt.containerEnterDone,exit:mt.containerExit,exitActive:mt.containerExitActive,exitDone:mt.containerExitDone}:{enter:mt.containerEnterForward,enterActive:mt.containerEnterForwardActive,enterDone:mt.containerEnterForwardDone,exit:mt.containerExitForward,exitActive:mt.containerExitForwardActive,exitDone:mt.containerExitForwardDone},[t]),d=Object(n.useCallback)(e=>{var t;(null===(t=s.nodeRef)||void 0===t?void 0:t.current)&&s.nodeRef.current.addEventListener("transitionend",e,!1)},[s.nodeRef]);return s?o.a.createElement(dt,{mode:a},o.a.createElement(ot,{key:i,nodeRef:s.nodeRef,classNames:c,addEndListener:d},o.a.createElement("div",{ref:s.nodeRef,className:mt.container},s.component))):o.a.createElement(o.a.Fragment,null)}),mt);const _t=(e="",t={})=>fe(e,t,{teamLine:me.PORTAL})||"",Et="Sorry! This should not have happened. Please retry.",Ct="Uh-oh!";var bt=".styles_errorAction_qOponN2j,.styles_errorPrimaryAction_MSTOfvGW{margin-top:16px;height:40px;line-height:38px;font-weight:600;border:1px solid #ff5200;color:#ff5200;text-transform:uppercase;padding:0 18px;position:relative;overflow:hidden;text-decoration:none;display:block;font-size:.86rem}@media (max-height:480px){.styles_errorAction_qOponN2j,.styles_errorPrimaryAction_MSTOfvGW{margin-top:36px}}.styles_errorActionUx4_fyDzZfDe,.styles_errorPrimaryActionUx4_CdBzDfSM{font-size:16px;line-height:20px;letter-spacing:-.3px;font-weight:600;background:#ffeee5;border:1px solid #f9decf;color:#ff5200;border-radius:12px;text-transform:none;height:48px;min-width:158px;line-height:48px}.styles_error_elRcwweA{background:#fff;height:100%;overflow:hidden}.styles_errorContent_q82w-y9p{display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center;height:100%;padding-bottom:32px}.styles_errorContentUx4_n4lVZOJ7{position:absolute;width:100%;right:0;top:100px}.styles_errorImage_0jhWUTYu{width:100vw;height:67.5vw;object-fit:contain;object-position:center center;margin:0 auto}.styles_errorImageUx4_Bv3v8cYh{width:100vw;height:75vh;position:fixed;object-fit:fill;bottom:0;right:0}.styles_errorImageHalfHeight_yB3cnmuf{height:50vw;margin-bottom:50px}.styles_errorTitle_HA3-zSYp{font-weight:600;font-size:1.3rem;color:#282c3f}.styles_errorTitleUx4_0Rp0txkl{font-size:24px;line-height:28px;font-weight:800;letter-spacing:-.4px;color:rgba(2,6,12,.9215686275)}.styles_errorMsg_XBHeDSIf,.styles_errorSecondMsg_bCNYFkyl{font-size:1rem;color:#686b78;line-height:1.2}.styles_errorMsg_XBHeDSIf{margin-top:48px}.styles_errorMsgUx4_xVrHlFnY{font-size:14px;line-height:17px;font-weight:400;letter-spacing:-.3px;color:rgba(2,6,12,.6)}.styles_errorTitle_HA3-zSYp+.styles_errorMsg_XBHeDSIf{margin-top:4px}.styles_errorTitle_HA3-zSYp+.styles_errorMsgUx4_xVrHlFnY{margin-top:8px}.styles_errorTextContent_Wgqg0aOr{margin-top:24px;padding:0 60px}.styles_errorTextContentUx4_PqjgFHhD{z-index:1}.styles_errorActionContainer_bxzrRRwC{margin-top:16px}.styles_errorPrimaryAction_MSTOfvGW{background:transparent;border:none;outline:none;padding:0;text-align:left;-webkit-appearance:none;background-color:#ff5200;color:#fff;text-align:center}.styles_errorPrimaryActionUx4_CdBzDfSM{background-color:#ff5200;color:hsla(0,0%,100%,.9176470588)}.styles_errorPrimaryActionUx4_CdBzDfSM:disabled{opacity:.4}.styles_errorBackButton_qsI9llAs{background:transparent;border:none;outline:none;padding:0;text-align:left;-webkit-appearance:none;top:44px;left:16px}",yt={_getCss:function(){return bt},_getId:function(){return"2303531f19"},errorAction:"styles_errorAction_qOponN2j",errorPrimaryAction:"styles_errorPrimaryAction_MSTOfvGW",errorActionUx4:"styles_errorActionUx4_fyDzZfDe",errorPrimaryActionUx4:"styles_errorPrimaryActionUx4_CdBzDfSM",error:"styles_error_elRcwweA",errorContent:"styles_errorContent_q82w-y9p",errorContentUx4:"styles_errorContentUx4_n4lVZOJ7",errorImage:"styles_errorImage_0jhWUTYu",errorImageUx4:"styles_errorImageUx4_Bv3v8cYh",errorImageHalfHeight:"styles_errorImageHalfHeight_yB3cnmuf",errorTitle:"styles_errorTitle_HA3-zSYp",errorTitleUx4:"styles_errorTitleUx4_0Rp0txkl",errorMsg:"styles_errorMsg_XBHeDSIf",errorSecondMsg:"styles_errorSecondMsg_bCNYFkyl",errorMsgUx4:"styles_errorMsgUx4_xVrHlFnY",errorTextContent:"styles_errorTextContent_Wgqg0aOr",errorTextContentUx4:"styles_errorTextContentUx4_PqjgFHhD",errorActionContainer:"styles_errorActionContainer_bxzrRRwC",errorBackButton:"styles_errorBackButton_qsI9llAs"};T(bt);const gt={onClick:()=>window.location.reload(),text:"Retry"};var Ot=R(e=>{var t;const{primaryAction:a,action:r=gt}=e,{message:l=Et,title:s=Ct,secondMessage:c=""}=e,d=Object(n.useRef)(-1),[u,m]=Object(n.useState)((null===(t=null==e?void 0:e.primaryAction)||void 0===t?void 0:t.timeDisabledFor)||0),E=i()(yt.error,e.className),C=i()({[yt.errorContent]:!0,[yt.errorContentUx4]:!e.imageId},e.contentClassName),b=i()(yt.errorTitle,{[yt.errorTitleUx4]:!0},e.titleClassName),y=i()({[yt.errorImage]:!0,[yt.errorImageUx4]:!e.imageId,[yt.errorImageHalfHeight]:e.isHalfHeightImage},e.imageClassName),g=i()({[yt.errorTextContent]:!0,[yt.errorTextContentUx4]:!0},e.textContentClassName);de(()=>{var t,a;return null===(t=e.pageImpressionEvent)||void 0===t||t.call(e),(null===(a=e.primaryAction)||void 0===a?void 0:a.timeDisabledFor)&&(d.current=window.setInterval(()=>{m(e=>e-1)},1e3)),()=>{clearInterval(d.current)}}),Object(n.useEffect)(()=>{u<=0&&clearInterval(d.current)},[u]);const O=Object(n.useCallback)(t=>{t.preventDefault(),e.primaryAction&&e.primaryAction.onClick()},[e.primaryAction]),h=Object(n.useCallback)(e=>{e.preventDefault(),r&&r.onClick()},[r]),A=Object(n.useCallback)(t=>{var a;t.preventDefault(),null===(a=null==e?void 0:e.onBackCTA)||void 0===a||a.call(e)},[e]),f=Object(n.useCallback)(()=>{var t;return _t(e.imageId||"4_0_Assets/ux4_empty_cart_500",{trim:null===(t=e.trim)||void 0===t||t})},[e.imageId,e.trim]);return o.a.createElement("div",{className:E,"data-testid":e.dataTestId},!Ce(e.onBackCTA)&&o.a.createElement(p.Button,{className:yt.errorBackButton,onClick:A,"data-testid":"error-back-button",variant:"primary"},o.a.createElement(_.SpriteIconWeb,{iconName:"arrowBack24",fillColor:"text_Med_Emphasis"})),o.a.createElement("div",{className:C},o.a.createElement("img",{className:y,crossOrigin:"anonymous",src:f(),alt:s}),o.a.createElement("div",{className:g},s&&o.a.createElement("div",{"data-testid":"error-title",className:b},s),o.a.createElement("div",{className:i()(yt.errorMsg,{[yt.errorMsgUx4]:!0})},l),c&&o.a.createElement("div",{className:i()(yt.errorSecondMsg,{[yt.errorMsgUx4]:!0})},c)),(a||null!==r)&&o.a.createElement("div",{className:yt.errorActionContainer},a&&o.a.createElement("button",{className:i()(yt.errorPrimaryAction,{[yt.errorPrimaryActionUx4]:!0}),onClick:O,"data-testid":"error-primary-action",disabled:u>0},a.text," ",u>0?`(${u}s)`:""),null!=r&&o.a.createElement("a",{href:"/",className:i()(yt.errorAction,{[yt.errorActionUx4]:!0}),onClick:h,"data-testid":"error-secondary-action"},r.text||"Retry"))))},yt);class ht extends o.a.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){var a,n;this.props.errorFallback&&(null===(n=(a=this.props).errorFallback)||void 0===n||n.call(a,e,t)),B(e)}UNSAFE_componentWillReceiveProps(e){e.children!==this.props.children&&this.setState({hasError:!1})}render(){return this.state.hasError?void 0!==this.props.errorContent?this.props.errorContent:o.a.createElement(Ot,null):this.props.children}}var At=".styles_container_zR5Ibs0m{display:flex;width:100%;height:100%;flex-direction:column;background:#fff}.styles_containerUx4_AKolmCjG{background:#f0f0f5}.styles_header_uWXnTzE6{display:flex;overflow:hidden;width:100%;align-items:flex-start;flex-wrap:wrap;height:52px;min-height:52px;position:static}.styles_headerBlackPlanGradient_G7Go-QHy{background-image:url(https://media-assets.swiggy.com/portal/testing/one-black-test/black_plan_gradient.png)!important;background-size:cover!important;background-repeat:no-repeat!important;background-position-y:-35px!important;background-position-x:right!important}@supports (padding-top:var(--status-bar-height)){.styles_header_uWXnTzE6{padding-top:var(--status-bar-height,0);height:calc(var(--status-bar-height, 0px) + 52px);min-height:calc(var(--status-bar-height, 0px) + 52px)}}.styles_headerUx4_N5lYvmWN{background-color:#f0f0f5;height:64px;min-height:64px}@supports (padding-top:var(--status-bar-height)){.styles_headerUx4_N5lYvmWN{padding-top:var(--status-bar-height,0);height:calc(var(--status-bar-height, 0px) + 64px);min-height:calc(var(--status-bar-height, 0px) + 64px)}}.styles_headerIsCart_yzeNa8Iq{background-color:#fff;height:60px;min-height:60px}@supports (padding-top:var(--status-bar-height)){.styles_headerIsCart_yzeNa8Iq{padding-top:var(--status-bar-height,0);height:calc(var(--status-bar-height, 0px) + 60px);min-height:calc(var(--status-bar-height, 0px) + 60px)}}.styles_headerIsCartIsIncognitoCart_-Gva4A-N,.styles_headerIsCartScrolled_fmec4zCX{background-color:#fff;height:60px;min-height:60px}@supports (padding-top:var(--status-bar-height)){.styles_headerIsCartScrolled_fmec4zCX{padding-top:var(--status-bar-height,0);height:calc(var(--status-bar-height, 0px) + 60px);min-height:calc(var(--status-bar-height, 0px) + 60px)}}.styles_headerIsCartScrolledIncognitoCart_v8RqpVWh{background-color:#fff;height:60px;min-height:60px}.styles_headerIsCartV2_e-wUubx8{background-color:#fff;height:52px;min-height:52px}@supports (padding-top:var(--status-bar-height)){.styles_headerIsCartV2_e-wUubx8{padding-top:var(--status-bar-height,0);height:calc(var(--status-bar-height, 0px) + 52px);min-height:calc(var(--status-bar-height, 0px) + 52px)}}.styles_headerIsCartV2WithAddress_FOpASRTD{background-color:#fff;height:64px;min-height:64px}@supports (padding-top:var(--status-bar-height)){.styles_headerIsCartV2WithAddress_FOpASRTD{padding-top:var(--status-bar-height,0);height:calc(var(--status-bar-height, 0px) + 64px);min-height:calc(var(--status-bar-height, 0px) + 64px)}}.styles_headerIsCartV2WithHeaderExtension_iGbPTbbx{background-color:#fff;height:92px;min-height:92px}@supports (padding-top:var(--status-bar-height)){.styles_headerIsCartV2WithHeaderExtension_iGbPTbbx{padding-top:var(--status-bar-height,0);height:calc(var(--status-bar-height, 0px) + 92px);min-height:calc(var(--status-bar-height, 0px) + 92px)}}.styles_headerIsCartV2WithHeaderExtensionWithAddress_jqt54QTh{background-color:#fff;height:106px;min-height:106px}@supports (padding-top:var(--status-bar-height)){.styles_headerIsCartV2WithHeaderExtensionWithAddress_jqt54QTh{padding-top:var(--status-bar-height,0);height:calc(var(--status-bar-height, 0px) + 106px);min-height:calc(var(--status-bar-height, 0px) + 106px)}}.styles_headerIsCartV2IncognitoCart_1NWYxp-n{background-color:#fff;height:52px;min-height:52px}@supports (padding-top:var(--status-bar-height)){.styles_headerIsCartV2IncognitoCart_1NWYxp-n{padding-top:var(--status-bar-height,0);height:calc(var(--status-bar-height, 0px) + 52px);min-height:calc(var(--status-bar-height, 0px) + 52px)}}.styles_headerIsCartV2IncognitoCartWithAddress_-PfR6TEh{background-color:#fff;height:64px;min-height:64px}.styles_headerIsCartV2IncognitoCartWithExtension_BsmLmCeR{background-color:#fff;height:92px;min-height:92px}@supports (padding-top:var(--status-bar-height)){.styles_headerIsCartV2IncognitoCartWithExtension_BsmLmCeR{padding-top:var(--status-bar-height,0);height:calc(var(--status-bar-height, 0px) + 92px);min-height:calc(var(--status-bar-height, 0px) + 92px)}}.styles_headerIsCartV2IncognitoCartWithExtensionWithAddress_aFdx6O3Z{background-color:#fff;height:106px;min-height:106px}.styles_headerIsPop_XJAyxY9l{background-color:#fff;height:52px;min-height:52px}@supports (padding-top:var(--status-bar-height)){.styles_headerIsPop_XJAyxY9l{padding-top:var(--status-bar-height,0);height:calc(var(--status-bar-height, 0px) + 52px);min-height:calc(var(--status-bar-height, 0px) + 52px)}}.styles_headerIsPopWithHeaderExtension_DEbO116x{background-color:#fff;height:90px;min-height:90px}@supports (padding-top:var(--status-bar-height)){.styles_headerIsPopWithHeaderExtension_DEbO116x{padding-top:var(--status-bar-height,0);height:calc(var(--status-bar-height, 0px) + 90px);min-height:calc(var(--status-bar-height, 0px) + 90px)}}.styles_headerIsPopIncognitoCart_zI3uvuHP{height:52px;min-height:52px}.styles_headerIsPopIncognitoCartWithExtension_iMgYWtEY{height:90px;min-height:90px}.styles_headerIsPopUnservicableIncognitoCart_R--E-Oj3{background-color:#fff;height:52px;min-height:52px}@supports (padding-top:var(--status-bar-height)){.styles_headerIsPopUnservicableIncognitoCart_R--E-Oj3{padding-top:var(--status-bar-height,0);height:calc(var(--status-bar-height, 0px) + 52px);min-height:calc(var(--status-bar-height, 0px) + 52px)}}.styles_headerIsPopUnservicableIncognitoCartWithExtension_vKSLh2op{background-color:#fff;height:90px;min-height:90px}@supports (padding-top:var(--status-bar-height)){.styles_headerIsPopUnservicableIncognitoCartWithExtension_vKSLh2op{padding-top:var(--status-bar-height,0);height:calc(var(--status-bar-height, 0px) + 90px);min-height:calc(var(--status-bar-height, 0px) + 90px)}}.styles_headerBlackLottie_qDbdtnQF{background-color:#280620;box-shadow:0 0 var(--blur-low,8px) 0 var(--color-slate-alphas-8,rgba(2,6,12,.08))}.styles_headerDineoutCartHeader_cVvF5ALr{background:transparent;padding-top:0;height:64px;min-height:64px}.styles_headerBoltLottie_7tsZC-xx{background:radial-gradient(77.81% 228.76% at 96.53% -5.56%,#dd7f56 4.93%,#d15b33 27.82%,#b33b24 42.89%,#7c2037 62.84%,#601334 100%);box-shadow:0 0 var(--blurlow) 0 var(--colorSlateAlphas8)}.styles_header99StoreLottie_ukeGl2wc{background:linear-gradient(94deg,#cfeaff 32.17%,#f3faff 76.95%,#fff 103.6%);box-shadow:0 4px var(--blur-low,8px) 0 var(--color-slate-alphas-8,rgba(2,6,12,.08))}.styles_content_CKMDSXiO{flex:1;overflow-x:hidden;overflow-y:scroll;overscroll-behavior:none;background-color:#f4f4f5;height:calc(100% - 52px)}@supports (padding-top:var(--status-bar-height)){.styles_content_CKMDSXiO{height:calc(100% - var(--status-bar-height, 0px) - 52px)}}.styles_contentUx4_MnrRtQKU{background-color:#f0f0f5;height:calc(100% - 64px)}@supports (padding-top:var(--status-bar-height)){.styles_contentUx4_MnrRtQKU{height:calc(100% - var(--status-bar-height, 0px) - 64px)}}",ft={_getCss:function(){return At},_getId:function(){return"51954158ce"},container:"styles_container_zR5Ibs0m",containerUx4:"styles_containerUx4_AKolmCjG",header:"styles_header_uWXnTzE6",headerBlackPlanGradient:"styles_headerBlackPlanGradient_G7Go-QHy",headerUx4:"styles_headerUx4_N5lYvmWN",headerIsCart:"styles_headerIsCart_yzeNa8Iq",headerIsCartIsIncognitoCart:"styles_headerIsCartIsIncognitoCart_-Gva4A-N",headerIsCartScrolled:"styles_headerIsCartScrolled_fmec4zCX",headerIsCartScrolledIncognitoCart:"styles_headerIsCartScrolledIncognitoCart_v8RqpVWh",headerIsCartV2:"styles_headerIsCartV2_e-wUubx8",headerIsCartV2WithAddress:"styles_headerIsCartV2WithAddress_FOpASRTD",headerIsCartV2WithHeaderExtension:"styles_headerIsCartV2WithHeaderExtension_iGbPTbbx",headerIsCartV2WithHeaderExtensionWithAddress:"styles_headerIsCartV2WithHeaderExtensionWithAddress_jqt54QTh",headerIsCartV2IncognitoCart:"styles_headerIsCartV2IncognitoCart_1NWYxp-n",headerIsCartV2IncognitoCartWithAddress:"styles_headerIsCartV2IncognitoCartWithAddress_-PfR6TEh",headerIsCartV2IncognitoCartWithExtension:"styles_headerIsCartV2IncognitoCartWithExtension_BsmLmCeR",headerIsCartV2IncognitoCartWithExtensionWithAddress:"styles_headerIsCartV2IncognitoCartWithExtensionWithAddress_aFdx6O3Z",headerIsPop:"styles_headerIsPop_XJAyxY9l",headerIsPopWithHeaderExtension:"styles_headerIsPopWithHeaderExtension_DEbO116x",headerIsPopIncognitoCart:"styles_headerIsPopIncognitoCart_zI3uvuHP",headerIsPopIncognitoCartWithExtension:"styles_headerIsPopIncognitoCartWithExtension_iMgYWtEY",headerIsPopUnservicableIncognitoCart:"styles_headerIsPopUnservicableIncognitoCart_R--E-Oj3",headerIsPopUnservicableIncognitoCartWithExtension:"styles_headerIsPopUnservicableIncognitoCartWithExtension_vKSLh2op",headerBlackLottie:"styles_headerBlackLottie_qDbdtnQF",headerDineoutCartHeader:"styles_headerDineoutCartHeader_cVvF5ALr",headerBoltLottie:"styles_headerBoltLottie_7tsZC-xx",header99StoreLottie:"styles_header99StoreLottie_ukeGl2wc",content:"styles_content_CKMDSXiO",contentUx4:"styles_contentUx4_MnrRtQKU"};T(At);const vt=R((function(e){return o.a.createElement("div",{className:i()({[ft.container]:!0,[ft.containerUx4]:!0})},e.children)}),ft);vt.Header=Object(n.memo)((function(e){return o.a.createElement("div",{"data-testid":e.dataTestId,className:i()({[ft.header]:!e.isIncognitoCart||!e.isCart,[ft.headerUx4]:!e.isIncognitoCart||!e.isCart,[ft.headerIsCart]:e.isCart&&!e.isIncognitoCart,[ft.headerIsCartIsIncognitoCart]:e.isIncognitoCart&&e.isCart,[ft.headerIsCartScrolled]:e.isCart&&e.isPageScrolled&&!e.isIncognitoCart,[ft.headerIsCartScrolledIncognitoCart]:e.isCart&&e.isPageScrolled&&e.isIncognitoCart,[ft.headerIsCartV2]:e.isCartV2&&!e.isIncognitoCart&&!e.isAddressSelected,[ft.headerIsCartV2WithAddress]:e.isCartV2&&!e.isIncognitoCart&&e.isAddressSelected,[ft.headerIsCartV2WithHeaderExtension]:e.isCartV2&&e.isHeaderExtensionExists&&!e.isIncognitoCart&&!e.isAddressSelected,[ft.headerIsCartV2WithHeaderExtensionWithAddress]:e.isCartV2&&e.isHeaderExtensionExists&&!e.isIncognitoCart&&e.isAddressSelected,[ft.headerIsCartV2IncognitoCart]:e.isCartV2&&e.isIncognitoCart&&!e.isAddressSelected,[ft.headerIsCartV2IncognitoCartWithAddress]:e.isCartV2&&e.isIncognitoCart&&e.isAddressSelected,[ft.headerIsCartV2IncognitoCartWithExtension]:e.isCartV2&&e.isHeaderExtensionExists&&e.isIncognitoCart&&!e.isAddressSelected,[ft.headerIsCartV2IncognitoCartWithExtensionWithAddress]:e.isCartV2&&e.isHeaderExtensionExists&&e.isIncognitoCart&&e.isAddressSelected,[ft.headerIsPop]:e.isPopCart&&!e.isIncognitoCart,[ft.headerIsPopWithHeaderExtension]:e.isCartV2&&e.isPopCart&&e.isHeaderExtensionExists&&!e.isIncognitoCart,[ft.headerIsPopIncognitoCart]:e.isPopCart&&e.isIncognitoCart&&e.isAddressSelected,[ft.headerIsPopIncognitoCartWithExtension]:e.isPopCart&&e.isIncognitoCart&&e.isHeaderExtensionExists&&e.isAddressSelected,[ft.headerIsPopUnservicableIncognitoCart]:e.isPopCart&&e.isIncognitoCart&&!e.isAddressSelected,[ft.headerIsPopUnservicableIncognitoCartWithExtension]:e.isPopCart&&e.isIncognitoCart&&e.isHeaderExtensionExists&&!e.isAddressSelected,[ft.headerBlackPlanGradient]:e.isUserBlackMember&&!e.isThemeChange,[ft.headerBlackLottie]:!e.isBolt&&!e.is99StoreLottie&&e.isUserBlackMember&&e.isThemeChange&&(e.isOtg||e.isExpress),[ft.headerDineoutCartHeader]:e.isDineoutCartHeader,[ft.headerBoltLottie]:e.isBolt&&e.isThemeChange,[ft.header99StoreLottie]:e.is99StoreLottie&&e.isThemeChange},e.className)},e.children)})),vt.Content=Object(n.forwardRef)((function(e,t){const a=Object(n.useRef)(null);return Object(n.useImperativeHandle)(t,()=>({scrollTo:(e,t)=>{var n;null===(n=a.current)||void 0===n||n.scrollTo(e,t)},getScrollPosition:()=>{var e,t;return null!==(t=null===(e=null==a?void 0:a.current)||void 0===e?void 0:e.scrollTop)&&void 0!==t?t:0},addEventListener:(e,t,n)=>{var o;return null===(o=a.current)||void 0===o?void 0:o.addEventListener(e,t,n)},removeEventListener:(e,t,n)=>{var o;return null===(o=a.current)||void 0===o?void 0:o.removeEventListener(e,t,n)}})),o.a.createElement("div",{id:e.contentId,ref:a,className:i()({[ft.content]:!0,[ft.contentUx4]:!0},e.className)},e.children)}));const Tt=Object(n.createContext)({navigateTo:()=>{},canGoBack:()=>!1,goBack:()=>{},isForward:!0});function It(e,t,a){var n;const o=e.filter(e=>e.name===t);return o.length>1&&a&&null!==(n=o.find(e=>e.parent===a))&&void 0!==n?n:o[0]}function St(e){var t,a;const{children:o,externalRoutes:r=[]}=e,i=Object(n.useMemo)(()=>function e(t,a){const o=[];return n.Children.forEach(t,t=>{if(!Object(n.isValidElement)(t))return;const r=t.props;o.push(Object.assign(Object.assign({},r),{parent:a,element:t}));const i=Array.isArray(r.children)?r.children:r.children?[r.children]:[];o.push(...e(i,r.name))}),o}([...o,...r]),[o,r]),[l,s]=Object(n.useState)(()=>{const t=It(i,e.initialRoute.name),a=t?Object.assign(Object.assign({},t),{data:e.initialRoute.data}):t;return{forward:!0,activeRoute:a,routeStack:a?[{name:a.name,data:a.data}]:[]}}),c=Object(n.useCallback)((e=1)=>(null==l?void 0:l.routeStack.length)>e,[l]),d=Object(n.useCallback)((e,t,a,n)=>{var o;const r=It(i,e,null===(o=l.activeRoute)||void 0===o?void 0:o.name);if(!r)return void(null==n||n());const[c,d]=function(e){const t={name:e.name,data:e.data},a=e.stack.findIndex(t=>t.name===e.name);if(-1===a){if(e.replace&&e.stack.length>0){const a=[...e.stack];return a[a.length-1]=t,history.replaceState(t,"",""),[a,!1]}return history.pushState(t,"",""),[[...e.stack,t],!0]}const n=e.stack.slice(0,a+1);return n[n.length-1]=t,[n,!1]}({replace:a,data:t,name:e,stack:l.routeStack});s({forward:d,activeRoute:Object.assign(Object.assign({},r),{data:t}),routeStack:c})},[i,null===(t=l.activeRoute)||void 0===t?void 0:t.name,l.routeStack]),u=Object(n.useCallback)(()=>{if(!c())return;const e=l.routeStack[l.routeStack.length-2];e&&d(e.name,e.data)},[c,d,null==l?void 0:l.routeStack]),m=Object(n.useMemo)(()=>({navigateTo:d,goBack:u,canGoBack:c,route:l.activeRoute,isForward:l.forward}),[c,u,d,l.activeRoute,l.forward]);de(()=>{var t,a;history.pushState({name:null!==(t=e.initialRoute.name)&&void 0!==t?t:"show-payments",data:null!==(a=e.initialRoute.data)&&void 0!==a?a:void 0},"","")});const p=e.container||n.Fragment;return Object(n.createElement)(Tt.Provider,{value:m},Object(n.createElement)(p,null,Object(n.createElement)(pt,{transitionMode:"in-out",forward:l.forward},null!==(a=function(e,t){if(!t)return null;let a=function(e){return Object(n.cloneElement)(e.element,{key:e.name,data:e.data},null!=e.indexElement?[Object(n.cloneElement)(e.indexElement,{key:e.indexElement.props.name,data:e.data})]:[])}(t),o=t.parent?It(e,t.parent):null;for(;null!=o;)a=Object(n.cloneElement)(o.element,{key:o.name},[a]),o=o.parent?It(e,o.parent):null;return a}(i,l.activeRoute))&&void 0!==a?a:Object(n.createElement)("div",{key:"no-matching-element"}))))}var Nt=".ScreenReaderOnly_screenReaderOnly_3azRfyLy{clip:rect(0,0,0,0);display:block;padding:0;border:0;outline:0;overflow:hidden;height:1px;width:1px}",Rt={_getCss:function(){return Nt},_getId:function(){return"9a0af67c64"},screenReaderOnly:"ScreenReaderOnly_screenReaderOnly_3azRfyLy"};T(Nt);var Pt=Object(n.memo)(R(e=>{var{text:t,as:a="p",compRef:n}=e,r=l(e,["text","as","compRef"]);return o.a.createElement(a,Object.assign({className:Rt.screenReaderOnly,ref:n},r),t)},Rt));const Dt=e=>{var{as:t}=e,a=l(e,["as"]);return o.a.createElement(t,Object.assign({},a,{"aria-hidden":"true"}))};var Lt=".HorizontalScroller_itemList_Hevh3iKY{width:auto;overflow-x:scroll;overflow-y:hidden;white-space:nowrap;-webkit-overflow-scrolling:touch;scrollbar-width:none;-ms-overflow-style:none}.HorizontalScroller_itemList_Hevh3iKY::-webkit-scrollbar{display:none;width:0!important;background:transparent}.HorizontalScroller_item_uR9yvTVo{position:relative;margin-right:1rem;display:inline-block;vertical-align:top}.HorizontalScroller_item_uR9yvTVo:last-child{margin-right:0}",kt={_getCss:function(){return Lt},_getId:function(){return"d4bd3373c6"},itemList:"HorizontalScroller_itemList_Hevh3iKY",item:"HorizontalScroller_item_uR9yvTVo"};T(Lt);const xt=()=>{const e=Object(n.useRef)(!1);return Object(n.useEffect)(()=>(e.current=!0,()=>{e.current=!1})),e};var wt,Mt=R(e=>{const t=xt(),{items:a,height:r,width:l,containerClassName:s,itemClassName:c,onItemVisible:d=(()=>{}),itemVisibilityThreshold:u}=e,m=a.map(e=>o.a.createRef()),p=Object(n.useRef)(null),_=Object(n.useCallback)(e=>{e.forEach(e=>{t.current&&e.isIntersecting&&void 0!==e.target._elementIndex&&(d(e.target._elementIndex),null!=p.current&&p.current.unobserve(e.target))})},[t,d]);Object(n.useEffect)(()=>{void 0!==window&&void 0!==IntersectionObserver&&m.length>0&&void 0!==d&&(p.current=new IntersectionObserver(_,{root:null,rootMargin:"0px",threshold:[u]}),m.forEach((e,t)=>{null!=p.current&&null!==e.current&&(e.current._elementIndex=t,p.current.observe(e.current))}))},[m,_,u,d]);const E=Object(n.useMemo)(()=>Object.assign(Object.assign({},r&&{height:r+"px"}),l&&{width:l+"px"}),[r,l]);return 0===e.items.length?null:o.a.createElement("div",{className:i()(kt.itemList,s)},a.map((e,t)=>o.a.createElement("div",{style:E,className:i()(kt.item,c),key:t,ref:m[t]},e)))},kt);T(".Image_loaded_k9bLOkdd{opacity:1}.Image_loading_EnVdWevX{opacity:0}@keyframes Image_fadeIn_nLw05Gag{0%{opacity:0}to{opacity:1}}"),function(e){e[e.FAILED=0]="FAILED",e[e.LAZY=1]="LAZY",e[e.LOADED=2]="LOADED",e[e.LOADING=3]="LOADING"}(wt||(wt={}));const jt={};let Bt;"undefined"!=typeof window&&void 0!==IntersectionObserver&&(Bt=new IntersectionObserver(e=>{e.forEach(e=>{(void 0===e.isIntersecting||e.isIntersecting)&&(Bt.unobserve(e.target),e.target._image._setState({status:wt.LOADING}))})},{root:null,rootMargin:"0px",threshold:[0]}));class Ut extends o.a.PureComponent{constructor(){super(...arguments),this.state={status:this.getInitialStatus(this.props)},this._imageSrc="",this._image=o.a.createRef(),this._isMounted=!1,this.onLoad=e=>{this._isMounted&&(this._setState({status:wt.LOADED},()=>{this._imageSrc&&(jt[this._imageSrc]=!0)}),void 0!==this.props.onLoad&&this.props.onLoad(e))},this.onError=e=>{this._isMounted&&(this._setState({status:wt.FAILED}),void 0!==this.props.onError&&this.props.onError(e))}}UNSAFE_componentWillMount(){this._imageSrc=this._getImageSrc(),this._imageSrc&&void 0!==jt[this._imageSrc]&&this._setState({status:wt.LOADED})}componentDidMount(){this._isMounted=!0,this.observe()}render(){if(Q(this._imageSrc))return null;const e=i()({Image_loaded_k9bLOkdd:this.state.status===wt.LOADED,Image_loading_EnVdWevX:this.state.status!==wt.LOADED,Image_fadeIn_nLw05Gag:this._imageSrc&&void 0===jt[this._imageSrc]&&this.state.status===wt.LOADED,[this.props.className]:!Q(this.props.className)}),t=this.getSrc(),a=t?{src:t}:{};return o.a.createElement("img",Object.assign({alt:this.props.alt,className:e,height:this.props.height,onError:this.onError,onLoad:this.onLoad,ref:this._image,width:this.props.width},a))}componentWillUnmount(){this._isMounted=!1,void 0!==Bt&&this._image.current&&Bt.unobserve(this._image.current)}getInitialStatus(e){return e.lazy?wt.LAZY:wt.LOADING}observe(){void 0!==Bt&&this.state.status===wt.LAZY&&this._image.current&&(this._image.current._image=this,Bt.observe(this._image.current))}_setState(e,t){this._isMounted&&this.setState(e,t)}_getImageSrc(){return this.props.imageId?_t(this.props.imageId,{height:this.props.height,width:this.props.width}):this.props.imageUrl}getSrc(){return this.state.status===wt.LAZY?void 0:this._imageSrc}}Ut.defaultProps={alt:"",className:"",imageId:"",imageUrl:"",lazy:!0};T(".ProgressBar_lineProgressBar_GEN17-G-{transform:scaleX(1);transform-origin:left;animation:ProgressBar_lineProgressBar_GEN17-G- 1.5s ease-out;will-change:transform}@keyframes ProgressBar_lineProgressBar_GEN17-G-{0%{transform:scaleX(0)}to{transform:scaleX(1)}}.ProgressBar_loadingBar_P95rooRb{top:0;height:2px;background:#ff5200;z-index:2147483647;position:fixed;left:0;width:90%;opacity:1;contain:content}");const Ht=({options:e,elementRef:t})=>{const[a,o]=Object(n.useState)(),r=([e])=>{o(e)};return Object(n.useEffect)(()=>{const a=null==t?void 0:t.current;if("undefined"==typeof window||!window.IntersectionObserver||!a)return;const n=new IntersectionObserver(r,e);return n.observe(a),()=>n.disconnect()},[t,e]),a},Gt=e=>{const{children:t,observerClassName:a,options:r,onViewEnter:i,onViewExit:s}=e,c=l(e,["children","observerClassName","options","onViewEnter","onViewExit"]),d=Object(n.useRef)(null),u=Ht({elementRef:d,options:r});return u&&(u.isIntersecting?"function"==typeof i&&i():"function"==typeof s&&s()),o.a.createElement("div",Object.assign({},c),t,o.a.createElement("div",{ref:d,className:a}))},Yt="#EE4B5E";var Wt=Object(n.memo)(e=>{const{width:t=10,height:a=10,color:n=Yt,className:r="",strokeWidth:i=1.5,onClick:l}=e;return o.a.createElement("svg",{width:t,height:a,viewBox:`0 0 ${t} ${a}`,preserveAspectRatio:"none",onClick:l,className:r,fill:"none"},o.a.createElement("path",{d:"M1 9L5 5L1 1",stroke:n,strokeWidth:i,strokeLinecap:"round",strokeLinejoin:"round"}))}),Ft=Object(n.memo)(({color:e="var(--arrow-color-env, #66686E)",className:t})=>o.a.createElement(o.a.Fragment,null,o.a.createElement("svg",{className:t,width:"20",height:"18",viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{opacity:"0.9",d:"M6.81875 14.5714L1 8.23808M1 8.23808L6.81875 1.90475M1 8.23808L19 8.23808",stroke:e,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))));T(".Ripple_container_bsr64ZCq{position:relative;overflow:hidden}.Ripple_ripple_OlLhzb9i{width:4px;height:4px;background:hsla(0,0%,78%,.6);border-radius:100%;position:absolute;animation:Ripple_expand_7jrYJs75 .3s ease-in-out;transform:scale(0);opacity:1;contain:content}@keyframes Ripple_expand_7jrYJs75{0%{transform:scale(0)}to{opacity:0;transform:scale(100)}}");Object(n.memo)(o.a.forwardRef((e,t)=>{var{as:a,onClick:r,preventDefault:s=!1}=e,c=l(e,["as","onClick","preventDefault"]);const d=Object(n.useCallback)(e=>{s&&e.preventDefault(),function(e,t,a,n="ripple",o){let r=t.querySelector("."+n);r&&r.parentNode&&r.parentNode.removeChild(r),r=document.createElement("div"),r.classList.add(n);const{left:i,top:l}=t.getBoundingClientRect(),s=e.pageX-(i+window.pageXOffset),c=`\n        top: ${e.pageY-(l+window.pageYOffset)}px;\n        left: ${s}px;\n        animation-duration: ${a=a||".3s"};\n    `;r.setAttribute("style",c),t.appendChild(r);const d=a.match(/(.*)s/),u=1e3*(null!==d?Number(d[1]):.3);return new Promise(e=>{setTimeout(()=>{r&&r.parentNode&&r.parentNode.removeChild(r),o&&o.call(null),e()},u)})}(e,e.currentTarget,".3s","Ripple_ripple_OlLhzb9i").then(()=>{"function"==typeof r&&r(e)})},[r,s]);return o.a.createElement(a,Object.assign({"data-testid":c.dataTestId,ref:t},c,{className:i()("Ripple_container_bsr64ZCq",c.className),onClick:d}))}));T('@charset "UTF-8";.AmountInputBox_rupee_1G-ucuJz:before{content:"₹";margin-right:.1rem}');const Vt=d.default.div(({theme:e})=>({margin:e.spacing.small+" 0",position:"relative",zIndex:1,"input:hover,input:focus":{background:e.colors[e.colorMode].background_Primary}})),Kt=Object(d.default)(c.Text)({display:"flex",alignItems:"center",maxHeight:56,position:"absolute",height:"100%",marginLeft:10,zIndex:1});let zt;var $t=Object(n.memo)(({amount:e,onUpdateAmount:t,reflectChangedAmountImmediately:a,onInputFocus:r,onInputBlur:i,inputFieldPlaceHolder:l,dataTestId:s})=>{const[c,d]=Object(n.useState)(e&&Number(e)>0?e:""),u=Object(n.useRef)(null),m=Object(n.useCallback)(e=>{var t;const{keyCode:a}=e;13===a&&(null===(t=u.current)||void 0===t||t.blur())},[]),p=Object(n.useMemo)(()=>({"data-testid":s,onKeyDown:m}),[s,m]),_=Object(n.useCallback)(()=>{var e;null===(e=u.current)||void 0===e||e.focus()},[u]);de(()=>{0===Number(c)&&_()}),Object(n.useEffect)(()=>{const t=Number(e)>0?e:"";d(t||"")},[e]);const b=Object(n.useCallback)(e=>{d(e),a&&(clearTimeout(zt),zt=window.setTimeout(()=>{t(e)},200))},[a,t]),y=Object(n.useCallback)(()=>{t(c),null==i||i()},[t,i,c]);return o.a.createElement(Vt,null,o.a.createElement(Kt,{variant:"V2.body1.neutral.bold",color:"text_Highest_Emphasis"},o.a.createElement("div",{className:"AmountInputBox_rupee_1G-ucuJz"})),o.a.createElement(E.TextField,{ref:u,textFieldDetails:{value:c,onChange:b,onBlur:y,onFocus:r,label:l,attrs:p,type:C.TextFieldTypes.NUMBER,name:"amount",validFormat:"^[0-9]*$",inputLimit:7}}))});const Xt=Object(d.default)(c.Text)(({theme:e})=>({textAlign:"center",marginLeft:-1,background:e.colors[e.colorMode].background_Button_Primary,borderBottomLeftRadius:e.cornerRadius.xSmall,borderBottomRightRadius:e.cornerRadius.xSmall})),Jt=d.default.button(({theme:e,selected:t})=>({display:"flex",alignItems:"center",justifyContent:"center",background:t?e.colors[e.colorMode].background_Button_Secondary:e.colors[e.colorMode].text_Button_Primary,height:42,width:t?80:76,borderRadius:e.cornerRadius.xSmall,border:t?"0.08rem solid "+e.colors[e.colorMode].primary:"1px solid "+e.colors[e.colorMode].border_Secondary,margin:0,boxShadow:"0 2px 7px 0 rgba(40, 44, 63, 0.1)","@media (max-width: 380px)":{width:t?72:68},"@media (max-width: 350px)":{width:t?64:60}})),Zt=d.default.div(({mostPopular:e})=>({display:"flex",flexDirection:"column",marginTop:1,width:"100%",paddingTop:e?10:0}));T('@charset "UTF-8";.AmountBox-v4_rupee_efhZpN6s:before{content:"₹";margin-right:.1rem}');var qt=Object(n.memo)(({selected:e,text:t,boxAmount:a,onAmountBoxSelection:r,dataTestIds:i,showMostPopularText:l})=>{const s=Object(n.useMemo)(()=>$("AMOUNT_BOX_ID_{0}",t),[t]),d=Object(n.useCallback)(()=>{var t;"function"==typeof r&&r({amount:a,selected:!e}),null===(t=null===document||void 0===document?void 0:document.getElementById(s))||void 0===t||t.focus()},[r,a,e,s]),u=e?i.selected:i.default,m=Object(n.useMemo)(()=>((e,t,a)=>{let n=$("Amount Box Rupee {0}",e);return t&&(n=n.concat(" ","is Selected")),a&&(n=n.concat(", ","Most Popular")),n})(t,e,l),[e,l,t]);return o.a.createElement(Jt,{selected:e,id:s,"data-testid":u,onClick:d,"aria-label":m},o.a.createElement(Zt,{as:"span",mostPopular:l,"aria-hidden":"true"},o.a.createElement(c.Text,{variant:e?"V2.body2.neutral.bold":"V2.body2.neutral.medium",color:e?"primary":"text_High_Emphasis",className:"AmountBox-v4_rupee_efhZpN6s"},t),l&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Xt,{variant:"V2.caption.neutral.medium",color:"text_Button_Primary"},"Most Popular"))))});T(".AmountRadioWrapper-v4_amountWrapper_hsnNBYCt,.AmountRadioWrapper-v4_amountWrapperScrollBarContainer_wW5QWtqw{display:flex}.AmountRadioWrapper-v4_amountWrapper_hsnNBYCt{flex-direction:column;align-items:center;justify-content:center;overflow:hidden;contain:content;padding:8px 0 16px}.AmountRadioWrapper-v4_amountWrapperScrollBarContainer_wW5QWtqw{justify-content:space-between;width:100%!important}.AmountRadioWrapper-v4_amountWrapperItemContainer_60htQRi3{margin-right:0!important}");const Qt=d.default.div(({theme:e})=>({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",overflow:"hidden",contain:"content",padding:`${e.spacing.xSmall} 0 ${e.spacing.medium}`}));var ea=Object(n.memo)(({amountOptions:e,selectedAmount:t,onPredefinedAmountBoxSelection:a,suggestionBoxDataTestIds:r})=>{const i=Object(n.useMemo)(()=>((e,t,a,n)=>t.map(t=>{const{amount:o,mostPopular:r}=t;return{selected:o===e,boxAmount:o,text:o.toString(),showMostPopularText:!!r,showRsIcon:!0,onAmountBoxSelection:n,dataTestIds:a}}))(t,e,r,a).map(e=>o.a.createElement(qt,Object.assign({key:e.text},e))),[e,a,t,r]);return Q(e)?null:o.a.createElement(Qt,null,o.a.createElement(Mt,{containerClassName:"AmountRadioWrapper-v4_amountWrapperScrollBarContainer_wW5QWtqw",itemClassName:"AmountRadioWrapper-v4_amountWrapperItemContainer_60htQRi3",items:i,itemVisibilityThreshold:1}))}),ta=Object(n.memo)((function(e){return o.a.createElement("svg",Object.assign({width:"14",height:"28",viewBox:"0 0 14 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o.a.createElement("path",{d:"M1.87701 20.3601L2.62493 20.304L2.62447 20.2984L1.87701 20.3601ZM1.14367 11.4712L0.395752 11.5273L0.396212 11.5329L1.14367 11.4712ZM12.8563 11.4712L13.6038 11.5329L13.6042 11.5273L12.8563 11.4712ZM12.123 20.3601L11.3755 20.2984L11.3751 20.304L12.123 20.3601ZM1 6.13889C0.585786 6.13889 0.25 6.47468 0.25 6.88889C0.25 7.3031 0.585786 7.63889 1 7.63889V6.13889ZM13 7.63889C13.4142 7.63889 13.75 7.3031 13.75 6.88889C13.75 6.47468 13.4142 6.13889 13 6.13889V7.63889ZM5.28571 5.25C4.8715 5.25 4.53571 5.58579 4.53571 6C4.53571 6.41421 4.8715 6.75 5.28571 6.75V5.25ZM8.71429 6.75C9.1285 6.75 9.46429 6.41421 9.46429 6C9.46429 5.58579 9.1285 5.25 8.71429 5.25V6.75ZM2.62447 20.2984L1.89113 11.4095L0.396212 11.5329L1.12955 20.4217L2.62447 20.2984ZM2.8528 10.3056H11.1472V8.80556H2.8528V10.3056ZM12.1089 11.4095L11.3755 20.2984L12.8705 20.4217L13.6038 11.5329L12.1089 11.4095ZM10.4139 21.25H3.58613V22.75H10.4139V21.25ZM11.3751 20.304C11.3333 20.8612 10.894 21.25 10.4139 21.25V22.75C11.7242 22.75 12.7738 21.7101 12.8709 20.4162L11.3751 20.304ZM11.1472 10.3056C11.6817 10.3056 12.1554 10.7883 12.1084 11.4151L13.6042 11.5273C13.7122 10.088 12.6111 8.80556 11.1472 8.80556V10.3056ZM1.89157 11.4151C1.84456 10.7883 2.31832 10.3056 2.8528 10.3056V8.80556C1.38893 8.80556 0.287824 10.088 0.395773 11.5273L1.89157 11.4151ZM1.12911 20.4162C1.22615 21.7101 2.27579 22.75 3.58613 22.75V21.25C3.10604 21.25 2.6667 20.8612 2.62491 20.304L1.12911 20.4162ZM6.25 14L6.25 22H7.75L7.75 14H6.25ZM1 7.63889H13V6.13889H1V7.63889ZM5.28571 6.75H8.71429V5.25H5.28571V6.75Z",fill:"#36393E"}))}));const aa=14;Object(n.memo)((function(e){const{size:t=aa,className:a}=e;return o.a.createElement("svg",{width:t,height:t,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5623 5.31166C3.5623 6.15739 4.2479 6.843 5.09363 6.843C5.93937 6.843 6.62497 6.15739 6.62497 5.31166C6.62497 4.46592 5.93937 3.78032 5.09363 3.78032C4.2479 3.78032 3.5623 4.46592 3.5623 5.31166ZM7.37642 8.68826C7.37642 9.534 8.06203 10.2196 8.90776 10.2196C9.7535 10.2196 10.4391 9.534 10.4391 8.68826C10.4391 7.84252 9.7535 7.15692 8.90776 7.15692C8.06203 7.15692 7.37642 7.84252 7.37642 8.68826ZM9.25538 3.78032H8.46367L4.74602 10.2196H5.5375L9.25538 3.78032ZM6.62257 13.7815L5.97 12.6514C5.78536 12.3315 5.38393 12.2241 5.07023 12.4053C5.05032 12.4166 5.03151 12.4289 5.01335 12.442L3.93857 13.0626C3.86966 13.1025 3.79397 13.1213 3.71959 13.1213C3.55792 13.1213 3.41638 13.0331 3.34091 12.9025C3.3035 12.838 3.28206 12.7636 3.28206 12.6837V11.4088C3.28315 11.0106 2.98914 10.7168 2.62687 10.7168L2.57546 10.7188H1.31692C1.23729 10.7188 1.16225 10.6972 1.09815 10.66C0.957926 10.579 0.879609 10.4322 0.879391 10.2813C0.879172 10.2067 0.897985 10.1314 0.938019 10.0623L1.56587 8.97528L1.59496 8.92934C1.77632 8.61541 1.66869 8.21398 1.35476 8.03285L0.218727 7.37831C0.149817 7.33849 0.0957828 7.28227 0.0585931 7.21817C-0.0223491 7.07795 -0.0166613 6.91169 0.0585931 6.78065C0.0957828 6.71611 0.149598 6.66033 0.218727 6.62051L1.29045 6.00207C1.31232 5.99245 1.33376 5.98151 1.35498 5.96948C1.66891 5.78812 1.77654 5.38691 1.5954 5.07277L1.57352 5.03799L0.938019 3.93761C0.897985 3.86892 0.879172 3.79301 0.879172 3.71863C0.879172 3.55696 0.967333 3.41564 1.09793 3.34017C1.16247 3.30276 1.23707 3.28132 1.3167 3.28132L2.55883 3.2811C2.58158 3.28351 2.60433 3.28482 2.6273 3.28482C2.98958 3.28482 3.28359 2.9908 3.28359 2.62853L3.2814 2.57625L3.28119 1.31749C3.28119 1.23786 3.30284 1.16282 3.34003 1.09851C3.42098 0.95828 3.56776 0.880182 3.71871 0.879963C3.79309 0.879745 3.86856 0.898558 3.93747 0.938592L5.02363 1.56557L5.07154 1.59597C5.38546 1.77711 5.78689 1.6697 5.96803 1.35577L6.62257 0.218644C6.66238 0.149734 6.7186 0.0956993 6.78292 0.0585096C6.92293 -0.0222138 7.08919 -0.0167447 7.22023 0.0585096C7.28476 0.0956993 7.34055 0.149515 7.38036 0.218644L7.9929 1.27942C8.00383 1.30546 8.01608 1.33083 8.03074 1.35621C8.2121 1.67013 8.61331 1.77777 8.92745 1.59641L8.9712 1.56885L10.0637 0.937936C10.1324 0.898121 10.2083 0.879307 10.2825 0.879307C10.4444 0.879307 10.5857 0.967469 10.6611 1.09807C10.6986 1.1626 10.72 1.2372 10.72 1.31683V2.55131C10.7169 2.57669 10.7154 2.60228 10.7154 2.62875C10.7154 2.99102 11.0092 3.28504 11.3717 3.28504C11.3944 3.28504 11.4172 3.28373 11.4395 3.28154L12.684 3.28132C12.7635 3.28132 12.8385 3.3032 12.9028 3.34039C13.043 3.42111 13.1213 3.56812 13.1216 3.71885C13.1216 3.79344 13.1028 3.86892 13.0629 3.93783L12.4382 5.02027L12.4042 5.07277C12.2231 5.38669 12.3307 5.78812 12.6447 5.96948C12.6665 5.98216 12.6889 5.9931 12.7116 6.00295L13.782 6.62095C13.8509 6.66077 13.905 6.71699 13.9421 6.78109C14.0229 6.92131 14.0174 7.08757 13.9421 7.21861C13.905 7.28315 13.8511 7.33893 13.782 7.37875L12.6849 8.01228L12.6449 8.03372C12.3307 8.21508 12.2233 8.61629 12.4047 8.93043C12.4167 8.95121 12.4294 8.97112 12.4434 8.98971L13.0629 10.063C13.1028 10.1317 13.1216 10.2076 13.1216 10.2817C13.1216 10.4434 13.0334 10.5849 12.9028 10.6604C12.8385 10.6978 12.7639 10.7193 12.684 10.7193H11.4231L11.3726 10.7173C11.0101 10.7173 10.7163 11.0111 10.7163 11.3736C10.7163 11.3963 10.7174 11.4184 10.7198 11.4407L10.7193 12.6842C10.7193 12.7636 10.6975 12.8386 10.6605 12.9029C10.5795 13.0432 10.4325 13.1213 10.2816 13.1217C10.2072 13.1217 10.132 13.1029 10.0628 13.0631L8.98236 12.4392L8.92876 12.4046C8.61484 12.2235 8.21341 12.3309 8.03227 12.645C8.02068 12.6647 8.0104 12.6848 8.00121 12.705L7.38036 13.7813C7.34055 13.8502 7.28432 13.9042 7.22023 13.9414C7.08 14.0223 6.91374 14.0167 6.7827 13.9414C6.71817 13.9044 6.6626 13.8506 6.62257 13.7815ZM4.43735 5.31166C4.43735 4.94917 4.73114 4.65537 5.09363 4.65537C5.45591 4.65537 5.74992 4.94917 5.74992 5.31166C5.74992 5.67393 5.45591 5.96795 5.09363 5.96795C4.73093 5.96795 4.43735 5.67393 4.43735 5.31166ZM8.25147 8.68826C8.25147 8.32577 8.54527 8.03197 8.90776 8.03197C9.27025 8.03197 9.56405 8.32577 9.56405 8.68826C9.56405 9.05053 9.27025 9.34455 8.90776 9.34455C8.54527 9.34455 8.25147 9.05075 8.25147 8.68826Z",fill:"#8A584B"}))}));var na;!function(e){e.CART="cart",e.PAYMENT="payments",e.PAY_HALF_CARD="payments_half_card"}(na||(na={}));const oa="CART_TIMER_WRAPPER",ra="CART_TIMER_TEXT",ia=d.default.div(({theme:e})=>({display:"flex",alignItems:"center",border:"1px solid #ffffff15",height:e.spacing.xLarge,borderRadius:e.spacing.xSmall,padding:`${e.spacing.xxSmall} ${e.spacing.xSmall} ${e.spacing.xxxSmall} ${e.spacing.xSmall}`,marginRight:e.spacing.small})),la=Object(d.default)(c.Text)(()=>({display:"flex"})),sa=e=>{if(!Ce(e)&&!Number.isNaN(e)){const t=e%60;return{seconds:t,minutes:(e-t)/60%60}}return{minutes:0,seconds:0}};var ca=Object(n.memo)(({duration:e,onTimerLoad:t,onComplete:a,timerClassName:r="",precalculatedTimerDuration:i})=>{const l=!Ce(e)&&!Number.isNaN(e),s=Object(n.useRef)(),{seconds:c,minutes:d}=sa(e),[u,m]=Object(n.useState)({seconds:c,minutes:d});Object(n.useEffect)(()=>{if(l){const{seconds:t,minutes:a}=sa(e);m({seconds:t,minutes:a})}},[e,l]),Object(n.useEffect)(()=>(l&&(s.current=window.setInterval(()=>{m(e=>e.seconds>0?Object.assign(Object.assign({},e),{seconds:e.seconds-1}):0===e.seconds?0===e.minutes?(null==a||a(),null!=s.current&&clearInterval(s.current),e):{minutes:e.minutes-1,seconds:59}:e)},1e3)),()=>{null!=s.current&&clearInterval(s.current)}),[a,l]),de(()=>{null==t||t()});const p=Object(n.useCallback)(()=>{if(!Ce(i)){const{minutes:e=0,seconds:t=0}=i;return $("{0}m {1}s",""+e,""+t)}return"0m 0s"},[i]),_=Object(n.useCallback)(()=>0!==u.minutes||0!==u.seconds?$("{0}m {1}s",""+u.minutes,""+u.seconds):"0m 0s",[u.minutes,u.seconds]);return o.a.createElement(ia,{className:r,"data-testid":"crouton_timer"},o.a.createElement(la,{variant:"V2.body3.neutral.bold",color:"background_Primary","data-testid":ra},Ce(i)?_():p()))});T(".CartTimer-v4_TimerCroutonContent_ghhCsbpb,.CartTimer-v4_TimerCroutonContentHalfCard_42hDTBUp,.CartTimer-v4_TimerCroutonIconContainer_cp0vV8wk,.CartTimer-v4_TimerCroutonIconContainerHalfCard_nnvCk06w,.CartTimer-v4_TimerCroutonText_dGg6pXwZ,.CartTimer-v4_TimerCroutonTimerBox_O64RmuTN,.CartTimer-v4_TimerCroutonTimerText_1mVYR99w,.CartTimer-v4_TimerCroutonWrapper_cyMdXk7x{display:flex}.CartTimer-v4_TimerCroutonContent_ghhCsbpb,.CartTimer-v4_TimerCroutonContentHalfCard_42hDTBUp{align-items:center}.CartTimer-v4_TimerCroutonTimerBox_O64RmuTN,.CartTimer-v4_TimerCroutonWrapper_cyMdXk7x{justify-content:center}.CartTimer-v4_TimerCroutonWrapper_cyMdXk7x{background-color:transparent}.CartTimer-v4_TimerCroutonWrapperHalfCard_z5OghWXh{bottom:calc(var(--bottom-sheet-height) + 8px)}.CartTimer-v4_TimerCroutonWrapperHalfCard_z5OghWXh,.CartTimer-v4_TimerCroutonWrapperPayments_TZh2Sw16{width:auto;left:0;transform:translate(calc(50vw - 50%));position:fixed;z-index:399}.CartTimer-v4_TimerCroutonWrapperPayments_TZh2Sw16{bottom:calc(var(--bottom-sheet-height, 16px) + 8px)}.CartTimer-v4_TimerCroutonWrapperCart_C33G0S-u{width:auto;left:0;transform:translate(calc(50vw - 50%));position:fixed;bottom:calc(var(--cart-footer-height) + 12px)}.CartTimer-v4_TimerCroutonContent_ghhCsbpb,.CartTimer-v4_TimerCroutonContentHalfCard_42hDTBUp{flex-direction:row;background-color:#1b1e24;box-shadow:0 2px 16px rgba(0,0,0,.1);border-radius:20px;height:40px}.CartTimer-v4_TimerCroutonIconContainer_cp0vV8wk,.CartTimer-v4_TimerCroutonIconContainerHalfCard_nnvCk06w{padding-left:12px;padding-right:8px}.CartTimer-v4_TimerCroutonText_dGg6pXwZ{font-size:14px;line-height:17px;font-weight:200;letter-spacing:-.3px;text-align:left;color:hsla(0,0%,100%,.9176470588);margin-right:12px}.CartTimer-v4_TimerCroutonTextHalfCard_sUqNhBMD{margin-right:12px}.CartTimer-v4_TimerCroutonTimerText_1mVYR99w{font-size:13px;letter-spacing:-.1px;font-weight:600;color:hsla(0,0%,100%,.9176470588)}.CartTimer-v4_TimerCroutonTimerBox_O64RmuTN{border:1px solid hsla(0,0%,100%,.0823529412);height:24px;border-radius:6px;padding:4px 8px 2px;margin-right:12px}.CartTimer-v4_TimerCroutonTimerBoxHalfCard_XQI6Ap8I{margin-right:12px}");var da=Object(n.memo)(e=>{const{duration:t,source:a,onTimerLoad:r,onComplete:l}=e,s=Object(n.useMemo)(()=>i()("CartTimer-v4_TimerCroutonWrapperPayments_TZh2Sw16",{"CartTimer-v4_TimerCroutonWrapperCart_C33G0S-u":a===na.CART,"CartTimer-v4_TimerCroutonWrapperHalfCard_z5OghWXh":a===na.PAY_HALF_CARD}),[a]),c=Object(n.useMemo)(()=>i()("CartTimer-v4_TimerCroutonContent_ghhCsbpb",{"CartTimer-v4_TimerCroutonContentHalfCard_42hDTBUp":a===na.PAY_HALF_CARD}),[a]),d=Object(n.useMemo)(()=>i()("CartTimer-v4_TimerCroutonIconContainer_cp0vV8wk",{"CartTimer-v4_TimerCroutonIconContainerHalfCard_nnvCk06w":a===na.PAY_HALF_CARD}),[a]),u=Object(n.useMemo)(()=>i()("CartTimer-v4_TimerCroutonText_dGg6pXwZ",{"CartTimer-v4_TimerCroutonTextHalfCard_sUqNhBMD":a===na.PAY_HALF_CARD}),[a]),m=Object(n.useMemo)(()=>o.a.createElement("div",{className:s,"data-testid":oa},o.a.createElement("div",{className:c},o.a.createElement("div",{className:d},o.a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("circle",{cx:"10",cy:"10",r:"9",fill:"#D07D00"}),o.a.createElement("path",{d:"M10.2273 11.7183C10.9077 11.7183 11.4545 12.2266 11.4545 12.8591C11.4545 13.4917 10.9077 14 10.2273 14C9.5468 14 9 13.4917 9 12.8591C9 12.2266 9.5468 11.7183 10.2273 11.7183ZM9.84587 5H10.6087C11.002 5 11.3209 5.29641 11.3209 5.66206V10.1276C11.3209 10.4932 11.002 10.7897 10.6087 10.7897H9.84587C9.45253 10.7897 9.13366 10.4932 9.13366 10.1276V5.66206C9.13366 5.29641 9.45253 5 9.84587 5Z",fill:"white"}))),o.a.createElement("div",{className:u},"Outlet will stop taking orders in"),o.a.createElement(ca,{duration:t,onTimerLoad:r,onComplete:l}))),[c,t,d,l,r,u,s]);return o.a.createElement(v,null,o.a.createElement(L,null,m))});function ua(e){const{spinnerClass:t,spinnerSvgClass:a,containerClass:r,isSpinActive:l,spinnerBgImgSrc:s,dataTestId:c}=e,d=i()("Spinner_svg_U4K0p-Kl",{Spinner_svgAnimation_Uma40U3I:l},a),u=i()("Spinner_svgCircle_R9nt5P-n",{Spinner_svgCircleWithSpin_YyxnuGyz:l},t),m=Object(n.useMemo)(()=>null!=s?{backgroundImage:`url(${_t(s,{})})`}:{},[s]);return o.a.createElement("div",{className:i()("Spinner_container_hu2EeKFw",r),"data-testid":c},o.a.createElement("div",{className:"Spinner_wrapper_iNxNLkKx",style:m},o.a.createElement("svg",{className:d,viewBox:"0 0 100 100"},o.a.createElement("circle",{className:u,cx:"50",cy:"50",r:"48"}))))}T(".Spinner_container_hu2EeKFw{display:flex;justify-content:center}.Spinner_wrapper_iNxNLkKx{position:relative;width:120px;height:120px;border-radius:50%;background-color:#dff5fa;background-size:contain}.Spinner_svg_U4K0p-Kl{position:absolute;transform-origin:center center;width:100%;height:100%}.Spinner_svgAnimation_Uma40U3I{animation:Spinner_rotate_LlqbuGLc 1.5s linear infinite;transform:rotate(1turn);will-change:transform}.Spinner_svgCircle_R9nt5P-n{fill:transparent}.Spinner_svgCircleWithSpin_YyxnuGyz{stroke:#3b8998;stroke-width:4px;stroke-dasharray:201.7142857143,401.7142857143;stroke-dashoffset:-100}@keyframes Spinner_rotate_LlqbuGLc{0%{transform:rotate(0deg)}}@keyframes Spinner_motion_38rOdx25{0%{stroke-dasharray:1,401.7142857143;stroke-dashoffset:0}50%{stroke-dasharray:201.7142857143,401.7142857143;stroke-dashoffset:-100}to{stroke-dasharray:201.7142857143,401.7142857143;stroke-dashoffset:-301.7142857143}}"),ua.defaultProps={isSpinActive:!0};var ma=Object(n.memo)(ua),pa="threeDotAnimation_threedotAnimatiion_Uj59MX3u";T("@keyframes threeDotAnimation_threedot_I8LuThof{0%,to{opacity:0}50%{opacity:1}}.threeDotAnimation_threedotAnimatiion_Uj59MX3u{opacity:0;animation-name:threeDotAnimation_threedot_I8LuThof;animation-duration:1.8s;animation-iteration-count:infinite;animation-timing-function:ease-in-out}.threeDotAnimation_firstDot_2-HKOWvd{animation-delay:.3s}.threeDotAnimation_secondDot_jYIVD5ny{animation-delay:.6s}.threeDotAnimation_thirdDot_5DH61Pp-{animation-delay:.9s}");var _a=Object(n.memo)(()=>{const e=Object(n.useMemo)(()=>i()(pa,"threeDotAnimation_firstDot_2-HKOWvd"),[]),t=Object(n.useMemo)(()=>i()(pa,"threeDotAnimation_secondDot_jYIVD5ny"),[]),a=Object(n.useMemo)(()=>i()(pa,"threeDotAnimation_thirdDot_5DH61Pp-"),[]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:e},"."),o.a.createElement("span",{className:t},"."),o.a.createElement("span",{className:a},"."))});const Ea=d.default.div`
    width: 20px;
    outline: 0;
`,Ca=d.default.div(({theme:e,$selected:t,$accent:a})=>Object.assign(Object.assign({width:"20px",height:"20px",borderRadius:e.cornerRadius.rounded,textAlign:"center",transition:"all 0.3s ease",float:"right",display:"flex",alignItems:"center",justifyContent:"center"},!t&&{border:"solid 1.5px "+e.colors[e.colorMode].border_Secondary,backgroundColor:e.colors[e.colorMode].background_Primary}),t&&Object.assign(Object.assign({color:e.colors[e.colorMode].background_Primary},a===ga.GREEN&&{borderColor:e.colors[e.colorMode].special_positive,backgroundColor:e.colors[e.colorMode].special_positive}),a===ga.ORANGE&&{borderColor:e.colors[e.colorMode].primary,backgroundColor:e.colors[e.colorMode].primary}))),ba=d.default.span`
    font-size: 16px;
`,ya=d.default.svg`
    font-size: 16px;
`;var ga;!function(e){e.ORANGE="ORANGE",e.GREEN="GREEN"}(ga||(ga={}));const Oa=Object(n.memo)((function(){return o.a.createElement(ya,{width:"10",height:"9",fill:"none",viewBox:"0 0 10 9"},o.a.createElement("path",{stroke:"#fff",strokeWidth:"2",d:"M1 4.429L4.112 7 9 1"}))}));var ha=Object(n.memo)((function(e){const{accent:t=ga.GREEN}=e;return o.a.createElement(Ea,{className:e.className,"data-testid":e["data-testid"],"aria-checked":e.selected,role:"checkbox",tabIndex:0},o.a.createElement(Ca,{$selected:e.selected,$accent:t},o.a.createElement(ba,null,o.a.createElement(Oa,null))))}));const Aa="PaymentLogos/paymentIcons/error";T(".GenericAlert_genericAlertMain_8i8bjfKa{display:flex}.GenericAlert_genericAlertContainer_zfI3nMBj{padding:24px 16px 20px;border-radius:16px 16px 0 0}.GenericAlert_genericAlertMainContent_-R833app{flex:1;margin-bottom:28px}.GenericAlert_genericAlertMainContentTitle_FBgCcziT{font-size:20px;line-height:24px;font-weight:600;letter-spacing:-.3px;color:rgba(2,6,12,.9215686275);padding-right:30px}.GenericAlert_genericAlertMainContentSubtitle_ohNRSmev{font-size:14px;line-height:17px;font-weight:200;letter-spacing:-.3px;margin-top:10px;color:rgba(2,6,12,.6)}.GenericAlert_genericAlertMainIcon_tgMOjKUN{max-height:32px;width:32px;margin-right:13px}.GenericAlert_ctaSecondary_NGx1AtDK{margin-top:16px;text-transform:capitalize}");var fa=Object(n.memo)((function(e){const{primaryAction:t,hideIcon:a,hideOnOverlayClick:r,icon:l=Aa,iconCloudinaryUrl:s,onClose:c,secondaryAction:d,subTitle:u,title:m,hideCloseIcon:p,onClickCloseButton:_,containerDataTestId:E,primaryCtaDataTestId:C,secondaryCtaDataTestId:y,closeButtonDataTestId:g,subTitleDataTestId:O,titleDataTestId:h,titleClassName:A,subTitleClassName:f,containerClassName:v,closeButtonClassName:T}=e,I=Object(n.useMemo)(()=>null!=s?s:_t(l),[l,s]),S=e=>()=>{null==d||d.onClick(),e()},N=i()(null==d?void 0:d.className,"GenericAlert_ctaSecondary_NGx1AtDK"),R=i()("GenericAlert_genericAlertMainContentTitle_FBgCcziT",A),P=i()("GenericAlert_genericAlertMainContentSubtitle_ohNRSmev",f),D=i()("GenericAlert_genericAlertContainer_zfI3nMBj",v),L=Object(n.useMemo)(()=>m||u?o.a.createElement("div",{className:"GenericAlert_genericAlertMainContent_-R833app"},m&&o.a.createElement("div",{className:R,"data-testid":h},m),u&&o.a.createElement("div",{className:P,"data-testid":O},u)):null,[u,P,O,m,R,h]);return U(),o.a.createElement(V,{hideOnOverlayClick:r,onClose:c,containerClass:D,hideCloseIcon:p,onClickCloseButton:_,containerDataTestId:E,closeButtonDataTestId:g,closeButtonClassName:T},({close:e})=>{return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"GenericAlert_genericAlertMain_8i8bjfKa"},!a&&o.a.createElement(Ut,{imageUrl:I,className:"GenericAlert_genericAlertMainIcon_tgMOjKUN"}),L),o.a.createElement("div",null,o.a.createElement(b.SuperButton,{onClick:(n=e,()=>{t.onClick(),n()}),"data-testid":C,buttonType:"primary",buttonSize:"large",variant:"fullwidth",className:t.className,subLabel:t.subText},t.text),d&&o.a.createElement(b.SuperButton,{onClick:S(e),className:N,"data-testid":y,buttonType:"secondary",buttonSize:"large",variant:"fullwidth",subLabel:d.subText},d.text)));var n})})),va=".Header_container_tNlYMbMC,.Header_containerContent_ZPAMVvn2{display:flex}.Header_containerContent_ZPAMVvn2{align-items:center}.Header_container_tNlYMbMC{width:100%;height:100%;background:#fff;box-shadow:0 0 8px 0 rgba(2,6,12,.08)}.Header_containerButton_lJqeNWPt{background:transparent;border:none;outline:none;text-align:left;-webkit-appearance:none;margin:0;padding:16px;height:auto;background:#fff}.Header_containerContent_ZPAMVvn2{flex:1;overflow:hidden}",Ta={_getCss:function(){return va},_getId:function(){return"56daa33f57"},container:"Header_container_tNlYMbMC",containerContent:"Header_containerContent_ZPAMVvn2",containerButton:"Header_containerButton_lJqeNWPt"};T(va);const Ia=o.a.memo((function(e){return o.a.createElement("button",{className:e.className,onClick:e.onClick,"aria-label":"Go Back","data-testid":e.locator},o.a.createElement(Ft,null))}));var Sa=Object(n.memo)(R((function(e){const t=i()(Ta.container,e.containerClass);return e.isVisible?o.a.createElement("div",{className:t,"data-testid":e.dataTestId},o.a.createElement(Ia,{onClick:e.onBack,className:Ta.containerButton,locator:e.backButtonLocator}),o.a.createElement("div",{className:Ta.containerContent},e.children)):null}),Ta)),Na=".styles_header_-VhAs5cj{display:flex;flex-direction:column;width:100%;height:100%;justify-content:center;overflow:hidden}.styles_headerTitle_8jp1k6-1{font-size:16px;line-height:19px;font-weight:600;letter-spacing:-.3px;margin-bottom:2px;color:rgba(2,6,12,.9215686275)}.styles_headerSubtitle_eCKcUAnj{font-weight:200;color:rgba(2,6,12,.6)}.styles_headerSubtitle_eCKcUAnj,.styles_headerSubtitleOffer_E5xFVdJO{font-size:13px;line-height:16px;letter-spacing:-.3px}.styles_headerSubtitleOffer_E5xFVdJO{font-weight:400;color:#1ba672}",Ra={_getCss:function(){return Na},_getId:function(){return"f274119885"},header:"styles_header_-VhAs5cj",headerTitle:"styles_headerTitle_8jp1k6-1",headerSubtitle:"styles_headerSubtitle_eCKcUAnj",headerSubtitleOffer:"styles_headerSubtitleOffer_E5xFVdJO"};T(Na);Object(n.memo)(R((function(e){const{title:t,subtitle:a}=e,n=i()(Ra.headerTitle,e.titleClassName);return o.a.createElement("div",{className:Ra.header},o.a.createElement("h4",{className:n,"data-testid":e.titleLocator},t),o.a.createElement("div",{className:Ra.headerSubtitle},o.a.createElement("span",{className:Ra.headerSubtitleOffer,"data-testid":e.subTitleLocator},a)))}),Ra));const Pa=o.a.forwardRef((e,t)=>o.a.createElement(vt,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(vt.Header,null,o.a.createElement(Sa,{onBack:e.onBack,containerClass:e.headerCSSClass,isVisible:!0,backButtonLocator:e.backButtonLocator},e.header,e.headerExtraContent)),o.a.createElement(vt.Content,{className:e.containerCSSClass,ref:t},e.content))));Object(n.memo)(Pa);const Da=72,La=72,ka="#6541E4",xa=o.a.forwardRef((e,t)=>{const{fillColor:a}=e,n=l(e,["fillColor"]);return o.a.createElement("svg",null,o.a.createElement("path",Object.assign({ref:t,d:"M35.5507 23C35.3785 23 35.2095 23.0458 35.0617 23.1329C34.9139 23.2198 34.793 23.3448 34.712 23.494L27.1117 37.4959C26.9548 37.7853 26.9637 38.1345 27.1354 38.4155C27.3072 38.6967 27.6166 38.8686 27.9503 38.8686H32.5427L30.8115 49.9266C30.7697 50.1976 30.8512 50.473 31.0346 50.6797C31.2178 50.8864 31.4843 51.0037 31.7634 50.9999C32.0422 50.9964 32.3056 50.8726 32.4833 50.6612L45.784 34.7926H45.7842C45.9371 34.6096 46.0137 34.3761 45.998 34.1399C45.9823 33.9034 45.8759 33.6818 45.7001 33.5197C45.5243 33.3576 45.2923 33.2672 45.0512 33.2668H39.0506L43.9844 24.3805H43.9846C44.1447 24.0915 44.1381 23.7409 43.9672 23.4577C43.7963 23.1748 43.4863 23.0011 43.1514 23.0005L35.5507 23Z",fill:a},n)))});xa.displayName="FlashIcon";var wa,Ma=Object(n.memo)((function(e){const{height:t=Da,width:a=La,withBg:n=!0,iconColor:r=ka}=e;return n?o.a.createElement("svg",Object.assign({},e,{width:t,height:a,viewBox:`0 0 ${La} ${Da}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"}),o.a.createElement("path",{d:"M7.27208 64.7279C10.0488 67.5046 13.5984 68.7808 18.1772 69.3964C22.6672 70.0001 28.4338 70 35.8452 70H36H36.1548C43.5662 70 49.3328 70.0001 53.8228 69.3964C58.4016 68.7808 61.9512 67.5046 64.7279 64.7279C67.5046 61.9512 68.7808 58.4016 69.3964 53.8228C70.0001 49.3328 70 43.5662 70 36.1548V36V35.8452C70 28.4338 70.0001 22.6672 69.3964 18.1772C68.7808 13.5984 67.5046 10.0488 64.7279 7.27208C61.9512 4.49539 58.4016 3.21922 53.8228 2.60362C49.3328 1.99995 43.5661 1.99997 36.1548 2L36 2L35.8452 2C28.4339 1.99997 22.6672 1.99995 18.1772 2.60362C13.5984 3.21922 10.0488 4.49539 7.27208 7.27208C4.49539 10.0488 3.21922 13.5984 2.60362 18.1772C1.99995 22.6672 1.99997 28.4339 2 35.8452L2 36L2 36.1548C1.99997 43.5661 1.99995 49.3328 2.60362 53.8228C3.21922 58.4016 4.49539 61.9512 7.27208 64.7279Z",fill:"#EEE9FF"}),o.a.createElement("path",{d:"M35.5507 23C35.3785 23 35.2095 23.0458 35.0617 23.1329C34.9139 23.2198 34.793 23.3448 34.712 23.494L27.1117 37.4959C26.9548 37.7853 26.9637 38.1345 27.1354 38.4155C27.3072 38.6967 27.6166 38.8686 27.9503 38.8686H32.5427L30.8115 49.9266C30.7697 50.1976 30.8512 50.473 31.0346 50.6797C31.2178 50.8864 31.4843 51.0037 31.7634 50.9999C32.0422 50.9964 32.3056 50.8726 32.4833 50.6612L45.784 34.7926H45.7842C45.9371 34.6096 46.0137 34.3761 45.998 34.1399C45.9823 33.9034 45.8759 33.6818 45.7001 33.5197C45.5243 33.3576 45.2923 33.2672 45.0512 33.2668H39.0506L43.9844 24.3805H43.9846C44.1447 24.0915 44.1381 23.7409 43.9672 23.4577C43.7963 23.1748 43.4863 23.0011 43.1514 23.0005L35.5507 23Z",fill:r}),o.a.createElement("path",{d:"M7.27208 64.7279C10.0488 67.5046 13.5984 68.7808 18.1772 69.3964C22.6672 70.0001 28.4338 70 35.8452 70H36H36.1548C43.5662 70 49.3328 70.0001 53.8228 69.3964C58.4016 68.7808 61.9512 67.5046 64.7279 64.7279C67.5046 61.9512 68.7808 58.4016 69.3964 53.8228C70.0001 49.3328 70 43.5662 70 36.1548V36V35.8452C70 28.4338 70.0001 22.6672 69.3964 18.1772C68.7808 13.5984 67.5046 10.0488 64.7279 7.27208C61.9512 4.49539 58.4016 3.21922 53.8228 2.60362C49.3328 1.99995 43.5661 1.99997 36.1548 2L36 2L35.8452 2C28.4339 1.99997 22.6672 1.99995 18.1772 2.60362C13.5984 3.21922 10.0488 4.49539 7.27208 7.27208C4.49539 10.0488 3.21922 13.5984 2.60362 18.1772C1.99995 22.6672 1.99997 28.4339 2 35.8452L2 36L2 36.1548C1.99997 43.5661 1.99995 49.3328 2.60362 53.8228C3.21922 58.4016 4.49539 61.9512 7.27208 64.7279Z",stroke:"white",strokeWidth:"4"})):o.a.createElement("svg",Object.assign({},e,{width:a,height:t,viewBox:"0 0 19 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),o.a.createElement("path",{d:"M8.55066 0C8.37848 0 8.20947 0.0458331 8.06168 0.132916C7.91388 0.219789 7.79302 0.34479 7.71201 0.493951L0.111682 14.4959C-0.0452316 14.7853 -0.036329 15.1345 0.135432 15.4155C0.307192 15.6967 0.616569 15.8686 0.950346 15.8686H5.54268L3.8115 26.9266C3.76973 27.1976 3.85116 27.473 4.03458 27.6797C4.21779 27.8864 4.48433 28.0037 4.7634 27.9999C5.04224 27.9964 5.30561 27.8726 5.48332 27.6612L18.784 11.7926H18.7842C18.9371 11.6096 19.0137 11.3761 18.998 11.1399C18.9823 10.9034 18.8759 10.6818 18.7001 10.5197C18.5243 10.3576 18.2923 10.2672 18.0512 10.2668H12.0506L16.9844 1.38046H16.9846C17.1447 1.0915 17.1381 0.740892 16.9672 0.457749C16.7963 0.174835 16.4863 0.00108796 16.1514 0.000463963L8.55066 0Z",fill:r}))}));o.a.memo((function(e){return o.a.createElement("svg",Object.assign({},e,{width:"11",height:"16",viewBox:"0 0 11 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),o.a.createElement("path",{d:"M4.73179 0C4.63651 0 4.54299 0.0261903 4.4612 0.0759519C4.37941 0.125594 4.31253 0.197023 4.2677 0.282258L0.0618032 8.28338C-0.0250304 8.44874 -0.0201038 8.64827 0.0749456 8.80884C0.169995 8.96956 0.341199 9.06777 0.525906 9.06777H3.06723L2.10922 15.3866C2.08611 15.5415 2.13117 15.6989 2.23267 15.817C2.33405 15.9351 2.48156 16.0021 2.63599 15.9999C2.79029 15.9979 2.93603 15.9272 3.03438 15.8064L10.3948 6.7386H10.3949C10.4795 6.63408 10.5219 6.50063 10.5132 6.36564C10.5045 6.23052 10.4456 6.10386 10.3483 6.01124C10.251 5.91862 10.1227 5.86695 9.98923 5.86671H6.66861L9.39886 0.788833H9.39898C9.48757 0.623715 9.48393 0.423367 9.38935 0.261571C9.29478 0.0999058 9.12322 0.000621689 8.93794 0.000265122L4.73179 0Z",fill:"#02060C",fillOpacity:"0.6"}))}));!function(e){e[e.TO_INIT=0]="TO_INIT",e[e.VISIBLE=1]="VISIBLE",e[e.INVISIBLE=2]="INVISIBLE"}(wa||(wa={}));var ja=Object(n.forwardRef)((function(e,t){const a=l(e,["onVisibilityChange"]),r=Object(n.useRef)(wa.TO_INIT),i=Object(n.useRef)(null),s=Object(n.useRef)();Object(n.useImperativeHandle)(t,()=>({getElementRef:()=>i.current}));const c=Object(n.useCallback)((t,a)=>{t.forEach(t=>{const a=t.isIntersecting||t.intersectionRatio>0?wa.VISIBLE:wa.INVISIBLE;a!==r.current&&(r.current=a,e.onVisibilityChange&&e.onVisibilityChange(a===wa.VISIBLE))})},[e]);return Object(n.useEffect)(()=>{if(void 0!==window&&void 0!==IntersectionObserver){const e=new IntersectionObserver(c);null!=(null==i?void 0:i.current)&&e.observe(i.current),s.current=e}else e.onVisibilityChange&&e.onVisibilityChange(!0);return()=>{s.current&&s.current.disconnect()}},[i,c,e]),o.a.createElement("div",Object.assign({},a,{ref:i}))}));T(".styles_hidden_yAFIfrTp{visibility:hidden}.styles_container_lsQIEdxy{background:transparent;border:none;outline:none;padding:0;text-align:left;-webkit-appearance:none}");var Ba=Object(n.memo)((function(e){const t=Object(n.useMemo)(()=>Object.assign(Object.assign({},{autoplay:!0,backwardSpeed:1,forwardSpeed:1,loop:!0,visible:!0,playLottie:!1,playIfVisible:!0,playForward:!0}),e),[e]),r=Object(n.useRef)(0),l=Object(n.useRef)(),c=Object(n.useRef)(null),d=xt(),u=Object(n.useRef)(!0),m=Object(n.useCallback)(e=>{null!=l&&t.playIfVisible&&(r.current=window.requestAnimationFrame(()=>{var t,a;e?null===(t=null==l?void 0:l.current)||void 0===t||t.play():null===(a=null==l?void 0:l.current)||void 0===a||a.stop()}))},[t.playIfVisible]),p=Object(n.useCallback)(e=>{var a;null!=(null==l?void 0:l.current)&&(null===(a=null==l?void 0:l.current)||void 0===a||a.setDirection(t.playForward?1:-1),r.current=window.requestAnimationFrame(()=>{var t,a;e?null===(t=null==l?void 0:l.current)||void 0===t||t.play():null===(a=null==l?void 0:l.current)||void 0===a||a.stop()}))},[t.playForward]),_=Object(n.useCallback)(()=>{var e;return null==c.current?null:null===(e=c.current)||void 0===e?void 0:e.getElementRef()},[]),E=Object(n.useCallback)(()=>{r.current=window.requestAnimationFrame(()=>s(this,void 0,void 0,(function*(){var e,n,o,r,i;const s=_();if(!(!d.current||null===s||t.fileName&&0===t.fileName.length&&Q(t.animationData)))try{const c=(yield Promise.all([a.e(13),a.e(16)]).then(a.t.bind(null,"qFE6Lx",7))).default;l.current=null==c?void 0:c.loadAnimation({container:s,autoplay:t.autoplay,loop:t.loop,path:t.fileName,animationData:t.animationData,assetsPath:t.assetsPath,renderer:"svg",rendererSettings:{hideOnTransparent:!0,progressiveLoad:!0,preserveAspectRatio:t.preserveAspect},initialSegment:t.frame?[t.frame.initial,t.frame.final]:void 0});const d=e=>{var a,n;t.frameEventBreak&&e.currentTime>=t.frameEventBreak&&(null===(a=t.onFrameEventCompletion)||void 0===a||a.call(t),null===(n=null==l?void 0:l.current)||void 0===n||n.removeEventListener("enterFrame",d))};t.enableFrameEvent&&(null===(e=null==l?void 0:l.current)||void 0===e||e.addEventListener("enterFrame",d)),null===(n=null==l?void 0:l.current)||void 0===n||n.setSpeed(t.forwardSpeed),null===(o=null==l?void 0:l.current)||void 0===o||o.addEventListener("loopComplete",()=>{t.onLoopComplete&&t.onLoopComplete(),!u.current&&t.onBackwardAnimationComplete&&(u.current=!u.current,t.onBackwardAnimationComplete())}),null===(r=null==l?void 0:l.current)||void 0===r||r.addEventListener("complete",()=>{t.onPlayComplete&&t.onPlayComplete(),!u.current&&t.onBackwardAnimationComplete&&(u.current=!u.current,t.onBackwardAnimationComplete())}),null===(i=null==l?void 0:l.current)||void 0===i||i.addEventListener("DOMLoaded",()=>{t.onDOMLoaded&&t.onDOMLoaded()})}catch(e){B(e),"function"==typeof t.onError&&t.onError()}})))},[_,d,t]),C=Object(n.useCallback)(()=>{var e,a,n,o,r;d.current&&t.playOnClick&&(null===(e=l.current)||void 0===e||e.setSpeed(t.forwardSpeed),null===(a=l.current)||void 0===a||a.goToAndPlay(0,!0)),u.current=!u.current,d.current&&t.playBackwardsOnClick&&(null===(n=l.current)||void 0===n||n.setDirection(u.current?1:-1),null===(o=l.current)||void 0===o||o.setSpeed(u.current?t.forwardSpeed:t.backwardSpeed),null===(r=l.current)||void 0===r||r.play())},[d,t.backwardSpeed,t.forwardSpeed,t.playBackwardsOnClick,t.playOnClick]);de(()=>{if(!t.isOnFileChangeEnabled){try{E()}catch(e){B(e)}return()=>{var e;Q(null==l?void 0:l.current)||null===(e=null==l?void 0:l.current)||void 0===e||e.destroy(),window.cancelAnimationFrame(null==r?void 0:r.current)}}}),Object(n.useEffect)(()=>{var e;if(t.isOnFileChangeEnabled){try{Q(null==l?void 0:l.current)||(null===(e=null==l?void 0:l.current)||void 0===e||e.destroy(),l.current=void 0),E()}catch(e){B(e)}return()=>{var e;Q(null==l?void 0:l.current)||null===(e=null==l?void 0:l.current)||void 0===e||e.destroy(),window.cancelAnimationFrame(null==r?void 0:r.current)}}},[t.fileName,t.animationData,t.isOnFileChangeEnabled]);const b=i()({styles_hidden_yAFIfrTp:!t.visible});return d.current&&!t.autoplay&&m(t.visible),d.current&&t.playLottie&&p(t.visible),o.a.createElement("button",{"data-testid":"lottie-container-test-id",onKeyDown:C,className:i()(b,"styles_container_lsQIEdxy"),onClick:C,ref:t.innerRef,"aria-hidden":"true"},o.a.createElement(ja,{ref:c,className:t.className,onVisibilityChange:m}))}));const Ua=o.a.createContext({storeKeyName:"web-cart-global-store",set:(e,t)=>{},get:e=>{},delete:e=>{},deleteAll:()=>{}}),Ha=()=>"undefined"!=typeof window&&"undefined"!=typeof sessionStorage;class Ga{static getItem(e,t){try{if(Ha()){const a=window.sessionStorage.getItem(e);return a?JSON.parse(a):t}return t}catch(e){return B(e),t}}static setItem(e,t){try{Ha()&&sessionStorage.setItem(e,JSON.stringify(t))}catch(e){B(e)}}static removeItem(e){Ha()&&sessionStorage.removeItem(e)}}function Ya({children:e,storeName:t}){const a=t||"web-cart-global-store",r=Object(n.useCallback)(e=>{const t=Ga.getItem(a,{});return null==t?void 0:t[e]},[a]),i=Object(n.useCallback)((e,t)=>{const n=Ga.getItem(a,{}),o=Object.assign(Object.assign({},n),{[e]:t});Ga.setItem(a,o)},[a]),l=Object(n.useCallback)(e=>{const t=Ga.getItem(a,{});Q(t)||(null==t||delete t[e],Ga.setItem(a,t))},[a]),s=Object(n.useCallback)(()=>{Ga.setItem(a,{})},[a]),c=Object(n.useMemo)(()=>({storeKeyName:a,set:i,get:r,delete:l,deleteAll:s}),[a,i,r,l,s]);return o.a.createElement(Ua.Provider,{value:c},e)}T(".GenericCrouton_wrapper_AANfMLD2{display:flex;justify-content:center;position:fixed;bottom:calc(var(--cart-footer-height, 0px) + 12px);left:0;width:90%;background-color:transparent;z-index:399;left:50%;transform:translate(-50%)}.GenericCrouton_button_aDa6ZQQL{animation:GenericCrouton_makeItDisplayAnimation_Sly6g9J5 .25s ease-in;will-change:opacity;display:flex;align-items:center;border-radius:16px;padding:11px 16px;background-color:#1b1e24!important;color:hsla(0,0%,100%,.9176470588);box-shadow:0 3px 6px rgba(0,0,0,.24)}@keyframes GenericCrouton_makeItDisplayAnimation_Sly6g9J5{0%{opacity:0}to{opacity:1}}.GenericCrouton_icon_ahYpiv7F{height:20px;width:20px;margin-right:9px}.GenericCrouton_postTextIcon_BK8WMxXF{animation:GenericCrouton_croutonArrow_0LYMEy0w .6s linear infinite alternate;will-change:transform;height:12px;width:10px;margin-left:5px}@keyframes GenericCrouton_croutonArrow_0LYMEy0w{0%{transform:translateY(-4px)}to{transform:translateY(4px)}}");var Wa=Object(n.memo)((function({title:e,subText:t,titleClassName:a,subTextClassName:n}){return Ce(t)?o.a.createElement("span",{className:a},e):"string"!=typeof e?o.a.createElement(o.a.Fragment,null,e):o.a.createElement("span",null,o.a.createElement(c.Text,{variant:"V2.body2.neutral.medium",color:"text_inverse_Highest_Emphasis",className:a},e),o.a.createElement(c.Text,{variant:"V2.body2.neutral.regular",color:"text_inverse_High_Emphasis",className:n},t))}));const Fa=24,Va=20;var Ka=Object(n.memo)(({title:e,subText:t="",leftIcon:a,icon:r="",iconHeight:l=28,iconWidth:s=28,preTextEl:c,postTextEl:d,durationOfCrouton:u=0,postTextIcon:m="",cssProperties:p={},wrapperClassName:E="",buttonClassName:C="",iconClassName:b="",titleClassName:g="",subTextClassName:O="",timerClassName:h="",onClick:A,impressionEvent:f,setCroutonVisibility:v,onClose:T,closeIcon:I=null,onCloseCrouton:S,showTimer:N,duration:R,onCompleteTimer:P,onTimerLoad:D,precalculatedTimerDuration:L,customWrapperDataTestId:k="crouton-wrapper"})=>{const[x,w]=Object(n.useState)(!Q(e));de(()=>(null==f||f(),null==v||v(!0),()=>{null==v||v(!1)}));const M=i()(E,"GenericCrouton_wrapper_AANfMLD2"),j=i()(C,"GenericCrouton_button_aDa6ZQQL"),B=i()("GenericCrouton_icon_ahYpiv7F",b),U=Object(n.useCallback)(e=>{null==e||e.stopPropagation(),w(!1),null==T||T(),null==S||S()},[T,w,S]);Object(n.useEffect)(()=>{u&&setTimeout(()=>{U()},u)},[u,U,T]);const H=Object(n.useMemo)(()=>!(Q(N)||Q(L)&&Q(R)),[L,R,N]);return x?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:M,"data-testId":k},o.a.createElement("div",{style:p,className:j,onClick:A,"data-testId":"crouton-title"},(null==a?void 0:a.icon)&&o.a.createElement(y.GenericIcon,{Icon:a.icon,fillColor:a.fillColor,strokeColor:a.strokeColor}),(null==a?void 0:a.iconName)&&o.a.createElement(_.SpriteIconWeb,{iconName:a.iconName,fillColor:a.fillColor,strokeColor:a.strokeColor}),r&&o.a.createElement(Ut,{key:r,className:B,imageId:r,height:l,width:s}),c&&o.a.createElement(o.a.Fragment,null,c),o.a.createElement(Wa,{title:e,subText:t,titleClassName:g,subTextClassName:O}),d&&o.a.createElement(o.a.Fragment,null,d),I&&o.a.createElement("button",{onClick:U},I),m&&o.a.createElement(Ut,{className:"GenericCrouton_postTextIcon_BK8WMxXF",imageId:m,height:Fa,width:Va}),H&&o.a.createElement(ca,{duration:R,onComplete:P,onTimerLoad:D,timerClassName:h,precalculatedTimerDuration:L})))):null}),za=Object(n.memo)((function(e){const{className:t,onClick:a=(()=>null),dataTestId:n}=e;return o.a.createElement("button",{className:t,onClick:a,"aria-label":"click here to close","data-testid":n},o.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("circle",{cx:"8",cy:"8",r:"8",fill:"white",fillOpacity:"0.15"}),o.a.createElement("g",{clipPath:"url(#clip0_2791_18396)"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.19107 5.19917C5.91771 4.9258 5.4745 4.9258 5.20113 5.19916C4.92775 5.47252 4.92775 5.91574 5.20111 6.18911L7.01052 7.99856L5.20122 9.80791C4.92786 10.0813 4.92786 10.5245 5.20123 10.7979C5.4746 11.0712 5.91782 11.0712 6.19118 10.7978L8.00046 8.98852L9.80973 10.7978C10.0831 11.0712 10.5263 11.0712 10.7997 10.7979C11.0731 10.5245 11.0731 10.0813 10.7997 9.80791L8.99039 7.99856L10.7998 6.18911C11.0732 5.91574 11.0732 5.47252 10.7998 5.19916C10.5264 4.9258 10.0832 4.9258 9.80984 5.19917L8.00046 7.0086L6.19107 5.19917Z",fill:"white"})),o.a.createElement("defs",null,o.a.createElement("clipPath",{id:"clip0_2791_18396"},o.a.createElement("rect",{width:"6.66294",height:"6.66294",fill:"white",transform:"translate(4.66797 4.66699)"})))))}));const $a=d.default.div`
    padding: ${e=>e.theme.spacing.small};
    background-color: ${e=>e.theme.colors.dark.background_Add_Button};
    border-radius: ${e=>e.theme.cornerRadius.small};
    width: ${264}px;
    height: ${56}px;
    display: flex;
    position: relative;

    &:before {
        //arrow
        content: "";
        width: ${12}px;
        height: ${12}px;
        background-color: ${e=>e.theme.colors.dark.background_Add_Button};
        position: absolute;
        bottom: 0px;
        left: 21px;
        transform: translateY(47%) rotate(-45deg);
        border-radius: 0 0 0 ${e=>e.theme.cornerRadius.xxSmall};
        clip-path: polygon(0% 0%, 100% 100%, 0% 100%);
    }
`,Xa=Object(d.default)(za)`
    background-color: transparent;
    height: ${16}px;
    margin-left: 2px;
    align-self: baseline;
`;var Ja=Object(n.memo)((function({children:e,onClickClose:t,className:a,dataTestId:n,closeIconDataTestId:r}){return o.a.createElement($a,{className:a,"data-testid":n},e,o.a.createElement(Xa,{onClick:t,stroke:"#FFFFFF",opacity:"1",dataTestId:r}))}));const Za=d.keyframes`
    0%, 100% {
        transform: translate3d(0, 0, 0);
    }
    50% {
        transform: translate3d(10px, 0, 0);
    }
`,qa=d.keyframes`
    0%, 100% {
        transform: translate3d(0, 0, 0);
    }
    50% {
        transform: translate3d(25px, 0, 0);
    }
`,Qa=d.keyframes`
    0% {
        transform: skewX(-40deg) translate3d(-100px, 0, 0);
    }
    66%, 100% {
        transform: skewX(-40deg) translate3d(400px, 0, 0);
    }
`,en=d.default.div`
    display: flex;
    align-items: center;
    height: 58px;
    width: 100%;
    border-radius: 56px;
    padding: 0 6px;
    transition: height 0.1s linear;
    position: relative;
    overflow: hidden;
    background: ${({theme:e})=>e.colors[e.colorMode].special_positive};

    &::after {
        content: "";
        position: absolute;
        top: 0;
        width: 30px;
        height: 100%;
        opacity: 0.2;
        background-color: ${({theme:e})=>e.colors[e.colorMode].background_Primary};
        animation: ${Qa} 2s ease-in-out;
        will-change: left;
        transform: translate3d(-100px, 0, 0) skewX(-40deg);
        filter: blur(10px);
        animation-iteration-count: 1;
        animation-delay: ${800}ms;
        animation-timing-function: ease-in-out;
    }
`,tn=d.default.span`
    width: fit-content;
    height: fit-content;
    z-index: 1;

    ${({$isLarge:e})=>e&&d.css`
            width: 45%;
        `};
`,an=d.default.button`
    border: none;
    background: none;
    padding: 0;
    margin: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    width: ${80}px;
    height: ${80}px;
    position: relative;
    will-change: left;
    touch-action: pan-x;
    padding: 0px 6px;
    margin-left: -22px;
    box-sizing: content-box;
    cursor: pointer;

    ${e=>e.$showInitialAnimation&&d.css`
            animation: ${Za} ${800}ms cubic-bezier(0, 0, 0.37, 0.98)
                ${800}ms;
        `}

    ${e=>e.$showTapAnimation&&d.css`
            animation: ${qa} ${800}ms cubic-bezier(0.4, 0, 0.2, 1) !important;
        `}
`,nn=d.default.div`
    width: ${48}px;
    height: ${48}px;
    box-shadow: 0px 0px 4px 2px rgba(0, 0, 0, 0.12);
    border-radius: ${48}px;
`,on=d.default.div`
    position: absolute;
    left: ${24}px;
    right: 0px;
    text-align: center;
`,rn=d.default.span`
    margin-left: 4px;
`,ln=d.default.div`
    display: flex;
    justify-content: center;
    margin-top: 2px;
`,sn=d.default.span`
    text-decoration: line-through;
    margin-right: 4px;
`;var cn=Object(n.memo)(Object(n.forwardRef)((function(e,t){const a=Object(d.useTheme)(),n=a.colors[a.colorMode].special_positive;return o.a.createElement("svg",Object.assign({ref:t,fill:"none",viewBox:"0 0 48 48",width:"48px",height:"48px",xmlns:"http://www.w3.org/2000/svg"},e),o.a.createElement("circle",{cx:"24",cy:"24",r:"24",fill:"#fff"}),o.a.createElement("path",{stroke:n,d:"M 24 16 L 32 24 L 24 32",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{opacity:"calc(1 - var(--swipe-progress, 0))"}}),o.a.createElement("path",{stroke:n,d:"M 15 16 L 23 24 L 15 32",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:.4,style:{opacity:"calc(1 - var(--swipe-progress, 0))"}}),o.a.createElement("path",{d:"M 32.5 18 L 21.571 28.929 C 21.532 28.968 21.468 28.968 21.429 28.929 L 16 23.5",stroke:n,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:{opacity:"var(--swipe-progress, 0)"},transform:"matrix(0, -1, 1, 0, 0.770876, 47.729128)"}))})));const dn=e=>{var t;return null===(t=null==e?void 0:e.type)||void 0===t?void 0:t.includes("touch")};var un=Object(n.memo)(()=>o.a.createElement("svg",{width:"8",height:"15",viewBox:"0 0 8 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{opacity:"0.9"},o.a.createElement("path",{d:"M3.60028 2.19922C3.52778 2.19922 3.45662 2.21755 3.39439 2.25239C3.33216 2.28713 3.28127 2.33713 3.24716 2.3968L0.0470241 7.99758C-0.0190449 8.11333 -0.0152964 8.25301 0.0570239 8.36541C0.129344 8.47791 0.259608 8.54666 0.400146 8.54666H2.33376L1.60484 12.9699C1.58725 13.0783 1.62154 13.1884 1.69877 13.2711C1.77591 13.3538 1.88814 13.4007 2.00564 13.3992C2.12305 13.3978 2.23394 13.3483 2.30876 13.2637L7.90907 6.91624H7.90916C7.97353 6.84307 8.00576 6.74966 7.99915 6.65517C7.99255 6.56058 7.94773 6.47192 7.87371 6.40708C7.79969 6.34225 7.70202 6.30609 7.60051 6.30592H5.07395L7.15131 2.7514H7.1514C7.2188 2.63582 7.21604 2.49558 7.14408 2.38232C7.07211 2.26915 6.94158 2.19965 6.80061 2.1994L3.60028 2.19922Z",fill:"white",fillOpacity:"0.75"}))));const mn="turbo-slider";var pn=Object(n.memo)((function(e){const t="ontouchstart"in document.documentElement,a=Object(n.useRef)(null),r=Object(n.useRef)(null),i=Object(n.useRef)(null),l=Object(n.useRef)(null),d=xt(),[u,m]=Object(n.useState)({unlocked:!1}),p=Object(n.useRef)({isDragging:!1,startX:0,startY:0,sliderLeft:0,containerWidth:0}),[_,E]=Object(n.useState)(!1),C=Object(n.useCallback)((e=48)=>p.current.sliderLeft/(p.current.containerWidth+e),[]),b=Object(n.useCallback)((e,t,a,n,o)=>(o-e)*(n-a)/(t-e)+a,[]),y=Object(n.useCallback)(()=>{var t;if(!d.current||u.unlocked||!a.current||!r.current||!l.current||!i.current)return;const n=C(0);a.current.style.setProperty("--swipe-left-position",p.current.sliderLeft+"px"),p.current.sliderLeft>.7*p.current.containerWidth?(a.current.style.setProperty("--swipe-progress","1"),a.current.style.transform="translateX(var(--swipe-left-position))",r.current.style.transform="rotate(90deg)"):p.current.sliderLeft<.6*p.current.containerWidth?(a.current.style.transform="translateX(var(--swipe-left-position))",r.current.style.transform="rotate(0deg)",a.current.style.setProperty("--swipe-progress","0")):p.current.sliderLeft>=.6*p.current.containerWidth&&p.current.sliderLeft<.7*p.current.containerWidth&&(a.current.style.transform="translateX(var(--swipe-left-position))",r.current.style.transform=`rotate(${Math.floor(b(.6,.7,0,90,n))}deg)`,a.current.style.setProperty("--swipe-progress",String(b(.6,.7,0,1,n)))),p.current.sliderLeft?i.current.style.transform="scale(0.985)":i.current.style.transform="scale(1)",a.current.style.transition="",l.current.style.opacity=String(1-C()),null===(t=e.onDragUpdate)||void 0===t||t.call(e,p.current.sliderLeft,p.current.containerWidth)},[C,b,d,e,u.unlocked]),g=Object(n.useCallback)(()=>{i.current&&l.current&&(i.current.style.width=i.current.clientWidth+"px",l.current.style.opacity="1",i.current.style.transform="scale(1)")},[]),O=Object(n.useCallback)(()=>{a.current&&d.current&&r.current&&(a.current.style.setProperty("--swipe-progress","0"),y(),g(),m({unlocked:!1}),a.current.style.transition="transform 0.5s ease-out",a.current.style.transform="translateX(0px)",r.current.style.transform="rotate(0deg)")},[d,g,y]);Object(n.useImperativeHandle)(e.sliderButtonRef,()=>({resetSliderButton:()=>s(this,void 0,void 0,(function*(){O()}))}));const h=Object(n.useCallback)((t,a)=>{var n;g(),m({unlocked:!0}),null===(n=null==e?void 0:e.onSuccess)||void 0===n||n.call(e,t,a)},[e,g]),A=Object(n.useCallback)((t,a)=>{var n;g(),m({unlocked:!1}),null===(n=null==e?void 0:e.onFailure)||void 0===n||n.call(e,t,a)},[e,g]),f=Object(n.useCallback)(e=>{if(!d.current||u.unlocked)return;const t=dn(e)?e.touches[0].clientY:e.clientY,a=Math.abs(t-p.current.startY);if(p.current.isDragging&&a<70){const t=dn(e)?e.touches[0].clientX:e.clientX;p.current.sliderLeft=Math.min(Math.max(0,t-p.current.startX),p.current.containerWidth),y()}},[d,u.unlocked,y]),v=Object(n.useCallback)(()=>{if(d.current&&!u.unlocked&&a.current&&p.current.isDragging)if(p.current.isDragging=!1,p.current.sliderLeft>.7*p.current.containerWidth){const e=p.current.sliderLeft;p.current.sliderLeft=p.current.containerWidth,y(),a.current.style.transition="",h(e,p.current.containerWidth)}else{const e=p.current.sliderLeft;p.current.sliderLeft=0,y(),a.current.style.transition="transform 0.3s ease-out",a.current.style.transform="translateX(0px) rotate(0deg)",A(e,p.current.containerWidth)}},[d,A,h,u.unlocked,y]),T=Object(n.useCallback)(e=>{e.stopPropagation(),d.current&&!u.unlocked&&a.current&&(p.current.isDragging=!0,dn(e)?(p.current.startX=e.touches[0].clientX,p.current.startY=e.touches[0].clientY):(p.current.startX=e.clientX,p.current.startY=e.clientY))},[d,u.unlocked]),I=Object(n.useCallback)(()=>{!a.current||p.current.isDragging||p.current.sliderLeft||(E(!0),setTimeout(()=>{a.current&&E(!1)},800))},[]);de(()=>{t?(document.addEventListener("touchmove",f),document.addEventListener("touchend",v)):(document.addEventListener("mousemove",f),document.addEventListener("mouseup",v)),(null==i?void 0:i.current)&&(p.current.containerWidth=i.current.clientWidth-48-12)});const S=Object(n.useMemo)(()=>null!=e.turboCtaText?o.a.createElement(o.a.Fragment,null,e.turboCtaText):o.a.createElement(o.a.Fragment,null,e.prefixText+" | ",e.discountSubtext&&e.discountSubtext!==e.amountText&&o.a.createElement(sn,null,o.a.createElement(c.Text,{as:"span",variant:"V2.body1.neutral.regular",color:"text_inverse_Med_Emphasis"},e.discountSubtext)),e.amountText),[e.amountText,e.discountSubtext,e.prefixText,e.turboCtaText]);return o.a.createElement(en,{"data-testid":e.dataTestId,className:e.containerClassName,ref:i,onMouseDown:I},o.a.createElement(tn,{ref:a,onMouseDown:T,onTouchStart:T,$isLarge:e.increaseSliderWidth,"data-testid":mn},o.a.createElement(an,{$showInitialAnimation:e.showInitialBumpAnimation,$showTapAnimation:_,ref:r},o.a.createElement(nn,null,o.a.createElement(cn,null)))),o.a.createElement(on,null,o.a.createElement(c.Text,{as:"span",ref:l,variant:"V2.subheading1.neutral.bold",color:"background_Primary"},u.unlocked&&e.successText||S),e.showSubtextForInstantFoP&&o.a.createElement(ln,null,o.a.createElement(un,null),o.a.createElement(rn,null,o.a.createElement(c.Text,{variant:"V2.body3.neutral.regular",color:"text_inverse_High_Emphasis"},"Pay Instantly")))))}));const _n=({size:e=20})=>o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,fill:"none"},o.a.createElement("path",{fill:"#6541E4",d:"M6 2.31C7.952 1.181 8.928.618 10 .618s2.048.563 4 1.69l.66.382c1.952 1.127 2.928 1.69 3.464 2.618.536.929.536 2.056.536 4.31v.762c0 2.254 0 3.381-.536 4.31-.535.928-1.512 1.491-3.464 2.618l-.66.382c-1.952 1.127-2.928 1.69-4 1.69s-2.048-.563-4-1.69l-.66-.382c-1.952-1.127-2.928-1.69-3.464-2.618-.536-.929-.536-2.056-.536-4.31V9.62c0-2.254 0-3.381.536-4.31.536-.928 1.512-1.491 3.464-2.618L6 2.309Z"}),o.a.createElement("path",{fill:"#fff",stroke:"#6541E4",d:"M9.995 5.877a3.77 3.77 0 0 0-3.77 3.77v3.56a2.42 2.42 0 0 0 2.42 2.42h2.699a2.42 2.42 0 0 0 2.42-2.42v-3.56a3.77 3.77 0 0 0-3.77-3.77Z"}),o.a.createElement("rect",{width:"3.278",height:"6.2",x:"8.361",y:"11.345",fill:"#fff",stroke:"#6541E4",rx:"1.639"}),o.a.createElement("circle",{cx:"1.874",cy:"1.874",r:"2.474",fill:"#fff",stroke:"#6541E4",transform:"matrix(1 0 0 -1 8.12 7.248)"}),o.a.createElement("path",{stroke:"#fff",d:"m6.113 5.375 7.768-.001"})),En=12,Cn="#909197";var bn=Object(n.memo)((function(e){const{className:t,size:a=En,iconFillColor:n=Cn}=e;return o.a.createElement("svg",{className:t,width:a,height:a,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.00001 0.408556C6.54475 0.408563 6.98635 0.850169 6.98634 1.39491L6.98629 5.01371L10.6051 5.01366C11.1498 5.01366 11.5914 5.45525 11.5914 5.99999C11.5914 6.54473 11.1498 6.98634 10.6051 6.98635L6.98627 6.98639L6.98622 10.605C6.98621 11.1497 6.54461 11.5913 5.99987 11.5913C5.45513 11.5913 5.01353 11.1497 5.01354 10.605L5.01359 6.98642L1.395 6.98646C0.850257 6.98647 0.408652 6.54488 0.408645 6.00014C0.408637 5.4554 0.850231 5.01379 1.39497 5.01378L5.01361 5.01374L5.01366 1.39488C5.01367 0.850143 5.45527 0.408549 6.00001 0.408556Z",fill:n}))}));const yn=d.default.div.attrs(e=>e)`
    position: sticky;
    top: 0;
    z-index: 4;
    background: ${e=>e.theme.colors[e.theme.colorMode].background_Primary};
    border-radius: 0 0 ${e=>e.isLoading?0:e.theme.cornerRadius.large}
        ${e=>e.isLoading?0:e.theme.cornerRadius.large};
    padding: 10px ${e=>e.theme.spacing.medium} ${e=>e.theme.spacing.medium}
        ${e=>e.theme.spacing.medium};
    margin-bottom: ${e=>e.isLoading?0:e.theme.spacing.xxLarge};
    span {
        color: ${e=>e.isEmpty?"rgba(2, 6, 12, 0.3);":""+e.theme.colors[e.theme.colorMode].primary};
        pointer-events: ${e=>e.isEmpty?"none":"auto"};
    }
    input {
        border-radius: ${e=>e.theme.spacing.medium};
        text-transform: uppercase;
    }
`;var gn,On,hn,An,fn,vn,Tn,In,Sn,Nn,Rn,Pn,Dn,Ln,kn,xn,wn,Mn,jn,Bn,Un,Hn,Gn,Yn,Wn,Fn,Vn,Kn,zn,$n,Xn,Jn,Zn;!function(e){e.WEB="web",e.IOS="iOS",e.ANDROID="an"}(gn||(gn={})),function(e){e.CHARGED="CHARGED",e.NEW="NEW",e.PENDING_VBV="PENDING_VBV",e.AUTHENTICATION_FAILED="AUTHENTICATION_FAILED",e.AUTHORIZATION_FAILED="AUTHORIZATION_FAILED",e.JUSPAY_DECLINED="JUSPAY_DECLINED",e.AUTHORIZING="AUTHORIZING",e.USER_ABORTED="USER_ABORTED"}(On||(On={})),function(e){e.PROD="prod",e.SAND_BOX="sandbox"}(hn||(hn={})),function(e){e.DENIED="DENIED",e.GRANTED="GRANTED"}(An||(An={})),(fn||(fn={})).READ_CONTACTS="android.permission.READ_CONTACTS",function(e){e.CARD_INFO_IMAGE="type.googleapis.com/swiggy.gandalf.widgets.v2.ImageInfoLayoutCard.ImageCardInfo",e.CARD_INFO_VIDEO="type.googleapis.com/swiggy.gandalf.widgets.v2.ImageInfoLayoutCard.VideoCardInfo"}(vn||(vn={})),(Tn||(Tn={})).CUISINE="STORY_COLLECTION_TYPE_CUISINE",function(e){e.IMAGE="CREATIVE_TYPE_IMAGE",e.VIDEO="CREATIVE_TYPE_VIDEO"}(In||(In={})),function(e){e.VIEW="VIEW",e.CLICK="CLICK"}(Sn||(Sn={})),function(e){e.SCREEN="SCREEN",e.DEEPLINK="DEEPLINK"}(Nn||(Nn={})),function(e){e.HOME="HOME",e.MENU="MENU",e.COLLECTIONS="COLLECTIONS",e.FOOD="FOOD"}(Rn||(Rn={})),function(e){e.BIT="BIT",e.BITE="BITE",e.BINGE="BINGE"}(Pn||(Pn={})),function(e){e.FOOD_TRACK="FOOD_TRACK",e.DIALOG_ALERT="DIALOG_ALERT",e.DIALOG_CONFIRM="DIALOG_CONFIRM",e.CLOSE_WEBVIEW="CLOSE_WEBVIEW",e.CLOSE_APP="CLOSE_APP",e.GET_USER_INFO="GET_USER_INFO",e.IS_JUSPAY_AVAILABLE="IS_JUSPAY_AVAILABLE",e.JUSPAY_INIT="JUSPAY_INIT",e.INIT_JUSPAY_WALLET="INIT_JUSPAY_WALLET",e.PAY_USING_JUSPAY_NB="PAY_USING_JUSPAY_NB",e.PAY_USING_SAVED_CARD="PAY_USING_SAVED_CARD",e.PAY_USING_JUSPAY_NEW_CARD="PAY_USING_JUSPAY_NEW_CARD",e.PAY_USING_JUSPAY_WALLET="PAY_USING_JUSPAY_WALLET",e.PAY_USING_JUSPAY_WALLET_CRED="PAY_USING_JUSPAY_WALLET_CRED",e.GET_INAPP_UPI_ACCOUNT_LIST="GET_INAPP_UPI_ACCOUNT_LIST",e.ONBOARD_INAPP_UPI="ONBOARD_INAPP_UPI",e.ADD_NEW_BANK_INAPP_UPI="ADD_NEW_BANK_INAPP_UPI",e.IS_INAPP_UPI_ENABLED="IS_INAPP_UPI_ENABLED",e.GET_INAPP_UPI_DATA_FROM_CACHE="GET_INAPP_UPI_DATA_FROM_CACHE",e.INITIATE_INAPP_UPI_ONBOARDING="INITIATE_INAPP_UPI_ONBOARDING",e.ADD_NEW_INAPP_UPI="ADD_NEW_INAPP_UPI",e.PAY_USING_INAPP_UPI="PAY_USING_INAPP_UPI",e.ON_REFUND_OPTION_SET="ON_REFUND_OPTION_SET",e.WEBVIEW_LAST_STATE="WEBVIEW_LAST_STATE",e.CLEAR_CART="CLEAR_CART",e.GET_CHECKOUT_META_INFO="GET_CHECKOUT_META_INFO",e.NAVIGATE_TO_SCREEN="NAVIGATE_TO_SCREEN",e.SWITCH_TO_NATIVE_PAYMENT="SWITCH_TO_NATIVE_PAYMENT",e.GET_SWIGGY_HEADERS="GET_SWIGGY_HEADERS",e.WEB_NAVIGATE="WEB_NAVIGATE",e.POST_ORDER_EVENT="POST_ORDER_EVENT",e.STORE_ORDER_INFO_EVENT="STORE_ORDER_INFO_EVENT",e.ORDER_FAILED_EVENT="ORDER_FAILED_EVENT",e.SHOW_HEADER="SHOW_HEADER",e.SEND_LINK_ACCOUNT_STATUS="SEND_LINK_ACCOUNT_STATUS",e.GET_LOCATION="GET_LOCATION",e.GET_DEVICE_DETAILS="GET_DEVICE_DETAILS",e.STORAGE="STORAGE",e.PAY_USING_AMAZON_PAY="PAY_USING_AMAZON_PAY",e.DIRECT_PLACE_ORDER_FAILURE="DIRECT_PLACE_ORDER_FAILURE",e.SET_APP_ACTIVE_IN_IDLE_STATE="SET_APP_ACTIVE_IN_IDLE_STATE",e.GET_RESTAURANT_EMPATHY_DATA="GET_RESTAURANT_EMPATHY_DATA",e.GET_SUPPORT_UNREAD_CONVERSATION_DATA="GET_SUPPORT_UNREAD_CONVERSATION_DATA",e.SHARE_ON_SOCIAL_MEDIA="SHARE_ON_SOCIAL_MEDIA",e.IS_UPI_INTENT_METHOD_AVAILABLE="IS_UPI_INTENT_METHOD_AVAILABLE",e.ALL_UPI_INTENT_AVAILABLE_METHODS="ALL_UPI_INTENT_AVAILABLE_METHODS",e.PAY_USING_UPI_INTENT="PAY_USING_UPI_INTENT",e.ORDER_CONFIRMED_EVENT="ORDER_CONFIRMED_EVENT",e.PAYMENT_IN_PENDING_STATE="PAYMENT_IN_PENDING_STATE",e.IS_PHONEPE_SDK_AVAILABLE="IS_PHONEPE_SDK_AVAILABLE",e.MAKE_PAYMENT_USING_PHONEPE="MAKE_PAYMENT_USING_PHONEPE",e.CLEAR_WEB_HISTORY="CLEAR_WEB_HISTORY",e.HIDE_LOADER="HIDE_LOADER",e.SHOW_LOADER="SHOW_LOADER",e.LOGIN="LOGIN",e.PHONE_CONTACT="PHONE_CONTACT",e.IMAGE_UPLOAD="IMAGE_UPLOAD",e.GOOGLE_IMAGE_UPLOAD="GOOGLE_IMAGE_UPLOAD",e.PROCEED_DASH_ORDER="PROCEED_DASH_ORDER",e.LOG_CLEVERTAP_EVENT="SEND_CLEVERTAP_EVENT",e.LOG_GAMOOGA_EVENT="TRACK_GAMOOGA_EVENT",e.LOG_EVENT="TRACK_EVENT",e.KYC_INIT="KYC_INIT",e.ADD_NEW_ADDRESS="ADD_NEW_ADDRESS",e.GENERIC_ADD_NEW_ADDRESS="GENERIC_ADD_NEW_ADDRESS",e.EDIT_ADDRESS="EDIT_ADDRESS",e.STATUS_BAR_CHANGE="STATUS_BAR_CHANGE",e.VIBRATE="VIBRATE",e.WHATSAPP_SHARE="WHATSAPP_SHARE",e.OPEN_SHARE_SHEET="OPEN_SHARE_SHEET",e.COPY_TEXT_TO_CLIPBOARD="COPY_TEXT_TO_CLIPBOARD",e.DISABLE_NATIVE_SCROLL="DISABLE_NATIVE_SCROLL",e.MAKE_DASH_PAYMENT="MAKE_DASH_PAYMENT",e.GET_LOCAL_CART="GET_LOCAL_CART",e.UPDATE_LOCAL_CART="UPDATE_LOCAL_CART",e.CUSTOMISE_CART_ITEM="CUSTOMISE_CART_ITEM",e.APPLY_COUPON="APPLY_COUPON",e.CLEAR_LOCAL_CART="CLEAR_LOCAL_CART",e.GET_CONFIG_VALUE="GET_CONFIG_VALUE",e.OPEN_SUPER_V3="OPEN_SUPER_V3",e.TOGGLE_NATIVE_BOTTOM_BAR="TOGGLE_NATIVE_BOTTOM_BAR",e.TOGGLE_QUICKS_HEADER_TAB="TOGGLE_QUICKS_HEADER_TAB",e.LAUNCH_SOFT_KEYBOARD="LAUNCH_SOFT_KEYBOARD",e.LAUNCH_BROWSER="LAUNCH_BROWSER",e.GET_CRED_ELIGIBILTY_FROM_APP_CACHE="GET_CRED_ELIGIBILTY_FROM_APP_CACHE",e.GET_CRED_ELIGIBILTY="GET_CRED_ELIGIBILTY",e.VERIFY_MOBILE_NUMBER="VERIFY_MOBILE_NUMBER",e.UPDATE_PROFILE_INFO="UPDATE_PROFILE_INFO",e.LOGOUT="LOGOUT",e.ENABLE_BACK_SWIPE="ENABLE_BACK_SWIPE",e.SET_LOCATION="SET_LOCATION",e.SET_LOCATION_WITH_DEEP_LINK="SET_LOCATION_WITH_DEEP_LINK",e.SET_RECIPIENT_INFO="SET_RECIPIENT_INFO",e.UPDATE_CONVERSATION_ID="UPDATE_CONVERSATION_ID",e.GET_NEXT_STEP_DETAILS="GET_NEXT_STEP_DETAILS",e.GET_CURRENT_ADDRESS="GET_CURRENT_ADDRESS",e.IM_GET_LOCAL_CART="IM_GET_LOCAL_CART",e.IM_UPDATE_LOCAL_CART="IM_UPDATE_LOCAL_CART",e.IM_UPDATE_LOCAL_CART_ITEMS="IM_UPDATE_LOCAL_CART_ITEMS",e.IM_CLEAR_LOCAL_CART="IM_CLEAR_LOCAL_CART",e.CHECK_PERMISSION="CHECK_PERMISSION",e.SHOULD_SHOW_PERMISSION_RATIONALE="SHOULD_SHOW_PERMISSION_RATIONALE",e.REQUEST_PERMISSION="REQUEST_PERMISSION",e.LAUNCH_APP_SETTINGS="LAUNCH_APP_SETTINGS",e.EDIT_DIRECTIONS_TO_REACH="EDIT_DIRECTIONS_TO_REACH",e.IOS_CHECK_CAMERA_PERMISSION="IOS_CHECK_CAMERA_PERMISSION",e.IOS_MEDIA_UPLOAD="iOS_MEDIA_UPLOAD",e.GET_SELECTED_LOCATION="GET_SELECTED_LOCATION",e.OPEN_LOCATION_SEARCH="OPEN_LOCATION_SEARCH",e.DINEOUT_GET_LOCAL_CART="DINEOUT_GET_LOCAL_CART",e.DINEOUT_CLEAR_LOCAL_CART="DINEOUT_CLEAR_LOCAL_CART",e.DINEOUT_UPDATE_LOCAL_CART="DINEOUT_UPDATE_LOCAL_CART",e.ONE_CLICK_DE_ENROLL="ONE_CLICK_DE_ENROLL",e.GET_ONE_CLICK_CARD_ELIGIBILITY="GET_ONE_CLICK_CARD_ELIGIBILITY",e.TRANSACTION_CONFIRMED_EVENT="TRANSACTION_CONFIRMED_EVENT",e.TRANSACTION_FAILED_EVENT="TRANSACTION_FAILED_EVENT",e.DELETE_CARD="DELETE_CARD",e.SUBMIT_FEEDBACK="SUBMIT_FEEDBACK",e.GET_WALLET_DATA="GET_WALLET_DATA",e.GET_LINKED_WALLET_DETAILS="GET_LINKED_WALLET_DETAILS",e.WALLET_DELINKED="WALLET_DELINKED",e.WALLET_ADD_MONEY_SUCCESS="WALLET_ADD_MONEY_SUCCESS",e.DELINK_AMAZON_PAY="DELINK_AMAZON_PAY",e.SWITCH_BOTTOM_BAR_TAB="SWITCH_BOTTOM_BAR_TAB",e.GET_TNS_SIGNAL="GET_TNS_SIGNAL",e.IS_LOCATION_ENABLED="IS_LOCATION_ENABLED",e.SCREEN_CAPTURING="SCREEN_CAPTURING",e.SHARE_COLLECTION_INFORMATION="SHARE_COLLECTION_INFORMATION",e.UPDATE_MENU_ITEM_LIST="UPDATE_MENU_ITEM_LIST",e.SHOW_MENULET="SHOW_MENULET",e.TOGGLE_NATIVE_SEARCH_BAR="TOGGLE_NATIVE_SEARCH_BAR",e.UPDATE_NATIVE_SEARCH_BAR="UPDATE_NATIVE_SEARCH_BAR",e.OPEN_NATIVE_VOICE_SEARCH="OPEN_NATIVE_VOICE_SEARCH",e.UPDATE_LAUNCHER_ICON="UPDATE_LAUNCHER_ICON",e.IS_LAUNCHER_ICON_ENABLED="IS_LAUNCHER_ICON_ENABLED",e.QUIZ_PROGRESS_UPDATE="QUIZ_PROGRESS_UPDATE",e.UPDATE_ORDER_EVENT="UPDATE_ORDER_EVENT",e.UPDATE_ACCESS_TOKEN="UPDATE_ACCESS_TOKEN",e.GET_SORTED_ADDRESSES="GET_SORTED_ADDRESSES",e.IS_WEB_BOTTOM_BAR_VISIBLE="IS_WEB_BOTTOM_BAR_VISIBLE",e.GET_ASYNC_IRCTC_PAYLOAD="GET_ASYNC_IRCTC_PAYLOAD",e.GET_LOCAL_IRCTC_PAYLOAD="GET_LOCAL_IRCTC_PAYLOAD",e.UPDATE_LOCAL_IRCTC_PAYLOAD="UPDATE_LOCAL_IRCTC_PAYLOAD",e.GET_NOTIFICATION_PERMISSION_STATUS="GET_NOTIFICATION_PERMISSION_STATUS",e.GET_INSTALLED_APPS="GET_INSTALLED_APPS",e.REFRESH_PARENT_SCREEN="REFRESH_PARENT_SCREEN",e.SEND_FREQUENCY_CAPPING_EVENT="SEND_FREQUENCY_CAPPING_EVENT",e.MANAGE_SWIPE_GESTURE="MANAGE_SWIPE_GESTURE",e.INVITE_MORE_GROUPCART="INVITE_MORE_GROUPCART",e.DELETE_GROUPCART="DELETE_GROUPCART",e.LEAVE_GROUPCART="LEAVE_GROUPCART",e.INIT_IM_WEB="INIT_IM_WEB",e.UPDATE_IM_SHARED_PREFERENCE="UPDATE_IM_SHARED_PREFERENCE",e.REFRESH_SCREEN="REFRESH_SCREEN",e.SUBMIT_UPLOADED_FILES="SUBMIT_UPLOADED_FILES",e.GET_GPS_LOCATION="GET_GPS_LOCATION",e.DOWNLOAD_FILE="DOWNLOAD_FILE",e.SHOW_CHAT_BUBBLE="SHOW_CHAT_BUBBLE"}(Dn||(Dn={})),function(e){e.SUCCESS="SUCCESS",e.FAILURE="FAILED"}(Ln||(Ln={})),function(e){e.ADDRESS="ADDRESS",e.ANNOTATION="ANNOTATION",e.AREA="AREA",e.MOBILE="MOBILE",e.INSTRUCTIONS="INSTRUCTIONS",e.FLAT_NO="FLAT_NO",e.LANDMARK="LANDMARK"}(kn||(kn={})),function(e){e.ADD_ADDRESS_FULL_FORM="ADD_ADDRESS_FULL_FORM",e.EDIT_RECEIVER_DETAILS_HALF_CARD="EDIT_RECEIVER_DETAILS_HALF_CARD",e.ADD_RECEIVER_DETAILS_HALF_CARD_1="ADD_RECEIVER_DETAILS_HALF_CARD_1",e.ADD_RECEIVER_DETAILS_HALF_CARD_2="ADD_RECEIVER_DETAILS_HALF_CARD_2"}(xn||(xn={})),(wn||(wn={})).OFO_EVENTS="OFO_EVENTS",function(e){e.PRIMARY="primary",e.SECONDARY="secondary"}(Mn||(Mn={})),(jn||(jn={})).TWITTER="TWITTER",function(e){e.SCREEN="SCREEN",e.DEEPLINK="DEEPLINK"}(Bn||(Bn={})),function(e){e.CLOSE="CLOSE",e.THREEDOT="THREEDOT",e.HELP="HELP",e.SHARE="SHARE",e.FILTER="FILTER",e.BOOKMARK="BOOKMARK",e.REFRESH="REFRESH",e.INFO="INFO",e.HEART="HEART"}(Un||(Un={})),function(e){e.CENTER="CENTER",e.LEFT="LEFT"}(Hn||(Hn={})),function(e){e.ACCOUNTS="ACCOUNTS",e.PAYMENTS="PAYMENTS"}(Gn||(Gn={})),function(e){e.SUCCESS="SUCCESS",e.FAILURE="FAILURE"}(Yn||(Yn={})),function(e){e.GET="GET",e.SAVE="SAVE",e.DELETE="DELETE",e.CLEAN="CLEAN"}(Wn||(Wn={})),function(e){e.DEFAULT="DEFAULT",e.V2="V2"}(Fn||(Fn={})),function(e){e.LIGHT="light",e.HEAVY="heavy",e.MEDIUM="medium"}(Vn||(Vn={})),function(e){e.image="image",e.video="video"}(Kn||(Kn={})),(zn||(zn={})).pdf="pdf",function(e){e.camera="camera",e.gallery="gallery",e.camcorder="camcorder",e.file="file"}($n||($n={})),function(e){e.IM_UPDATE_QUERY_ACTION="IM_UPDATE_QUERY_ACTION",e.IM_RESULTS_LOADED_CALLBACK_ACTION="IM_RESULTS_LOADED_CALLBACK_ACTION"}(Xn||(Xn={})),(Jn||(Jn={})).INSTAMART="IM",function(e){e.TRACK="TRACK",e.ORDER_DETAIL="ORDER_DETAIL",e.CART="CART",e.CHAT="CHAT",e.HOME="HOME",e.MENU="MENU",e.REFUND_HISTORY="REFUND_HISTORY",e.COLLECTIONS="COLLECTIONS",e.IM_TRACK_SCREEN="IM_TRACK_SCREEN"}(Zn||(Zn={}));const qn="APPLY";g.tokens.colors.green1;var Qn;!function(e){e.YES="1",e.NO="2"}(Qn||(Qn={}));Qn.YES,Mn.PRIMARY,Qn.NO,Mn.SECONDARY;const eo="coupon_card_container",to="coupon_card_group_title",ao="coupon_card_group_new_tag",no=Object(n.forwardRef)(({isLoading:e,onApplyClick:t,couponCode:a,setCouponCode:r},i)=>{const l=Object(n.useRef)(null),s=Object(n.useCallback)(e=>{r(e.toUpperCase())},[r]),c=Object(n.useCallback)(()=>{t(a)},[a,t]),d=Object(n.useCallback)(e=>{var t;"Enter"===e.key&&(null===(t=l.current)||void 0===t||t.blur(),c())},[c]),u=Object(n.useMemo)(()=>({value:a,type:C.TextFieldTypes.TEXT,name:"coupon-code",label:"Enter Coupon Code",onChange:s,attrs:{onKeyDown:d}}),[a,s,d]),m=Object(n.useMemo)(()=>[{type:C.RightActionTypes.BUTTON_LABEL,label:qn,onClick:c}],[c]);return o.a.createElement("div",{ref:i},o.a.createElement(yn,{isEmpty:0===a.length,isLoading:e},o.a.createElement(E.TextField,{textFieldDetails:u,ref:l,rightActionDetails:m})))});Object(n.memo)(no);const oo=d.default.div`
    padding: 0 ${e=>e.theme.spacing.large};
`;var ro,io,lo,so;!function(e){e.MORE_OFFERS="COUPON_SECTION_TYPE_MORE_OFFERS",e.PAYMENT_OFFERS="COUPON_SECTION_TYPE_PAYMENT_OFFERS",e.BEST_COUPON="COUPON_SECTION_TYPE_BEST_COUPONS",e.GREAT_DEALS="COUPON_SECTION_TYPE_GREAT_DEALS",e.APPLIED_OFFERS="COUPON_SECTION_TYPE_APPLIED_OFFERS"}(ro||(ro={})),function(e){e.OFFER_CARD_TYPE_POCKET_HERO="OFFER_CARD_TYPE_POCKET_HERO"}(io||(io={})),function(e){e.IPL_SUPER_SIX_OFFER="SUPER_SIX_OFFER"}(lo||(lo={})),function(e){e[e.INVALID=0]="INVALID",e[e.TOP_UP=1]="TOP_UP",e[e.AUTO_APPLY=2]="AUTO_APPLY"}(so||(so={}));const co=({type:e,data:t,onApplyCouponClick:a,clickMoreDetailsEvent:r,isCouponSuggestionFlow:i,couponOffersImpressionEvent:l,rewardOfferImpressionEvent:s})=>{const{id:c,title:d="",applicable:u=!1,subtitle:m,description:p,logo:_,ribbonText:E,tnc:C,ctaText:b,emphasisedSubtitle:y,validityText:g,benefitsInfo:h,offerTag:A,couponType:f}=t,v=Object(n.useCallback)(()=>{d&&(null==r||r(d,e))},[d,e,r]),T=Object(n.useCallback)(()=>{u&&d&&a(d,c||"",u)},[u,d,a,c]),I=(e=>e===ro.PAYMENT_OFFERS)(e),S=!I&&E,N=(e=>e===ro.BEST_COUPON)(e),R=(e=>e===ro.GREAT_DEALS)(e),P=(e=>"COUPON_TYPE_DOUBLE_OFFER"===e)(f),D=Object(n.useCallback)(()=>{I?null==s||s(d):null==l||l(c||"",u,d)},[u,l,c,I,s,d]);return o.a.createElement(Gt,{onViewEnter:D,"data-testid":eo},o.a.createElement(oo,null,o.a.createElement(O.CouponCard,{couponName:d,applicable:u,savingsTitle:m,savingsTitleColor:u||R?"positive":"text_Med_Emphasis",savingsSubtitle:y,description:p,logoImageId:_,ribbonText:E,showSlantedRects:N,showStarIcon:P,showApplyCta:!I,showRibbon:!!S,validityText:g,offerTag:A,tncData:C,benefitsData:h,applyCtaText:b,onApplyCouponClick:T,moreCtaOnClick:v,isCouponSuggestionFlow:i})))};var uo="CartModal_subtitle_e65y0b24",mo="CartModal_subtitleNoMarginTop_E5gfhAmF";T(".CartModal_plusIcon_SnwY0QoP{display:flex;justify-content:center}.CartModal_container_JSSCKjgN{display:flex;flex-direction:column;align-items:center;padding:40px 16px 16px;border-radius:20px;background:#fff;min-width:260px;position:relative}.CartModal_containerPH_NXTt2siL{padding:20px 16px 16px}.CartModal_icon_b1DITLNa{position:absolute;top:0;left:50%;transform:translate(-50%,-50%);width:48px}.CartModal_iconPH_eFCDuAGm{width:135px;display:block;margin:0 auto}.CartModal_closeIcon_bwks7YBq{position:fixed;top:12px;right:12px}.CartModal_description_AcphhHmB,.CartModal_title_wopXD-Fk{font-size:14px;line-height:17px;font-weight:400;letter-spacing:-.3px;color:rgba(2,6,12,.4509803922);text-align:center;align-self:center}.CartModal_description_AcphhHmB{margin-top:8px}.CartModal_subtitle_e65y0b24{font-size:24px;line-height:28px;font-weight:800;letter-spacing:-.4px;text-align:center;color:rgba(2,6,12,.9215686275);margin-top:28px}.CartModal_subtitleNoMarginTop_E5gfhAmF{margin-top:0}.CartModal_secondarySavingsSubtitle_WuM2JqvU{font-size:24px;line-height:28px;font-weight:800;letter-spacing:-.4px;text-align:center;color:rgba(2,6,12,.9215686275)}.CartModal_secondaryDiscount_yCIi0E2o{line-height:24px;text-align:center;margin-top:2px;color:rgba(2,6,12,.6)}.CartModal_cta_wgYtiGgI,.CartModal_secondaryDiscount_yCIi0E2o{font-size:18px;letter-spacing:-.3px;font-weight:600}.CartModal_cta_wgYtiGgI{margin-top:24px;text-transform:uppercase;background:transparent;width:100%;height:48px;color:#ff5200!important}.CartModal_plusIcon_SnwY0QoP{font-size:13px;line-height:16px;font-weight:200;letter-spacing:-.3px;margin-top:8px;margin-bottom:8px}.CartModal_imageInsertedInsidePrimaryText_D4jwsmIb{display:inline-block;vertical-align:middle;min-width:28px;height:28px}.CartModal_imageInsertedInsidePrimaryTextIcon_CmIiShEj{height:16px}");const po=()=>"undefined"!=typeof document?document.activeElement:null,_o=14,Eo="#E46D47",Co="#FFF1E7";var bo=Object(n.memo)((function(e){const{size:t=_o,className:a,onClick:n,IconBgColor:r=Eo,IconFillColor:i=Co}=e;return o.a.createElement("svg",{width:t,height:t,viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:n,className:a},o.a.createElement("circle",{cx:"14",cy:"14",r:"13.5",fill:r}),o.a.createElement("path",{d:"M9.75729 9.75736L13.9999 14M18.2426 18.2426L13.9999 14M13.9999 14L18.2426 9.75736M13.9999 14L9.75729 18.2426",stroke:i,strokeWidth:"2.25",strokeLinecap:"round",strokeLinejoin:"round"}))}));const yo=(e,t)=>{const a=t.current;Object(n.useEffect)(()=>{const t=window.setTimeout(()=>{var t;null===(t=e.current)||void 0===t||t.focus()},500);return()=>{clearTimeout(t),(null==a?void 0:a.isConnected)&&(null==a||a.focus())}},[e,t,a])};var go;go=o.a.memo(({data:e,closeModal:t})=>{var a,r,l,s;const c=Object(n.useRef)(null),d=Object(n.useRef)(null),u=(null===(a=e.primarySavingsInfo)||void 0===a?void 0:a.text)||e.text,m=(null===(r=e.primarySavingsInfo)||void 0===r?void 0:r.subtext)||e.subtext,p=`${null!=u?u:""} ${null!=m?m:""}`.trim(),_=null===(l=e.secondarySavingsInfo)||void 0===l?void 0:l.text,E=null===(s=e.secondarySavingsInfo)||void 0===s?void 0:s.subtext,C=`${null!=_?_:""} ${null!=E?E:""}`.trim();de(()=>{d.current=po()}),yo(c,d);const b=Object(n.useMemo)(()=>((e,t)=>{let a="";return(e||t.title)&&(a=t.title),e&&(a=a.concat(", ",e)),Q(e)||Q(t.secondaryDiscountCallout)||(a=a.concat(", ",t.secondaryDiscountCallout)),Q(t.description)||(a=a.concat(". ",t.description)),q(a,"₹","rupees ")})(p,e),[e,p]),[y,g]=Object(n.useMemo)(()=>{var t,a;if(!Q(null===(t=null==e?void 0:e.attributeValues)||void 0===t?void 0:t.logo)&&!Q(p)&&p.includes("{{logo}}")){const t=`<div class=${i()("CartModal_imageInsertedInsidePrimaryText_D4jwsmIb")}><img class=${i()("CartModal_imageInsertedInsidePrimaryTextIcon_CmIiShEj")} src="${_t(null===(a=null==e?void 0:e.attributeValues)||void 0===a?void 0:a.logo)}" data-testid="CART_APPLY_COUPON_MODAL_IMG"/></div>`;return[`<div>${p.replace("{{logo}}",t)}</div>`,!0]}return[p,!1]},[null==e?void 0:e.attributeValues,p]),O=(null==e?void 0:e.offer_card_type)===io.OFFER_CARD_TYPE_POCKET_HERO,h=i()("CartModal_container_JSSCKjgN",{CartModal_containerPH_NXTt2siL:O}),A=Object(n.useMemo)(()=>O?"CartModal_iconPH_eFCDuAGm":"CartModal_icon_b1DITLNa",[O]);return o.a.createElement("div",{className:h,"aria-modal":"true","data-testid":"CART_APPLY_COUPON_MODAL"},o.a.createElement(Dt,{as:"div"},!Q(e.icon)&&o.a.createElement(Ut,{className:A,imageId:e.icon,lazy:!1,width:O?void 0:90}),o.a.createElement(bo,{className:"CartModal_closeIcon_bwks7YBq",onClick:t,IconBgColor:"#F0F0F5",IconFillColor:"#616469",size:28}),p&&!O&&o.a.createElement("div",{className:"CartModal_title_wopXD-Fk","data-testid":"CART_APPLY_COUPON_MODAL_TEXT",dangerouslySetInnerHTML:{__html:e.title}}),(p||e.title)&&!g&&o.a.createElement("div",{className:i()(uo,{[mo]:!p}),"data-testid":"CART_APPLY_COUPON_MODAL_PRIMARY_TEXT"},p||e.title),(p||e.title)&&g&&o.a.createElement("div",{className:i()(uo,{[mo]:!p}),dangerouslySetInnerHTML:{__html:y||e.title}}),!Q(p)&&!Q(C)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Dt,{as:"span",className:"CartModal_plusIcon_SnwY0QoP"},o.a.createElement(bn,{iconFillColor:"#02060ceb"})),o.a.createElement("div",{className:"CartModal_secondarySavingsSubtitle_WuM2JqvU"},C)),!Q(p)&&!Q(e.secondaryDiscountCallout)&&o.a.createElement("div",{className:"CartModal_secondaryDiscount_yCIi0E2o"},e.secondaryDiscountCallout),!Q(e.description)&&o.a.createElement("div",{className:"CartModal_description_AcphhHmB","data-testid":"CART_APPLY_COUPON_DESCRIPTION",dangerouslySetInnerHTML:{__html:e.description}})),o.a.createElement(Pt,{text:b,as:"div",compRef:c}),o.a.createElement("button",{className:"CartModal_cta_wgYtiGgI",style:{color:e.cta.color},onClick:t,"data-testid":"CART_APPLY_COUPON_MODAL_CLOSE","aria-label":"Go back to cart"},e.cta.text))}),Object(n.memo)(R(e=>{var t;return U(),o.a.createElement(v,null,o.a.createElement(L,null,o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:i()(x.container,{[x.containerUx4]:!0})},o.a.createElement(go,Object.assign({},e))),o.a.createElement(P,{onClick:null===(t=e)||void 0===t?void 0:t.closeModal}))))},x));function Oo({title:e,"data-testid":t,headerClassName:a}){const n=i()("CartGroup_cartGroupHeader_SDU5aWXW",a);return o.a.createElement("div",{className:n},o.a.createElement("h2",{className:"CartGroup_cartGroupHeaderTitle_kUjQRVI0","data-testid":t},e))}T(".CartGroup_cartGroup_VQT5EYiS{background-color:#fff;margin:0 16px;box-shadow:0 1px 16px rgba(0,0,0,.05);border-radius:16px;padding:20px 16px;overflow:hidden}.CartGroup_cartGroupWithNoTitle_POtyHkd4{padding-top:16px}.CartGroup_cartGroupIsCartV2_fOPZ2CIr{box-shadow:none}.CartGroup_cartGroupHeader_SDU5aWXW{padding:0 20px;margin-bottom:16px}.CartGroup_cartGroupHeaderTitle_kUjQRVI0{font-size:16px;line-height:19px;font-weight:600;letter-spacing:-.3px;color:rgba(2,6,12,.7490196078)}");T(".ApplyingCouponBottomSheet_containerErrorWrapper_U1DbrcwF{display:flex;align-items:center}.ApplyingCouponBottomSheet_container_57IPEZJX{overflow-x:hidden;overflow-y:auto;box-shadow:0 -12px 28px rgba(27,30,36,.1)}.ApplyingCouponBottomSheet_containerErrorWrapper_U1DbrcwF{justify-content:flex-start;margin:24px 16px}.ApplyingCouponBottomSheet_containerErrorWrapperTitle_fOZgyDUT{margin-right:20px}.ApplyingCouponBottomSheet_containerBtnWrapper_7UbN3OvH{padding:4px 16px 16px}");d.default.div(({theme:e})=>({borderRadius:`${e.cornerRadius.large} ${e.cornerRadius.large} 0 0`,boxShadow:"0px -3px 6px rgba(40, 44, 63, 0.1)",padding:`${e.spacing.xxLarge} ${e.spacing.medium}`})),Object(d.default)(c.Text)(({theme:e})=>({marginBottom:e.spacing.xLarge})),Object(d.default)(c.Text)(({theme:e})=>({marginLeft:e.spacing.medium}));const ho=d.keyframes`
    0% {
        left: -275px;
    }
    100% {
        left: 100%;
    }
`;d.default.div`
    position: absolute;
    height: 6px;
    width: 275px;
    background: ${e=>e.theme.colors[e.theme.colorMode].primary};
    animation: ${ho} 2s infinite;
    border-radius: ${e=>e.theme.cornerRadius.xxSmall};
    &::before {
        content: "";
        display: block;
        position: relative;
        width: 10px;
        height: 6px;
        background: ${e=>e.theme.colors[e.theme.colorMode].background_Primary};
        left: 230px;
    }
`;T(".styles_lottieContainer_6wy7vEaq{height:18px;width:35px}.styles_titleContainer_SmtIc1br{width:100%;display:flex}.styles_couponCardBanner_SBdnm9rO{margin:0 20px 24px;padding:12px 16px;border-radius:16px}.styles_couponCardTitle_vvUfZnHI{padding:0 8px 0 20px}");const Ao={COUPON_CONFETTI_SHOWN:"coupon_confetti_shown",TURBO_PAYMENT_EDUCATION_COMMS_SHOWN:"turbo_payment_education_comms_shown_v3",TURBO_PAYMENT_EDUCATION_COMMS_SHOWN_TIMESTAMP:"turbo_payment_education_comms_timestamp",TURBO_PAYMENT_EDUCATION_CHANGE_COMMS_SHOWN:"turbo_payment_education_change_comms_shown",COUPON_CARD_NEW_BADGE_IMPRESSION_COUNT:"coupon_card_new_badge_impression_count",LOCAL_STORAGE_BULLS_EYE_TG:"swiggy_plan_bulls_eye_tg_count_v3",TURBO_PAYMENT_OFFER_COMMS_SHOWN_COUNT:"turbo_payment_offer_comms_shown_count",FK_COINS_ELIGIBLE_CART_COMMS_IMPRESSION_COUNT:"fk_coins_eligible_cart_comms_impression_count",FK_COINS_ELIGIBLE_PAYMENT_COMMS_IMPRESSION_COUNT:"fk_coins_eligible_payment_comms_impression_count",DELIVERY_SPEED_POPUP_COUNT:"delivery_speed_popup_count",PREVIOUS_RESTAURANT_ID:"previous-restaurant-id",BOLT_FREQUENCY_CAPPING_KEY:"bolt-frequency-capping-key",OVERLAY_VISIBILITY:"overlay-visibility-key",BOLT_HALF_CARD_FREQUENCY_CAPPING_KEY:"bolt-half-card-frequency-capping-key",ECO_SAVER_TOAST_FREQUENCY_CAPPING_KEY:"eco-saver-toast-frequency-capping-key",FOOTER_COMMS_CLICK_FREQUENCY_CAPPING_KEY:"footer-comms-click-frequency-capping-key",FOOTER_COMMS_VIEW_FREQUENCY_CAPPING_KEY:"footer-comms-view-frequency-capping-key"},fo={RX_SPECIAL_INSTRUCTIONS:"rx_special_instructions",THIRD_PARTY_UPI_INTENT_APPS_DETAILS:"third_party_upi_intent_apps_details",DELIVERY_SPEED_POPUP_SEEN:"delivery_speed_popup_seen",IS_GROUP_ORDER_FLOW:"is_group_order_flow",GROUP_CART_ID:"group_cart_id",WITH_COUPON:"with_coupon",WITH_REWARD:"with_reward",BILL_AMOUNT_SHOWN_ON_CART:"bill_amount_shown_on_cart"},vo={DE_TIP_LOTTIE_FILE_ID:"4_0_Assets/de_tip_lottie.json",NEW_BADGE_LOTTIE_FILE_ID:"v1676902816/newBadge_qyb4os.json",TRANSITION_LOTTIE_FILE_ID:"portal/m/cw_transition_screen_v2/transition_loader.json",DE_TIP_MAIN_PRE_TIP_FILE_ID:"portal/m/cw_de_tip_lottie/pre_tip_add_lottie.json",TRANSITION_LOTTIE_FILE_ID_BLACK:"BLCK/black_plan_transition_lottie_2.json",TRANSITION_LOTTIE_FILE_ID_BLACK_OTP:"portal/m/one_blck_assets/black_otp_transition_lottie_7.json",TRANSITION_LOTTIE_FILE_ID_POP:"Sunshine/Confirmation_screen_3.json",TRANSITION_LOTTIE_FILE_ID_BOLT:"portal/static-assets/hcms/bolt_confirmation_2.json",TRANSITION_LOTTIE_FILE_ID_BOLT_OTP:"portal/static-assets/hcms/bolt/black_with_otg.json",TRANSITION_LOTTIE_FILE_ID_AFFORDABLE:"portal/static-assets/hcms/order_placed_99_store_with_marker.json"},To={TRING_SOUND:"portal/m/one_blck_assets/tring_sound_1.mp3",SPEEDY_SOUND:"portal/static-assets/hcms/bolt/zoop.mp3"},Io={FESTIVE_DE_TIP_LOTTIE_FILE_ID:"portal/static-assets/hcms/testing/RD_tip_added_1.json",FESTIVE_DE_TIP_MAIN_PRE_TIP_FILE_ID:"portal/static-assets/hcms/tipping/RD_struggles_tipping.json",FESTIVE_TRANSITION_LOTTIE_FILE_ID:"portal/static-assets/hcms/testing/RD_OP_1.json?v=1"},So=new Date("2025-01-26T00:00:00Z"),No=new Date("2025-01-27T00:00:00Z"),Ro=()=>"undefined"!=typeof window&&"undefined"!=typeof localStorage;class Po{static getItem(e,t,a){try{if(Ro()){const a=window.localStorage.getItem(e);return a&&"undefined"!==a?JSON.parse(a):t}return t}catch(e){return null==a||a(),B(e),t}}static setItem(e,t,a){try{Ro()&&localStorage.setItem(e,JSON.stringify(t))}catch(e){null==a||a(),B(e)}}static removeItem(e){Ro()&&localStorage.removeItem(e)}}const Do={loop:!0,autoplay:!0,backwardSpeed:1,forwardSpeed:1,playIfVisible:!1};Object(n.forwardRef)(({couponGroup:e,onApplyCouponClick:t,clickMoreDetailsEvent:a,couponOffersImpressionEvent:r,rewardOfferImpressionEvent:i,paymentBannerImpressionEvent:l},s)=>{var d;const{type:u,newSectionIndicator:m,message:p}=e,_=null==(E=null==p?void 0:p.text)?void 0:E.replace(/\n/g,"<br>");var E;const C=Po.getItem(Ao.COUPON_CARD_NEW_BADGE_IMPRESSION_COUNT,0)||0,b=C>=0&&C<=15,[y,g]=Object(n.useState)(b),O=Object(n.useCallback)((e,a,n)=>{t(e,a,n)},[t]),h=Object(n.useCallback)(()=>{const e=(Po.getItem(Ao.COUPON_CARD_NEW_BADGE_IMPRESSION_COUNT,0)||0)+1;e>15?g(!1):Po.setItem(Ao.COUPON_CARD_NEW_BADGE_IMPRESSION_COUNT,e)},[]);return de(()=>{!Q(p)&&_&&l(p.text)}),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"styles_titleContainer_SmtIc1br",ref:s},o.a.createElement(Oo,{"data-testid":to,title:e.title,headerClassName:"styles_couponCardTitle_vvUfZnHI"}),y&&m&&o.a.createElement(Gt,{onViewEnter:h,"data-testid":ao},o.a.createElement(Ba,Object.assign({},Do,{fileName:Ie(vo.NEW_BADGE_LOTTIE_FILE_ID),className:"styles_lottieContainer_6wy7vEaq",visible:!0,playLottie:!0})))),!Q(p)&&_&&o.a.createElement(c.Text,{variant:"V2.body2.neutral.medium",dangerouslySetInnerHTML:{__html:_},style:{color:p.textColor,border:"1px solid "+p.borderColor,background:`linear-gradient(90deg, ${p.bgColor[0]} 0%, ${p.bgColor[1]} 100%)`},className:"styles_couponCardBanner_SBdnm9rO"}),null===(d=e.coupons)||void 0===d?void 0:d.map((e,t)=>o.a.createElement(co,{key:(null==e?void 0:e.id)||t,type:u,data:e,onApplyCouponClick:O,clickMoreDetailsEvent:a,couponOffersImpressionEvent:r,rewardOfferImpressionEvent:i})))});T("@keyframes Shimmer_shimmerAnimation_-hueQz9F{0%{background-position:-1000px 0}to{background-position:1000px 0}}.Shimmer_shimmer_ViErV7Ic{padding:0 20px}.Shimmer_shimmerTitle_UF9dsB8D{margin-top:32px;margin-bottom:20px;width:80px;height:15px;border-radius:2px}.Shimmer_shimmerRibbon_-7j1r4mI,.Shimmer_shimmerTitle_UF9dsB8D{background:linear-gradient(90deg,#e2e2e7,#d0d1d7 52.08%,#e2e2e7);background-size:1000px 100%;animation:Shimmer_shimmer_ViErV7Ic 2s linear infinite}.Shimmer_shimmerRibbon_-7j1r4mI{position:relative;border-radius:16px 0 0 16px;display:flex;justify-content:center;align-items:center;width:50px}.Shimmer_shimmerRibbonDisabled_gODWtrNO{background:rgba(2,6,12,.4509803922)}.Shimmer_shimmerRibbonCircles_wULeGiUV{position:absolute;left:-5px;top:30%}.Shimmer_shimmerRibbonCircle_bzfHKA2V{margin-bottom:8px;background:#f0f0f5;border-radius:100%;width:10px;height:10px}.Shimmer_shimmerRibbonSlantingRects_NWu2OX9e{position:absolute;left:0;top:20%;width:100%;transform:skewY(-36deg)}.Shimmer_shimmerRibbonRect1_OjM6oang{background:#fff;opacity:.15;height:26px}.Shimmer_shimmerRibbonRect2_C-3nheQi{background:#fff;opacity:.15;height:12px;margin-top:6px}.Shimmer_shimmerRibbonContent_-qpgFxQj{margin-top:26px;margin-bottom:6px;padding-left:8px}.Shimmer_shimmerRibbonContentText_f-sRgwEu{font-size:24px;line-height:28px;font-weight:800;letter-spacing:-.4px;color:#fff;-webkit-writing-mode:vertical-rl;writing-mode:vertical-rl;-webkit-text-orientation:mixed;text-orientation:mixed;transform:rotate(180deg);padding-top:32px}.Shimmer_shimmerContainer_-hSnAMzk{background:#fff;display:flex;z-index:3;margin-bottom:24px;width:100%;height:198px;border-radius:16px}.Shimmer_shimmerContainerCard_7RfCjDaN{background:#fff;width:100%;padding:20px 16px 16px;border-radius:0 16px 16px 0;box-shadow:0 2px 6px rgba(0,0,0,.06)}.Shimmer_shimmerContainerCardRow1_Dh0iDB0c{display:flex;align-items:center;justify-content:flex-start;margin-bottom:8px;height:25px}.Shimmer_shimmerContainerCardRow1LogoAndTitle_D9tbbUJf{display:flex;align-items:center;justify-content:flex-start;width:calc(100% - 50px)}.Shimmer_shimmerContainerCardRow1Col1_XKT-5JmQ{background:linear-gradient(90deg,#e2e2e7,#d0d1d7 52.08%,#e2e2e7);background-size:1000px 100%;animation:Shimmer_shimmer_ViErV7Ic 2s linear infinite;width:20px;height:20px;border-radius:6px}.Shimmer_shimmerContainerCardRow1Col2_yOKQgbU0{width:54px;height:15px;margin-left:10px}.Shimmer_shimmerContainerCardRow1Col2_yOKQgbU0,.Shimmer_shimmerContainerCardRow1Col3_w0UYmhuK{background:linear-gradient(90deg,#e2e2e7,#d0d1d7 52.08%,#e2e2e7);background-size:1000px 100%;animation:Shimmer_shimmer_ViErV7Ic 2s linear infinite;border-radius:2px}.Shimmer_shimmerContainerCardRow1Col3_w0UYmhuK{width:44px;height:17px}.Shimmer_shimmerContainerCardSeparator_EZYk0Qss{background:rgba(2,6,12,.15);height:1px}.Shimmer_shimmerContainerCardRow2_30a8Sn55{background:linear-gradient(90deg,#e2e2e7,#d0d1d7 52.08%,#e2e2e7);background-size:1000px 100%;animation:Shimmer_shimmer_ViErV7Ic 2s linear infinite;width:172px;height:17px;margin-bottom:12px;border-radius:2px}.Shimmer_shimmerContainerCardRow3_n9mUAnY9{margin-top:16px}.Shimmer_shimmerContainerCardRow3_n9mUAnY9,.Shimmer_shimmerContainerCardRow4_SNKgEwuG{background:linear-gradient(90deg,#e2e2e7,#d0d1d7 52.08%,#e2e2e7);background-size:1000px 100%;animation:Shimmer_shimmer_ViErV7Ic 2s linear infinite;width:210px;height:18px;border-radius:2px}.Shimmer_shimmerContainerCardRow4_SNKgEwuG{margin-top:10px}.Shimmer_shimmerContainerCardRow5_XXOSNjME{background:linear-gradient(90deg,#e2e2e7,#d0d1d7 52.08%,#e2e2e7);background-size:1000px 100%;animation:Shimmer_shimmer_ViErV7Ic 2s linear infinite;width:40px;height:15px;margin-top:18px;border-radius:2px}@keyframes Shimmer_shimmer_ViErV7Ic{0%{background-position:-1000px 0}to{background-position:1000px 0}}");T(".UpdateProgressLoader_overlay_TLc7N-zD{background:hsla(0,0%,100%,.7);pointer-events:auto}");Object(n.memo)((function(){return o.a.createElement(v,null,o.a.createElement(L,null,o.a.createElement(P,{visible:!0,className:"UpdateProgressLoader_overlay_TLc7N-zD"})))}));const Lo=d.default.div(({theme:e})=>({paddingTop:e.spacing.xSmall})),ko=d.default.div(({theme:e})=>({display:"flex",alignItems:"flex-start",gap:e.spacing.xxSmall,paddingBottom:e.spacing.medium})),xo=Object(d.default)(c.Text)(({theme:e})=>({color:e.colors[e.colorMode].text_High_Emphasis})),wo=Object(d.default)(c.Text)(({theme:e})=>({color:e.colors[e.colorMode].text_Med_Emphasis}));Object(n.memo)(e=>{const{heading:t,subtext:a,ctaText:n,onCTAClick:r,errorIcon:i}=e;return o.a.createElement(Lo,null,o.a.createElement(ko,null,o.a.createElement(A.Image,Object.assign({},i)),o.a.createElement("div",null,o.a.createElement(xo,{variant:"V2.body1.neutral.bold"},t),o.a.createElement(wo,{variant:"V2.body3.neutral.regular"},a))),o.a.createElement(h.FullWidthButton,{variant:"primary",onClick:r},n))});T(".styles_toggleBar_FmPBFyLb{background:#f0f0f5;width:40px;height:24px;position:relative;transition:background-color .15s linear;will-change:background-color;-webkit-backface-visibility:hidden;backface-visibility:hidden;transform:translateZ(0);contain:layout;display:inline-block;box-shadow:inset 0 1px 2px rgba(0,0,0,.08);border-radius:16px}.styles_toggleBarActive_VL3iVLEJ{background:#1ba672}.styles_toggleBarActiveOrange_GHIT6Irr{background:#ff5200}.styles_toggleBarDisabled_xi4SPJWc{opacity:.5}.styles_toggleThumb_fyADTz0o{position:absolute;top:4px;left:4px;width:16px;height:16px;background:#fff;box-shadow:0 2px 4px rgba(0,0,0,.12);transition:all .15s linear;-webkit-backface-visibility:hidden;backface-visibility:hidden;will-change:transform,border-color;contain:strict;border-radius:8px;border:none}.styles_toggleThumbActive_PoJxB0k9{transform:translate3d(16px,0,0)}.styles_toggleThumbActive_PoJxB0k9 .styles_toggleThumbContent_MuG3U4T-{opacity:1}");Object(n.memo)((function(e){const t=Object(n.useMemo)(()=>i()("styles_toggleBar_FmPBFyLb",{styles_toggleBarActive_VL3iVLEJ:e.selected,styles_toggleBarActiveOrange_GHIT6Irr:e.isOrange&&e.selected,styles_toggleBarDisabled_xi4SPJWc:e.isDisabled}),[e.isDisabled,e.isOrange,e.selected]);return o.a.createElement("div",Object.assign({},e,{"data-testid":e["data-testid"],onClick:e.onClick}),o.a.createElement("span",{className:t},o.a.createElement("span",{className:i()("styles_toggleThumb_fyADTz0o",{styles_toggleThumbActive_PoJxB0k9:e.selected})})))}));o.a.PureComponent;const Mo=({lottieId:e,setLottieData:t,setLottieFailed:a})=>s(void 0,void 0,void 0,(function*(){var n;const o=null!==(n=Ie(null!=e?e:"",{},{teamLine:me.PORTAL}))&&void 0!==n?n:"";try{const e=yield fetch(o);t(yield e.json())}catch(e){B(e),a(!0)}})),jo=()=>{const e=Number(Ga.getItem("cart_timer_closing_time",0));return e<=Date.now()?0:Math.round((e-Date.now())/1e3)},Bo=()=>0!==Number(Ga.getItem("cart_timer_closing_time",0)),Uo=()=>{try{Ga.removeItem("cart_timer_closing_time"),Ga.removeItem("cart_timer_duration_time")}catch(e){}};var Ho=ze((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&"object"==typeof e&&"default"in e)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}(o.a);t.default=e=>a.createElement("svg",Object.assign({width:12,height:12,viewBox:"0 0 12 12"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.00034 1.4873C5.75906 1.4873 5.5448 1.63017 5.11628 1.9159L3.58469 2.93714C1.79731 4.12894 0.903613 4.72484 1.07497 5.2907C1.1724 5.61245 1.56173 5.75125 2.27446 5.81113V8.6074C2.27446 9.26375 2.27446 9.59192 2.39911 9.84395C2.51605 10.0804 2.70749 10.2718 2.94392 10.3888C3.19595 10.5134 3.52412 10.5134 4.18046 10.5134C4.45334 10.5134 4.58978 10.5134 4.69455 10.4616C4.79285 10.413 4.87244 10.3334 4.92106 10.2351C4.97288 10.1303 4.97288 9.99387 4.97288 9.72099V8.16656C4.97288 7.69515 4.97288 7.45945 5.11933 7.313C5.26577 7.16656 5.50148 7.16656 5.97288 7.16656H6.02258C6.49399 7.16656 6.72969 7.16656 6.87614 7.313C7.02259 7.45945 7.02259 7.69515 7.02259 8.16656V9.71958C7.02259 9.99379 7.02259 10.1309 7.0749 10.2361C7.1234 10.3336 7.20241 10.4126 7.29992 10.4611C7.4051 10.5134 7.54221 10.5134 7.81642 10.5134C8.47598 10.5134 8.80576 10.5134 9.05877 10.3876C9.29331 10.2709 9.48334 10.0809 9.59999 9.84635C9.72584 9.59334 9.72584 9.26355 9.72584 8.60399V5.81116C10.4388 5.7513 10.8283 5.61251 10.9257 5.2907C11.0971 4.72484 10.2034 4.12894 8.41599 2.93714L6.88439 1.9159C6.45588 1.63017 6.24162 1.4873 6.00034 1.4873Z",fill:e.fillColor,fillOpacity:.92}))}));Ke(Ho);var Go=ze((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&"object"==typeof e&&"default"in e)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}(o.a);t.default=e=>a.createElement("svg",Object.assign({width:16,height:16,viewBox:"0 0 16 16"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.0046 1.65039C7.74171 1.65039 7.51323 1.81958 7.05626 2.15797L3.98374 4.43322C1.97256 5.92252 0.966968 6.66717 1.19353 7.35384C1.34746 7.82036 1.9744 7.96993 3.14539 8.01788V12.1094C3.14539 12.8803 3.14539 13.2658 3.29307 13.5613C3.42857 13.8325 3.6484 14.0523 3.91953 14.1878C4.21503 14.3355 4.60053 14.3355 5.37151 14.3355C5.75701 14.3355 5.94976 14.3355 6.09751 14.2616C6.23307 14.1939 6.34299 14.084 6.41074 13.9484C6.48458 13.8007 6.48458 13.6079 6.48458 13.2224V11.3744C6.48458 10.7145 6.48458 10.3845 6.6896 10.1795C6.89463 9.97443 7.22461 9.97443 7.88458 9.97443H8.06965C8.72962 9.97443 9.0596 9.97443 9.26463 10.1795C9.46966 10.3845 9.46966 10.7145 9.46966 11.3744V13.2071C9.46966 13.6071 9.46966 13.807 9.54896 13.9591C9.61523 14.0862 9.71892 14.1899 9.84601 14.2562C9.99812 14.3355 10.1981 14.3355 10.598 14.3355C11.3979 14.3355 11.7979 14.3355 12.1021 14.1769C12.3563 14.0443 12.5636 13.837 12.6962 13.5828C12.8548 13.2786 12.8548 12.8786 12.8548 12.0787V8.01825C14.0316 7.9707 14.6614 7.82156 14.8157 7.35384C15.0422 6.66717 14.0367 5.92252 12.0255 4.43322L12.0255 4.43321L8.95295 2.15797C8.49598 1.81958 8.2675 1.65039 8.0046 1.65039Z",fill:e.fillColor,fillOpacity:.92}))}));Ke(Go);var Yo=ze((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&"object"==typeof e&&"default"in e)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}(o.a);t.default=e=>a.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.97705 2.86133C9.73108 2.86133 9.51365 3.00972 9.07877 3.3065L5.28534 5.89533C2.65726 7.68886 1.34323 8.58562 1.60441 9.43166C1.76994 9.96787 2.46959 10.1642 3.76987 10.2361V15.534C3.76987 16.7071 3.76987 17.2937 4.06263 17.7085C4.16796 17.8578 4.29806 17.9879 4.44731 18.0932C4.86214 18.386 5.44871 18.386 6.62185 18.386C7.1351 18.386 7.39172 18.386 7.57321 18.2579C7.6385 18.2118 7.69542 18.1549 7.7415 18.0896C7.86959 17.9081 7.86959 17.6515 7.86959 17.1382V13.5998C7.86959 12.9398 7.86959 12.6099 8.07461 12.4048C8.27964 12.1998 8.60962 12.1998 9.26959 12.1998H10.7085C11.3684 12.1998 11.6984 12.1998 11.9034 12.4048C12.1085 12.6099 12.1085 12.9398 12.1085 13.5998V17.1196C12.1085 17.6507 12.1085 17.9162 12.2451 18.1015C12.2867 18.1579 12.3366 18.2077 12.393 18.2493C12.5782 18.386 12.8438 18.386 13.3749 18.386C14.5887 18.386 15.1957 18.386 15.6191 18.0736C15.7481 17.9785 15.862 17.8646 15.9571 17.7357C16.2694 17.3122 16.2694 16.7052 16.2694 15.4914V10.2312C17.5151 10.1554 18.1878 9.95603 18.3497 9.43166C18.6109 8.58562 17.2968 7.68886 14.6688 5.89533L10.8753 3.3065C10.4405 3.00972 10.223 2.86133 9.97705 2.86133Z",fill:e.fillColor,fillOpacity:.92}))}));Ke(Yo);var Wo=ze((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&"object"==typeof e&&"default"in e)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}(o.a);t.default=e=>a.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0527 2.03052C11.7398 2.02997 11.4638 2.2207 10.9118 2.60217L5.34109 6.45168C2.31448 8.54317 0.801169 9.58891 1.10781 10.5721C1.31919 11.2497 2.25888 11.4603 4.02734 11.5257V17.9954C4.02734 19.8562 4.02734 20.7867 4.59904 21.3699C4.60838 21.3794 4.61782 21.3889 4.62735 21.3982C5.21061 21.9699 6.14102 21.9699 8.00185 21.9699C8.65314 21.9699 8.97879 21.9699 9.18293 21.7698L9.19283 21.7599C9.39293 21.5558 9.39293 21.2301 9.39293 20.5788V15.424C9.39293 14.764 9.39293 14.4341 9.59796 14.229C9.80298 14.024 10.133 14.024 10.7929 14.024H13.4376C14.0976 14.024 14.4276 14.024 14.6326 14.229C14.8376 14.4341 14.8376 14.764 14.8376 15.424V20.6101C14.8376 21.2311 14.8376 21.5416 15.0209 21.7421C15.0351 21.7576 15.0499 21.7725 15.0655 21.7867C15.266 21.9699 15.5765 21.9699 16.1975 21.9699C17.9716 21.9699 18.8587 21.9699 19.4317 21.4464C19.4761 21.4059 19.5186 21.3634 19.5592 21.319C20.0826 20.746 20.0826 19.8589 20.0826 18.0847V11.5231C21.7967 11.4548 22.71 11.2415 22.9194 10.5744C23.2272 9.59363 21.7257 8.54819 18.7227 6.45732L13.1916 2.6062C12.6409 2.22278 12.3656 2.03107 12.0527 2.03052Z",fill:e.fillColor,fillOpacity:.92}))}));Ke(Wo);var Fo=Ho.default,Vo=(Go.default,Yo.default,Wo.default,ze((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&"object"==typeof e&&"default"in e)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}(o.a);t.default=e=>a.createElement("svg",Object.assign({width:12,height:12,viewBox:"0 0 12 12"},e),a.createElement("path",{d:"M5.20947 4.99988C3.96696 4.99988 3.34571 4.99988 2.85565 5.20287C2.20224 5.47352 1.68311 5.99265 1.41246 6.64606C1.20947 7.13611 1.20947 7.75737 1.20947 8.99988C1.20947 9.62113 1.20947 9.93176 1.31097 10.1768C1.44629 10.5035 1.70586 10.7631 2.03256 10.8984C2.27759 10.9999 2.58822 10.9999 3.20947 10.9999H3.54281C4.17135 10.9999 4.48561 10.9999 4.68088 10.8046C4.87614 10.6094 4.87614 10.2951 4.87614 9.66654V8.33154C4.87614 7.00053 5.38135 6.10557 5.89962 5.68655C6.39896 5.28283 6.02171 4.99988 5.20947 4.99988Z",fill:e.fillColor,fillOpacity:.92}),a.createElement("path",{d:"M4.45771 4.33333C5.37819 4.33333 6.12438 3.58714 6.12438 2.66667C6.12438 1.74619 5.37819 1 4.45771 1C3.53724 1 2.79105 1.74619 2.79105 2.66667C2.79105 3.58714 3.53724 4.33333 4.45771 4.33333Z",fill:e.fillColor,fillOpacity:.92}),a.createElement("path",{d:"M8.45758 4.33333C9.37806 4.33333 10.1242 3.58714 10.1242 2.66667C10.1242 1.74619 9.37806 1 8.45758 1C7.53711 1 6.79092 1.74619 6.79092 2.66667C6.79092 3.58714 7.53711 4.33333 8.45758 4.33333Z",fill:e.fillColor,fillOpacity:.92}),a.createElement("path",{d:"M6.12428 8.00045C6.12428 6.71178 7.16894 5.66711 8.45761 5.66711C9.74627 5.66711 10.7909 6.71178 10.7909 8.00045V9.5459C10.7909 10.3492 10.1397 11.0004 9.3364 11.0004H6.71687C6.38959 11.0004 6.12428 10.7351 6.12428 10.4079V8.00045Z",fill:e.fillColor,fillOpacity:.92}))})));Ke(Vo);var Ko=ze((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&"object"==typeof e&&"default"in e)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}(o.a);t.default=e=>a.createElement("svg",Object.assign({width:16,height:16,viewBox:"0 0 16 16"},e),a.createElement("path",{d:"M6.90146 6.55725C5.17523 6.55725 4.31212 6.55725 3.63128 6.83926C2.7235 7.21528 2.00227 7.93651 1.62625 8.84429C1.34424 9.52513 1.34424 10.3882 1.34424 12.1145C1.34424 12.9776 1.34424 13.4091 1.48524 13.7496C1.67325 14.2035 2.03387 14.5641 2.48776 14.7521C2.82818 14.8931 3.25973 14.8931 4.12285 14.8931H4.58595C5.45918 14.8931 5.8958 14.8931 6.16708 14.6218C6.43836 14.3505 6.43836 13.9139 6.43836 13.0407V11.1859C6.43836 9.33677 7.14025 8.0934 7.86029 7.51125C8.55403 6.95035 8.0299 6.55725 6.90146 6.55725Z",fill:e.fillColor,fillOpacity:.92}),a.createElement("path",{d:"M5.857 5.63102C7.13582 5.63102 8.1725 4.59433 8.1725 3.31551C8.1725 2.03669 7.13582 1 5.857 1C4.57818 1 3.54149 2.03669 3.54149 3.31551C3.54149 4.59433 4.57818 5.63102 5.857 5.63102Z",fill:e.fillColor,fillOpacity:.92}),a.createElement("path",{d:"M11.4142 5.63102C12.693 5.63102 13.7297 4.59433 13.7297 3.31551C13.7297 2.03669 12.693 1 11.4142 1C10.1354 1 9.09871 2.03669 9.09871 3.31551C9.09871 4.59433 10.1354 5.63102 11.4142 5.63102Z",fill:e.fillColor,fillOpacity:.92}),a.createElement("path",{d:"M8.17273 10.7256C8.17273 8.93525 9.62409 7.48389 11.4144 7.48389C13.2048 7.48389 14.6562 8.93525 14.6562 10.7256V12.8727C14.6562 13.9888 13.7514 14.8935 12.6353 14.8935H8.99602C8.54133 14.8935 8.17273 14.5249 8.17273 14.0702V10.7256Z",fill:e.fillColor,fillOpacity:.92}))}));Ke(Ko);var zo=ze((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&"object"==typeof e&&"default"in e)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}(o.a);t.default=e=>a.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20"},e),a.createElement("path",{d:"M8.58642 8.15039C6.36546 8.15039 5.25499 8.15039 4.37902 8.51323C3.21107 8.99701 2.28314 9.92494 1.79936 11.0929C1.43652 11.9689 1.43652 13.0793 1.43652 15.3003C1.43652 16.4108 1.43652 16.966 1.61794 17.404C1.85983 17.988 2.3238 18.4519 2.90777 18.6938C3.34575 18.8752 3.90099 18.8752 5.01147 18.8752H5.6073C6.73079 18.8752 7.29254 18.8752 7.64157 18.5262C7.99059 18.1772 7.99059 17.6154 7.99059 16.4919V14.1057C7.99059 11.7265 8.89365 10.1268 9.82005 9.3778C10.7126 8.65615 10.0383 8.15039 8.58642 8.15039Z",fill:e.fillColor,fillOpacity:.92}),a.createElement("path",{d:"M7.24264 6.95825C8.88797 6.95825 10.2218 5.62445 10.2218 3.97912C10.2218 2.3338 8.88797 1 7.24264 1C5.59732 1 4.26352 2.3338 4.26352 3.97912C4.26352 5.62445 5.59732 6.95825 7.24264 6.95825Z",fill:e.fillColor,fillOpacity:.92}),a.createElement("path",{d:"M14.3924 6.95825C16.0377 6.95825 17.3715 5.62445 17.3715 3.97912C17.3715 2.3338 16.0377 1 14.3924 1C12.7471 1 11.4133 2.3338 11.4133 3.97912C11.4133 5.62445 12.7471 6.95825 14.3924 6.95825Z",fill:e.fillColor,fillOpacity:.92}),a.createElement("path",{d:"M10.2222 13.5123C10.2222 11.2089 12.0895 9.34155 14.393 9.34155C16.6964 9.34155 18.5637 11.2089 18.5637 13.5123V16.2748C18.5637 17.7107 17.3997 18.8747 15.9638 18.8747H11.2814C10.6964 18.8747 10.2222 18.4005 10.2222 17.8155V13.5123Z",fill:e.fillColor,fillOpacity:.92}))}));Ke(zo);var $o=ze((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&"object"==typeof e&&"default"in e)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}(o.a);t.default=e=>a.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24"},e),a.createElement("path",{d:"M10.2763 9.71899C7.5681 9.71899 6.21401 9.71899 5.14588 10.1614C3.72171 10.7513 2.59021 11.8828 2.00029 13.307C1.55786 14.3751 1.55786 15.7292 1.55786 18.4374C1.55786 19.7915 1.55786 20.4686 1.77908 21.0026C2.07403 21.7147 2.63978 22.2805 3.35187 22.5754C3.88593 22.7966 4.56298 22.7966 5.91707 22.7966H6.64361C8.01358 22.7966 8.69856 22.7966 9.12415 22.371C9.54975 21.9454 9.54975 21.2605 9.54975 19.8905V16.9807C9.54975 14.0796 10.6509 12.129 11.7805 11.2157C12.8689 10.3357 12.0466 9.71899 10.2763 9.71899Z",fill:e.fillColor,fillOpacity:.92}),a.createElement("path",{d:"M8.63789 8.26535C10.6442 8.26535 12.2706 6.63895 12.2706 4.63268C12.2706 2.6264 10.6442 1 8.63789 1C6.63162 1 5.00522 2.6264 5.00522 4.63268C5.00522 6.63895 6.63162 8.26535 8.63789 8.26535Z",fill:e.fillColor,fillOpacity:.92}),a.createElement("path",{d:"M17.3557 8.26535C19.362 8.26535 20.9884 6.63895 20.9884 4.63268C20.9884 2.6264 19.362 1 17.3557 1C15.3495 1 13.7231 2.6264 13.7231 4.63268C13.7231 6.63895 15.3495 8.26535 17.3557 8.26535Z",fill:e.fillColor,fillOpacity:.92}),a.createElement("path",{d:"M12.2709 16.2575C12.2709 13.4487 14.5478 11.1718 17.3566 11.1718C20.1654 11.1718 22.4424 13.4487 22.4424 16.2575V19.626C22.4424 21.3769 21.023 22.7963 19.272 22.7963H13.5625C12.8492 22.7963 12.2709 22.218 12.2709 21.5047V16.2575Z",fill:e.fillColor,fillOpacity:.92}))}));Ke($o);var Xo=Vo.default,Jo=(Ko.default,zo.default,$o.default,ze((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&"object"==typeof e&&"default"in e)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}(o.a);t.default=e=>a.createElement("svg",Object.assign({width:12,height:12,viewBox:"0 0 12 12"},e),a.createElement("g",{clipPath:"url(#LocationFilled12_svg__clip0_1965_5760)"},a.createElement("path",{d:"M7.62893 2.04849C9.17293 1.25472 9.94492 0.857829 10.3183 1.21385C10.6916 1.56987 10.3319 2.35985 9.61233 3.93981L7.53857 8.49342C6.79043 10.1362 6.41636 10.9576 5.89594 10.9018C5.37552 10.8461 5.18298 9.95954 4.79791 8.18651C4.70401 7.75413 4.65705 7.53795 4.51204 7.38902C4.36702 7.24009 4.15309 7.18763 3.72523 7.0827L3.50797 7.02943C1.92563 6.6414 1.13446 6.44738 1.07562 5.94761C1.01678 5.44783 1.74126 5.07538 3.19022 4.33046L7.62893 2.04849Z",fill:e.fillColor,fillOpacity:.92})),a.createElement("defs",null,a.createElement("clipPath",{id:"LocationFilled12_svg__clip0_1965_5760"},a.createElement("rect",{width:12,height:12,fill:"white"}))))})));Ke(Jo);var Zo=ze((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&"object"==typeof e&&"default"in e)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}(o.a);t.default=e=>a.createElement("svg",Object.assign({width:16,height:16,viewBox:"0 0 16 16"},e),a.createElement("g",{clipPath:"url(#LocationFilled16_svg__clip0_1965_5762)"},a.createElement("path",{d:"M10.2405 2.41976C12.41 1.30441 13.4947 0.746733 14.0193 1.24698C14.5439 1.74723 14.0384 2.85725 13.0274 5.07729L10.1135 11.4757C9.06228 13.784 8.53667 14.9381 7.80541 14.8598C7.07415 14.7814 6.80362 13.5357 6.26255 11.0444C6.1306 10.4369 6.06462 10.1331 5.86086 9.92384C5.65709 9.71458 5.35649 9.64087 4.7553 9.49344L4.45003 9.41858C2.22664 8.87335 1.11495 8.60073 1.03228 7.89849C0.949598 7.19625 1.96758 6.6729 4.00354 5.6262L10.2405 2.41976Z",fill:e.fillColor,fillOpacity:.92})),a.createElement("defs",null,a.createElement("clipPath",{id:"LocationFilled16_svg__clip0_1965_5762"},a.createElement("rect",{width:16,height:16,fill:"white"}))))}));Ke(Zo);var qo=ze((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&"object"==typeof e&&"default"in e)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}(o.a);t.default=e=>a.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20"},e),a.createElement("g",{clipPath:"url(#LocationFilled20_svg__clip0_1965_5764)"},a.createElement("path",{d:"M13.1826 2.84246C15.7622 1.51629 17.052 0.853198 17.6758 1.448C18.2995 2.04281 17.6985 3.36264 16.4963 6.00231L13.0317 13.6101C11.7817 16.3547 11.1568 17.727 10.2873 17.6338C9.41782 17.5407 9.09615 16.0596 8.45281 13.0973C8.29592 12.375 8.21747 12.0138 7.97519 11.7649C7.73291 11.5161 7.3755 11.4285 6.66066 11.2532L6.2977 11.1642C3.65405 10.5159 2.33223 10.1917 2.23392 9.35677C2.13562 8.52179 3.34601 7.89952 5.76681 6.65497L13.1826 2.84246Z",fill:e.fillColor,fillOpacity:.92})),a.createElement("defs",null,a.createElement("clipPath",{id:"LocationFilled20_svg__clip0_1965_5764"},a.createElement("rect",{width:20,height:20,fill:"white"}))))}));Ke(qo);var Qo=ze((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&"object"==typeof e&&"default"in e)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}(o.a);t.default=e=>a.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24"},e),a.createElement("g",{clipPath:"url(#LocationFilled24_svg__clip0_1965_5766)"},a.createElement("path",{d:"M15.6398 3.1583C19.0674 1.39618 20.7811 0.515119 21.61 1.30545C22.4388 2.09579 21.6401 3.84948 20.0428 7.35687L15.4392 17.4655C13.7784 21.1123 12.948 22.9358 11.7927 22.812C10.6374 22.6882 10.21 20.7202 9.35518 16.7842C9.14672 15.8244 9.04249 15.3444 8.72057 15.0138C8.39864 14.6832 7.92373 14.5668 6.97391 14.3338L6.49163 14.2156C2.97896 13.3542 1.22262 12.9235 1.092 11.814C0.961378 10.7046 2.56966 9.87773 5.78623 8.22408L15.6398 3.1583Z",fill:e.fillColor,fillOpacity:.92})),a.createElement("defs",null,a.createElement("clipPath",{id:"LocationFilled24_svg__clip0_1965_5766"},a.createElement("rect",{width:24,height:24,fill:"white"}))))}));Ke(Qo);var er=Jo.default,tr=(Zo.default,qo.default,Qo.default,ze((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&"object"==typeof e&&"default"in e)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}(o.a);t.default=e=>a.createElement("svg",Object.assign({width:12,height:12,viewBox:"0 0 12 12"},e),a.createElement("rect",{x:1.42295,y:4.37,width:9.15467,height:6.5428,rx:.937476,fill:e.fillColor,fillOpacity:.92}),a.createElement("path",{d:"M3.67876 2.81338C3.67876 2.19966 4.17627 1.70215 4.78999 1.70215H7.20828C7.82199 1.70215 8.31951 2.19966 8.31951 2.81338V3.02719C8.31951 3.2481 8.14042 3.42719 7.91951 3.42719H4.07876C3.85784 3.42719 3.67876 3.2481 3.67876 3.02719V2.81338Z",fill:e.fillColor,fillOpacity:.92}))})));Ke(tr);var ar=ze((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&"object"==typeof e&&"default"in e)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}(o.a);t.default=e=>a.createElement("svg",Object.assign({width:16,height:16,viewBox:"0 0 16 16"},e),a.createElement("rect",{x:1.40952,y:5.41992,width:13.1805,height:9.42003,rx:1.4,fill:e.fillColor,fillOpacity:.92}),a.createElement("path",{d:"M4.65758 3.48259C4.65758 2.59899 5.37388 1.88269 6.25748 1.88269H9.73922C10.6228 1.88269 11.3391 2.59899 11.3391 3.48259V3.76632C11.3391 4.0977 11.0705 4.36632 10.7391 4.36632H5.25758C4.92621 4.36632 4.65758 4.09769 4.65758 3.76632V3.48259Z",fill:e.fillColor,fillOpacity:.92}))}));Ke(ar);var nr=ze((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&"object"==typeof e&&"default"in e)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}(o.a);t.default=e=>a.createElement("svg",Object.assign({width:20,height:20,viewBox:"0 0 20 20"},e),a.createElement("rect",{x:2.46094,y:7.50244,width:15.0784,height:10.7765,rx:1.6,fill:e.fillColor,fillOpacity:.92}),a.createElement("path",{d:"M6.17822 5.14668C6.17822 4.13585 6.99767 3.31641 8.0085 3.31641H11.9916C13.0024 3.31641 13.8219 4.13585 13.8219 5.14668V5.45767C13.8219 5.84427 13.5085 6.15767 13.1219 6.15767H6.87822C6.49162 6.15767 6.17822 5.84427 6.17822 5.45767V5.14668Z",fill:e.fillColor,fillOpacity:.92}))}));Ke(nr);var or=ze((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&"object"==typeof e&&"default"in e)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var n=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,n.get?n:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}(o.a);t.default=e=>a.createElement("svg",Object.assign({width:24,height:24,viewBox:"0 0 24 24"},e),a.createElement("rect",{x:2.26953,y:8.37964,width:19.461,height:13.9087,rx:2,fill:e.fillColor,fillOpacity:.92}),a.createElement("path",{d:"M7.06689 5.99536C7.06689 5.64508 7.06689 5.46995 7.08544 5.32282C7.22036 4.25243 8.06334 3.40945 9.13373 3.27453C9.28086 3.25598 9.456 3.25598 9.80627 3.25598H14.1928C14.5431 3.25598 14.7182 3.25598 14.8654 3.27453C15.9358 3.40945 16.7787 4.25243 16.9137 5.32282C16.9322 5.46995 16.9322 5.64508 16.9322 5.99536V5.99536C16.9322 6.11398 16.9322 6.17329 16.9259 6.22312C16.8802 6.58562 16.5948 6.8711 16.2323 6.91679C16.1824 6.92307 16.1231 6.92307 16.0045 6.92307H7.99461C7.87599 6.92307 7.81667 6.92307 7.76685 6.91679C7.40435 6.8711 7.11887 6.58562 7.07317 6.22312C7.06689 6.17329 7.06689 6.11398 7.06689 5.99536V5.99536Z",fill:e.fillColor,fillOpacity:.92}))}));Ke(or);var rr=tr.default;ar.default,nr.default,or.default;const ir=e=>{var t;let a="";const{flatNo:n="",addressLine2:o="",landmark:r="",address:i=""}=e||{};return n&&(a+=n+", "),o?a+=o+", ":r&&(a+=r+", "),i&&(a+=i),null===(t=Z(a))||void 0===t?void 0:t.trim()},lr=e=>{var t;let a;switch(null===(t=null==e?void 0:e.annotation)||void 0===t?void 0:t.toLowerCase()){case f.ANNOTATION_TYPES.HOME.toLowerCase():a=Fo;break;case f.ANNOTATION_TYPES.WORK.toLowerCase():a=rr;break;case f.ANNOTATION_TYPES.FRIENDS_AND_FAMILY.toLowerCase():a=Xo;break;default:a=er}return a},sr=e=>{var t;if(Ce(e))return f.ANNOTATION_TYPES.OTHER;let a="";switch(null===(t=e.annotation)||void 0===t?void 0:t.toLowerCase()){case f.ANNOTATION_TYPES.HOME.toLowerCase():a=f.ANNOTATION_TYPES.HOME;break;case f.ANNOTATION_TYPES.WORK.toLowerCase():a=f.ANNOTATION_TYPES.WORK;break;case f.ANNOTATION_TYPES.FRIENDS_AND_FAMILY.toLowerCase():a=(null==e?void 0:e.name)||f.ANNOTATION_TYPES.FRIENDS_AND_FAMILY;break;default:a=e.annotation||f.ANNOTATION_TYPES.OTHER}return a},cr=e=>{const[t,a,n]=e.split("|");return{width:t,height:a,cloudinaryId:null==n?void 0:n.replace("{{img|","").replace("}}","")}};class dr{constructor(e){this.getBoldText=()=>(this.value=this.value.replace(new RegExp("\\[\\[","g"),'<span style="font-weight: 600;">').replace(new RegExp("\\]\\]","g"),"</span>"),this),this.getColorText=()=>(this.value=this.value.replace(new RegExp("\\(\\(color\\|([^|]*)\\|([^|]*)\\|([\\s\\S]*?)\\)\\)","g"),(e,t,a,n)=>{if(n.includes("\\(\\(color\\|"))return e;const o=[t.trim()?"color: "+t:"",a.trim()?"font-weight: "+a:""].filter(Boolean).join(";");return o?`<span style="${o}">${n}</span>`:n}),this),this.getSavingsHighlightedText=()=>(this.value=this.value.replace(new RegExp("\\(\\(savings\\|","g"),"<span style='color: #1BA672;font-weight: 600;'>").replace(new RegExp("\\)\\)","g"),"</span>"),this),this.getSwiggyOneSavingsHighlightedText=()=>(this.value=this.value.replace(new RegExp("\\(\\(savings-one\\|","g"),"<span style='color: #F15C52;font-weight: 600;'>").replace(new RegExp("\\)\\)","g"),"</span>"),this),this.getStrikethroughText=()=>(this.value=this.value.replace(new RegExp("\\(\\(strikethrough\\|","g"),"<span style='text-decoration: line-through;'>").replace(new RegExp("\\)\\)","g"),"</span>"),this),this.getNewLine=()=>(this.value=this.value.replace(new RegExp("\\\n","g"),"<br />"),this),this.getImage=({imgStyle:e="",imgHeight:t="",imgWidth:a="",loading:n="eager",iconHasHeightWidth:o=!1})=>{const r=this.value.indexOf("{{img|");if(r<0)return this;const i=this.value.indexOf("}}",r),l=this.value.slice(r+6,i);let s=_t(l);if(o)try{const e=this.value.indexOf("{{img|",0),n=this.value.indexOf("}}","}}".length),o=this.value.substring(e,n),r=cr(null==o?void 0:o.replace("{{img|","").replace("}}",""));a=r.width,t=r.height,s=_t(r.cloudinaryId)}catch(e){}return this.value=`${this.value.slice(0,r)}<img class="${e}" src="${s}" width="${a}" height="${t}" loading={${n}} />${this.value.slice(i+2)}`,this},this.value=e}get val(){return this.value}}const ur=(e,t,a=!1)=>(e=new dr(e).getColorText().getSwiggyOneSavingsHighlightedText().getSavingsHighlightedText().getStrikethroughText().getBoldText().getNewLine().getImage({imgStyle:t,iconHasHeightWidth:a}).val,o.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}})),mr=(e,t)=>s(void 0,void 0,void 0,(function*(){var a;if(Ce(e))return t(f.LOTTIE_ERROR_TYPES.ASSET_FETCH_ERROR,"Invalid asset id"),null;try{const n=fe(e);if(Ce(n))return t(f.LOTTIE_ERROR_TYPES.ASSET_FETCH_ERROR,"Invalid asset url"),null;const o=yield fetch(n),r=yield o.blob();return null===(a=null===URL||void 0===URL?void 0:URL.createObjectURL)||void 0===a?void 0:a.call(URL,r)}catch(e){return t(f.LOTTIE_ERROR_TYPES.ASSET_FETCH_ERROR,e),null}})),pr=e=>{const{flat_no:t="",address_line2:a="",address_line_2:n="",landmark:o="",address:r=""}=e||{};let i="";return t&&(i+=t+", "),a||n?(i+=a||n,i+=", "):o&&(i+=o+", "),r&&(i+=r),Z(i)};function _r(e){return function(e){return e%1!=0?e.toFixed(2):e.toFixed(0)}(e/100)}var Er;!function(e){e.CHILD_LIST="childList",e.ATTRIBUTES="attributes",e.CHARACTER_DATA="characterData"}(Er||(Er={}));Object.values({ERROR_IMAGE_ID_UX4:"4_0_Assets/ux4_empty_cart_500"}).map(e=>Ie(e,{},{teamLine:me.PORTAL}));var Cr,br='.Button_button_SJqJbTnI{background:transparent;outline:none;text-align:left;-webkit-appearance:none;font-size:13px;letter-spacing:-.1px;font-weight:600;width:100%;height:48px;text-align:center;padding:0 16px;background:#1ba672;color:#fff;text-transform:uppercase;border:1px solid #1ba672;outline:0;position:relative;overflow:hidden;border-radius:12px;box-sizing:border-box;box-shadow:0 2px 6px rgba(0,0,0,.12)}.Button_buttonOrange_k5OAR3SY{background:#ff5200}.Button_buttonDisabled_3d3gy0Sz{background:#f0f0f5!important;border:1px solid #f0f0f5!important;box-shadow:none;color:rgba(2,6,12,.1490196078)}.Button_buttonProgress_hYFolHe0:before{content:"";width:90%;position:absolute;left:0;top:0;bottom:0;z-index:1;transform:translateZ(0);transform-origin:left;background:rgba(0,0,0,.2);animation:Button_lineProgressBar_R-Y7V-kj 2s ease-out}.Button_orangeButton_xtHvG03W{background:#ff5200;border:1px solid #ff5200}.Button_orangeButtonPlain_ES9rwWH5{background:#fff;border:none;box-shadow:none;color:#ff5200}.Button_orangeButtonLarge_ya2mzPwn,.Button_orangeButtonPlain_ES9rwWH5{font-size:18px;letter-spacing:-.3px;font-weight:600;text-transform:capitalize}.Button_orangeButtonLarge_ya2mzPwn{background:#ff5200;border:1px solid #ff5200;height:52px}.Button_orangeButtonTransparent_nnL19jcG{border:none;box-shadow:none;background:#fff;height:-webkit-fit-content;height:fit-content;color:#ff5200}.Button_rustyOrangeButton_NBwtJY9K{background:#ff5200;border:1px solid #ff5200}.Button_rustyOrangeBorderButton_6OW5cMD8{background:#fff;color:#ff5200;border:1px solid #ff5200}.Button_greenButtonLarge_adjYKUOf{font-size:18px;letter-spacing:-.3px;font-weight:600;height:52px}.Button_greenButtonTransparent_KNMDa03O{border:none;box-shadow:none;background:#fff;height:-webkit-fit-content;height:fit-content;color:#1ba672}.Button_greenBorderButton_ckG7Pp0q{background:#fff;color:#1ba672;border:1px solid #1ba672}@keyframes Button_lineProgressBar_R-Y7V-kj{0%{transform:scaleX(0)}to{transform:scaleX(1)}}',yr={_getCss:function(){return br},_getId:function(){return"84db67fd65"},button:"Button_button_SJqJbTnI",buttonOrange:"Button_buttonOrange_k5OAR3SY",buttonDisabled:"Button_buttonDisabled_3d3gy0Sz",buttonProgress:"Button_buttonProgress_hYFolHe0",lineProgressBar:"Button_lineProgressBar_R-Y7V-kj",orangeButton:"Button_orangeButton_xtHvG03W",orangeButtonPlain:"Button_orangeButtonPlain_ES9rwWH5",orangeButtonLarge:"Button_orangeButtonLarge_ya2mzPwn",orangeButtonTransparent:"Button_orangeButtonTransparent_nnL19jcG",rustyOrangeButton:"Button_rustyOrangeButton_NBwtJY9K",rustyOrangeBorderButton:"Button_rustyOrangeBorderButton_6OW5cMD8",greenButtonLarge:"Button_greenButtonLarge_adjYKUOf",greenButtonTransparent:"Button_greenButtonTransparent_KNMDa03O",greenBorderButton:"Button_greenBorderButton_ckG7Pp0q"};T(br),function(e){e.RUSTY_ORANGE="RUSTY_ORANGE",e.RUSTY_ORANGE_BORDER="RUSTY_ORANGE_BORDER",e.SWIGGY_ORANGE="SWIGGY_ORANGE",e.SWIGGY_ORANGE_PLAIN="SWIGGY_ORANGE_PLAIN",e.SWIGGY_ORANGE_LARGE="SWIGGY_ORANGE_LARGE",e.SWIGGY_ORANGE_TRANSPARENT="SWIGGY_ORANGE_TRANSPARENT",e.BLACK_BORDER="BLACK_BORDER",e.GREEN="GREEN",e.GREEN_LARGE="GREEN_LARGE",e.GREEN_BORDER="GREEN_BORDER",e.GREEN_TRANSPARENT="GREEN_TRANSPARENT"}(Cr||(Cr={}));Object(n.memo)(R((function(e){const{disabled:t,progress:a,onClick:r,accent:l,focusOnMount:s,dataTestId:c,children:d,className:u}=e,m=Object(n.useRef)(null);Object(n.useEffect)(()=>{let e;return s&&(e=window.setTimeout(()=>{var e;null===(e=m.current)||void 0===e||e.focus()},500)),()=>clearTimeout(e)},[m,s]);const p=i()(yr.button,{[yr.orangeButton]:Cr.SWIGGY_ORANGE===l,[yr.orangeButtonPlain]:Cr.SWIGGY_ORANGE_PLAIN===l,[yr.orangeButtonLarge]:Cr.SWIGGY_ORANGE_LARGE===l,[yr.rustyOrangeButton]:Cr.RUSTY_ORANGE===l,[yr.rustyOrangeBorderButton]:Cr.RUSTY_ORANGE_BORDER===l,[yr.greenBorderButton]:Cr.GREEN_BORDER===l,[yr.greenButtonLarge]:Cr.GREEN_LARGE===l,[yr.greenButtonTransparent]:Cr.GREEN_TRANSPARENT===l,[yr.orangeButtonTransparent]:Cr.SWIGGY_ORANGE_TRANSPARENT===l,[yr.buttonProgress]:a,[yr.buttonDisabled]:t},u),_=Object(n.useCallback)(e=>{e.stopPropagation(),t||a||"function"!=typeof r||r(e)},[t,r,a]);return o.a.createElement("button",{className:p,onClick:_,"data-testid":c,ref:m},d)}),yr));const gr=d.keyframes`
    0% {
        left: 0%;
    }
    66%, 100% {
        left: 110%;
    }
`,Or=d.default.div`
    position: relative;
    display: flex;
`,hr=d.default.span`
    text-align: center;
    padding: 2px 6px;
    color: ${e=>e.theme.colors[e.theme.colorMode].background_Primary};
    position: relative;
    background: ${e=>e.theme.colors[e.theme.colorMode].primary};
    border-radius: ${e=>e.theme.cornerRadius.xxSmall};
    text-transform: uppercase;
    overflow: hidden;

    ${e=>!e.$skipShimmer&&d.css`
            &::after {
                content: "";
                position: absolute;
                top: 0;
                width: 6px;
                height: 100%;
                opacity: 0.3;
                transform: skewX(-40deg);
                background-color: ${e.theme.colors[e.theme.colorMode].background_Primary};
                animation: ${gr} 2s infinite;
                will-change: left;
            }
        `}

    ${e=>e.$skipShimmer&&d.css`
            &::after {
                display: none;
            }
        `}
`;var Ar=Object(n.memo)(e=>{var t;const{skipShimmer:a=!1}=e,n=null!==(t=e.title)&&void 0!==t?t:"NEW";return o.a.createElement(Or,null,o.a.createElement(hr,{$skipShimmer:a},o.a.createElement(c.Text,{variant:"V2.overline.neutral.black",color:"background_Primary"},n)))})},Y5gxqa:function(e,t,a){"use strict";var n=a("qB2Dwe");a.d(t,"API_ANALYTICS_PLATFORM",(function(){return n.a})),a.d(t,"SwgyHeaderKeysList",(function(){return n.b})),a.d(t,"SwgyHeadersList",(function(){return n.c}));var o=a("re+k5z");a.o(o,"ANNOTATION_TYPES")&&a.d(t,"ANNOTATION_TYPES",(function(){return o.ANNOTATION_TYPES})),a.o(o,"CheckoutRoute")&&a.d(t,"CheckoutRoute",(function(){return o.CheckoutRoute})),a.o(o,"DineoutCheckoutRoute")&&a.d(t,"DineoutCheckoutRoute",(function(){return o.DineoutCheckoutRoute})),a.o(o,"LOTTIE_ERROR_TYPES")&&a.d(t,"LOTTIE_ERROR_TYPES",(function(){return o.LOTTIE_ERROR_TYPES}));a("KQ1Dbo");var r=a("HkAEY5");a.d(t,"ANNOTATION_TYPES",(function(){return r.a}));var i=a("2ODcjE");a.d(t,"LOTTIE_ERROR_TYPES",(function(){return i.a}));a("KmShuW")},l0I3dG:function(e,t){},"mqQ/2f":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return l}));var n=a("q1tIBJ"),o=a.n(n),r=a("qqNfnj"),i=a("r+Wdia");function l(e){return o.a.createElement(r.a,Object.assign({},e,{paymentReturnUrl:i.f,addMoneyReturnUrl:i.d,addSwiggyMoneyReturnUrl:i.e,simplPostLinkingRedirectUrl:i.h}))}},o3nhpB:function(e,t,a){"use strict";var n=a("Y5gxqa");a.o(n,"ANNOTATION_TYPES")&&a.d(t,"ANNOTATION_TYPES",(function(){return n.ANNOTATION_TYPES})),a.o(n,"API_ANALYTICS_PLATFORM")&&a.d(t,"API_ANALYTICS_PLATFORM",(function(){return n.API_ANALYTICS_PLATFORM})),a.o(n,"CheckoutRoute")&&a.d(t,"CheckoutRoute",(function(){return n.CheckoutRoute})),a.o(n,"DineoutCheckoutRoute")&&a.d(t,"DineoutCheckoutRoute",(function(){return n.DineoutCheckoutRoute})),a.o(n,"LOTTIE_ERROR_TYPES")&&a.d(t,"LOTTIE_ERROR_TYPES",(function(){return n.LOTTIE_ERROR_TYPES})),a.o(n,"SwgyHeaderKeysList")&&a.d(t,"SwgyHeaderKeysList",(function(){return n.SwgyHeaderKeysList})),a.o(n,"SwgyHeadersList")&&a.d(t,"SwgyHeadersList",(function(){return n.SwgyHeadersList}))},qB2Dwe:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return r}));var n={appVersion:"app-version",swuid:"swuid",versionCode:"version-code",deviceId:"deviceid",tid:"tid",token:"token",sid:"sid",userAgent:"user-agent",agentType:"agent-type",lat:"lat",lng:"lng",device:"device",platform:"platform",osVersion:"os-version",paymentSecretKey:"payment-secret-key",userId:"userid",analyticsPlatform:"analyticsplatform",cartId:"cartid",cartAddressId:"cartaddressid",referrer:"referrer",marketPlaceId:"marketplaceId",marketplaceBusinessLine:"marketplaceBusinessLine",marketplaceCategory:"marketplaceCategory",statusBarHeight:"statusbarheight",cartkey:"cartkey",showSuccessScreen:"showsuccessscreen",orderid:"orderid",transactionid:"transactionid",paymentamount:"paymentamount",planid:"planid",cityid:"cityid",quantity:"quantity",customSuccessScreen:"custom-success-screen",accessibilityEnabled:"accessibility-enabled",isFromBottomBar:"isfrombottombar",xWebCheckoutFlow:"x-web-checkout-flow",isSuperUser:"issuperuser",referrerAppPlatform:"referrer-app-platform",referrerAppVersion:"referrer-app-version",cardFingerprint:"card-fingerprint",isWebviewAssetsCached:"iswebviewassetscached",isWebcachingXpEnabled:"iswebcachingxpenabled",isFirstSessionPostDeployment:"isfirstsessionpostdeployment",postPaymentRedirectionLink:"postpaymentredirectionlink",xChannel:"x-channel",isHeroApiInlineHtmlXp:"isheroapiinlinehtmlxp",cartPagePreheat:"cartPagePreheat",retainedCartOrderId:"retainedCartOrderId",cartSource:"cartSource",cartEntry:"cartEntry",applicationName:"application_name",category:"category",serviceLine:"service-line",isR1FA:"isR1FA",locationContext:"location_context"},o={ANDROID:"android",IOS:"ios",MWEB:"mweb",DWEB:"dweb"},r=["app-version","swuid","version-code","deviceid","tid","token","sid","user-agent","agent-type","lat","lng","device","platform","os-version","payment-secret-key","userid","analyticsplatform","cartid","cartaddressid","referrer","marketplacebusinessline","marketplacecategory","marketplaceid","statusbarheight","cartkey","orderid","showsuccessscreen","transactionid","planid","cityid","quantity","custom-success-screen","accessibility-enabled","isfrombottombar","x-web-checkout-flow","issuperuser","referrer-app-platform","referrer-app-version","card-fingerprint","iswebviewassetscached","iswebcachingxpenabled","isfirstsessionpostdeployment","postpaymentredirectionlink","x-channel","isheroapiinlinehtmlxp","retainedcartorderid","cartsource","cartentry","cartpagepreheat","application_name","category","service-line","isr1fa","location_context"]},qqNfnj:function(e,t,a){"use strict";var n=a("/MKjzB"),o=a("q1tIBJ"),r=a("2HIM8c"),i=a("Mi6rBQ"),l=a("50P4tg"),s=a("jizUP7"),c=a("QNiLtM"),d=a("jL/hQN"),u=a("Bckod/"),m=a("XXHgm4"),p=a("cWqZYD");const _=(e,t)=>{var a,n,o,r,i,l,s;return e.addressId||Object(u.b)({context:"instamart",eventType:m.a.DASH_FRONT_ERROR_EVENTS,type:m.c.ADDRESS_ID_MISSING}),{cartkey:String(null!==(a=e.linkId)&&void 0!==a?a:""),cartid:E(e,t),statusbarheight:String(d.a.getStatusBarHeight()||0),cartaddressid:String(null!==(n=e.addressId)&&void 0!==n?n:""),"version-code":String(null!==(o=d.a.getVersionCode())&&void 0!==o?o:""),"user-agent":"undefined"!=typeof navigator?navigator.userAgent:"",userid:d.a.getUserId(),sid:d.a.getSid(),tid:d.a.getTid(),token:d.a.getToken(),analyticsplatform:Object(p.c)(d.a.getPlatform()),deviceid:d.a.getDeviceId(),swuid:d.a.getSwuid()||d.a.getDeviceId(),lat:String(null!==(r=d.a.getUserLocation().lat)&&void 0!==r?r:""),lng:String(null!==(i=d.a.getUserLocation().lng)&&void 0!==i?i:""),platform:C(),marketplaceid:"1",marketplacecategory:e.context,marketplacebusinessline:"dash",device:"",referrer:"",orderid:"",planid:"",cityid:"",quantity:"","payment-secret-key":String(null!==(l=d.a.getPaymentSecretKey())&&void 0!==l?l:""),"agent-type":"","custom-success-screen":"","os-version":"","app-version":"","accessibility-enabled":d.a.isAccessbilityEnabled()?"true":"false","referrer-app-platform":C(),"referrer-app-version":String(null!==(s=d.a.getVersionCode())&&void 0!==s?s:""),"x-web-checkout-flow":"payment",isfrombottombar:"false",issuperuser:"",application_name:d.a.getXApplicationName(),"x-channel":d.a.getXChannel()}},E=(e,t)=>{var a;return e.cartId?e.cartId:null!==(a=null==t?void 0:t.cartId)&&void 0!==a?a:""},C=()=>{switch(d.a.getPlatform()){case"android":return"Swiggy-Android";case"ios":return"Swiggy-iOS";default:return"mweb"}};var b=a("cFudZB"),y=a("FO+1MJ");class g extends y.i{constructor(){super(b.a.getNativeBridgePlatform());const e=Object(y.r)({platform:y.h.WEB});this.navigateToScreen=e.navigateToScreen,this.close=e.close,this.getCheckoutMetaInfo=e.getCheckoutMetaInfo,this.postOrderEvent=e.postOrderEvent,this.clearCart=e.clearCart,this.switchToNativePayment=e.switchToNativePayment}}const O={apiHost:"",analyticsHost:"",paymentReturnUrl:"",addMoneyReturnUrl:"",addSwiggyMoneyReturnUrl:"",environment:"production",newrelicEndpoint:"",newrelicKey:"",paymentHost:"",simplPostLinkingRedirectUrl:"",enableWebviewRefreshCapability:!0};function h(){return"undefined"==typeof window?"":window.location.origin}var A=o.memo((function(e){var t;const{paymentReturnUrl:a,addMoneyReturnUrl:n,addSwiggyMoneyReturnUrl:d,simplPostLinkingRedirectUrl:u}=e,m=Object(l.j)(),p=o.useMemo(()=>new g,[]),{settings:E,dfOptions:C}=o.useContext(s.c),b=E.paymentEndpointUrl,y=E.paymentHostUrl,A=Object(i.c)(C.dfInstamartCartRateLimitEnabled),f=o.useMemo(()=>"string"==typeof b&&b.length>0?b:O.apiHost,[b]),v=o.useMemo(()=>"string"==typeof y&&y.length>0?y:O.paymentHost,[y]);o.useEffect(()=>{if(window&&window.document){const e=document.querySelector("html");return null==e||e.classList.add("fonts-loaded-ux4"),()=>{null==e||e.classList.remove("fonts-loaded-ux4")}}},[]);const T=o.useMemo(()=>Object.assign(Object.assign({},O),{analyticsHost:E.analyticsHost||"",newrelicEndpoint:E.newrelicEndpoint||"",newrelicKey:E.newrelicKey||"",paymentReturnUrl:`${h()}/${a}`,addMoneyReturnUrl:`${h()}/${n}`,addSwiggyMoneyReturnUrl:`${h()}/${d}`,simplPostLinkingRedirectUrl:`${h()}/${u}`,apiHost:f,paymentHost:v,enableCardRateLimit:A,enableWebviewRefreshCapability:!0,enableConfirmOrderDifferentialOrderIdAlert:Object(l.s)(e.options)}),[E.analyticsHost,E.newrelicEndpoint,E.newrelicKey,a,n,d,u,f,v,A,e.options]),I=o.useMemo(()=>{if(!e.location.state||!e.location.state.turboPayPlaceOrderData)return;const t=e.location.state.turboPayPlaceOrderData;return{extraArbitaryData:t.extraArbitaryData,extraParams:t.extraParams}},[e.location.state]),S=Object(c.c)()||{},N=e.location.query.selectedturbomethod,R=o.useMemo(()=>Object.assign({state:e.initialState?e.initialState:e.location.query.state?e.location.query.state:void 0},!!N&&{routeData:{selectedTurboMethod:N}}),[e.initialState,e.location.query,N]),P=Object.assign(Object.assign({},S),(null===(t=e.selectedAddress)||void 0===t?void 0:t.id)&&{addressId:e.selectedAddress.id});return o.createElement(r.b,Object.assign({config:T,headers:_(P,m),nativeBridgeSdk:p,initialState:R,turboPayPlaceOrderData:I},!!e.turboPayConfig&&{turboPayConfig:e.turboPayConfig}))}));t.a=Object(n.b)(e=>({options:e.misc.options}))(A)},"re+k5z":function(e,t){},tWLOnr:function(e,t,a){"use strict";a.d(t,"AnalyticsContext",(function(){return Ot})),a.d(t,"ApiContext",(function(){return ht})),a.d(t,"AudioPlayerContext",(function(){return Da})),a.d(t,"BLAZE_EVENTS",(function(){return T})),a.d(t,"CARD_API_KEYS",(function(){return Ie})),a.d(t,"CHECKOUT_WEB_PUBLIC_ENDPOINT_KEYS",(function(){return Te})),a.d(t,"CHECKOUT_WEB_XP",(function(){return fe})),a.d(t,"CartOverlayActionProvider",(function(){return Pa})),a.d(t,"CartOverlaysContext",(function(){return Lt})),a.d(t,"CheckoutActionTypes",(function(){return F})),a.d(t,"CheckoutContext",(function(){return ft})),a.d(t,"CheckoutWebDynamicConfigContext",(function(){return Nt})),a.d(t,"CleanupSource",(function(){return Q})),a.d(t,"ConfigContext",(function(){return vt})),a.d(t,"ConfirmOrderContext",(function(){return St})),a.d(t,"DeliveryInfoContext",(function(){return It})),a.d(t,"DineoutCartContext",(function(){return Ct})),a.d(t,"DineoutCartType",(function(){return Et})),a.d(t,"GlobalHeaderState",(function(){return O})),a.d(t,"GroupOrderCartContext",(function(){return Pt})),a.d(t,"HardwareBackContext",(function(){return be})),a.d(t,"MIN_ANDROID_VERSION_Q_FOOD",(function(){return Ma})),a.d(t,"MIN_IOS_VERSION_Q_FOOD",(function(){return ja})),a.d(t,"NEWRELIC_TABLES",(function(){return W})),a.d(t,"PSRMetricSource",(function(){return te})),a.d(t,"PrefetchStates",(function(){return Ne})),a.d(t,"ProceedMode",(function(){return he})),a.d(t,"PublicApiContext",(function(){return Ua})),a.d(t,"PublicApiProvider",(function(){return Ha})),a.d(t,"Q_FOOD_SLA",(function(){return wa})),a.d(t,"SessionVisibility",(function(){return Oe})),a.d(t,"SetDataSource",(function(){return ee})),a.d(t,"UserContext",(function(){return Tt})),a.d(t,"canShowFeedbackScreen",(function(){return ot})),a.d(t,"cleanupPersistOrderDataInLocalStorage",(function(){return Z})),a.d(t,"clearAuthHeadersFromStorage",(function(){return I})),a.d(t,"clearCart",(function(){return L})),a.d(t,"clearDineoutLocalCart",(function(){return x})),a.d(t,"closeWebview",(function(){return P})),a.d(t,"fetchData",(function(){return Qe})),a.d(t,"getAnalyticsConfigParams",(function(){return _t})),a.d(t,"getBridgeSdk",(function(){return f})),a.d(t,"getDineoutFlowType",(function(){return gt})),a.d(t,"getDownstreamHostsValue",(function(){return xe})),a.d(t,"getOriginalBusinessLine",(function(){return S})),a.d(t,"getSwiggyHeaders",(function(){return qe})),a.d(t,"getUserFromUserContextValue",(function(){return _e})),a.d(t,"getUsersLastState",(function(){return ne})),a.d(t,"goToHome",(function(){return k})),a.d(t,"isBusinessLineDash",(function(){return lt})),a.d(t,"isBusinessLineDineout",(function(){return st})),a.d(t,"isEmpty",(function(){return m})),a.d(t,"isNonEmptyString",(function(){return p})),a.d(t,"isPopFlow",(function(){return dt})),a.d(t,"makeDownstreamApiCall",(function(){return at})),a.d(t,"manageSwipe",(function(){return D})),a.d(t,"navigateToDeeplink",(function(){return nt})),a.d(t,"qFoodRestaurantsList",(function(){return xa})),a.d(t,"recordNREvent",(function(){return me})),a.d(t,"recordWebviewRefreshState",(function(){return oe})),a.d(t,"reducer",(function(){return V})),a.d(t,"restoreWebviewRefreshState",(function(){return re})),a.d(t,"setPersistOrderDataInLocalStorage",(function(){return J})),a.d(t,"showNativeAlert",(function(){return N})),a.d(t,"showNativeHeader",(function(){return R})),a.d(t,"trackPSRMetricsForWebviewRefresh",(function(){return q})),a.d(t,"updateFeedbackFlag",(function(){return rt})),a.d(t,"useAudioPlayer",(function(){return ke})),a.d(t,"useCheckoutWebDynamicConfig",(function(){return Se})),a.d(t,"useCustomHardwareBack",(function(){return ye})),a.d(t,"useImagePrefetch",(function(){return Re})),a.d(t,"useInit",(function(){return pe})),a.d(t,"useLocalStorageBasedFrequencyCapping",(function(){return Ae})),a.d(t,"useNavigate",(function(){return Y})),a.d(t,"useOnBack",(function(){return G})),a.d(t,"useSessionStorage",(function(){return Ee})),a.d(t,"useUserInfo",(function(){return Ce}));var n=a("4JB/ZF");a.o(n,"ANNOTATION_TYPES")&&a.d(t,"ANNOTATION_TYPES",(function(){return n.ANNOTATION_TYPES})),a.o(n,"CheckoutRoute")&&a.d(t,"CheckoutRoute",(function(){return n.CheckoutRoute})),a.o(n,"DineoutCheckoutRoute")&&a.d(t,"DineoutCheckoutRoute",(function(){return n.DineoutCheckoutRoute})),a.o(n,"SwgyHeaderKeysList")&&a.d(t,"SwgyHeaderKeysList",(function(){return n.SwgyHeaderKeysList}));var o=a("Ua3QKq"),r=a("PF/h98"),i=a("FO+1MJ"),l=a("q1tIBJ"),s=a.n(l),c=a("rJW+K4"),d=a("StNub5"),u=a("EEqfuK");function m(e,t=!0){if(null==e)return!0;switch(typeof e){case"string":return t?0===e.length:0===e.trim().length;case"number":case"boolean":return!e;case"undefined":return!0;case"object":return 0===Object.keys(e).length;case"function":case"symbol":return!1;default:return!e}}function p(e){return"string"==typeof e&&!m(e,!1)}const{whichTransitionEndEvent:_}=new class{constructor(){this._transitionEndEvent=o.b,this.whichTransitionEndEvent=e=>{if(this._transitionEndEvent.isSome())return this._transitionEndEvent.unwrap();if("undefined"==typeof document)return;let t;const a={MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in e=void 0===e?document.createElement("fakeelement"):e,a)if(a.hasOwnProperty(t)&&void 0!==e.style[t])return this._transitionEndEvent=Object(o.d)(a[t]),this._transitionEndEvent.unwrapOr("transitionend")}}},{whichAnimationEndEvent:E}=new class{constructor(){this._animationEndEvent=o.b,this.whichAnimationEndEvent=e=>{if(this._animationEndEvent.isSome())return this._animationEndEvent.unwrap();if("undefined"==typeof document)return;let t;const a={animation:"animationend",MozAnimation:"animationend",OTransition:"oAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(t in e=void 0===e?document.createElement("fakeelement"):e,a)if(a.hasOwnProperty(t)&&void 0!==e.style[t])return this._animationEndEvent=Object(o.d)(a[t]),this._animationEndEvent.unwrapOr("animationend")}}},C=(e,t)=>null==e?null:e.clientHeight>window.innerHeight-t&&"scroll"===getComputedStyle(e).overflowY?e:C(e.parentElement,t),b=({container:e,rect:t,bottomOffset:a=16})=>{let n;if(!e)return;const o=e.getBoundingClientRect(),r=e.scrollTop,i=t.bottom,l=o.bottom-a;n=i<l?r-(l-i):r+(i-l),void 0!==n&&(e.style.setProperty("-webkit-overflow-scrolling","auto"),((e,t)=>{const a=t||0;void 0!==e.scroll?e.scroll(0,Math.max(a,0)):e.scrollTop=Math.max(a,0)})(e,n),e.style.setProperty("-webkit-overflow-scrolling","touch"))};let y={};const g=()=>{m(window.__headers__)||(y=window.__headers__)};class O{static init(e){e&&(y=e,r.T.setItem("headers",e),r.B.setItem("auth_headers",e))}static removeHeaderFromAllStorages(e){try{y&&y[e]&&delete y[e];const t=r.T.getItem("headers");null!=t&&null!=t[e]&&(delete t[e],r.T.setItem("headers",t));const a=r.B.getItem("auth_headers");null!=a&&null!=a[e]&&(delete a[e],r.B.setItem("auth_headers",a))}catch(e){}}}O.getHeaders=()=>(y||g(),y),O.getHeader=e=>{if(y||g(),"string"!=typeof e||!y)throw new Error("Error while getting header with "+e);return y[e.toLowerCase()]},O.updateHeaders=e=>{const t=O.getHeaders();y=Object.assign(Object.assign({},t),e),window.__headers__=y,r.T.setItem("headers",y),r.B.setItem("auth_headers",y)},O.setHeader=(e,t)=>{if("string"!=typeof e||"string"!=typeof t||!y)throw new Error(`Error while setting header with ${e} ${t}`);y[e]=t},O.removeHeader=e=>{delete y[e]};let h=null;const A=e=>(h&&!e||(h=e||new i.i(null)),h),f=()=>h||A();function v(e,t,a,n){return new(a||(a=Promise))((function(o,r){function i(e){try{s(n.next(e))}catch(e){r(e)}}function l(e){try{s(n.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,l)}s((n=n.apply(e,t||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;const T={RECORD_PAYMENT_LOAD_TIME:"checkout_payment_load_time",RECORD_CART_LOAD_TIME:"checkout_card_load_time",RECORD_TABLE_BOOKING_CART_LOAD_TIME:"dineout_checkout_load_time",RECORD_BILL_PAYMENT_CART_LOAD_TIME:"bill_payment_cart_load_time",RECORD_APP_LOAD_TIME:"checkout_app_load_time",RECORD_DINEOUT_APP_LOAD_TIME:"dineout_checkout_app_load_time",RECORD_ORDER_LOAD_TIME:"checkout_order_load_time",RECORD_PROCESS_ORDER_LOAD_TIME:"checkout_process_order_load_time",RECORD_CHECKOUT_PAYMENT_LOAD_TIME:"blaze_checkout_web_payment_load_time",RECORD_DINEOUT_CHECKOUT_PAYMENT_LOAD_TIME:"blaze_dineout_checkout_web_payment_load_time",RECORD_DO_PAYMENT_SUCCESS_SCREEN_LOAD_TIME:"blaze_do_payment_success_screen_load_time",RECORD_INTERMEDIATE_SHARED_CART_SCREEN_LOAD_TIME:"blaze_shared_cart_screen_load_time"},I=()=>{r.B.removeItem("auth_headers")};function S(){return r.B.getItem("original_business_line",null)}const N=({message:e="Oops Something went wrong!!",title:t=" ",buttonName:a="Ok"}={})=>v(void 0,void 0,void 0,(function*(){f().alert({message:e,title:t,buttonName:a}).catch(()=>{})})),R=({title:e="",backURL:t,backAlert:a})=>v(void 0,void 0,void 0,(function*(){f().showHeader({show:!0,title:e,backURL:t,backAlert:a}).catch(()=>{})})),P=e=>{I(),f().close(e).catch(()=>{})},D=(e,t)=>v(void 0,void 0,void 0,(function*(){try{f().manageSwipeGesture({disable:e,height:t})}catch(e){}})),L=()=>{f().clearLocalCart({tenant:{marketplaceBusinessline:"Regular",marketplaceCategory:"Food",marketplaceId:1}}).catch(()=>{})},k=()=>{f().navigateToScreen({type:i.m.SCREEN,link:i.l.HOME,params:{shouldCloseWebview:!0}}).catch(()=>{})},x=e=>{f().dineoutClearLocalCart({flowType:e}).catch(()=>{})};i.j.CLOSE_WEBVIEW;var w,M,j,B,U;(U=w||(w={})).PROCESSING="processing",U.PENDING="pending",function(e){e.RESTAURANT_COUPON_LISTING="RESTAURANT",e.PAYMENT_COUPON_LISTING="PAYMENT"}(M||(M={})),function(e){e.M2C="M2C",e.LINE_ITEM="LINE_ITEM",e.EXPRESS_HALF_CARD="EXPRESS_HALF_CARD",e.FREEDEL_HALF_CARD="FREEDEL_HALF_CARD"}(j||(j={})),function(e){e.REGULAR="regular"}(B||(B={}));const H=e=>{const t=Object(l.useRef)(null),a=Object(l.useRef)(0),n=Object(l.useRef)(!1),o=Object(l.useRef)(null),r=Object(l.useRef)(0);Object(l.useEffect)(()=>{let i=null,l=null,s=!0;const c=window.keyboardStateChanged,d=()=>{i&&window.cancelAnimationFrame(i)},u=e=>{d(),(e=>{null==e||e.style.removeProperty("max-height")})(e),s=!0};return(null==e?void 0:e.current)&&"undefined"!=typeof ResizeObserver&&(t.current=new ResizeObserver(t=>{var o;const i=t[0].contentRect.height,l=i!==r.current;if((null==e?void 0:e.current)&&a.current>0&&!n.current&&l){n.current=!0;const t=i-r.current,a=Number((null===(o=e.current.style.minHeight)||void 0===o?void 0:o.replace("px",""))||e.current.clientHeight);e.current.style.setProperty("min-height",a+t+"px"),r.current=i,n.current=!1}})),(null==e?void 0:e.current)&&"function"==typeof c&&c(!1,0),window.keyboardStateChanged=(c,m)=>{var p,_;if(a.current=c?m:0,null==e?void 0:e.current){if(n.current=!0,((e,t,a)=>{var n;const o=Number(null!==(n=e.clientHeight)&&void 0!==n?n:0);t?e.style.setProperty("min-height",o+a+"px"):e.style.removeProperty("min-height")})(e.current,c,m),c){const e=document.activeElement;e instanceof HTMLElement&&e!==o.current&&(null===(p=t.current)||void 0===p||p.disconnect(),null===(_=t.current)||void 0===_||_.observe(e),o.current=e,r.current=e.clientHeight)}else o.current=null,r.current=0;n.current=!1}else if(c){const e=document.activeElement;if(!e)return;const t=e.getBoundingClientRect(),a=C(e,m);a!==l&&u(l),l=a,d(),i=window.requestAnimationFrame(()=>{s&&((e,t)=>{const a=null==e?void 0:e.scrollHeight,n=null==e?void 0:e.clientHeight;if(!a||!n)return;const o=n-t;null==e||e.style.setProperty("max-height",o+"px")})(l,m),s=!1,b({container:l,rect:t,bottomOffset:24})})}else u(l)},()=>{var e;d(),window.keyboardStateChanged=c,null===(e=t.current)||void 0===e||e.disconnect(),o.current=null,r.current=0}},[e])},G=()=>{const{canGoBack:e}=Object(l.useContext)(r.K);return Object(l.useCallback)((t=1)=>{e(t)?history.go(-1*t):P()},[e])},Y=()=>Object(l.useContext)(r.K).navigateTo;var W,F;function V(e,t){switch(t.type){case F.SHOW_PAYMENTS:case F.SHARED_CART:return Object.assign(Object.assign({},e),{type:t.type,payload:null==t?void 0:t.payload});case F.SHOW_FULL_PAGE_LOADER:case F.ADD_MONEY_CONFIRM:case F.SHOW_SWIGGYMONEY_PAYMENTS:case F.POST_SWIGGY_ADD_MONEY:case F.ADD_NEW_CARD:case F.MANAGE_CARD:case F.SECURE_CARD:case F.LINK_WALLET_WITH_NUMBER:case F.ADD_MONEY_AND_DELINK_WALLET:case F.PAYLATER_LINKING_CONFIRMATION:case F.TURBO_PAY:case F.TURBO_PLACE_ORDER:case F.POST_PAYLATER_LINKING:case F.DINEOUT_DIRECT_PLACE_ORDER:return Object.assign(Object.assign({},e),{type:t.type,payload:null});case F.DINEOUT_TABLE_RESERVATION_CART:case F.DINEOUT_BILL_PAYMENT_CART:return Object.assign(Object.assign({},e),{type:t.type,payload:null==t?void 0:t.payload});case F.DINEOUT:return Object.assign(Object.assign({},e),{type:t.type,payload:null});case F.DIRECT_PLACE_ORDER:return Object.assign(Object.assign({},e),{type:t.type,payload:null==t?void 0:t.payload});case F.PROCESS_ORDER:case F.VPA_TIMER:case F.PAYMENT_TXN_STATUS_POLLER:case F.CONFIRM_ORDER:case F.PAYMENT_FAILED:case F.ORDER_INTERRUPTION:case F.INVALID_COUPON_ALERT:case F.PROCESS_TRANSACTION:case F.CONFIRM_TRANSACTION:case F.TRANSACTION_FAILED:case F.GENERIC_PAYMENT_ALERT:case F.GENERIC_PAYMENT_TOAST:case F.PAY_ON_DELIVERY_PAYMENT_ALREADY_DONE:case F.AUTOPAY_ELIGIBLE_PAYMENT_FAILED:case F.AUTOPAY_ORDER_PROCESS_SUCCESSFUL:case F.PAYLATER_SIMPL_LINKING_FAILED:case F.PAYLATER_SIMPL_LINKING_SUCCESS_DONT_PROCEED_WITH_ORDER:case F.PAYLATER_SIMPL_LINKING_SUCCESS_PROCEED_WITH_ORDER:case F.SHOW_CART:case F.SHOW_COUPON_LISTING:case F.WEBVIEW_REFRESH_ORDER_ID_MISMATCH_ALERT:return Object.assign(Object.assign({},e),t);case F.UNLOCK_GROUP_CART:case F.DINEOUT_PAYMENT_SUCCESS:return Object.assign(Object.assign({},e),{type:t.type,payload:null==t?void 0:t.payload});default:return e}}!function(e){e.TIMER_RESPONSE_RECIEVED="timer_response_recieved",e.TIMER_RENDERED="timer_rendered",e.TIMER_END_UPDATE_CART_CALLED="timer_end_update_cart_called",e.CRAZY_DEALS_TIMER_END_UPDATE_CART_CALLED="crazy_deals_timer_end_update_cart_called",e.CHECKOUT_WEB_CART_SESSION_RECORD="checkout_web_cart_session_record",e.CHECKOUT_WEB_DINEOUT_CART_SESSION_RECORD="checkout_web_dineout_cart_session_record",e.PAYMENT_WEB_EXTERNAL_API="payment_web_external_api",e.PAYMENT_WEB_EXTERNAL_API_ERROR="payment_web_external_api_error",e.PAYMENT_WEB_EXTERNAL_API_NETWORK_ERROR="payment_web_external_place_order_api_network_error",e.PAYMENT_WEB_NATIVE_BRIDGE_REQUEST="payment_web_native_bridge_request",e.PAYMENT_WEB_NATIVE_BRIDGE_RESPONSE="payment_web_native_bridge_response",e.WEBVIEW_REFRESH_STATE="webview_refresh_state",e.WEBVIEW_REFRESH_STATE_ERROR="webview_refresh_state_error",e.WEBVIEW_REFRESH_STATE_RESTORE="webview_refresh_state_restore",e.WEBVIEW_REFRESH_PSR="webview_refresh_journey_psr",e.WEBVIEW_REFRESH_DEBUG="webview_refresh_journey_debug",e.WEBVIEW_REFRESH_INFO="webview_refresh_journey_info",e.WEBVIEW_REFRESH_JS_BRIDGE_OVERRIDE="webview_refresh_js_bridge_override",e.CHECKOUT_WEB_VIEW="checkout_web_view",e.DINEOUT_CHECKOUT_WEB_VIEW="dineout_checkout_web_view",e.TABLE_RESERVATION_CART_P0_COMPONENT_IMPRESSION="table_reservation_cart_crucial_components_impression",e.TABLE_RESERVATION_CART_LOCAL_CART_ERROR="table_reservation_cart_local_cart_error",e.TABLE_RESERVATION_CART_ERROR_PAGE_IMPRESSION="table_reservation_cart_error_page_impression",e.ADD_SWIGGY_MONEY_AUTOPAY_FAILURE="add_swiggy_money_autopay_failure",e.PAYMENT_WEB_CONFIRM_ORDER="payment_web_confirm_order",e.PAYMENT_WEB_ORDER_TERMINAL_ALERT_NAVIGATIONS="payment_web_order_terminal_alert_navigations",e.PAYMENT_WEB_DIRECT_PLACE_ORDER="payment_web_direct_place_order",e.NEW_PAYMENT_FAILURE_HALF_CARD_RENDERED="NEW_PAYMENT_FAILURE_HALF_CARD_RENDERED",e.PAYMENT_WEB_VIEW="payment_web_view",e.PAYMENT_MODES_ADD_NEW_CARD="payment_modes_add_new_card",e.PAYMENT_MODES_MANAGE_CARD="PAYMENT_MODES_MANAGE_CARD",e.PAYMENT_MODES_SECURE_CARD="PAYMENT_MODES_SECURE_CARD",e.PAYMENT_NATIVE_BRIDGE_AMAZON_SDK="payment_native_bridge_amazon_sdk",e.INVALID_WALLET="wp_invalid_wallet",e.WEB_CHECKOUT_BACK_BUTTON_PAYMENT_SCREEN="web_checkout_back_button_payment_screen",e.ADD_SWIGGY_MONEY_PAGE_VIEW="add_swiggy_money_page_view",e.PAYMENT_PROCESS_ORDER_STATE_ERROR="payment_process_order_state_error",e.WEB_PAYMENTS_STORAGE_NOT_AVAILABLE="web_payments_storage_not_available",e.JUSPAY_SDK_NOT_AVAILABLE="wp_juspay_sdk_not_avalble",e.NATIVE_UPI_NR_EVENTS_SDK_ERROR="native_upi_sdk_error",e.NATIVE_UPI_NR_EVENTS_NO_PRIMARY_METHOD_EXISTS="native_upi_no_primary_method_exists",e.PAYMENTS_WEB_PLACE_ORDER="payments_web_place_order",e.PAYMENTS_WEB_DIRECT_PLACE_ORDER="payments_web_direct_place_order",e.PAYMENTS_WEB_DIRECT_PLACE_ORDER_FAILURE="payments_web_direct_place_order_failure",e.WP_ADD_NEW_CARD_PROCEED_TO_PAY="WP_ADD_NEW_CARD_PROCEED_TO_PAY",e.PAYMENT_WEB_CONFIRM_ORDER_FAILED="payment_web_confirm_order_failed",e.AMAZONPAYSDK_FAILURES="amazonpaysdk_failures",e.INVALID_CHECKOUT_META="web_payments_invalid_checkout_meta",e.PAYMENT_AUTOPAY_CANCEL_TRANSACTION_FAILED="payment_autopay_cancel_transaction_failed",e.PAYMENT_WEB_PLACE_ORDER_FAILED="payment_web_place_order_failed",e.CARD_OFFER_TABLE="card_offer_table",e.CARD_OFFER_AND_REWARDS_TABLE="card_offer_and_rewards",e.INLINE_WEB_CART_API_STATE="inline_web_cart_api_state",e.CW_INVALID_HEADERS="cw_invalid_headers",e.TRANSITION_SCREEN_ERROR="transition_screen_error",e.CW_DNS_TIME="checkout_web_dns_time",e.CART_ERROR="cart_error",e.CART_INLINE_EMPTY_ITEMS="cart_inline_empty_items",e.CART_INLINE_INVALID_LOCALCART="cart_inline_invalid_localcart",e.TURBO_LOADER_DEBUG="turbo_loader_debug",e.TURBO_SCREEN_LOADER_STATE="turbo_screen_loader_state",e.TURBO_SDK_LOADER_SCREEN_ERROR="turbo_sdk_loader_screen_error",e.DO_PAYMENT_SUCCESS_PAGE_VIEW="dineout_payment_success_page_view",e.TRANSITION_SCREEN_LOAD_TIME="transition_screen_load_time",e.CART_LOTTIE_ERROR="cart_lottie_error",e.GENERIC_ERROR_PAGE_IMPRESSION="generic_error_page_impression",e.INITIAL_IMPRESSION_COUPON_WIDGET="initial_impression_coupon_widget",e.ONSCROLL_IMPRESSION_COUPON_WIDGET="onscroll_impression_coupon_widget",e.POST_LOGIN_FLOW="post_login_flow",e.CHECKOUT_WEB_ERROR_BOUNDARY="checkout_web_error_boundary",e.HERO_INLINE_EVENT_CAPTURE_ERROR="hero_inline_event_capture_error",e.ERROR_IN_JUSPAY_TOKEN="error_in_juspay_token",e.SWIGGY_UPI_ACCOUNTS_MISMATCH="swiggy_upi_accounts_mismatch",e.SWIGGY_UPI_PAYMENT_FAILURE="swiggy_upi_payment_failure",e.SWIGGY_UPI_SDK_ERROR="swiggy_upi_sdk_error",e.GROUP_CART_WEB_VIEW="group_cart_web_view",e.GROUP_CART_TO_CHECKOUT_TRANSITION="group_cart_to_checkout_transition",e.GROUP_CART_LOCK_API_FAILURE="group_cart_lock_api_failure",e.GROUP_CART_GENERIC_ERROR_IMPRESSION="group_cart_generic_error_impression",e.EMI_PAYMENT_GROUP_ERROR="emi_payment_group_error",e.EMPTY_DELIVERY_RENDERER_ERROR="empty_delivery_renderer_error",e.MWEB_UPI_INTENT_REDIRECT_FAILURE="mweb_upi_intent_redirect_failure",e.INCORRECT_CARD_BIN="checkout_web_incorrect_card_bin",e.ONE_GRATIFICATION_POPUP_EVENTS="one_gratification_popup_events",e.ONE_GRATIFICATION_HALF_CARD_EVENTS="one_gratification_half_card_events",e.FETCH_APP_STORAGE_DATA="fetch_app_storage_data",e.GLOBAL_JS_BRIDGE_INCORRECT_TRIGGER="checkout_global_js_bridge_invalid_trigger",e.IPL_SWIGGY_SIXES_DEBUG="ipl_swiggy_sixes_debug",e.EMPTY_REMOVE_PLAN_MESSAGE="empty_remove_plan_message",e.CART_ADDRESS_NUDGE_CONFIG="cart_address_nudge_config",e.TURBO_CART_AMOUNT_MISMATCH="turbo_cart_amount_mismatch",e.TURBO_CART_AMOUNT_MISMATCH_V2="turbo_cart_amount_mismatch_v2",e.TURBO_CART_AMOUNT_MISMATCH_V3="turbo_cart_amount_mismatch_v3"}(W||(W={})),function(e){e[e.SHOW_PAYMENTS=0]="SHOW_PAYMENTS",e[e.SHOW_CART=1]="SHOW_CART",e[e.PROCESS_ORDER=2]="PROCESS_ORDER",e[e.VPA_TIMER=3]="VPA_TIMER",e[e.CONFIRM_ORDER=4]="CONFIRM_ORDER",e[e.PAYMENT_FAILED=5]="PAYMENT_FAILED",e[e.ORDER_INTERRUPTION=6]="ORDER_INTERRUPTION",e[e.SHOW_FULL_PAGE_LOADER=7]="SHOW_FULL_PAGE_LOADER",e[e.ADD_MONEY_CONFIRM=8]="ADD_MONEY_CONFIRM",e[e.INVALID_COUPON_ALERT=9]="INVALID_COUPON_ALERT",e[e.DIRECT_PLACE_ORDER=10]="DIRECT_PLACE_ORDER",e[e.PAYMENT_TXN_STATUS_POLLER=11]="PAYMENT_TXN_STATUS_POLLER",e[e.POST_SWIGGY_ADD_MONEY=12]="POST_SWIGGY_ADD_MONEY",e[e.POST_PAYLATER_LINKING=13]="POST_PAYLATER_LINKING",e[e.SHOW_SWIGGYMONEY_PAYMENTS=14]="SHOW_SWIGGYMONEY_PAYMENTS",e[e.ADD_SWIGGY_MONEY=15]="ADD_SWIGGY_MONEY",e[e.ADD_NEW_CARD=16]="ADD_NEW_CARD",e[e.MANAGE_CARD=17]="MANAGE_CARD",e[e.SECURE_CARD=18]="SECURE_CARD",e[e.PROCESS_TRANSACTION=19]="PROCESS_TRANSACTION",e[e.CONFIRM_TRANSACTION=20]="CONFIRM_TRANSACTION",e[e.TRANSACTION_FAILED=21]="TRANSACTION_FAILED",e[e.GENERIC_PAYMENT_ALERT=22]="GENERIC_PAYMENT_ALERT",e[e.PAY_ON_DELIVERY_PAYMENT_ALREADY_DONE=23]="PAY_ON_DELIVERY_PAYMENT_ALREADY_DONE",e[e.AUTOPAY_ELIGIBLE_PAYMENT_FAILED=24]="AUTOPAY_ELIGIBLE_PAYMENT_FAILED",e[e.AUTOPAY_ORDER_PROCESS_SUCCESSFUL=25]="AUTOPAY_ORDER_PROCESS_SUCCESSFUL",e[e.LINK_WALLET_WITH_NUMBER=26]="LINK_WALLET_WITH_NUMBER",e[e.ADD_MONEY_AND_DELINK_WALLET=27]="ADD_MONEY_AND_DELINK_WALLET",e[e.PAYLATER_LINKING_CONFIRMATION=28]="PAYLATER_LINKING_CONFIRMATION",e[e.TURBO_PAY=29]="TURBO_PAY",e[e.TURBO_PLACE_ORDER=30]="TURBO_PLACE_ORDER",e[e.SHOW_COUPON_LISTING=31]="SHOW_COUPON_LISTING",e[e.PAYLATER_SIMPL_LINKING_FAILED=32]="PAYLATER_SIMPL_LINKING_FAILED",e[e.PAYLATER_SIMPL_LINKING_SUCCESS_DONT_PROCEED_WITH_ORDER=33]="PAYLATER_SIMPL_LINKING_SUCCESS_DONT_PROCEED_WITH_ORDER",e[e.PAYLATER_SIMPL_LINKING_SUCCESS_PROCEED_WITH_ORDER=34]="PAYLATER_SIMPL_LINKING_SUCCESS_PROCEED_WITH_ORDER",e[e.DINEOUT_PAYMENT_SUCCESS=35]="DINEOUT_PAYMENT_SUCCESS",e[e.DINEOUT=36]="DINEOUT",e[e.SHARED_CART=37]="SHARED_CART",e[e.GENERIC_PAYMENT_TOAST=38]="GENERIC_PAYMENT_TOAST",e[e.UNLOCK_GROUP_CART=39]="UNLOCK_GROUP_CART",e[e.DINEOUT_BILL_PAYMENT_CART=40]="DINEOUT_BILL_PAYMENT_CART",e[e.DINEOUT_TABLE_RESERVATION_CART=41]="DINEOUT_TABLE_RESERVATION_CART",e[e.DINEOUT_DIRECT_PLACE_ORDER=42]="DINEOUT_DIRECT_PLACE_ORDER",e[e.WEBVIEW_REFRESH_ORDER_ID_MISMATCH_ALERT=43]="WEBVIEW_REFRESH_ORDER_ID_MISMATCH_ALERT"}(F||(F={}));const K=[u.MARKETPLACE_BUSINESS_LINE.REGULAR],z=()=>{try{me({eventType:W.WEBVIEW_REFRESH_DEBUG,name:"getPersistedOrderDataFromLocalStoreFailed"})}catch(e){}},$=()=>{try{me({eventType:W.WEBVIEW_REFRESH_DEBUG,name:"setPersistedOrderDataFromLocalStoreFailed"})}catch(e){}},X=()=>{try{try{me({eventType:W.WEBVIEW_REFRESH_DEBUG,name:"getPersistedOrderDataCalled"})}catch(e){}const e=r.B.getItem("swgy_persist_webview_order_data_key",void 0,z);return Object(d.isEmpty)(e)?null:e}catch(e){try{me({eventType:W.WEBVIEW_REFRESH_DEBUG,name:"getPersistedOrderDataFailed",errorMessage:JSON.stringify(e)})}catch(e){}}},J=(e,t)=>{try{try{me({eventType:W.WEBVIEW_REFRESH_DEBUG,name:"setPersistOrderDataCalled",source:t||""})}catch(e){}Object(d.isEmpty)(e)||r.B.setItem("swgy_persist_webview_order_data_key",e,$)}catch(e){try{me({eventType:W.WEBVIEW_REFRESH_DEBUG,name:"setPersistOrderDataFailed",errorMessage:JSON.stringify(e),source:t||""})}catch(e){}}},Z=e=>{try{try{me({eventType:W.WEBVIEW_REFRESH_DEBUG,name:"cleanupPersistOrderDataCalled",source:e||""})}catch(e){}r.B.removeItem("swgy_persist_webview_order_data_key")}catch(t){try{me({eventType:W.WEBVIEW_REFRESH_DEBUG,name:"cleanupPersistOrderDataFailed",errorMessage:JSON.stringify(t),source:e||""})}catch(e){}}},q=(e,t={})=>{try{try{c.a.recordStart(W.WEBVIEW_REFRESH_PSR)}catch(e){}const a=(()=>{try{const e=ne(),t=X();return!Object(d.isEmpty)(e)&&!Object(d.isEmpty)(t)}catch(e){return!1}})();try{c.a.recordEnd(W.WEBVIEW_REFRESH_PSR)}catch(e){}if(!a)return;me(Object.assign({eventType:W.WEBVIEW_REFRESH_PSR,name:e},t||{}))}catch(e){}};var Q,ee,te;!function(e){e.CONFIRM_ORDER_FAIL="CONFIRM_ORDER_FAIL",e.CONFIRM_ORDER_SUCCESS="CONFIRM_ORDER_SUCCESS",e.APP_WEBVIEW_STATE_EMPTY="APP_WEBVIEW_STATE_EMPTY"}(Q||(Q={})),function(e){e.VPA_TIMER="VPA_TIMER",e.PROCESS_ORDER="PROCESS_ORDER",e.UPI_POLLER="UPI_POLLER"}(ee||(ee={})),function(e){e.CONFIRM_ORDER_SUCCESS="CONFIRM_ORDER_SUCCESS",e.CONFIRM_ORDER_FAILURE="CONFIRM_ORDER_FAILURE"}(te||(te={}));const ae=e=>{if(e)return!0;const t=(O.getHeader(n.SwgyHeaderKeysList.marketplaceBusinessLine)||u.MARKETPLACE_BUSINESS_LINE.REGULAR).toLowerCase();return K.includes(t)},ne=(e=!0)=>{var t,a,n;try{if("undefined"!=typeof window){const o=null===(t=null===window||void 0===window?void 0:window.__webview_state__)||void 0===t?void 0:t.getWebViewLastState(),i=Object(r.Cb)(o||"")||{infoObject:{}},l=null===(n=null===(a=null==i?void 0:i.infoObject)||void 0===a?void 0:a.order)||void 0===n?void 0:n.orderId;return e&&me({eventType:W.WEBVIEW_REFRESH_DEBUG,name:"getUsersLastState",isWebviewLastStateEmpty:String(Object(r.ub)(o)),webviewStateOrderId:l||"no-orderId"}),Object(r.ub)(o)?null:Object(r.Cb)(o)}}catch(e){me({eventType:W.WEBVIEW_REFRESH_STATE_ERROR,errorMessage:JSON.stringify(e)})}return null},oe=(e=!1)=>{var t,a,n,o,i,l,s;try{const c=Object(r.Cb)((null===(t=null===window||void 0===window?void 0:window.__webview_state__)||void 0===t?void 0:t.getWebViewLastState())||"")||{infoObject:{}},d=null===(n=null===(a=null==c?void 0:c.infoObject)||void 0===a?void 0:a.order)||void 0===n?void 0:n.orderId;if(me({eventType:W.WEBVIEW_REFRESH_DEBUG,name:"recordWebviewRefreshState",enabledWebviewRefresh:String(e),webviewStateOrderId:d||"no-orderId"}),!ae(e))return;if("undefined"!=typeof window){const t=null===(o=null===window||void 0===window?void 0:window.__webview_state__)||void 0===o?void 0:o.getWebViewLastState();if(!Object(r.ub)(t)){const a=Object(r.Cb)(t),n=Object(r.Cb)((null===(i=null===window||void 0===window?void 0:window.__webview_state__)||void 0===i?void 0:i.getWebViewLastState())||"")||{infoObject:{}},o=null===(s=null===(l=null==n?void 0:n.infoObject)||void 0===l?void 0:l.order)||void 0===s?void 0:s.orderId;me({eventType:W.WEBVIEW_REFRESH_STATE,name:(null==a?void 0:a.state)||"no-state",paymentCode:(null==a?void 0:a.paymentCode)||"no-payment-code",enabledWebviewRefresh:""+e,webviewStateOrderId:o||"--"})}}}catch(t){me({eventType:W.WEBVIEW_REFRESH_STATE_ERROR,errorMessage:JSON.stringify(t),enabledWebviewRefresh:""+e})}},re=(e=!1)=>{var t,a,n,o,i,l,s,c,d;if(!ae(e))return;let u=ne();if(!Object(r.ub)(u))try{const i=X();try{me({eventType:W.WEBVIEW_REFRESH_DEBUG,name:"preDataPickedFromWebLocalStore",enabledWebviewRefresh:String(e),userLastStateEmpty:String(!Object(r.ub)(i)),userLastStateInternalState:String((null==i?void 0:i.state)||""),webviewStateOrderId:(null===(a=null===(t=null==i?void 0:i.infoObject)||void 0===t?void 0:t.order)||void 0===a?void 0:a.orderId)||"--"})}catch(e){}if(!Object(r.ub)(i)){try{me({eventType:W.WEBVIEW_REFRESH_DEBUG,name:"dataPickedFromWebLocalStore"})}catch(e){}u=i}try{me({eventType:W.WEBVIEW_REFRESH_DEBUG,name:"postDataPickedFromWebLocalStore",enabledWebviewRefresh:String(e),userLastStateEmpty:String(!Object(r.ub)(i)),userLastStateInternalState:String((null==i?void 0:i.state)||""),webviewStateOrderId:(null===(o=null===(n=null==i?void 0:i.infoObject)||void 0===n?void 0:n.order)||void 0===o?void 0:o.orderId)||"--"})}catch(e){}}catch(t){u=ne();try{me({eventType:W.WEBVIEW_REFRESH_DEBUG,name:"failureDataPickedFromWebLocalStore",enabledWebviewRefresh:String(e),userLastStateEmpty:String(!Object(r.ub)(u)),userLastStateInternalState:String((null==u?void 0:u.state)||""),webviewStateOrderId:(null===(l=null===(i=null==u?void 0:u.infoObject)||void 0===i?void 0:i.order)||void 0===l?void 0:l.orderId)||"--"})}catch(e){}}const m=null===(c=null===(s=null==u?void 0:u.infoObject)||void 0===s?void 0:s.order)||void 0===c?void 0:c.orderId;try{me({eventType:W.WEBVIEW_REFRESH_STATE_RESTORE,enabledWebviewRefresh:String(e),userLastStateEmpty:String(!Object(r.ub)(u)),userLastStateInternalState:String((null==u?void 0:u.state)||""),webviewStateOrderId:m||"--"})}catch(e){}if(!Object(r.ub)(u))return u.state===F.PROCESS_ORDER?{type:u.state,payload:Object.assign(Object.assign({},u.infoObject),{webviewRefreshExtraParams:Object.assign(Object.assign({},null===(d=u.infoObject)||void 0===d?void 0:d.webviewRefreshExtraParams),{amazonPayTransactionId:u.amazonPayTransactionId})})}:{type:u.state,payload:Object.assign({},u.infoObject)};Z(Q.APP_WEBVIEW_STATE_EMPTY)},ie=()=>"undefined"!=typeof window;let le=!1,se=[];const ce=e=>v(void 0,void 0,void 0,(function*(){if(!ie())return;const t=window.__NR_ENDPOINT__,a=window.__NR_KEY__;if(t&&a)try{yield fetch(null!=t?t:"",{method:"POST",mode:"cors",headers:{"X-Insert-Key":null!=a?a:"","Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json())}catch(t){se=[...e,...se]}}));function de(){se.length>0&&(ce(se),se=[]),le=!1}function ue(){var e,t,a,n,o,i,l;let s=O.getHeaders(),c="";try{Object(d.isEmpty)(s)&&ie()&&!Object(d.isEmpty)(null===window||void 0===window?void 0:window.__headers__)&&(s=null===window||void 0===window?void 0:window.__headers__),ie()&&(null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.search)&&(c=new URLSearchParams(window.location.search).get("state")||"")}catch(e){c="",s={}}return{time:Date.now(),sid:s.sid,userid:s.userid,userAgent:s["user-agent"],clientUserAgent:"undefined"!=typeof window?null===(t=window.navigator)||void 0===t?void 0:t.userAgent:"--",platform:s.platform,deviceid:s.deviceid,versionCode:s["version-code"],mcategory:s.marketplacecategory,mbusiness:s.marketplacebusinessline,environment:window.__ENVIRONMENT__||"",xWebCheckoutFlow:s["x-web-checkout-flow"]||"payment",referrerAppPlatform:s["referrer-app-platform"],referrerAppVersion:s["referrer-app-version"],isHTMLCached:window.__IS_HTML_CACHED__||"false",cartV2Xp:window.__CART_V2_XP__||"--",isWebviewAssetsCached:null!==(a=s.iswebviewassetscached)&&void 0!==a?a:"--",isWebcachingXpEnabled:null!==(n=s.iswebcachingxpenabled)&&void 0!==n?n:"--",isFirstSessionPostDeployment:null!==(o=s.isfirstsessionpostdeployment)&&void 0!==o?o:"--",showDineoutSuccessScreen:s.showsuccessscreen,cartkey:s.cartkey||"--",orderid:s.orderid||"--",originalbusinessline:null!==(i=S())&&void 0!==i?i:"",isRockEnv:window.__ROCK_ENV__||"false",xChannel:s["x-channel"]||"",isHeroApiInlineHtmlXp:window.isHeroApiInlineHtmlXp||"--",cartPagePreheat:null!==(l=s.cartpagepreheat)&&void 0!==l?l:"--",deploymentType:window.__DEPLOYMENT_TYPE__||"",state:c||"",cityid:s.cityid||"",locationContext:s.location_context||"--",isWebviewRefreshed:String(!Object(r.ub)(ne(!1)))}}function me(e,t=!0){if(!ie())return;const a=ue(),n=Object.assign(Object.assign({},a),e);"function"!=typeof(null==c.a?void 0:c.a.recordCustomEvent)||Object(d.isEmpty)(null==c.a?void 0:c.a.recordCustomEvent)?(t?se.push(n):ce([n]),le||(le=!0,window.requestIdleCallback?window.requestIdleCallback(de,{timeout:1e3}):window.setTimeout(de,100))):c.a.recordCustomEvent(n,t)}function pe(e){var t;const a=Object(l.useRef)(!1);a.current||(O.init(e.headers),A(e.nbSdk)),Object(l.useEffect)(()=>{var t;O.updateHeaders({cartkey:null===(t=e.headers)||void 0===t?void 0:t.cartkey})},[null===(t=e.headers)||void 0===t?void 0:t.cartkey]);const n=Object(l.useMemo)(()=>Object(i.p)(e=>{var t,a;me({eventType:W.PAYMENT_WEB_NATIVE_BRIDGE_REQUEST,id:e.requestId,type:e.type,subType:null!==(a=null===(t=e.payload)||void 0===t?void 0:t.state)&&void 0!==a?a:""})}),[]),o=Object(l.useMemo)(()=>Object(i.q)(e=>{var t,a,n;me({eventType:W.PAYMENT_WEB_NATIVE_BRIDGE_RESPONSE,id:e.requestId,type:e.type,statusCode:null!==(t=e.statusCode)&&void 0!==t?t:-1,statusMessage:null!==(a=e.statusMessage)&&void 0!==a?a:"",bridgeType:null!==(n=e.bridgeType)&&void 0!==n?n:""})}),[]);Object(r.Db)(()=>{e.newrelicEndpoint&&e.newrelicKey&&(window.__NR_ENDPOINT__=e.newrelicEndpoint,window.__NR_KEY__=e.newrelicKey),e.environment&&(window.__ENVIRONMENT__=e.environment)}),Object(r.Db)(()=>{c.a.init({sendToAnalytics:()=>{},enableElementTiming:!1,enableResourceTiming:!1,nrConfig:{enable:!0,config:{NR_ENDPOINT:window.__NR_ENDPOINT__||"",NR_KEY:window.__NR_KEY__||""},meta:Object.assign({appName:"checkout-web"},ue())}})}),Object(r.Db)(()=>{if(a.current=!0,"undefined"!=typeof navigator&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g))return(()=>{const e=()=>{const e=document.querySelector("input:focus");if(e&&!e.getAttribute("ignore-cursor-fix")){const t=e.value||"";e.value=t+"a",e.value=t}};return document.addEventListener("scroll",e,!0),()=>{document.removeEventListener("scroll",e)}})()}),H(),Object(l.useEffect)(()=>()=>{n(),o()},[n,o])}const _e=e=>e.match({some:e=>e,none:void 0});function Ee(e,t){const[a,n]=Object(l.useState)(()=>{try{if("undefined"==typeof window)return t;const a=window.sessionStorage.getItem(e);return a?JSON.parse(a):t}catch(e){return Object(r.Z)(e),t}}),o=Object(l.useCallback)(t=>{try{if("undefined"==typeof window)return;const o=t instanceof Function?t(a):t;n(o),window.sessionStorage.setItem(e,JSON.stringify(o))}catch(e){Object(r.Z)(e)}},[e,a]);return[a,o]}const Ce=()=>{const e=Object(r.Gb)(),[t,a]=Ee("user_info",null),n=Object(l.useMemo)(()=>Object(o.d)(t),[t]);return Object(r.Db)(()=>{n.isSome()||function(){return v(this,void 0,void 0,(function*(){const e=yield f().getUserInfo();return Object(o.d)(e).andThen(e=>{var{customerId:t}=e,a=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]])}return a}(e,["customerId"]);return t&&"0"!=t?Object(o.d)(Object.assign({userId:t},a)):o.b})}))}().then(t=>e.current&&t.isSome()&&a(t.unwrap())).catch(r.Z)}),[n,a]},be=s.a.createContext({state:{shouldHandle:!1},setState:()=>{}}),ye=(e,t)=>{const{state:a,setState:n}=Object(l.useContext)(be);Object(l.useEffect)(()=>{a.shouldHandle&&e.some(e=>e===a.activeRoute)&&(t(),n({shouldHandle:!1,activeRoute:""}))},[t,a.activeRoute,a.shouldHandle,e,n])},ge={id:"",counterValue:0,sessionId:""};var Oe,he;!function(e){e.ONCE_PER_SESSION="ONCE_PER_SESSION",e.EVERYTIME_PER_SESSION="EVERYTIME_PER_SESSION"}(Oe||(Oe={})),function(e){e.ONLY_CHECK="ONLY_CHECK",e.CHECK_AND_UPDATE="CHECK_AND_UPDATE"}(he||(he={}));const Ae=({id:e,key:t,maxFrequency:a=3,sessionVisibility:o=Oe.EVERYTIME_PER_SESSION,sessionId:i,disableMaxFrequency:s=!1})=>{const c=Object(l.useMemo)(()=>Object(d.isEmpty)(i)?O.getHeader(n.SwgyHeaderKeysList.sid)||"0":i,[i]),u=Object(l.useCallback)((t,n,i)=>{try{const l=r.B.getItem(t,ge);(Object(d.isEmpty)(null==l?void 0:l.id)||Object(d.isEmpty)(e))&&delete l.id;const{counterValue:c,sessionId:u}=l;if(!Object(d.isEmpty)(u)&&u===n)return o===Oe.EVERYTIME_PER_SESSION;if(!s&&c<a){if(i){const e=Object.assign(Object.assign({},l),{counterValue:c+1,sessionId:n});localStorage.setItem(t,JSON.stringify(e))}return!0}if(s){if(i){const e=Object.assign(Object.assign({},l),{counterValue:c,sessionId:n});localStorage.setItem(t,JSON.stringify(e))}return!0}return!1}catch(t){return!1}},[e,a,o,s]);return{shouldProceed:Object(l.useCallback)(({mode:a=he.CHECK_AND_UPDATE}={})=>{try{if(!Object(d.isEmpty)(e)&&"DISABLE_FREQUENCY_CAPPING"===e)return!0;const n=r.B.getItem(t,ge);if(!Object(d.isEmpty)(e)&&(Object(d.isEmpty)(null==n?void 0:n.id)||(null==n?void 0:n.id)!==e)){if(a===he.ONLY_CHECK)return!0;if(a===he.CHECK_AND_UPDATE){const a=Object.assign(Object.assign({},ge),{id:e});r.B.setItem(t,a)}}return u(t,c,a===he.CHECK_AND_UPDATE)}catch(a){return!1}},[u,c,e,t]),isSessionValid:(e=t)=>{try{const t=localStorage.getItem(e);return!(!Object(d.isEmpty)(t)&&t===c||(localStorage.setItem(e,c),0))}catch(e){return!1}}}},fe={INCREASE_TURBO_SLIDER_AREA:"increase_turbo_slider_area",AUTOPAY_ABANDONMENT_FEEDBACK:"autopay_back_feedback"},ve={WEB_CART_SAVINGS_STAMP_FREQUENCY_THRESHOLD:"web_cart_savings_stamp_frequency_threshold",FOOD_CART_INCOGNITO_FEATURE_FLAG:"food_cart_incognito_feature_flag",ENABLE_REMOVE_COUPON_PUBLIC_ENDPOINT:"enable_remove_coupon_public_endpoint",CW_PUBLIC_ENDPOINT_CONFIG:"cw_public_endpoint_config"},Te={CW_PUBLIC_ENDPOINT_CONFIG:"cw_public_endpoint_config",CART_APIS:"cart_apis",APPLY_COUPON:"apply_coupon",GET_CART:"get_cart",UPDATE_CART:"update_cart",WALLET_APIS:"wallet_apis",CARDS_JUSPAY_APIS:"cards_juspay_apis",GPO_UPI:"gpo_upi",ORDER_APIS:"order_apis",FETCH_COUPONS:"fetch_coupons",PAYMENT_APIS:"payment_apis",AMAZON_PAY:"amazon_pay",VERIFY_VPA:"verify_vpa",GET_BANKS_LIST:"get_banks_list",GET_PAYMENT_FALLBACK_METHODS:"get_payment_fallback_methods",CHECK_TXN_STATUS:"check_txn_status",CREATE_PENNY_TRANSACTION:"create_penny_transaction",CONFIRM_PENNY_TRANSACTION:"confirm_penny_transaction",GET_ALL_REFUND_OPTIONS:"get_all_refund_options",SET_REFUND_OPTION:"set_refund_option",PAYLATER_APIS:"paylater_apis",GPO_PAYMENT_APIS:"gpo",UPDATE_FREQUENCY_COUNTER:"update_frequency_counter",REGISTER_PAY_ON_DELIVERY:"register_pay_on_delivery",JUSPAY_CLIENT_TOKEN:"juspay_client_token",PLACE_ORDER:"place_order",CONFIRM_ORDER:"confirm_order"},Ie={GET_SODEXO_BALANCE:"get_sodexo_balance",GET_ALL_CARDS:"get_all_cards",GET_CARD_DETAILS:"get_card_details",GET_CARD_OFFER:"get_card_offer",DELETE_CARD:"delete_card",UPDATE_CARD:"update_card"},Se=()=>{const[e,t]=Object(l.useState)({}),[a,n]=Object(l.useState)({}),o=Object(l.useCallback)(()=>v(void 0,void 0,void 0,(function*(){const e={xpKeyList:Object.values(fe),wpKeyList:Object.values(ve)},a=yield(e=>v(void 0,void 0,void 0,(function*(){try{const t=yield f().getConfigValue(e);return{xpValues:null==t?void 0:t.xpValues,wpValues:null==t?void 0:t.wpValues}}catch(e){}})))(e);t(e=>Object.assign(Object.assign({},e),null==a?void 0:a.xpValues)),n(e=>Object.assign(Object.assign({},e),null==a?void 0:a.wpValues))})),[]);return Object(r.Db)(()=>{o()}),Object(l.useMemo)(()=>({checkoutWebXP:e,checkoutWebWP:a}),[e,a])};var Ne;!function(e){e.INIT="INIT",e.IN_PROGRESS="IN_PROGRESS",e.SUCCESS="SUCCESS",e.FAILED="FAILED"}(Ne||(Ne={}));const Re=(e,t)=>{const[a,n]=Object(l.useState)(Ne.INIT),o=e.map(e=>{if(!Object(d.isEmpty)(e.cloudinaryId)){const t=Object(d.getCloudinaryUrl)(e.cloudinaryId,e.options);return Object(d.isEmpty)(t)?"":t}return""}).filter(e=>!Object(d.isEmpty)(e));return{loadingState:a,startPrefetching:Object(l.useCallback)(()=>{if(!o.length)return;n(Ne.IN_PROGRESS);const e=o.map(e=>new Promise((t,a)=>{const n=new Image;n.onload=()=>t(),n.onerror=()=>a(new Error("Invalid image preloader on src: "+e)),n.src=e}));Promise.all(e).then(()=>n(Ne.SUCCESS)).catch(e=>{me({eventType:t,error:e.message}),n(Ne.FAILED)})},[o,t])}},Pe="Something went wrong",De="Playback failed",Le="Failed to resume audio",ke=()=>{const[e,t]=Object(l.useState)(!1),a=Object(l.useRef)(null);return{play:Object(l.useCallback)((e,n={})=>{a.current&&a.current.pause();const o=new Audio(e);a.current=o,o.onplay=()=>{t(!0),"function"==typeof n.onPlay&&n.onPlay()},o.onpause=()=>{t(!1),"function"==typeof n.onPause&&n.onPause()},o.onended=()=>{t(!1),"function"==typeof n.onEnd&&n.onEnd()},o.onerror=e=>{let a="";a="string"==typeof e?e:e.type,t(!1),"function"==typeof n.onError&&n.onError(new Error(`${a}${Pe}`))},o.play().catch(e=>{t(!1),"function"==typeof n.onError&&n.onError(new Error(`${De} :: ${e}`))})},[]),pause:Object(l.useCallback)(()=>{a.current&&a.current.pause()},[]),resume:Object(l.useCallback)(e=>{a.current&&a.current.paused&&a.current.play().catch(t=>{"function"==typeof e&&e(new Error(`${Le} :: ${t}`))})},[]),stop:Object(l.useCallback)(()=>{a.current&&(a.current.pause(),a.current.currentTime=0,t(!1))},[]),isPlaying:e}},xe=e=>{if("undefined"!=typeof window)switch(e){case"API_HOST":return window.__API_HOST__;case"CROSS_SELL_M2_HOST":return window.__CROSS_SELL_M2_HOST_NAME__;case"DASH_HOST":return window.__DASH_HOST_NAME__;case"DASH_CART":return window.__DASH_CART_NAME__;case"DO_HOST":return window.__DO_HOST_NAME__;case"CHECKOUT_READ_HOST":return window.__CHECKOUT_READ_HOST_NAME__;case"PAYMENT_PRESENTATION_SERVICE_HOST":return window.__PAYMENT_PRESENTATION_SERVICE_HOST__;case"USER_SERVICE_HOST":return window.__USER_SERVICE_HOST__;case"CART_HABIT_FORMING_HOST":return window.__CART_HABIT_FORMING_HOST__;case"CBCC_API_HOST":return window.__CBCC_API_HOST__;case"DINEOUT_ORDER_URL":return window.__DINEOUT_PAYMENT_ORDER_URL__;case"PAYMENT_MODE_ADD_MONEY_RETURN_URL":return window.__PAYMENT_MODE_ADD_MONEY_RETURN_URL__;case"PAYTM_CALLBACK_URL":return window.__PAYTM_CALLBACK_URL__;case"RETURN_URL":return window.__RETURN_URL__;case"TXN_RETURN_URL":return window.__TXN_RETURN_URL__;case"MOBIKWIK_GATEWAY_URL":return window.__MOBIKWIK_GATEWAY_URL__;case"MOBIKWIK_MERCHANT_NAME":return window.__MOBIKWIK_MERCHANT_NAME__;case"MOBIKWIK_MID":return window.__MOBIKWIK_MID__;case"PAYTM_CHANNEL_ID":return window.__PAYTM_CHANNEL_ID__;case"PAYTM_INDUSTRY_TYPE_ID":return window.__PAYTM_INDUSTRY_TYPE_ID__;case"PAYTM_URL":return window.__PAYTM_URL__;case"PAYTM_WEBSITE":return window.__PAYTM_WEBSITE__;case"PAYMENT_RETURN_URL":return window.__PAYMENT_RETURN_URL__;case"MIN_ANDROID_VERSION_FOR_PAYMENT_PENDING_FLOW":return window.__MIN_ANDROID_VERSION_FOR_PAYMENT_PENDING_FLOW__;case"MIN_IOS_VERSION_FOR_PAYMENT_PENDING_FLOW":return window.__MIN_IOS_VERSION_FOR_PAYMENT_PENDING_FLOW__;case"CONFIRM_ORDER_STATUS_LIST":return window.__CONFIRM_ORDER_STATUS_LIST__;case"DINEOUT_CONFIRM_ORDER_STATUS_LIST":return window.__DINEOUT_CONFIRM_ORDER_STATUS_LIST__;case"USE_NEW_PAYMENT_ENDPOINT":return window.__USE_NEW_PAYMENT_ENDPOINT__}},we=e=>"object"==typeof e&&null!==e,Me=Symbol("skip"),je=e=>we(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),Be=(e,t,a,n=new WeakMap)=>{if(a={deep:!1,target:{},...a},n.has(e))return n.get(e);n.set(e,a.target);const{target:o}=a;delete a.target;const r=e=>e.map(e=>je(e)?Be(e,t,a,n):e);if(Array.isArray(e))return r(e);for(const[i,l]of Object.entries(e)){const s=t(i,l,e);if(s===Me)continue;let[c,d,{shouldRecurse:u=!0}={}]=s;"__proto__"!==c&&(a.deep&&u&&je(d)&&(d=Array.isArray(d)?r(d):Be(d,t,a,n)),o[c]=d)}return o};var Ue=(e,t,a)=>{if(!we(e))throw new TypeError(`Expected an object, got \`${e}\` (${typeof e})`);return Be(e,t,a)};Ue.mapObjectSkip=Me;const He=(e,t)=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");return t=Object.assign({pascalCase:!1},t),0===(e=Array.isArray(e)?e.map(e=>e.trim()).filter(e=>e.length).join("-"):e.trim()).length?"":1===e.length?t.pascalCase?e.toUpperCase():e.toLowerCase():(e!==e.toLowerCase()&&(e=(e=>{let t=!1,a=!1,n=!1;for(let o=0;o<e.length;o++){const r=e[o];t&&/[a-zA-Z]/.test(r)&&r.toUpperCase()===r?(e=e.slice(0,o)+"-"+e.slice(o),t=!1,n=a,a=!0,o++):a&&n&&/[a-zA-Z]/.test(r)&&r.toLowerCase()===r?(e=e.slice(0,o-1)+"-"+e.slice(o-1),n=a,a=!1,t=!0):(t=r.toLowerCase()===r&&r.toUpperCase()!==r,n=a,a=r.toUpperCase()===r&&r.toLowerCase()!==r)}return e})(e)),a=e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(e,t)=>t.toUpperCase()).replace(/\d+(\w|$)/g,e=>e.toUpperCase()),t.pascalCase?a.charAt(0).toUpperCase()+a.slice(1):a);var a};var Ge=He,Ye=He;Ge.default=Ye;class We{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return this._size+e}}const Fe=new We({maxSize:1e5}),Ve=e=>!("object"!=typeof e||null===e||e instanceof RegExp||e instanceof Error||e instanceof Date),Ke=(e,t)=>{if(!Ve(e))return e;t={deep:!1,pascalCase:!1,...t};const{exclude:a,pascalCase:n,stopPaths:o,deep:r}=t,i=new Set(o),l=e=>(t,o)=>{if(r&&Ve(o)){const a=void 0===e?t:`${e}.${t}`;i.has(a)||(o=Ue(o,l(a)))}if(!a||!((e,t)=>e.some(e=>"string"==typeof e?e===t:(e.lastIndex=0,e.test(t))))(a,t)){const e=n?t+"_":t;if(Fe.has(e))t=Fe.get(e);else{const a=Ge(t,{pascalCase:n});t.length<100&&Fe.set(e,a),t=a}}return[t,o]};return Ue(e,l(void 0))};var ze=(e,t)=>Array.isArray(e)?Object.keys(e).map(a=>Ke(e[a],t)):Ke(e,t);const $e=e=>{const t={},a=Object.keys(e).reduce((a,n)=>{const o=e[n];if(null!=o&&!Number.isNaN(o)&&""!==o){const e=String(o);(e=>/^(?:(?:(?:[\x00-\x7F]|[\xC2-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF4][\x80-\xBF]{3})*)*)$/.test(e))(e)?a[n]=e:(t[n]=e,a[n]=(e=>{const t=(new TextEncoder).encode(e);return String.fromCharCode(...Array.from(t))})(e))}return a},{});return Object(d.isEmpty)(t)||me(Object.assign({eventType:W.CW_INVALID_HEADERS},t)),a};var Xe;!function(e){e.GET="GET",e.POST="POST",e.DELETE="DELETE",e.PATCH="PATCH"}(Xe||(Xe={}));const Je="web-app",Ze="Network connection error";function qe(e={}){const t={};switch(Object.entries(e).forEach(([e,a])=>{Object(d.isString)(a)&&a.length>0&&(-1!==n.SwgyHeadersList.indexOf(e.toLowerCase())||"tenant"===e.toLowerCase())&&(t[e]=a)}),t.lat&&(t.latitude=t.lat),t.lng&&(t.longitude=t.lng),e.m_id?t.m_id=String(e.m_id):t.m_id=(e=>{const t=(e=>{const t=e.marketplacebusinessline;return t?t.toLowerCase():u.MARKETPLACE_BUSINESS_LINE.REGULAR})(e),a=(e=>{const t=e.marketplacecategory;return t?t.toLowerCase():""})(e);return t===u.MARKETPLACE_BUSINESS_LINE.DASH&&a===u.MARKETPLACE_CATEGORY.INSTAMART})(e)?u.MARKETPLACE_ID.DASH:u.MARKETPLACE_ID.CHECKOUT,e.paymentamount&&(t.paymentamount=String(e.paymentamount)),t["x-client-id"]="web-payment",Object(d.isString)(t.platform)&&t.platform.length>0?t["client-id"]=t.platform:t["client-id"]="web-payment",(t[n.SwgyHeaderKeysList.platform]||"").toLowerCase()){case"swiggy-android":case"an":t["x-checkout-webview"]=n.API_ANALYTICS_PLATFORM.ANDROID,t["x-origin-id"]=n.API_ANALYTICS_PLATFORM.ANDROID;break;case"swiggy-ios":case"ios":t["x-checkout-webview"]=n.API_ANALYTICS_PLATFORM.IOS,t["x-origin-id"]=n.API_ANALYTICS_PLATFORM.IOS;break;case"swiggy-dweb":case"dweb":t["x-checkout-webview"]=n.API_ANALYTICS_PLATFORM.DWEB,t["x-origin-id"]=n.API_ANALYTICS_PLATFORM.DWEB;break;default:t["x-checkout-webview"]=n.API_ANALYTICS_PLATFORM.MWEB,t["x-origin-id"]=n.API_ANALYTICS_PLATFORM.MWEB}return e&&e["x-forwarded-for"]&&"string"==typeof e["x-forwarded-for"]&&(t["X-Forwarded-For"]=e["x-forwarded-for"]),e&&e["user-agent"]&&"string"==typeof e["user-agent"]&&(t["browser-user-agent"]=e["user-agent"]),e&&e["service-line"]&&"string"==typeof e["service-line"]&&(t["service-line"]=e["service-line"]),t}function Qe(e,t){var a,n,o,i;return v(this,void 0,void 0,(function*(){const{retry:l=!0,retryCount:s=2,excludeDefaultHeaders:c=!1}=e,u=Object.assign({"Content-Type":"application/json"},O.getHeaders()),m=null!==(a=e.timeout)&&void 0!==a?a:2e4,p=null!==(o=null===(n=e.options)||void 0===n?void 0:n.headers)&&void 0!==o?o:{},_=t===Je?Object.assign({"Content-Type":"application/json"},qe(u)):u,E=(null===(i=e.options)||void 0===i?void 0:i.headers)?Object.assign(Object.assign({},_),e.options.headers):_,C=Object.assign(Object.assign({},e.options),{headers:c?p:$e(E)});e.bodyParams&&(C.body=JSON.stringify(e.bodyParams));const b=e.searchParams;let y=`${e.apiHost}${e.endpoint}`;b&&(y+="?"+new URLSearchParams(b).toString());const g=Date.now();let h=null;if("undefined"!=typeof AbortController){const e=new AbortController,t=e.signal;C.signal=t,h=setTimeout(()=>{Date.now()-g>=m&&e.abort()},m)}const A=y.toString(),f=A.replace(e.apiHost,"");try{const e=yield fetch(A,Object.assign({method:"GET",mode:"cors",headers:u},C));if(h&&clearTimeout(h),!e.ok)throw e;const t=yield e.json();return{startTime:g,options:C,response:t,logUrl:f,statusCode:e.status,statusMessage:e.statusText}}catch(a){if(h&&clearTimeout(h),(Object(r.wb)(a)||Object(r.sb)(a)||Object(r.pb)(a))&&l&&s>0)return yield function(e){return v(this,void 0,void 0,(function*(){return new Promise(t=>setTimeout(t,e))}))}(100),Qe(Object.assign(Object.assign({},e),{retryCount:s-1}),t);{!function(e,t,a=""){me({url:e.url,eventType:W.PAYMENT_WEB_EXTERNAL_API_ERROR,responseTime:Date.now()-e.startTime,error:t instanceof Error?t.name:JSON.stringify(t),errorMessage:t instanceof Error?t.message:JSON.stringify(t),httpStatusCode:t instanceof Response?t.status:"",downStreamTriggerSource:a})}({startTime:g,url:f},a,t);const e=function(e){try{return e instanceof Response?e.status>=400?e.statusText||(e=>`HTTP ${e} Error`)(e.status):e.statusText||(e=>"HTTP "+e)(e.status):e instanceof Error?(e=>"Error: "+e)(e.message):Object(d.isString)(e)?e:Ze}catch(e){return Ze}}(a);return function(e){Object(r.wb)(e)&&!et&&(et=!0,N({title:"CONNECTION ERROR",message:"Please check your network connectivity and try again"}).then(e=>{et=!1}).catch(e=>{et=!1}))}(a),{startTime:g,options:C,response:{},logUrl:f,statusCode:1,statusMessage:e}}}}))}let et=!1;function tt(e,t,a){var n,o;return v(this,void 0,void 0,(function*(){const r=a?t.response:t;let i={url:e.url,eventType:W.PAYMENT_WEB_EXTERNAL_API,method:e.opts.method||"GET",responseTime:Date.now()-e.startTime};return t instanceof Object&&!Object(d.isEmpty)(t)&&(i=Object.assign(Object.assign({},i),{statusCode:null!==(n=r.statusCode)&&void 0!==n?n:"--",statusMessage:null!==(o=r.statusMessage)&&void 0!==o?o:"-",hasData:""+!Object(d.isEmpty)(null==r?void 0:r.data)})),me(i),t}))}function at(e,t=!1,a=!0){return v(this,void 0,void 0,(function*(){const n=yield Qe(e,Je),{response:o,startTime:r,logUrl:i,options:l}=n,s=a?ze(o,{deep:!0}):o;return tt({startTime:r,url:i,opts:l},t?Object.assign(Object.assign({},s),{rawResponse:o}):s,!1)}))}const nt=e=>{var t;null===(t=f().navigateToScreen({type:i.m.DEEPLINK,link:e}))||void 0===t||t.catch(()=>{})},ot=e=>v(void 0,void 0,void 0,(function*(){try{const t=yield f().storage({type:i.n.GET,data:{[e]:""}}),a=null==t?void 0:t.data[e];if(null==a)return!0;const n=2592e6;return Date.now()-Number(a)>n&&(f().storage({type:i.n.DELETE,data:{[e]:""}}),!0)}catch(e){return!1}})),rt=e=>v(void 0,void 0,void 0,(function*(){const t=String(Date.now());return yield f().storage({type:i.n.SAVE,data:{[e]:t}}),t})),it=()=>O.getHeader(n.SwgyHeaderKeysList.marketplaceBusinessLine)||u.MARKETPLACE_BUSINESS_LINE.REGULAR,lt=()=>it()===u.MARKETPLACE_BUSINESS_LINE.DASH;const st=()=>it().toLowerCase()===u.MARKETPLACE_BUSINESS_LINE.DINEOUT;var ct;!function(e){e.POP_SHELL_APP="pop-shell-app"}(ct||(ct={}));const dt=()=>O.getHeader(n.SwgyHeaderKeysList.xChannel)===ct.POP_SHELL_APP,ut=e=>{},mt={clickEvent:ut,impressionEvent:ut,screenViewEvent:ut,landingSourceEvent:e=>{},dpEvent:e=>{}};Object.assign(Object.assign({},{GTM_CLICK_EVENT:"click",GTM_SCREEN_VIEW_EVENT:"screen-view",GTM_IMPRESSION_EVENT:"impression",GTM_LANDING_EVENT:"landing",GTM_LANDING_SOURCE_EVENT:"landing-source"}),{METRIC_EVENT:"PROMETHEUS_EVENT",ECOMMERCE_EVENT:"ECOMMERCE_EVENT"});const pt=(e="")=>e?((Number(e)^16*Math.random())>>Number(e)/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,pt);pt(),"undefined"==typeof window||/bot|googlebot|crawler|spider|robot|crawling/i.test(window.navigator.userAgent),s.a.createContext(mt);const _t=(e,t)=>{let a=!1;e.isNone()&&(a=!0);const n=O.getHeaders();return(a?{userId:"--"}:e.unwrap())&&((e,t)=>{if(!Object(d.isEmpty)(e))return{apiHost:t||"",userInfo:{deviceId:e.deviceid||e.deviceId||"",sid:e.sid||"",tid:e.tid||"",userId:e.userid||e.userId||""},userLocation:{lat:e.lat||"",lng:e.lng||""},platform:e.analyticsplatform||e.analyticsPlatform||"",appVersionCode:e["version-code"]||"",applicationName:e.application_name||"",category:e.category||""}})(n,t)};var Et;!function(e){e[e.TABLE_RESERVATION_CART=0]="TABLE_RESERVATION_CART",e[e.BILL_PAYMENT_CART=1]="BILL_PAYMENT_CART",e[e.EVENT_BOOKING_CART=2]="EVENT_BOOKING_CART"}(Et||(Et={}));const Ct=Object(l.createContext)({cartType:null,setCartType:()=>{},cartState:{localCart:null,reviewedCart:null},setCartState:()=>{}});var bt;!function(e){e.CONFIRM_ORDER="CONFIRM_ORDER",e.WALLET_MONEY_RECEIVED="WALLET_MONEY_RECEIVED",e.PAYMENTS="PAYMENTS",e.BILL_PAYMENT_CART="BILL_PAYMENT_CART",e.TABLE_RESERVATION_CART="TABLE_RESERVATION_CART",e.EVENT_BOOKING_CART="EVENT_BOOKING_CART",e.DINEOUT_SUCCESS_SCREEN="DINEOUT",e.PAYLATER_SIMPL_LINKING_FAILED="PAYLATER_SIMPL_LINKING_FAILED",e.PAYLATER_SIMPL_LINKING_SUCCESS_DONT_PROCEED_WITH_ORDER="PAYLATER_SIMPL_LINKING_SUCCESS_DONT_PROCEED_WITH_ORDER",e.PAYLATER_SIMPL_LINKING_SUCCESS_PROCEED_WITH_ORDER="PAYLATER_SIMPL_LINKING_SUCCESS_PROCEED_WITH_ORDER"}(bt||(bt={}));const yt={[Et.TABLE_RESERVATION_CART]:bt.TABLE_RESERVATION_CART,[Et.BILL_PAYMENT_CART]:bt.BILL_PAYMENT_CART,[Et.EVENT_BOOKING_CART]:bt.EVENT_BOOKING_CART},gt=e=>Object(d.isNull)(e)||Object(d.isUndefined)(e)?"":yt[e],Ot=s.a.createContext(mt),ht=s.a.createContext({host:o.b,paymentHost:o.b}),At={type:F.SHOW_CART,payload:null},ft=s.a.createContext({checkoutState:At,setCheckoutState:()=>{}}),vt=s.a.createContext({host:o.b,analyticsHost:o.b,simplPostLinkingRedirectUrl:o.b,enableConfirmOrderDifferentialOrderIdAlert:o.b}),Tt=s.a.createContext({user:o.b,setUser:e=>{}}),It=(s.a.createContext({showConfetti:()=>{}}),s.a.createContext({deliverySelectedSlot:{deliveryTimeAnnotation:"",deliveryTime:""},setDeliverySelectedSlot:e=>{}})),St=s.a.createContext({confirmOrderContext:{data:null,statusCode:0,statusMessage:"",rawResponse:void 0},setConfirmOrderContext:()=>{}}),Nt=s.a.createContext({checkoutWebXP:{},checkoutWebWP:{}}),Rt={isGroupCartFlow:!1,setIsGroupCartFlow:()=>{},state:{data:void 0,getSharedCartLoading:!0,updateSharedCartLoading:!1,error:{error:!1},isCartLocked:!1},setState:()=>{}},Pt=s.a.createContext(Rt);var Dt;!function(e){e[e.GROUP_CART_STATE_FETCH_IN_PROGRESS=0]="GROUP_CART_STATE_FETCH_IN_PROGRESS",e[e.GROUP_CART_STATE_UPDATE_IN_PROGRESS=1]="GROUP_CART_STATE_UPDATE_IN_PROGRESS",e[e.UPDATE_GROUP_CART_STATE=2]="UPDATE_GROUP_CART_STATE"}(Dt||(Dt={}));const Lt=s.a.createContext({registerCrouton:()=>{},shouldRenderCrouton:!1,onCloseCrouton:()=>{},croutonContent:null,registerOverlays:()=>{},enabledOverlayId:"",enabledCroutonId:"",onCloseOverlay:()=>{}});var kt,xt,wt,Mt,jt,Bt,Ut,Ht,Gt,Yt,Wt,Ft,Vt,Kt,zt,$t,Xt,Jt,Zt,qt,Qt,ea,ta,aa,na,oa,ra,ia,la,sa,ca,da,ua,ma,pa,_a,Ea,Ca,ba,ya,ga,Oa,ha,Aa,fa,va,Ta,Ia,Sa;!function(e){e[e.NOT_SHOWN=-1]="NOT_SHOWN",e[e.SHOW=0]="SHOW",e[e.SHOWN=1]="SHOWN"}(kt||(kt={})),function(e){e.CLEAR_CART="clearcart",e.REMOVE_SUPER="removesuper",e.REMOVE_UNAVAILABLE_ITEMS="removeunavailableitems",e.VIEW_SIMILAR_RESTAURANTS="viewsimilarrestaurants",e.GOTO_SIMILAR_RESTAURANTS="gotosimilarrestaurants",e.GO_TO_HOME="gotohome",e.RETRY="retry",e.SELECT_ANOTHER_SLOT="selectanotherslot",e.ADD_MORE_ITEMS="addmoreitems"}(xt||(xt={})),function(e){e.COUPON_CARD="type.googleapis.com/swiggy.gandalf.widgets.v2.CouponSection",e.COUPON_TEXT_BANNER="type.googleapis.com/swiggy.gandalf.widgets.v2.TextBanner"}(wt||(wt={})),function(e){e.OFFER_CARD_TYPE_POCKET_HERO="OFFER_CARD_TYPE_POCKET_HERO",e.OFFER_CARD_TYPE_MAX_SAVINGS="OFFER_CARD_TYPE_MAX_SAVINGS"}(Mt||(Mt={})),function(e){e.OFFER_CARD_TYPE_INVALID="OFFER_CARD_TYPE_INVALID",e.OFFER_CARD_TYPE_REWARD_OFFER="OFFER_CARD_TYPE_REWARD_OFFER",e.OFFER_CARD_TYPE_VALUE_MEALS="OFFER_CARD_TYPE_VALUE_MEALS",e.OFFER_CARD_TYPE_POCKET_HERO="OFFER_CARD_TYPE_POCKET_HERO"}(jt||(jt={})),function(e){e[e.INVALID=0]="INVALID",e[e.TOP_UP=1]="TOP_UP",e[e.AUTO_APPLY=2]="AUTO_APPLY"}(Bt||(Bt={})),function(e){e.INVALID="INVALID",e.IPL_SWIGGY_SIXES="SUPER_SIX_OFFER",e.FTUE="FTUE"}(Ut||(Ut={})),function(e){e.IPL_SUPER_SIX_OFFER="SUPER_SIX_OFFER"}(Ht||(Ht={})),function(e){e.MORE_OFFERS="COUPON_SECTION_TYPE_MORE_OFFERS",e.PAYMENT_OFFERS="COUPON_SECTION_TYPE_PAYMENT_OFFERS",e.BEST_COUPON="COUPON_SECTION_TYPE_BEST_COUPONS",e.GREAT_DEALS="COUPON_SECTION_TYPE_GREAT_DEALS",e.APPLIED_OFFERS="COUPON_SECTION_TYPE_APPLIED_OFFERS",e.RECOMMENDED_OFFERS="COUPON_SECTION_TYPE_RECOMMENDED_OFFERS"}(Gt||(Gt={})),function(e){e[e.NON_VEG=0]="NON_VEG",e[e.VEG=1]="VEG",e[e.EGG=2]="EGG"}(Yt||(Yt={})),function(e){e.DEFAULT="default",e.BIG="large_image_on_right",e.SMALL="small_image_on_left"}(Wt||(Wt={})),function(e){e.NORMAL="NORMAL",e.SUPER="SUPER",e.SUPER_V3="SUPER_V3"}(Ft||(Ft={})),function(e){e.WAS_SUPER="WAS_SUPER",e.NOT_SUPER="NOT_SUPER",e.INVALID_SUPER="INVALID_SUPER",e.SUPER="SUPER"}(Vt||(Vt={})),function(e){e.DEFAULT="default",e.DISABLE_CTA="disable_cta",e.DISABLE_DESCRIPTION="disable_description"}(Kt||(Kt={})),function(e){e.COUPON_LOCKED_WIDGET="coupon_locked_widget",e.ADD_MORE_ITEMS_TEXT="add_more_items_text"}(zt||(zt={})),function(e){e.DEFAULT="DEFAULT",e.VARIANT_WITH_SAVINGS="VARIANT_WITH_SAVINGS",e.VARIANT_WITH_UPSELL="VARIANT_WITH_UPSELL",e.VARIANT_WITH_SAVING_UPSELL="VARIANT_WITH_SAVING_UPSELL",e.VARIANT_WITHOUT_SAVING_UPSELL="VARIANT_WITHOUT_SAVING_UPSELL"}($t||($t={})),function(e){e.CONTROL="0",e.TEST1="1",e.TEST2="2",e.TEST3="3",e.TEST4="4"}(Xt||(Xt={})),function(e){e.CONTROL="cart_1_0",e.CART_V2="cart_2_0",e.CART_V2_WITH_OLD_TURBO_V2="cart_2_0_with_old_turbo",e.CART_V2_WITH_OLD_TURBO_V2_WITHOUT_UPSELL="cart_2_0_with_old_turbo_without_one_item_upsell"}(Jt||(Jt={})),function(e){e.POR_DISABLE="v1_disable",e.POR_V1_ENABLE="v1_enable",e.POR_V2_ENABLE="v2_enable"}(Zt||(Zt={})),function(e){e.TRUE="true",e.FALSE="false"}(qt||(qt={})),function(e){e.BATCH_NO_RUSH="BATCH_NO_RUSH",e.PRIORITY="PRIORITY",e.STANDARD="STANDARD",e.BATCH_OPT_IN="BATCH_OPT_IN",e.EXPRESS="EXPRESS"}(Qt||(Qt={})),function(e){e.GREYED="GREYED",e.NOT_VISIBLE="NOT_VISIBLE",e.VISIBLE="VISIBLE"}(ea||(ea={})),function(e){e.EcoSaver="ECO_SAVER",e.Monetary="MONETARY"}(ta||(ta={})),function(e){e.FREE_DELIVERY="BATCHABLE_FREEDEL",e.CASHBACK="BATCHABLE_CASHBACK"}(aa||(aa={})),function(e){e.CART_API_FETCHED="CART_API_FETCHED",e.CART_API_ERROR="CART_API_ERROR",e.FETCH_API_ERROR="FETCH_API_ERROR"}(na||(na={})),function(e){e.DEFAULT="Default",e.NEW="New"}(oa||(oa={})),function(e){e.NUDGE_TYPE_AUTO_ADD="NUDGE_TYPE_AUTO_ADD",e.NUDGE_TYPE_ONE_TAP="NUDGE_TYPE_ONE_TAP"}(ra||(ra={})),function(e){e.ADD="ADD",e.REMOVE="Remove",e.CONFIRM="Confirm"}(ia||(ia={})),function(e){e[e.ADD=0]="ADD",e[e.REMOVE=1]="REMOVE"}(la||(la={})),function(e){e.ASSET_TYPE_IMAGE="ASSET_TYPE_IMAGE",e.ASSET_TYPE_LOTTIE="ASSET_TYPE_LOTTIE"}(sa||(sa={})),function(e){e.DEFAULT="DEFAULT",e.M2C_BLACK_RENEWAL="M2C_BLACK_RENEWAL"}(ca||(ca={})),function(e){e.COACH_NO="coachNo",e.SEAT_NO="seatNo",e.CONTACT_NO="contactNo"}(da||(da={})),function(e){e.ONE_TIME_PROMISE="PROMISE_TYPE_ON_TIME"}(ua||(ua={})),function(e){e.CLEAR_CART="clearCart",e.GO_TO_HOME="goToHome",e.GO_TO_SIMILAR_RESTAURANT="goToSimilarRestaurants",e.GO_TO_LOGIN="goToLogin"}(ma||(ma={})),function(e){e.ICON="icon",e.BUTTON="button",e.LABEL="label",e.LINK="link"}(pa||(pa={})),function(e){e.PRIMARY="primary",e.SECONDARY="secondary"}(_a||(_a={})),function(e){e.BOLT_SELECTION="BOLT_SELECTION",e.STANDARD_BOLT_SELECTION="STANDARD_BOLT_SELECTION"}(Ea||(Ea={})),function(e){e.ONE_BLACK_OTP="ONE_BLACK_OTP",e.CBCC_NUDGE_CROUTON="CBCC_NUDGE_CROUTON",e.COUPON_LISTING="COUPON_LISTING",e.COUPONLESS_SAVINGS="COUPONLESS_SAVINGS",e.DELIVERY_INSTRUCTION="DELIVERY_INSTRUCTION",e.DELIVERY_SPEED="DELIVERY_SPEED",e.CRAZY_DEAL_EXPIRY_TIMER="CRAZY_DEAL_EXPIRY_TIMER",e.CRAZY_DEAL_EXPIRED="CRAZY_DEAL_EXPIRED",e.IPL_SWIGGY_SIXES="IPL_SWIGGY_SIXES",e.FREE_DEL_AND_CASHBACK_TOAST="FREE_DEL_AND_CASHBACK_TOAST",e.DISCOUNTING_TOAST="DISCOUNTING_TOAST"}(Ca||(Ca={})),function(e){e.M2C_HALFCARD="M2C_HALFCARD",e.FTUE_HALFCARD="FTUE_HALFCARD",e.BOLT_HALF_CARD="BOLT_HALF_CARD"}(ba||(ba={})),function(e){e.AUTO_APPLIED_COUPON="AUTO_APPLIED_COUPON",e.TRADE_DISCOUNT_COUPON="TRADE_DISCOUNT_COUPON",e.INSTANT_COUPON="INSTANT_COUPON",e.POCKET_HERO_CASHBACK="POCKET_HERO",e.EXPIRY_CASHBACK="EXPIRY_CASHBACK",e.BOLT_POPUP="BOLT_POPUP",e.GRATIFICATION_POPUP="GRATIFICATION_POPUP"}(ya||(ya={})),function(e){e.CART_HEADER_LOTTIE="CART_HEADER_LOTTIE"}(ga||(ga={})),function(e){e[e.PRIORITY_ORDER_ONE=1]="PRIORITY_ORDER_ONE",e[e.PRIORITY_ORDER_TWO=2]="PRIORITY_ORDER_TWO",e[e.PRIORITY_ORDER_THREE=3]="PRIORITY_ORDER_THREE"}(Oa||(Oa={})),function(e){e[e.AUTO_APPLIED_COUPON=1]="AUTO_APPLIED_COUPON",e[e.M2C=2]="M2C",e[e.M2C_FTUE=3]="M2C_FTUE",e[e.BOLT_POPUP=4]="BOLT_POPUP",e[e.BOLT_HALF_CARD=5]="BOLT_HALF_CARD",e[e.GRATIFICATION_POPUP=6]="GRATIFICATION_POPUP",e[e.LOTTIE_ANIMATION=7]="LOTTIE_ANIMATION"}(ha||(ha={})),function(e){e.MODAL="MODAL",e.HALFCARD="HALFCARD",e.LOTTIE="LOTTIE",e.CROUTON="CROUTON"}(Aa||(Aa={})),function(e){e.ADD_MORE_ITEMS="ADD_MORE_ITEM",e.SEND_CUTLERY="SEND_CUTLERY",e.COOKING_INSTRUCTIONS="COOKING_INSTRUCTIONS",e.ADD_MESSAGE_ON_CAKE="ADD_MESSAGE_ON_CAKE"}(fa||(fa={})),function(e){e.POPULAR="POPULAR",e.BEVERAGE="BEVERAGE",e.SIDE="SIDE",e.DESSERT="DESSERT"}(va||(va={})),function(e){e.INVALID="INVALID",e.IPL_SWIGGY_SIX_OFFER_EXPIRY_TIMER_UPDATE="IPL_SWIGGY_SIX_OFFER_EXPIRY_TIMER_UPDATE"}(Ta||(Ta={})),function(e){e.APP_JS_BRIDGE="app_js_bridge",e.UPDATE_CART="checkout_update_cart",e.FETCH_COUPONS="pl_fetch_coupons"}(Ia||(Ia={})),function(e){e.DISABLED="DISABLED",e.SIX_HIT="SIX_HIT",e.CONSECUTIVE_SIXES_HIT="CONSECUTIVE_SIXES_HIT",e.EXPIRED="EXPIRED"}(Sa||(Sa={}));const Na=e=>{var t;return Object(d.isEmpty)(e)?null:null===(t=e)||void 0===t?void 0:t.reduce((e,t)=>e.priority<t.priority?e:t)},Ra={[Aa.MODAL]:[],[Aa.HALFCARD]:[],[Aa.LOTTIE]:[],[Aa.CROUTON]:[]};function Pa(e){const[t,a]=Object(l.useState)({enabledOverlayId:""}),[n,o]=Object(l.useState)({enabledCroutonId:""}),r=(e=>{const[t,a]=Object(l.useState)(),[n,o]=Object(l.useState)(null),[r,i]=Object(l.useState)(!1),s=Object(l.useRef)([]),c=Object(l.useRef)(null),u=Object(l.useCallback)(e=>{const{forceRefreshContent:t=!1}=e;if(!r&&Object(d.isEmpty)(n)||t)return c.current&&clearTimeout(c.current),s.current.some(t=>t.id===e.id)||s.current.push(e),c.current=setTimeout(()=>{if(Object(d.isEmpty)(s.current))return;const e=s.current.reduce((e,t)=>e.priority<t.priority?e:t);o(null==e?void 0:e.content),a(e),i(!0),s.current=[]},50),()=>{c.current&&(clearTimeout(c.current),s.current=[])}},[n,r]),m=Object(l.useCallback)(()=>{const e=setTimeout(()=>{o(null),i(!1),s.current=[]},500);return()=>{clearTimeout(e),s.current=[]}},[]),p=Object(l.useMemo)(()=>({registerCrouton:u,shouldRenderCrouton:r,onCloseCrouton:m,croutonContent:n,enabledCroutonId:(null==t?void 0:t.id)||""}),[u,r,m,n,null==t?void 0:t.id]);return Object(l.useEffect)(()=>{e({enabledCroutonId:(null==t?void 0:t.id)||""})},[t,e]),p})(o),i=(e=>{const[t,a]=Object(l.useState)([]),n=Object(l.useRef)(Ra),o=Object(l.useRef)(null),r=Object(l.useCallback)(()=>{const e=[Na(n.current[Aa.MODAL]),Na(n.current[Aa.HALFCARD]),Na(n.current[Aa.LOTTIE])].filter(Boolean).sort((e,t)=>{var a,n;return(null!==(a=null==e?void 0:e.priority)&&void 0!==a?a:0)-(null!==(n=null==t?void 0:t.priority)&&void 0!==n?n:0)});a(e),n.current={[Aa.MODAL]:[],[Aa.HALFCARD]:[],[Aa.LOTTIE]:[],[Aa.CROUTON]:[]}},[]),i=Object(l.useCallback)(e=>{const{id:t,overlayType:a}=e,i=n.current[a];return i.some(e=>e.id===t)||i.push(e),o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{r()},50),()=>{o.current&&clearTimeout(o.current)}},[r]),s=Object(l.useCallback)(()=>{setTimeout(()=>a(e=>e.slice(1)),500)},[]),c=Object(l.useMemo)(()=>{var e;const a=(null===(e=t[0])||void 0===e?void 0:e.id)||"";return{registerOverlays:i,enabledOverlayId:a,onCloseOverlay:s}},[t,s,i]);return Object(l.useEffect)(()=>{var a;e({enabledOverlayId:(null===(a=t[0])||void 0===a?void 0:a.id)||""})},[t,e]),c})(a),c=Object(l.useMemo)(()=>Object.assign(Object.assign({},i),r),[r,t.enabledOverlayId,n.enabledCroutonId,i]);return s.a.createElement(Lt.Provider,{value:c},e.children)}const Da=s.a.createContext({play:()=>{},pause:()=>{},resume:()=>{},stop:()=>{},isPlaying:!1}),La={tickerTimerInMinSec:{enabled:!1},croutonCommsState:Sa.DISABLED};s.a.createContext(La);var ka;!function(e){e[e.UPDATE_LOCAL_AND_REVIEWED_CART=0]="UPDATE_LOCAL_AND_REVIEWED_CART",e[e.UPDATE_LOCAL_CART=1]="UPDATE_LOCAL_CART",e[e.UPDATE_REVIEWED_CART=2]="UPDATE_REVIEWED_CART",e[e.UPDATE_CART=3]="UPDATE_CART",e[e.CLEAR_LOCAL_AND_REVIEWED_CART=4]="CLEAR_LOCAL_AND_REVIEWED_CART",e[e.REMOVE_CART_ITEM=5]="REMOVE_CART_ITEM",e[e.UPDATE_ERROR_PAYLOAD=6]="UPDATE_ERROR_PAYLOAD"}(ka||(ka={}));const xa=["611797","648277","648278","648279","648269","646971","646849","648797","648798","648285","648284","648283","646623","611048","611037","648804","648803","608938","648238","648505","611574","615316","615077","553954","611560","611572","611159","612451","611677","612225","612895","612319","610265","610194"],wa="15 mins",Ma=1051,ja=425;var Ba;!function(e){e.DELIVERY_TYPE="DELIVERY_SPEED",e.TIP="CARD_INFORMATION",e.INSTRUCTIONS="DELIVERY_INSTRUCTIONS",e.SELF_DELIVERY="SELF_DELIVERY_INSTRUCTIONS"}(Ba||(Ba={}));const Ua=Object(l.createContext)({});function Ha({children:e}){const{checkoutWebWP:t}=Object(l.useContext)(Nt),a=(e=>{var t;return st()||it()===u.MARKETPLACE_BUSINESS_LINE.PAY_ON_DELIVERY||it().toLowerCase()===u.MARKETPLACE_BUSINESS_LINE.REGULAR||Boolean(null===(t=null==e?void 0:e.enablePublicApi)||void 0===t?void 0:t.unwrapOr(!1))})(Object(l.useContext)(vt)),n=Object(l.useMemo)(()=>{if(!a)return{};const e=null==t?void 0:t[Te.CW_PUBLIC_ENDPOINT_CONFIG];return e&&Object(d.safeJsonParse)(e)||{}},[t,a]);return s.a.createElement(Ua.Provider,{value:n},e)}},xXOUNq:function(e,t,a){"use strict";var n=a("o3nhpB");a.d(t,"a",(function(){return n.ANNOTATION_TYPES}))}}]);
//# sourceMappingURL=payment.es6.8cd621dda14c7a15.js.map