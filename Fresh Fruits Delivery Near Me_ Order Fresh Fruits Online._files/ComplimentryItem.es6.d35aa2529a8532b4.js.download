(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{HS7Zza:function(e,t,a){"use strict";var n=a("q1tIBJ"),i=a("hG3+hJ"),o=a("38hYh4"),r=a("88R5oN"),l=a("U1/Qyv");const c={[l.a.LIGHT]:{fontWeight:r.d.FW_500,textVariant:o.c["V2.overline.neutral.medium"],colorVariant:o.a.text_Med_Emphasis},[l.a.BOLD]:{fontWeight:r.d.FW_600,textVariant:o.c["V2.caption.neutral.bold"],colorVariant:o.a.text_High_Emphasis}};t.a=(e,t)=>{var a,o;const r=Object(n.useMemo)(()=>Object(i.v)(e),[e]),l=Object(n.useMemo)(()=>{var t;return null===(t=null==e?void 0:e.variation_tags)||void 0===t?void 0:t.find(e=>"RX"===e.type)},[e]);return{rxRequired:r,icon:null===(a=null==l?void 0:l.icon)||void 0===a?void 0:a.creative_id,description:null==l?void 0:l.description,fontWeight:c[t].fontWeight,textVariant:c[t].textVariant,colorVariant:c[t].colorVariant,isPrescriptionValid:!!(null==l?void 0:l.valid_prescription),prescriptionUrl:null!==(o=null==l?void 0:l.downloadable_prescription_url)&&void 0!==o?o:""}}},QG8LlE:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a("q1tIBJ"),i=a.n(n),o=a("TSYQbt"),r=a.n(o),l=a("mwob+D"),c=a("hBWle9"),s=a("FkU8LE"),d=a("tq1HG5"),m=a("U1/Qyv"),u=a("HS7Zza"),p=a("VH4otT"),g=a.n(p);const b=14;var y=i.a.memo(({itemData:e,className:t,variant:a=m.a.BOLD,iconClassName:n,onVisibilityChange:o,showDescription:p=!0,iconSize:y=b})=>{const{rxRequired:v,icon:I,description:O,fontWeight:j,textVariant:E,colorVariant:f}=Object(u.a)(e,a);if(!v)return null;const C=2*y;return i.a.createElement(c.a,{senseOnce:!0,className:r()(g.a.container,t),onVisibilityChange:e=>{o&&o(e)}},I&&i.a.createElement(l.a,{src:Object(s.i)(I,{width:C,height:C}),width:y,height:y,className:r()(g.a.containerIcon,n)}),p&&O&&i.a.createElement(d.Text,{color:f,fontWeight:j,variant:E,dangerouslySetInnerHTML:{__html:O}}))})},"U1/Qyv":function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e.LIGHT="light",e.BOLD="bold"}(n||(n={}))},URvxAf:function(e,t,a){"use strict";a.r(t);var n=a("q1tIBJ"),i=a.n(n),o=a("TSYQbt"),r=a.n(o),l=a("sH3CoJ"),c=a("v6Mcyi"),s=a("hBWle9"),d=a("DgIlRq"),m=a("a8+8jN"),u=a("pMB0/Q"),p=a("N64q8w"),g=a("Q3ASCQ"),b=a("Vzhm3t"),y=a("2LKdVq"),v=a("QZNhn/"),I=a("ls2Pus"),O=a("ADrUBn");const j=({storeId:e,analyticsData:t,analyticsParams:a,pageType:n})=>Object.assign(Object.assign({},null==t?void 0:t.extraFields),{storeId:e,l2NodeVal:null==a?void 0:a.l2NodeVal,l2NodePos:null==a?void 0:a.l2NodePos,requestId:null==a?void 0:a.requestId,pageType:n});var E=a("2HHMiI"),f=a("8IwpRX"),C=a("/SckrT");var h=function(e,t,a=0){const[i,o]=Object(n.useState)(t);return Object(n.useEffect)(()=>{const t=setTimeout(()=>{o(e)},a);return()=>{clearTimeout(t)}},[e]),i},T=a("78CKQh"),x=a("tq1HG5"),N=a("zjaiJQ"),S=a("ChZLx1"),W=a("RNHoZW"),_=a("38hYh4"),V=a("WAHe+Q"),P=a("NSusZV"),A=a("oGO1B4"),D=a.n(A),H=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a};t.default=i.a.memo(e=>{var t,a,o,A,w,R,{expandedTitle:L=S.i}=e,B=H(e,["expandedTitle"]);const[k,q]=Object(n.useState)(!0),G=Object(n.useContext)(u.a),M=Object(n.useContext)(m.a),Q=M.getters.getStoreId()||"",F=Object(y.c)(D.a.collapseAnimationTime),Y=B.tileIndex%2==0,z=Object(n.useRef)(null),J=Object(n.useRef)(null),U=Object(n.useRef)(!1),Z=Object(n.useRef)(null),K=h(B.open,!1,F),X=Object(f.t)(),$=Object(f.c)(),ee=null===(t=B.data)||void 0===t?void 0:t.requestId,te=B.page,ae=null===(a=B.data)||void 0===a?void 0:a.widgetInfo.analytics,ne=Object.assign(Object.assign({},B.analyticsExtraParams),{requestId:ee}),ie=j({storeId:Q,analyticsData:ae,analyticsParams:ne,pageType:te});Object(n.useEffect)(()=>{(({splitCartEnabled:e,wrapperRef:t,slaStubHeight:a,menuContext:n})=>{const i=(e=>{const t=e.getters.getStoreId()||"",a=e.getters.getStoreDetailsByStoreId(t);return!!(null==a?void 0:a.orderabilityDetails)})(n);t.current&&(e&&i?t.current.style.setProperty(C.f,a):t.current.style.setProperty(C.f,"0px"))})({splitCartEnabled:X,wrapperRef:Z,slaStubHeight:D.a.slaStubHeight,menuContext:M})},[Z.current]);const oe=Object(n.useCallback)(e=>{setTimeout(()=>{requestAnimationFrame(()=>{!B.playOpeningAnimations&&e()})})},[]),re=Object(n.useCallback)(()=>J.current,[]);Object(T.a)(()=>{B.playOpeningAnimations||Object(b.j)({widget:null,parentItemId:null})}),Object(n.useEffect)(()=>{const e=B.open&&requestAnimationFrame(()=>{J.current&&(J.current.scrollLeft=0)});return()=>{e&&cancelAnimationFrame(e)}},[null===(o=B.data)||void 0===o?void 0:o.data]),Object(n.useEffect)(()=>{ce(B.open)},[null===(A=B.data)||void 0===A?void 0:A.data]),Object(n.useEffect)(()=>{K||(q(!0),U.current=!1)},[K]);const le=e=>{var t;const a=M.getters.getStoreId()||"-",n=Object(v.a)({page:B.page,itemId:null===(t=null==e?void 0:e.item)||void 0===t?void 0:t.id});Object(v.b)(Object.assign(Object.assign({storeId:a,widget:B.data,parentItem:B.item,widgetPosition:B.index,pageType:B.sourcePageType,label:n},B.additionalAnalyticsData),e))},ce=Object(n.useCallback)(e=>{e&&(Object(p.a)(e,le),(({storeId:e,pageType:t,analyticsData:a,analyticsParams:n})=>{const i=null==n?void 0:n.l1NodeVal,o=null==n?void 0:n.searchString;let r=null==a?void 0:a.objectValue;t===O.a.SEARCH_PAGE?r=o||"":t===O.a.CATEGORY_LISTING_PAGE&&(r=String(i));const l=j({storeId:e,analyticsData:a,analyticsParams:n,pageType:t});I.a.impressionEvent({objName:null==a?void 0:a.impressionObjectName,context:null==a?void 0:a.context,extraParams:l,objValue:r})})({storeId:Q,pageType:te,analyticsData:ae,analyticsParams:ne}))},[le]),se=Object(n.useCallback)((e,t,a)=>{var n;Object(b.j)({widget:B.data,parentItemId:null===(n=B.item)||void 0===n?void 0:n.itemId}),Object(g.f)(e,{analyticsData:Object.assign(Object.assign({},null==t?void 0:t.analyticsData),ie),reinitialize:null==t?void 0:t.reinitialize},a)},[B.data,B.item]),de=r()(D.a.complimentryItemWidgetItemContainer,{[D.a.complimentryItemWidgetItemContainerCollapsed]:!k}),me=!B.open&&K,ue=B.open&&!K,pe={customBackGroundOpacity:S.f,customBorderOpacity:S.g,customBackGround:D.a.itemsBackground,hideCrouton:G.hideCrouton,showCartLimitCrouton:G.showCartLimitCrouton,onClick:se,itemEventCallback:le,customBorderColor:D.a.itemsBorder},ge=S.o+(null===(w=B.item)||void 0===w?void 0:w.itemId)+String(B.index),be=i.a.createElement(d.a,{scrollKey:ge,getScrollContainer:re,customRestoreCallback:oe},i.a.createElement("div",{ref:J,className:de},null===(R=B.data)||void 0===R?void 0:R.data.map((e,t)=>{const a=Object.assign(Object.assign(Object.assign({},null==ae?void 0:ae.extraFields),ne),{vpos:"1",hpos:Object(E.e)(t+1),ipos:Object(E.e)(t+1),requestId:ee}),n=$?c.a:l.a;return i.a.createElement("div",{"data-testid":P.b.ITEM+e.product_id,key:String(t)+e.product_id,className:D.a.complimentryItemWidgetItem},i.a.createElement(n,Object.assign({},pe,{hPosition:t,itemGroup:e,index:t,analyticsParams:a})))}))),ye=()=>{if(!B.data)return;const e=r()(D.a.complimentryItemWidgetTitleChevron,W.g),{categoryCountText:t,categoryImages:a,title:n}=Object(y.d)(B.data.widgetInfo.categories),o=k?S.a.HIDE_COMPLIMENTRY_ITEMS:S.a.SHOW_COMPLIMENTRY_ITEMS,l=k?"":D.a.complimentryItemWidgetTitleMinimize,c=n+" "+t;return i.a.createElement("div",{"data-testid":P.b.HEADER,className:D.a.complimentryItemWidgetTitle,onClick:()=>{k&&(Object(p.c)(le),(({storeId:e,pageType:t,analyticsData:a,analyticsParams:n})=>{const i=null==n?void 0:n.l1NodeVal,o=null==n?void 0:n.searchString;let r=null==a?void 0:a.objectValue;t===O.a.SEARCH_PAGE?r=o||"":t===O.a.CATEGORY_LISTING_PAGE&&(r=String(i));const l=j({storeId:e,analyticsData:a,analyticsParams:n,pageType:t});I.a.clickEvent({objName:null==a?void 0:a.clickObjectName,context:null==a?void 0:a.context,extraParams:l,objValue:r})})({storeId:Q,pageType:te,analyticsData:ae,analyticsParams:ne})),q(!k)},"aria-label":o},i.a.createElement("div",null,i.a.createElement(x.Text,{"aria-label":L,"data-testid":P.b.TITLE,color:_.a.text_High_Emphasis,variant:k?_.c["V2.body1.neutral.bold"]:_.c["V2.body3.neutral.bold"],className:l},L),!k&&i.a.createElement("div",{"data-testid":P.b.COLLAPSED_HEADER,className:r()(D.a.complimentryItemWidgetTitleSecondary,D.a.complimentryItemWidgetTitleFadeIn)},i.a.createElement(x.Text,{maxLines:1,"aria-label":c,variant:_.c["V2.body3.neutral.regular"],className:D.a.complimentryItemWidgetTitleCollapsed},n),i.a.createElement(x.Text,{"aria-hidden":!0,className:D.a.complimentryItemWidgetTitleCount,variant:_.c["V2.body3.neutral.bold"],color:_.a.primary},t))),!k&&(s=a,i.a.createElement("div",{"data-testid":P.b.COLLAPSED_HEADER_ICONS,className:r()(D.a.complimentryItemWidgetTitleIconContainer,D.a.complimentryItemWidgetTitleFadeIn)},s.map(e=>i.a.createElement("div",{key:e,className:D.a.complimentryItemWidgetTitleIcon},i.a.createElement(N.Image,{customBackground:V.a,cloudinaryId:e,cloudinaryWidth:S.p,cloudinaryHeight:S.p}))))),k&&i.a.createElement("span",{className:e}));var s},ve=(e,t=!1)=>{if(!e)return null;const a=Object(y.a)(Y,B.page,D.a.triangleDimension,B.itemListContainerRef),n=r()(D.a.complimentryItemWidget,B.containerWrapperClassName,{[D.a.complimentryItemWidgetOpen]:B.open&&!t&&B.playOpeningAnimations,[D.a.complimentryItemWidgetOpenWithoutAnimation]:B.open&&!t&&!B.playOpeningAnimations,[D.a.complimentryItemWidgetClose]:t}),o=r()(D.a.complimentryItemWidgetContainer,B.containerClassName,{[D.a.complimentryItemWidgetContainerCollapsed]:!k,[D.a.complimentryItemWidgetContainerOpen]:B.open&&!t,[D.a.complimentryItemWidgetContainerClose]:t});return i.a.createElement(s.a,{"data-testid":P.b.CONTAINER,senseOnce:!0,onVisibilityChange:ce,className:n,sentinelRef:Z},i.a.createElement("div",{style:{transform:a},className:D.a.complimentryItemWidgetIndicatorArrow}),i.a.createElement("div",{ref:z,className:o},ye(),i.a.createElement("div",{"data-testid":P.b.ITEMS},be)))};return ue?ve(B.open):me?ve(K,!0):(Object(y.f)(B.open,U,z),ve(K))})},VH4otT:function(e,t,a){var n=a("zvYuyj");"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+QU")(n,i);n.locals&&(e.exports=n.locals)},jFeEC7:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("q1tIBJ");const i=a.n(n).a.createContext({isSeoUrl:!1,pathName:""})},kzDteB:function(e,t,a){"use strict";var n=a("jFeEC7");a.d(t,"a",(function(){return n.a}))},zvYuyj:function(e,t,a){(t=e.exports=a("I1BE51")(!1)).push([e.i,"._3_VYn{display:flex}._31rbO{margin-right:4px}b{color:var(--text_High_Emphasis)}",""]),t.locals={container:"_3_VYn",containerIcon:"_31rbO"}}}]);
//# sourceMappingURL=ComplimentryItem.es6.d35aa2529a8532b4.js.map